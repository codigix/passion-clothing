var q_=e=>{throw TypeError(e)};var Sb=(e,t,n)=>t.has(e)||q_("Cannot "+n);var ce=(e,t,n)=>(Sb(e,t,"read from private field"),n?n.call(e):t.get(e)),dt=(e,t,n)=>t.has(e)?q_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Je=(e,t,n,s)=>(Sb(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Tt=(e,t,n)=>(Sb(e,t,"access private method"),n);var nx=(e,t,n,s)=>({set _(a){Je(e,t,a,n)},get _(){return ce(e,t,s)}});function R8(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L8={exports:{}},vy={},$8={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=Symbol.for("react.element"),jL=Symbol.for("react.portal"),wL=Symbol.for("react.fragment"),NL=Symbol.for("react.strict_mode"),_L=Symbol.for("react.profiler"),SL=Symbol.for("react.provider"),CL=Symbol.for("react.context"),AL=Symbol.for("react.forward_ref"),OL=Symbol.for("react.suspense"),EL=Symbol.for("react.memo"),kL=Symbol.for("react.lazy"),H_=Symbol.iterator;function TL(e){return e===null||typeof e!="object"?null:(e=H_&&e[H_]||e["@@iterator"],typeof e=="function"?e:null)}var F8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B8=Object.assign,U8={};function Oh(e,t,n){this.props=e,this.context=t,this.refs=U8,this.updater=n||F8}Oh.prototype.isReactComponent={};Oh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function z8(){}z8.prototype=Oh.prototype;function yN(e,t,n){this.props=e,this.context=t,this.refs=U8,this.updater=n||F8}var bN=yN.prototype=new z8;bN.constructor=yN;B8(bN,Oh.prototype);bN.isPureReactComponent=!0;var W_=Array.isArray,V8=Object.prototype.hasOwnProperty,vN={current:null},q8={key:!0,ref:!0,__self:!0,__source:!0};function H8(e,t,n){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)V8.call(t,s)&&!q8.hasOwnProperty(s)&&(a[s]=t[s]);var d=arguments.length-2;if(d===1)a.children=n;else if(1<d){for(var h=Array(d),u=0;u<d;u++)h[u]=arguments[u+2];a.children=h}if(e&&e.defaultProps)for(s in d=e.defaultProps,d)a[s]===void 0&&(a[s]=d[s]);return{$$typeof:jm,type:e,key:i,ref:o,props:a,_owner:vN.current}}function PL(e,t){return{$$typeof:jm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jN(e){return typeof e=="object"&&e!==null&&e.$$typeof===jm}function IL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var G_=/\/+/g;function Cb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IL(""+e.key):t.toString(36)}function Qx(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jm:case jL:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Cb(o,0):s,W_(a)?(n="",e!=null&&(n=e.replace(G_,"$&/")+"/"),Qx(a,t,n,"",function(u){return u})):a!=null&&(jN(a)&&(a=PL(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(G_,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",W_(e))for(var d=0;d<e.length;d++){i=e[d];var h=s+Cb(i,d);o+=Qx(i,t,n,h,a)}else if(h=TL(e),typeof h=="function")for(e=h.call(e),d=0;!(i=e.next()).done;)i=i.value,h=s+Cb(i,d++),o+=Qx(i,t,n,h,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sx(e,t,n){if(e==null)return e;var s=[],a=0;return Qx(e,s,"","",function(i){return t.call(n,i,a++)}),s}function DL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var os={current:null},Yx={transition:null},ML={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:Yx,ReactCurrentOwner:vN};function W8(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:sx,forEach:function(e,t,n){sx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sx(e,function(){t++}),t},toArray:function(e){return sx(e,function(t){return t})||[]},only:function(e){if(!jN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mt.Component=Oh;Mt.Fragment=wL;Mt.Profiler=_L;Mt.PureComponent=yN;Mt.StrictMode=NL;Mt.Suspense=OL;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ML;Mt.act=W8;Mt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=B8({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)V8.call(t,h)&&!q8.hasOwnProperty(h)&&(s[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){d=Array(h);for(var u=0;u<h;u++)d[u]=arguments[u+2];s.children=d}return{$$typeof:jm,type:e.type,key:a,ref:i,props:s,_owner:o}};Mt.createContext=function(e){return e={$$typeof:CL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SL,_context:e},e.Consumer=e};Mt.createElement=H8;Mt.createFactory=function(e){var t=H8.bind(null,e);return t.type=e,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(e){return{$$typeof:AL,render:e}};Mt.isValidElement=jN;Mt.lazy=function(e){return{$$typeof:kL,_payload:{_status:-1,_result:e},_init:DL}};Mt.memo=function(e,t){return{$$typeof:EL,type:e,compare:t===void 0?null:t}};Mt.startTransition=function(e){var t=Yx.transition;Yx.transition={};try{e()}finally{Yx.transition=t}};Mt.unstable_act=W8;Mt.useCallback=function(e,t){return os.current.useCallback(e,t)};Mt.useContext=function(e){return os.current.useContext(e)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(e){return os.current.useDeferredValue(e)};Mt.useEffect=function(e,t){return os.current.useEffect(e,t)};Mt.useId=function(){return os.current.useId()};Mt.useImperativeHandle=function(e,t,n){return os.current.useImperativeHandle(e,t,n)};Mt.useInsertionEffect=function(e,t){return os.current.useInsertionEffect(e,t)};Mt.useLayoutEffect=function(e,t){return os.current.useLayoutEffect(e,t)};Mt.useMemo=function(e,t){return os.current.useMemo(e,t)};Mt.useReducer=function(e,t,n){return os.current.useReducer(e,t,n)};Mt.useRef=function(e){return os.current.useRef(e)};Mt.useState=function(e){return os.current.useState(e)};Mt.useSyncExternalStore=function(e,t,n){return os.current.useSyncExternalStore(e,t,n)};Mt.useTransition=function(){return os.current.useTransition()};Mt.version="18.3.1";$8.exports=Mt;var T=$8.exports;const K=Vt(T),RL=R8({__proto__:null,default:K},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL=T,$L=Symbol.for("react.element"),FL=Symbol.for("react.fragment"),BL=Object.prototype.hasOwnProperty,UL=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zL={key:!0,ref:!0,__self:!0,__source:!0};function G8(e,t,n){var s,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)BL.call(t,s)&&!zL.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:$L,type:e,key:i,ref:o,props:a,_owner:UL.current}}vy.Fragment=FL;vy.jsx=G8;vy.jsxs=G8;L8.exports=vy;var r=L8.exports,t2={},Q8={exports:{}},na={},Y8={exports:{}},X8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,G){var ne=V.length;V.push(G);e:for(;0<ne;){var ae=ne-1>>>1,le=V[ae];if(0<a(le,G))V[ae]=G,V[ne]=le,ne=ae;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var G=V[0],ne=V.pop();if(ne!==G){V[0]=ne;e:for(var ae=0,le=V.length,ie=le>>>1;ae<ie;){var fe=2*(ae+1)-1,xe=V[fe],ge=fe+1,ke=V[ge];if(0>a(xe,ne))ge<le&&0>a(ke,xe)?(V[ae]=ke,V[ge]=ne,ae=ge):(V[ae]=xe,V[fe]=ne,ae=fe);else if(ge<le&&0>a(ke,ne))V[ae]=ke,V[ge]=ne,ae=ge;else break e}}return G}function a(V,G){var ne=V.sortIndex-G.sortIndex;return ne!==0?ne:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,d=o.now();e.unstable_now=function(){return o.now()-d}}var h=[],u=[],x=1,p=null,b=3,_=!1,v=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(V){for(var G=n(u);G!==null;){if(G.callback===null)s(u);else if(G.startTime<=V)s(u),G.sortIndex=G.expirationTime,t(h,G);else break;G=n(u)}}function E(V){if(N=!1,A(V),!v)if(n(h)!==null)v=!0,Y(k);else{var G=n(u);G!==null&&X(E,G.startTime-V)}}function k(V,G){v=!1,N&&(N=!1,S(F),F=-1),_=!0;var ne=b;try{for(A(G),p=n(h);p!==null&&(!(p.expirationTime>G)||V&&!I());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,b=p.priorityLevel;var le=ae(p.expirationTime<=G);G=e.unstable_now(),typeof le=="function"?p.callback=le:p===n(h)&&s(h),A(G)}else s(h);p=n(h)}if(p!==null)var ie=!0;else{var fe=n(u);fe!==null&&X(E,fe.startTime-G),ie=!1}return ie}finally{p=null,b=ne,_=!1}}var D=!1,R=null,F=-1,M=5,z=-1;function I(){return!(e.unstable_now()-z<M)}function L(){if(R!==null){var V=e.unstable_now();z=V;var G=!0;try{G=R(!0,V)}finally{G?$():(D=!1,R=null)}}else D=!1}var $;if(typeof C=="function")$=function(){C(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=L,$=function(){U.postMessage(null)}}else $=function(){j(L,0)};function Y(V){R=V,D||(D=!0,$())}function X(V,G){F=j(function(){V(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){v||_||(v=!0,Y(k))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(V){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ne=b;b=G;try{return V()}finally{b=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=b;b=V;try{return G()}finally{b=ne}},e.unstable_scheduleCallback=function(V,G,ne){var ae=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ae+ne:ae):ne=ae,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ne+le,V={id:x++,callback:G,priorityLevel:V,startTime:ne,expirationTime:le,sortIndex:-1},ne>ae?(V.sortIndex=ne,t(u,V),n(h)===null&&V===n(u)&&(N?(S(F),F=-1):N=!0,X(E,ne-ae))):(V.sortIndex=le,t(h,V),v||_||(v=!0,Y(k))),V},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(V){var G=b;return function(){var ne=b;b=G;try{return V.apply(this,arguments)}finally{b=ne}}}})(X8);Y8.exports=X8;var VL=Y8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL=T,ta=VL;function qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K8=new Set,hf={};function fd(e,t){Hu(e,t),Hu(e+"Capture",t)}function Hu(e,t){for(hf[e]=t,e=0;e<t.length;e++)K8.add(t[e])}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r2=Object.prototype.hasOwnProperty,HL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q_={},Y_={};function WL(e){return r2.call(Y_,e)?!0:r2.call(Q_,e)?!1:HL.test(e)?Y_[e]=!0:(Q_[e]=!0,!1)}function GL(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QL(e,t,n,s){if(t===null||typeof t>"u"||GL(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ls(e,t,n,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var wN=/[\-:]([a-z])/g;function NN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wN,NN);En[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wN,NN);En[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wN,NN);En[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function _N(e,t,n,s){var a=En.hasOwnProperty(t)?En[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QL(t,n,a,s)&&(n=null),s||a===null?WL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Po=qL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ax=Symbol.for("react.element"),Zd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),SN=Symbol.for("react.strict_mode"),n2=Symbol.for("react.profiler"),Z8=Symbol.for("react.provider"),J8=Symbol.for("react.context"),CN=Symbol.for("react.forward_ref"),s2=Symbol.for("react.suspense"),a2=Symbol.for("react.suspense_list"),AN=Symbol.for("react.memo"),Jo=Symbol.for("react.lazy"),ek=Symbol.for("react.offscreen"),X_=Symbol.iterator;function d0(e){return e===null||typeof e!="object"?null:(e=X_&&e[X_]||e["@@iterator"],typeof e=="function"?e:null)}var Ir=Object.assign,Ab;function L0(e){if(Ab===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ab=t&&t[1]||""}return`
`+Ab+e}var Ob=!1;function Eb(e,t){if(!e||Ob)return"";Ob=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,d=i.length-1;1<=o&&0<=d&&a[o]!==i[d];)d--;for(;1<=o&&0<=d;o--,d--)if(a[o]!==i[d]){if(o!==1||d!==1)do if(o--,d--,0>d||a[o]!==i[d]){var h=`
`+a[o].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=o&&0<=d);break}}}finally{Ob=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L0(e):""}function YL(e){switch(e.tag){case 5:return L0(e.type);case 16:return L0("Lazy");case 13:return L0("Suspense");case 19:return L0("SuspenseList");case 0:case 2:case 15:return e=Eb(e.type,!1),e;case 11:return e=Eb(e.type.render,!1),e;case 1:return e=Eb(e.type,!0),e;default:return""}}function i2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jd:return"Fragment";case Zd:return"Portal";case n2:return"Profiler";case SN:return"StrictMode";case s2:return"Suspense";case a2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J8:return(e.displayName||"Context")+".Consumer";case Z8:return(e._context.displayName||"Context")+".Provider";case CN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case AN:return t=e.displayName||null,t!==null?t:i2(e.type)||"Memo";case Jo:t=e._payload,e=e._init;try{return i2(e(t))}catch{}}return null}function XL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i2(t);case 8:return t===SN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KL(e){var t=tk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ix(e){e._valueTracker||(e._valueTracker=KL(e))}function rk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=tk(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function yp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o2(e,t){var n=t.checked;return Ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function K_(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nk(e,t){t=t.checked,t!=null&&_N(e,"checked",t,!1)}function l2(e,t){nk(e,t);var n=Ll(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?c2(e,t.type,n):t.hasOwnProperty("defaultValue")&&c2(e,t.type,Ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function c2(e,t,n){(t!=="number"||yp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $0=Array.isArray;function yu(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ll(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function d2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(qe(92));if($0(n)){if(1<n.length)throw Error(qe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ll(n)}}function sk(e,t){var n=Ll(t.value),s=Ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function eS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ak(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ak(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ox,ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ox=ox||document.createElement("div"),ox.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ox.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ff(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var H0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZL=["Webkit","ms","Moz","O"];Object.keys(H0).forEach(function(e){ZL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),H0[t]=H0[e]})});function ok(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||H0.hasOwnProperty(e)&&H0[e]?(""+t).trim():t+"px"}function lk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=ok(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var JL=Ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h2(e,t){if(t){if(JL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qe(62))}}function f2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m2=null;function ON(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x2=null,bu=null,vu=null;function tS(e){if(e=_m(e)){if(typeof x2!="function")throw Error(qe(280));var t=e.stateNode;t&&(t=Sy(t),x2(e.stateNode,e.type,t))}}function ck(e){bu?vu?vu.push(e):vu=[e]:bu=e}function dk(){if(bu){var e=bu,t=vu;if(vu=bu=null,tS(e),t)for(e=0;e<t.length;e++)tS(t[e])}}function uk(e,t){return e(t)}function hk(){}var kb=!1;function fk(e,t,n){if(kb)return e(t,n);kb=!0;try{return uk(e,t,n)}finally{kb=!1,(bu!==null||vu!==null)&&(hk(),dk())}}function mf(e,t){var n=e.stateNode;if(n===null)return null;var s=Sy(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(qe(231,t,typeof n));return n}var p2=!1;if(No)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){p2=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{p2=!1}function e$(e,t,n,s,a,i,o,d,h){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(x){this.onError(x)}}var W0=!1,bp=null,vp=!1,g2=null,t$={onError:function(e){W0=!0,bp=e}};function r$(e,t,n,s,a,i,o,d,h){W0=!1,bp=null,e$.apply(t$,arguments)}function n$(e,t,n,s,a,i,o,d,h){if(r$.apply(this,arguments),W0){if(W0){var u=bp;W0=!1,bp=null}else throw Error(qe(198));vp||(vp=!0,g2=u)}}function md(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rS(e){if(md(e)!==e)throw Error(qe(188))}function s$(e){var t=e.alternate;if(!t){if(t=md(e),t===null)throw Error(qe(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return rS(a),e;if(i===s)return rS(a),t;i=i.sibling}throw Error(qe(188))}if(n.return!==s.return)n=a,s=i;else{for(var o=!1,d=a.child;d;){if(d===n){o=!0,n=a,s=i;break}if(d===s){o=!0,s=a,n=i;break}d=d.sibling}if(!o){for(d=i.child;d;){if(d===n){o=!0,n=i,s=a;break}if(d===s){o=!0,s=i,n=a;break}d=d.sibling}if(!o)throw Error(qe(189))}}if(n.alternate!==s)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?e:t}function xk(e){return e=s$(e),e!==null?pk(e):null}function pk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pk(e);if(t!==null)return t;e=e.sibling}return null}var gk=ta.unstable_scheduleCallback,nS=ta.unstable_cancelCallback,a$=ta.unstable_shouldYield,i$=ta.unstable_requestPaint,Vr=ta.unstable_now,o$=ta.unstable_getCurrentPriorityLevel,EN=ta.unstable_ImmediatePriority,yk=ta.unstable_UserBlockingPriority,jp=ta.unstable_NormalPriority,l$=ta.unstable_LowPriority,bk=ta.unstable_IdlePriority,jy=null,Oi=null;function c$(e){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(jy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ya=Math.clz32?Math.clz32:h$,d$=Math.log,u$=Math.LN2;function h$(e){return e>>>=0,e===0?32:31-(d$(e)/u$|0)|0}var lx=64,cx=4194304;function F0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wp(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var d=o&~a;d!==0?s=F0(d):(i&=o,i!==0&&(s=F0(i)))}else o=n&~a,o!==0?s=F0(o):i!==0&&(s=F0(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ya(t),a=1<<n,s|=e[n],t&=~a;return s}function f$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m$(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ya(i),d=1<<o,h=a[o];h===-1?(!(d&n)||d&s)&&(a[o]=f$(d,t)):h<=t&&(e.expiredLanes|=d),i&=~d}}function y2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vk(){var e=lx;return lx<<=1,!(lx&4194240)&&(lx=64),e}function Tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ya(t),e[t]=n}function x$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ya(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function kN(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ya(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var Zt=0;function jk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wk,TN,Nk,_k,Sk,b2=!1,dx=[],wl=null,Nl=null,_l=null,xf=new Map,pf=new Map,nl=[],p$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sS(e,t){switch(e){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":xf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(t.pointerId)}}function h0(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=_m(t),t!==null&&TN(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function g$(e,t,n,s,a){switch(t){case"focusin":return wl=h0(wl,e,t,n,s,a),!0;case"dragenter":return Nl=h0(Nl,e,t,n,s,a),!0;case"mouseover":return _l=h0(_l,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return xf.set(i,h0(xf.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,pf.set(i,h0(pf.get(i)||null,e,t,n,s,a)),!0}return!1}function Ck(e){var t=yc(e.target);if(t!==null){var n=md(t);if(n!==null){if(t=n.tag,t===13){if(t=mk(n),t!==null){e.blockedOn=t,Sk(e.priority,function(){Nk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=v2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);m2=s,n.target.dispatchEvent(s),m2=null}else return t=_m(n),t!==null&&TN(t),e.blockedOn=n,!1;t.shift()}return!0}function aS(e,t,n){Xx(e)&&n.delete(t)}function y$(){b2=!1,wl!==null&&Xx(wl)&&(wl=null),Nl!==null&&Xx(Nl)&&(Nl=null),_l!==null&&Xx(_l)&&(_l=null),xf.forEach(aS),pf.forEach(aS)}function f0(e,t){e.blockedOn===t&&(e.blockedOn=null,b2||(b2=!0,ta.unstable_scheduleCallback(ta.unstable_NormalPriority,y$)))}function gf(e){function t(a){return f0(a,e)}if(0<dx.length){f0(dx[0],e);for(var n=1;n<dx.length;n++){var s=dx[n];s.blockedOn===e&&(s.blockedOn=null)}}for(wl!==null&&f0(wl,e),Nl!==null&&f0(Nl,e),_l!==null&&f0(_l,e),xf.forEach(t),pf.forEach(t),n=0;n<nl.length;n++)s=nl[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<nl.length&&(n=nl[0],n.blockedOn===null);)Ck(n),n.blockedOn===null&&nl.shift()}var ju=Po.ReactCurrentBatchConfig,Np=!0;function b$(e,t,n,s){var a=Zt,i=ju.transition;ju.transition=null;try{Zt=1,PN(e,t,n,s)}finally{Zt=a,ju.transition=i}}function v$(e,t,n,s){var a=Zt,i=ju.transition;ju.transition=null;try{Zt=4,PN(e,t,n,s)}finally{Zt=a,ju.transition=i}}function PN(e,t,n,s){if(Np){var a=v2(e,t,n,s);if(a===null)Ub(e,t,s,_p,n),sS(e,s);else if(g$(a,e,t,n,s))s.stopPropagation();else if(sS(e,s),t&4&&-1<p$.indexOf(e)){for(;a!==null;){var i=_m(a);if(i!==null&&wk(i),i=v2(e,t,n,s),i===null&&Ub(e,t,s,_p,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Ub(e,t,s,null,n)}}var _p=null;function v2(e,t,n,s){if(_p=null,e=ON(s),e=yc(e),e!==null)if(t=md(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _p=e,null}function Ak(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o$()){case EN:return 1;case yk:return 4;case jp:case l$:return 16;case bk:return 536870912;default:return 16}default:return 16}}var gl=null,IN=null,Kx=null;function Ok(){if(Kx)return Kx;var e,t=IN,n=t.length,s,a="value"in gl?gl.value:gl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===a[i-s];s++);return Kx=a.slice(e,1<s?1-s:void 0)}function Zx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ux(){return!0}function iS(){return!1}function sa(e){function t(n,s,a,i,o){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ux:iS,this.isPropagationStopped=iS,this}return Ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ux)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ux)},persist:function(){},isPersistent:ux}),t}var Eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DN=sa(Eh),Nm=Ir({},Eh,{view:0,detail:0}),j$=sa(Nm),Pb,Ib,m0,wy=Ir({},Nm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==m0&&(m0&&e.type==="mousemove"?(Pb=e.screenX-m0.screenX,Ib=e.screenY-m0.screenY):Ib=Pb=0,m0=e),Pb)},movementY:function(e){return"movementY"in e?e.movementY:Ib}}),oS=sa(wy),w$=Ir({},wy,{dataTransfer:0}),N$=sa(w$),_$=Ir({},Nm,{relatedTarget:0}),Db=sa(_$),S$=Ir({},Eh,{animationName:0,elapsedTime:0,pseudoElement:0}),C$=sa(S$),A$=Ir({},Eh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O$=sa(A$),E$=Ir({},Eh,{data:0}),lS=sa(E$),k$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P$[e])?!!t[e]:!1}function MN(){return I$}var D$=Ir({},Nm,{key:function(e){if(e.key){var t=k$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MN,charCode:function(e){return e.type==="keypress"?Zx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M$=sa(D$),R$=Ir({},wy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cS=sa(R$),L$=Ir({},Nm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MN}),$$=sa(L$),F$=Ir({},Eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),B$=sa(F$),U$=Ir({},wy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z$=sa(U$),V$=[9,13,27,32],RN=No&&"CompositionEvent"in window,G0=null;No&&"documentMode"in document&&(G0=document.documentMode);var q$=No&&"TextEvent"in window&&!G0,Ek=No&&(!RN||G0&&8<G0&&11>=G0),dS=" ",uS=!1;function kk(e,t){switch(e){case"keyup":return V$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eu=!1;function H$(e,t){switch(e){case"compositionend":return Tk(t);case"keypress":return t.which!==32?null:(uS=!0,dS);case"textInput":return e=t.data,e===dS&&uS?null:e;default:return null}}function W$(e,t){if(eu)return e==="compositionend"||!RN&&kk(e,t)?(e=Ok(),Kx=IN=gl=null,eu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ek&&t.locale!=="ko"?null:t.data;default:return null}}var G$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G$[e.type]:t==="textarea"}function Pk(e,t,n,s){ck(s),t=Sp(t,"onChange"),0<t.length&&(n=new DN("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Q0=null,yf=null;function Q$(e){Vk(e,0)}function Ny(e){var t=nu(e);if(rk(t))return e}function Y$(e,t){if(e==="change")return t}var Ik=!1;if(No){var Mb;if(No){var Rb="oninput"in document;if(!Rb){var fS=document.createElement("div");fS.setAttribute("oninput","return;"),Rb=typeof fS.oninput=="function"}Mb=Rb}else Mb=!1;Ik=Mb&&(!document.documentMode||9<document.documentMode)}function mS(){Q0&&(Q0.detachEvent("onpropertychange",Dk),yf=Q0=null)}function Dk(e){if(e.propertyName==="value"&&Ny(yf)){var t=[];Pk(t,yf,e,ON(e)),fk(Q$,t)}}function X$(e,t,n){e==="focusin"?(mS(),Q0=t,yf=n,Q0.attachEvent("onpropertychange",Dk)):e==="focusout"&&mS()}function K$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ny(yf)}function Z$(e,t){if(e==="click")return Ny(t)}function J$(e,t){if(e==="input"||e==="change")return Ny(t)}function eF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ti=typeof Object.is=="function"?Object.is:eF;function bf(e,t){if(ti(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!r2.call(t,a)||!ti(e[a],t[a]))return!1}return!0}function xS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pS(e,t){var n=xS(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xS(n)}}function Mk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rk(){for(var e=window,t=yp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yp(e.document)}return t}function LN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tF(e){var t=Rk(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mk(n.ownerDocument.documentElement,n)){if(s!==null&&LN(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=pS(n,i);var o=pS(n,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rF=No&&"documentMode"in document&&11>=document.documentMode,tu=null,j2=null,Y0=null,w2=!1;function gS(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;w2||tu==null||tu!==yp(s)||(s=tu,"selectionStart"in s&&LN(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Y0&&bf(Y0,s)||(Y0=s,s=Sp(j2,"onSelect"),0<s.length&&(t=new DN("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=tu)))}function hx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ru={animationend:hx("Animation","AnimationEnd"),animationiteration:hx("Animation","AnimationIteration"),animationstart:hx("Animation","AnimationStart"),transitionend:hx("Transition","TransitionEnd")},Lb={},Lk={};No&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function _y(e){if(Lb[e])return Lb[e];if(!ru[e])return e;var t=ru[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lk)return Lb[e]=t[n];return e}var $k=_y("animationend"),Fk=_y("animationiteration"),Bk=_y("animationstart"),Uk=_y("transitionend"),zk=new Map,yS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wl(e,t){zk.set(e,t),fd(t,[e])}for(var $b=0;$b<yS.length;$b++){var Fb=yS[$b],nF=Fb.toLowerCase(),sF=Fb[0].toUpperCase()+Fb.slice(1);Wl(nF,"on"+sF)}Wl($k,"onAnimationEnd");Wl(Fk,"onAnimationIteration");Wl(Bk,"onAnimationStart");Wl("dblclick","onDoubleClick");Wl("focusin","onFocus");Wl("focusout","onBlur");Wl(Uk,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);fd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fd("onBeforeInput",["compositionend","keypress","textInput","paste"]);fd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aF=new Set("cancel close invalid load scroll toggle".split(" ").concat(B0));function bS(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,n$(s,t,void 0,e),e.currentTarget=null}function Vk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var d=s[o],h=d.instance,u=d.currentTarget;if(d=d.listener,h!==i&&a.isPropagationStopped())break e;bS(a,d,u),i=h}else for(o=0;o<s.length;o++){if(d=s[o],h=d.instance,u=d.currentTarget,d=d.listener,h!==i&&a.isPropagationStopped())break e;bS(a,d,u),i=h}}}if(vp)throw e=g2,vp=!1,g2=null,e}function pr(e,t){var n=t[A2];n===void 0&&(n=t[A2]=new Set);var s=e+"__bubble";n.has(s)||(qk(t,e,2,!1),n.add(s))}function Bb(e,t,n){var s=0;t&&(s|=4),qk(n,e,s,t)}var fx="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[fx]){e[fx]=!0,K8.forEach(function(n){n!=="selectionchange"&&(aF.has(n)||Bb(n,!1,e),Bb(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fx]||(t[fx]=!0,Bb("selectionchange",!1,t))}}function qk(e,t,n,s){switch(Ak(t)){case 1:var a=b$;break;case 4:a=v$;break;default:a=PN}n=a.bind(null,t,n,e),a=void 0,!p2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ub(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var d=s.stateNode.containerInfo;if(d===a||d.nodeType===8&&d.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;o=o.return}for(;d!==null;){if(o=yc(d),o===null)return;if(h=o.tag,h===5||h===6){s=i=o;continue e}d=d.parentNode}}s=s.return}fk(function(){var u=i,x=ON(n),p=[];e:{var b=zk.get(e);if(b!==void 0){var _=DN,v=e;switch(e){case"keypress":if(Zx(n)===0)break e;case"keydown":case"keyup":_=M$;break;case"focusin":v="focus",_=Db;break;case"focusout":v="blur",_=Db;break;case"beforeblur":case"afterblur":_=Db;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=oS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=N$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=$$;break;case $k:case Fk:case Bk:_=C$;break;case Uk:_=B$;break;case"scroll":_=j$;break;case"wheel":_=z$;break;case"copy":case"cut":case"paste":_=O$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=cS}var N=(t&4)!==0,j=!N&&e==="scroll",S=N?b!==null?b+"Capture":null:b;N=[];for(var C=u,A;C!==null;){A=C;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,S!==null&&(E=mf(C,S),E!=null&&N.push(jf(C,E,A)))),j)break;C=C.return}0<N.length&&(b=new _(b,v,null,n,x),p.push({event:b,listeners:N}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",b&&n!==m2&&(v=n.relatedTarget||n.fromElement)&&(yc(v)||v[_o]))break e;if((_||b)&&(b=x.window===x?x:(b=x.ownerDocument)?b.defaultView||b.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=u,v=v?yc(v):null,v!==null&&(j=md(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=u),_!==v)){if(N=oS,E="onMouseLeave",S="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(N=cS,E="onPointerLeave",S="onPointerEnter",C="pointer"),j=_==null?b:nu(_),A=v==null?b:nu(v),b=new N(E,C+"leave",_,n,x),b.target=j,b.relatedTarget=A,E=null,yc(x)===u&&(N=new N(S,C+"enter",v,n,x),N.target=A,N.relatedTarget=j,E=N),j=E,_&&v)t:{for(N=_,S=v,C=0,A=N;A;A=Rd(A))C++;for(A=0,E=S;E;E=Rd(E))A++;for(;0<C-A;)N=Rd(N),C--;for(;0<A-C;)S=Rd(S),A--;for(;C--;){if(N===S||S!==null&&N===S.alternate)break t;N=Rd(N),S=Rd(S)}N=null}else N=null;_!==null&&vS(p,b,_,N,!1),v!==null&&j!==null&&vS(p,j,v,N,!0)}}e:{if(b=u?nu(u):window,_=b.nodeName&&b.nodeName.toLowerCase(),_==="select"||_==="input"&&b.type==="file")var k=Y$;else if(hS(b))if(Ik)k=J$;else{k=K$;var D=X$}else(_=b.nodeName)&&_.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(k=Z$);if(k&&(k=k(e,u))){Pk(p,k,n,x);break e}D&&D(e,b,u),e==="focusout"&&(D=b._wrapperState)&&D.controlled&&b.type==="number"&&c2(b,"number",b.value)}switch(D=u?nu(u):window,e){case"focusin":(hS(D)||D.contentEditable==="true")&&(tu=D,j2=u,Y0=null);break;case"focusout":Y0=j2=tu=null;break;case"mousedown":w2=!0;break;case"contextmenu":case"mouseup":case"dragend":w2=!1,gS(p,n,x);break;case"selectionchange":if(rF)break;case"keydown":case"keyup":gS(p,n,x)}var R;if(RN)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else eu?kk(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Ek&&n.locale!=="ko"&&(eu||F!=="onCompositionStart"?F==="onCompositionEnd"&&eu&&(R=Ok()):(gl=x,IN="value"in gl?gl.value:gl.textContent,eu=!0)),D=Sp(u,F),0<D.length&&(F=new lS(F,e,null,n,x),p.push({event:F,listeners:D}),R?F.data=R:(R=Tk(n),R!==null&&(F.data=R)))),(R=q$?H$(e,n):W$(e,n))&&(u=Sp(u,"onBeforeInput"),0<u.length&&(x=new lS("onBeforeInput","beforeinput",null,n,x),p.push({event:x,listeners:u}),x.data=R))}Vk(p,t)})}function jf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sp(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=mf(e,n),i!=null&&s.unshift(jf(e,i,a)),i=mf(e,t),i!=null&&s.push(jf(e,i,a))),e=e.return}return s}function Rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vS(e,t,n,s,a){for(var i=t._reactName,o=[];n!==null&&n!==s;){var d=n,h=d.alternate,u=d.stateNode;if(h!==null&&h===s)break;d.tag===5&&u!==null&&(d=u,a?(h=mf(n,i),h!=null&&o.unshift(jf(n,h,d))):a||(h=mf(n,i),h!=null&&o.push(jf(n,h,d)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var iF=/\r\n?/g,oF=/\u0000|\uFFFD/g;function jS(e){return(typeof e=="string"?e:""+e).replace(iF,`
`).replace(oF,"")}function mx(e,t,n){if(t=jS(t),jS(e)!==t&&n)throw Error(qe(425))}function Cp(){}var N2=null,_2=null;function S2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var C2=typeof setTimeout=="function"?setTimeout:void 0,lF=typeof clearTimeout=="function"?clearTimeout:void 0,wS=typeof Promise=="function"?Promise:void 0,cF=typeof queueMicrotask=="function"?queueMicrotask:typeof wS<"u"?function(e){return wS.resolve(null).then(e).catch(dF)}:C2;function dF(e){setTimeout(function(){throw e})}function zb(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),gf(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);gf(t)}function Sl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kh=Math.random().toString(36).slice(2),wi="__reactFiber$"+kh,wf="__reactProps$"+kh,_o="__reactContainer$"+kh,A2="__reactEvents$"+kh,uF="__reactListeners$"+kh,hF="__reactHandles$"+kh;function yc(e){var t=e[wi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_o]||n[wi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=NS(e);e!==null;){if(n=e[wi])return n;e=NS(e)}return t}e=n,n=e.parentNode}return null}function _m(e){return e=e[wi]||e[_o],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qe(33))}function Sy(e){return e[wf]||null}var O2=[],su=-1;function Gl(e){return{current:e}}function wr(e){0>su||(e.current=O2[su],O2[su]=null,su--)}function hr(e,t){su++,O2[su]=e.current,e.current=t}var $l={},zn=Gl($l),_s=Gl(!1),Yc=$l;function Wu(e,t){var n=e.type.contextTypes;if(!n)return $l;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ss(e){return e=e.childContextTypes,e!=null}function Ap(){wr(_s),wr(zn)}function _S(e,t,n){if(zn.current!==$l)throw Error(qe(168));hr(zn,t),hr(_s,n)}function Hk(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(qe(108,XL(e)||"Unknown",a));return Ir({},n,s)}function Op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$l,Yc=zn.current,hr(zn,e),hr(_s,_s.current),!0}function SS(e,t,n){var s=e.stateNode;if(!s)throw Error(qe(169));n?(e=Hk(e,t,Yc),s.__reactInternalMemoizedMergedChildContext=e,wr(_s),wr(zn),hr(zn,e)):wr(_s),hr(_s,n)}var to=null,Cy=!1,Vb=!1;function Wk(e){to===null?to=[e]:to.push(e)}function fF(e){Cy=!0,Wk(e)}function Ql(){if(!Vb&&to!==null){Vb=!0;var e=0,t=Zt;try{var n=to;for(Zt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}to=null,Cy=!1}catch(a){throw to!==null&&(to=to.slice(e+1)),gk(EN,Ql),a}finally{Zt=t,Vb=!1}}return null}var au=[],iu=0,Ep=null,kp=0,ma=[],xa=0,Xc=null,co=1,uo="";function uc(e,t){au[iu++]=kp,au[iu++]=Ep,Ep=e,kp=t}function Gk(e,t,n){ma[xa++]=co,ma[xa++]=uo,ma[xa++]=Xc,Xc=e;var s=co;e=uo;var a=32-Ya(s)-1;s&=~(1<<a),n+=1;var i=32-Ya(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,co=1<<32-Ya(t)+a|n<<a|s,uo=i+e}else co=1<<i|n<<a|s,uo=e}function $N(e){e.return!==null&&(uc(e,1),Gk(e,1,0))}function FN(e){for(;e===Ep;)Ep=au[--iu],au[iu]=null,kp=au[--iu],au[iu]=null;for(;e===Xc;)Xc=ma[--xa],ma[xa]=null,uo=ma[--xa],ma[xa]=null,co=ma[--xa],ma[xa]=null}var Zs=null,Ys=null,Sr=!1,qa=null;function Qk(e,t){var n=ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function CS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zs=e,Ys=Sl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zs=e,Ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xc!==null?{id:co,overflow:uo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zs=e,Ys=null,!0):!1;default:return!1}}function E2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function k2(e){if(Sr){var t=Ys;if(t){var n=t;if(!CS(e,t)){if(E2(e))throw Error(qe(418));t=Sl(n.nextSibling);var s=Zs;t&&CS(e,t)?Qk(s,n):(e.flags=e.flags&-4097|2,Sr=!1,Zs=e)}}else{if(E2(e))throw Error(qe(418));e.flags=e.flags&-4097|2,Sr=!1,Zs=e}}}function AS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zs=e}function xx(e){if(e!==Zs)return!1;if(!Sr)return AS(e),Sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!S2(e.type,e.memoizedProps)),t&&(t=Ys)){if(E2(e))throw Yk(),Error(qe(418));for(;t;)Qk(e,t),t=Sl(t.nextSibling)}if(AS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ys=Sl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Zs?Sl(e.stateNode.nextSibling):null;return!0}function Yk(){for(var e=Ys;e;)e=Sl(e.nextSibling)}function Gu(){Ys=Zs=null,Sr=!1}function BN(e){qa===null?qa=[e]:qa.push(e)}var mF=Po.ReactCurrentBatchConfig;function x0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var s=n.stateNode}if(!s)throw Error(qe(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var d=a.refs;o===null?delete d[i]:d[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,e))}return e}function px(e,t){throw e=Object.prototype.toString.call(t),Error(qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OS(e){var t=e._init;return t(e._payload)}function Xk(e){function t(S,C){if(e){var A=S.deletions;A===null?(S.deletions=[C],S.flags|=16):A.push(C)}}function n(S,C){if(!e)return null;for(;C!==null;)t(S,C),C=C.sibling;return null}function s(S,C){for(S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function a(S,C){return S=El(S,C),S.index=0,S.sibling=null,S}function i(S,C,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<C?(S.flags|=2,C):A):(S.flags|=2,C)):(S.flags|=1048576,C)}function o(S){return e&&S.alternate===null&&(S.flags|=2),S}function d(S,C,A,E){return C===null||C.tag!==6?(C=Xb(A,S.mode,E),C.return=S,C):(C=a(C,A),C.return=S,C)}function h(S,C,A,E){var k=A.type;return k===Jd?x(S,C,A.props.children,E,A.key):C!==null&&(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jo&&OS(k)===C.type)?(E=a(C,A.props),E.ref=x0(S,C,A),E.return=S,E):(E=ap(A.type,A.key,A.props,null,S.mode,E),E.ref=x0(S,C,A),E.return=S,E)}function u(S,C,A,E){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Kb(A,S.mode,E),C.return=S,C):(C=a(C,A.children||[]),C.return=S,C)}function x(S,C,A,E,k){return C===null||C.tag!==7?(C=Uc(A,S.mode,E,k),C.return=S,C):(C=a(C,A),C.return=S,C)}function p(S,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Xb(""+C,S.mode,A),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ax:return A=ap(C.type,C.key,C.props,null,S.mode,A),A.ref=x0(S,null,C),A.return=S,A;case Zd:return C=Kb(C,S.mode,A),C.return=S,C;case Jo:var E=C._init;return p(S,E(C._payload),A)}if($0(C)||d0(C))return C=Uc(C,S.mode,A,null),C.return=S,C;px(S,C)}return null}function b(S,C,A,E){var k=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return k!==null?null:d(S,C,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ax:return A.key===k?h(S,C,A,E):null;case Zd:return A.key===k?u(S,C,A,E):null;case Jo:return k=A._init,b(S,C,k(A._payload),E)}if($0(A)||d0(A))return k!==null?null:x(S,C,A,E,null);px(S,A)}return null}function _(S,C,A,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return S=S.get(A)||null,d(C,S,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ax:return S=S.get(E.key===null?A:E.key)||null,h(C,S,E,k);case Zd:return S=S.get(E.key===null?A:E.key)||null,u(C,S,E,k);case Jo:var D=E._init;return _(S,C,A,D(E._payload),k)}if($0(E)||d0(E))return S=S.get(A)||null,x(C,S,E,k,null);px(C,E)}return null}function v(S,C,A,E){for(var k=null,D=null,R=C,F=C=0,M=null;R!==null&&F<A.length;F++){R.index>F?(M=R,R=null):M=R.sibling;var z=b(S,R,A[F],E);if(z===null){R===null&&(R=M);break}e&&R&&z.alternate===null&&t(S,R),C=i(z,C,F),D===null?k=z:D.sibling=z,D=z,R=M}if(F===A.length)return n(S,R),Sr&&uc(S,F),k;if(R===null){for(;F<A.length;F++)R=p(S,A[F],E),R!==null&&(C=i(R,C,F),D===null?k=R:D.sibling=R,D=R);return Sr&&uc(S,F),k}for(R=s(S,R);F<A.length;F++)M=_(R,S,F,A[F],E),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?F:M.key),C=i(M,C,F),D===null?k=M:D.sibling=M,D=M);return e&&R.forEach(function(I){return t(S,I)}),Sr&&uc(S,F),k}function N(S,C,A,E){var k=d0(A);if(typeof k!="function")throw Error(qe(150));if(A=k.call(A),A==null)throw Error(qe(151));for(var D=k=null,R=C,F=C=0,M=null,z=A.next();R!==null&&!z.done;F++,z=A.next()){R.index>F?(M=R,R=null):M=R.sibling;var I=b(S,R,z.value,E);if(I===null){R===null&&(R=M);break}e&&R&&I.alternate===null&&t(S,R),C=i(I,C,F),D===null?k=I:D.sibling=I,D=I,R=M}if(z.done)return n(S,R),Sr&&uc(S,F),k;if(R===null){for(;!z.done;F++,z=A.next())z=p(S,z.value,E),z!==null&&(C=i(z,C,F),D===null?k=z:D.sibling=z,D=z);return Sr&&uc(S,F),k}for(R=s(S,R);!z.done;F++,z=A.next())z=_(R,S,F,z.value,E),z!==null&&(e&&z.alternate!==null&&R.delete(z.key===null?F:z.key),C=i(z,C,F),D===null?k=z:D.sibling=z,D=z);return e&&R.forEach(function(L){return t(S,L)}),Sr&&uc(S,F),k}function j(S,C,A,E){if(typeof A=="object"&&A!==null&&A.type===Jd&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ax:e:{for(var k=A.key,D=C;D!==null;){if(D.key===k){if(k=A.type,k===Jd){if(D.tag===7){n(S,D.sibling),C=a(D,A.props.children),C.return=S,S=C;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Jo&&OS(k)===D.type){n(S,D.sibling),C=a(D,A.props),C.ref=x0(S,D,A),C.return=S,S=C;break e}n(S,D);break}else t(S,D);D=D.sibling}A.type===Jd?(C=Uc(A.props.children,S.mode,E,A.key),C.return=S,S=C):(E=ap(A.type,A.key,A.props,null,S.mode,E),E.ref=x0(S,C,A),E.return=S,S=E)}return o(S);case Zd:e:{for(D=A.key;C!==null;){if(C.key===D)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){n(S,C.sibling),C=a(C,A.children||[]),C.return=S,S=C;break e}else{n(S,C);break}else t(S,C);C=C.sibling}C=Kb(A,S.mode,E),C.return=S,S=C}return o(S);case Jo:return D=A._init,j(S,C,D(A._payload),E)}if($0(A))return v(S,C,A,E);if(d0(A))return N(S,C,A,E);px(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,C!==null&&C.tag===6?(n(S,C.sibling),C=a(C,A),C.return=S,S=C):(n(S,C),C=Xb(A,S.mode,E),C.return=S,S=C),o(S)):n(S,C)}return j}var Qu=Xk(!0),Kk=Xk(!1),Tp=Gl(null),Pp=null,ou=null,UN=null;function zN(){UN=ou=Pp=null}function VN(e){var t=Tp.current;wr(Tp),e._currentValue=t}function T2(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function wu(e,t){Pp=e,UN=ou=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(js=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(UN!==e)if(e={context:e,memoizedValue:t,next:null},ou===null){if(Pp===null)throw Error(qe(308));ou=e,Pp.dependencies={lanes:0,firstContext:e}}else ou=ou.next=e;return t}var bc=null;function qN(e){bc===null?bc=[e]:bc.push(e)}function Zk(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,qN(t)):(n.next=a.next,a.next=n),t.interleaved=n,So(e,s)}function So(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var el=!1;function HN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cl(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Bt&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,So(e,n)}return a=s.interleaved,a===null?(t.next=t,qN(s)):(t.next=a.next,a.next=t),s.interleaved=t,So(e,n)}function Jx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,kN(e,n)}}function ES(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ip(e,t,n,s){var a=e.updateQueue;el=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,d=a.shared.pending;if(d!==null){a.shared.pending=null;var h=d,u=h.next;h.next=null,o===null?i=u:o.next=u,o=h;var x=e.alternate;x!==null&&(x=x.updateQueue,d=x.lastBaseUpdate,d!==o&&(d===null?x.firstBaseUpdate=u:d.next=u,x.lastBaseUpdate=h))}if(i!==null){var p=a.baseState;o=0,x=u=h=null,d=i;do{var b=d.lane,_=d.eventTime;if((s&b)===b){x!==null&&(x=x.next={eventTime:_,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var v=e,N=d;switch(b=t,_=n,N.tag){case 1:if(v=N.payload,typeof v=="function"){p=v.call(_,p,b);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,b=typeof v=="function"?v.call(_,p,b):v,b==null)break e;p=Ir({},p,b);break e;case 2:el=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,b=a.effects,b===null?a.effects=[d]:b.push(d))}else _={eventTime:_,lane:b,tag:d.tag,payload:d.payload,callback:d.callback,next:null},x===null?(u=x=_,h=p):x=x.next=_,o|=b;if(d=d.next,d===null){if(d=a.shared.pending,d===null)break;b=d,d=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(x===null&&(h=p),a.baseState=h,a.firstBaseUpdate=u,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Zc|=o,e.lanes=o,e.memoizedState=p}}function kS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(qe(191,a));a.call(s)}}}var Sm={},Ei=Gl(Sm),Nf=Gl(Sm),_f=Gl(Sm);function vc(e){if(e===Sm)throw Error(qe(174));return e}function WN(e,t){switch(hr(_f,t),hr(Nf,e),hr(Ei,Sm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u2(t,e)}wr(Ei),hr(Ei,t)}function Yu(){wr(Ei),wr(Nf),wr(_f)}function eT(e){vc(_f.current);var t=vc(Ei.current),n=u2(t,e.type);t!==n&&(hr(Nf,e),hr(Ei,n))}function GN(e){Nf.current===e&&(wr(Ei),wr(Nf))}var Tr=Gl(0);function Dp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qb=[];function QN(){for(var e=0;e<qb.length;e++)qb[e]._workInProgressVersionPrimary=null;qb.length=0}var ep=Po.ReactCurrentDispatcher,Hb=Po.ReactCurrentBatchConfig,Kc=0,Pr=null,rn=null,mn=null,Mp=!1,X0=!1,Sf=0,xF=0;function Pn(){throw Error(qe(321))}function YN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ti(e[n],t[n]))return!1;return!0}function XN(e,t,n,s,a,i){if(Kc=i,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ep.current=e===null||e.memoizedState===null?bF:vF,e=n(s,a),X0){i=0;do{if(X0=!1,Sf=0,25<=i)throw Error(qe(301));i+=1,mn=rn=null,t.updateQueue=null,ep.current=jF,e=n(s,a)}while(X0)}if(ep.current=Rp,t=rn!==null&&rn.next!==null,Kc=0,mn=rn=Pr=null,Mp=!1,t)throw Error(qe(300));return e}function KN(){var e=Sf!==0;return Sf=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Pr.memoizedState=mn=e:mn=mn.next=e,mn}function Ca(){if(rn===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=rn.next;var t=mn===null?Pr.memoizedState:mn.next;if(t!==null)mn=t,rn=e;else{if(e===null)throw Error(qe(310));rn=e,e={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},mn===null?Pr.memoizedState=mn=e:mn=mn.next=e}return mn}function Cf(e,t){return typeof t=="function"?t(e):t}function Wb(e){var t=Ca(),n=t.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=e;var s=rn,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var d=o=null,h=null,u=i;do{var x=u.lane;if((Kc&x)===x)h!==null&&(h=h.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:x,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};h===null?(d=h=p,o=s):h=h.next=p,Pr.lanes|=x,Zc|=x}u=u.next}while(u!==null&&u!==i);h===null?o=s:h.next=d,ti(s,t.memoizedState)||(js=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=h,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Pr.lanes|=i,Zc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gb(e){var t=Ca(),n=t.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ti(i,t.memoizedState)||(js=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function tT(){}function rT(e,t){var n=Pr,s=Ca(),a=t(),i=!ti(s.memoizedState,a);if(i&&(s.memoizedState=a,js=!0),s=s.queue,ZN(aT.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Af(9,sT.bind(null,n,s,a,t),void 0,null),yn===null)throw Error(qe(349));Kc&30||nT(n,t,a)}return a}function nT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sT(e,t,n,s){t.value=n,t.getSnapshot=s,iT(t)&&oT(e)}function aT(e,t,n){return n(function(){iT(t)&&oT(e)})}function iT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ti(e,n)}catch{return!0}}function oT(e){var t=So(e,1);t!==null&&Xa(t,e,1,-1)}function TS(e){var t=xi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:e},t.queue=e,e=e.dispatch=yF.bind(null,Pr,e),[t.memoizedState,e]}function Af(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function lT(){return Ca().memoizedState}function tp(e,t,n,s){var a=xi();Pr.flags|=e,a.memoizedState=Af(1|t,n,void 0,s===void 0?null:s)}function Ay(e,t,n,s){var a=Ca();s=s===void 0?null:s;var i=void 0;if(rn!==null){var o=rn.memoizedState;if(i=o.destroy,s!==null&&YN(s,o.deps)){a.memoizedState=Af(t,n,i,s);return}}Pr.flags|=e,a.memoizedState=Af(1|t,n,i,s)}function PS(e,t){return tp(8390656,8,e,t)}function ZN(e,t){return Ay(2048,8,e,t)}function cT(e,t){return Ay(4,2,e,t)}function dT(e,t){return Ay(4,4,e,t)}function uT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hT(e,t,n){return n=n!=null?n.concat([e]):null,Ay(4,4,uT.bind(null,t,e),n)}function JN(){}function fT(e,t){var n=Ca();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&YN(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function mT(e,t){var n=Ca();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&YN(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function xT(e,t,n){return Kc&21?(ti(n,t)||(n=vk(),Pr.lanes|=n,Zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=n)}function pF(e,t){var n=Zt;Zt=n!==0&&4>n?n:4,e(!0);var s=Hb.transition;Hb.transition={};try{e(!1),t()}finally{Zt=n,Hb.transition=s}}function pT(){return Ca().memoizedState}function gF(e,t,n){var s=Ol(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},gT(e))yT(t,n);else if(n=Zk(e,t,n,s),n!==null){var a=ss();Xa(n,e,s,a),bT(n,t,s)}}function yF(e,t,n){var s=Ol(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(gT(e))yT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,d=i(o,n);if(a.hasEagerState=!0,a.eagerState=d,ti(d,o)){var h=t.interleaved;h===null?(a.next=a,qN(t)):(a.next=h.next,h.next=a),t.interleaved=a;return}}catch{}finally{}n=Zk(e,t,a,s),n!==null&&(a=ss(),Xa(n,e,s,a),bT(n,t,s))}}function gT(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function yT(e,t){X0=Mp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bT(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,kN(e,n)}}var Rp={readContext:Sa,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},bF={readContext:Sa,useCallback:function(e,t){return xi().memoizedState=[e,t===void 0?null:t],e},useContext:Sa,useEffect:PS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tp(4194308,4,uT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tp(4194308,4,e,t)},useInsertionEffect:function(e,t){return tp(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=xi();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=gF.bind(null,Pr,e),[s.memoizedState,e]},useRef:function(e){var t=xi();return e={current:e},t.memoizedState=e},useState:TS,useDebugValue:JN,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=TS(!1),t=e[0];return e=pF.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Pr,a=xi();if(Sr){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=t(),yn===null)throw Error(qe(349));Kc&30||nT(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,PS(aT.bind(null,s,i,e),[e]),s.flags|=2048,Af(9,sT.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=yn.identifierPrefix;if(Sr){var n=uo,s=co;n=(s&~(1<<32-Ya(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vF={readContext:Sa,useCallback:fT,useContext:Sa,useEffect:ZN,useImperativeHandle:hT,useInsertionEffect:cT,useLayoutEffect:dT,useMemo:mT,useReducer:Wb,useRef:lT,useState:function(){return Wb(Cf)},useDebugValue:JN,useDeferredValue:function(e){var t=Ca();return xT(t,rn.memoizedState,e)},useTransition:function(){var e=Wb(Cf)[0],t=Ca().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:pT,unstable_isNewReconciler:!1},jF={readContext:Sa,useCallback:fT,useContext:Sa,useEffect:ZN,useImperativeHandle:hT,useInsertionEffect:cT,useLayoutEffect:dT,useMemo:mT,useReducer:Gb,useRef:lT,useState:function(){return Gb(Cf)},useDebugValue:JN,useDeferredValue:function(e){var t=Ca();return rn===null?t.memoizedState=e:xT(t,rn.memoizedState,e)},useTransition:function(){var e=Gb(Cf)[0],t=Ca().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:pT,unstable_isNewReconciler:!1};function La(e,t){if(e&&e.defaultProps){t=Ir({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function P2(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ir({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oy={isMounted:function(e){return(e=e._reactInternals)?md(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ss(),a=Ol(e),i=po(s,a);i.payload=t,n!=null&&(i.callback=n),t=Cl(e,i,a),t!==null&&(Xa(t,e,a,s),Jx(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ss(),a=Ol(e),i=po(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cl(e,i,a),t!==null&&(Xa(t,e,a,s),Jx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ss(),s=Ol(e),a=po(n,s);a.tag=2,t!=null&&(a.callback=t),t=Cl(e,a,s),t!==null&&(Xa(t,e,s,n),Jx(t,e,s))}};function IS(e,t,n,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!bf(n,s)||!bf(a,i):!0}function vT(e,t,n){var s=!1,a=$l,i=t.contextType;return typeof i=="object"&&i!==null?i=Sa(i):(a=Ss(t)?Yc:zn.current,s=t.contextTypes,i=(s=s!=null)?Wu(e,a):$l),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oy,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function DS(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Oy.enqueueReplaceState(t,t.state,null)}function I2(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},HN(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Sa(i):(i=Ss(t)?Yc:zn.current,a.context=Wu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(P2(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oy.enqueueReplaceState(a,a.state,null),Ip(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Xu(e,t){try{var n="",s=t;do n+=YL(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Qb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function D2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wF=typeof WeakMap=="function"?WeakMap:Map;function jT(e,t,n){n=po(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){$p||($p=!0,q2=s),D2(e,t)},n}function wT(e,t,n){n=po(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){D2(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){D2(e,t),typeof s!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function MS(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new wF;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=RF.bind(null,e,t,n),t.then(e,e))}function RS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LS(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=po(-1,1),t.tag=2,Cl(n,t,1))),n.lanes|=1),e)}var NF=Po.ReactCurrentOwner,js=!1;function Yn(e,t,n,s){t.child=e===null?Kk(t,null,n,s):Qu(t,e.child,n,s)}function $S(e,t,n,s,a){n=n.render;var i=t.ref;return wu(t,a),s=XN(e,t,n,s,i,a),n=KN(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Co(e,t,a)):(Sr&&n&&$N(t),t.flags|=1,Yn(e,t,s,a),t.child)}function FS(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!o4(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,NT(e,t,i,s,a)):(e=ap(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bf,n(o,s)&&e.ref===t.ref)return Co(e,t,a)}return t.flags|=1,e=El(i,s),e.ref=t.ref,e.return=t,t.child=e}function NT(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(bf(i,s)&&e.ref===t.ref)if(js=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(js=!0);else return t.lanes=e.lanes,Co(e,t,a)}return M2(e,t,n,s,a)}function _T(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hr(cu,Us),Us|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hr(cu,Us),Us|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,hr(cu,Us),Us|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,hr(cu,Us),Us|=s;return Yn(e,t,a,n),t.child}function ST(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function M2(e,t,n,s,a){var i=Ss(n)?Yc:zn.current;return i=Wu(t,i),wu(t,a),n=XN(e,t,n,s,i,a),s=KN(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Co(e,t,a)):(Sr&&s&&$N(t),t.flags|=1,Yn(e,t,n,a),t.child)}function BS(e,t,n,s,a){if(Ss(n)){var i=!0;Op(t)}else i=!1;if(wu(t,a),t.stateNode===null)rp(e,t),vT(t,n,s),I2(t,n,s,a),s=!0;else if(e===null){var o=t.stateNode,d=t.memoizedProps;o.props=d;var h=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sa(u):(u=Ss(n)?Yc:zn.current,u=Wu(t,u));var x=n.getDerivedStateFromProps,p=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==s||h!==u)&&DS(t,o,s,u),el=!1;var b=t.memoizedState;o.state=b,Ip(t,s,o,a),h=t.memoizedState,d!==s||b!==h||_s.current||el?(typeof x=="function"&&(P2(t,n,x,s),h=t.memoizedState),(d=el||IS(t,n,d,s,b,h,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=h),o.props=s,o.state=h,o.context=u,s=d):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Jk(e,t),d=t.memoizedProps,u=t.type===t.elementType?d:La(t.type,d),o.props=u,p=t.pendingProps,b=o.context,h=n.contextType,typeof h=="object"&&h!==null?h=Sa(h):(h=Ss(n)?Yc:zn.current,h=Wu(t,h));var _=n.getDerivedStateFromProps;(x=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==p||b!==h)&&DS(t,o,s,h),el=!1,b=t.memoizedState,o.state=b,Ip(t,s,o,a);var v=t.memoizedState;d!==p||b!==v||_s.current||el?(typeof _=="function"&&(P2(t,n,_,s),v=t.memoizedState),(u=el||IS(t,n,u,s,b,v,h)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,h)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=h,s=u):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),s=!1)}return R2(e,t,n,s,i,a)}function R2(e,t,n,s,a,i){ST(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&SS(t,n,!1),Co(e,t,i);s=t.stateNode,NF.current=t;var d=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Qu(t,e.child,null,i),t.child=Qu(t,null,d,i)):Yn(e,t,d,i),t.memoizedState=s.state,a&&SS(t,n,!0),t.child}function CT(e){var t=e.stateNode;t.pendingContext?_S(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_S(e,t.context,!1),WN(e,t.containerInfo)}function US(e,t,n,s,a){return Gu(),BN(a),t.flags|=256,Yn(e,t,n,s),t.child}var L2={dehydrated:null,treeContext:null,retryLane:0};function $2(e){return{baseLanes:e,cachePool:null,transitions:null}}function AT(e,t,n){var s=t.pendingProps,a=Tr.current,i=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(a&2)!==0),d?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),hr(Tr,a&1),e===null)return k2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ty(o,s,0,null),e=Uc(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$2(n),t.memoizedState=L2,e):e4(t,o));if(a=e.memoizedState,a!==null&&(d=a.dehydrated,d!==null))return _F(e,t,o,s,d,a,n);if(i){i=s.fallback,o=t.mode,a=e.child,d=a.sibling;var h={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=h,t.deletions=null):(s=El(a,h),s.subtreeFlags=a.subtreeFlags&14680064),d!==null?i=El(d,i):(i=Uc(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?$2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=L2,s}return i=e.child,e=i.sibling,s=El(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function e4(e,t){return t=Ty({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gx(e,t,n,s){return s!==null&&BN(s),Qu(t,e.child,null,n),e=e4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _F(e,t,n,s,a,i,o){if(n)return t.flags&256?(t.flags&=-257,s=Qb(Error(qe(422))),gx(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Ty({mode:"visible",children:s.children},a,0,null),i=Uc(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Qu(t,e.child,null,o),t.child.memoizedState=$2(o),t.memoizedState=L2,i);if(!(t.mode&1))return gx(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var d=s.dgst;return s=d,i=Error(qe(419)),s=Qb(i,s,void 0),gx(e,t,o,s)}if(d=(o&e.childLanes)!==0,js||d){if(s=yn,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,So(e,a),Xa(s,e,a,-1))}return i4(),s=Qb(Error(qe(421))),gx(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=LF.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ys=Sl(a.nextSibling),Zs=t,Sr=!0,qa=null,e!==null&&(ma[xa++]=co,ma[xa++]=uo,ma[xa++]=Xc,co=e.id,uo=e.overflow,Xc=t),t=e4(t,s.children),t.flags|=4096,t)}function zS(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),T2(e.return,t,n)}function Yb(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function OT(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Yn(e,t,s.children,n),s=Tr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zS(e,n,t);else if(e.tag===19)zS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(hr(Tr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Dp(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yb(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dp(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yb(t,!0,n,null,i);break;case"together":Yb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Co(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qe(153));if(t.child!==null){for(e=t.child,n=El(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=El(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SF(e,t,n){switch(t.tag){case 3:CT(t),Gu();break;case 5:eT(t);break;case 1:Ss(t.type)&&Op(t);break;case 4:WN(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;hr(Tp,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(hr(Tr,Tr.current&1),t.flags|=128,null):n&t.child.childLanes?AT(e,t,n):(hr(Tr,Tr.current&1),e=Co(e,t,n),e!==null?e.sibling:null);hr(Tr,Tr.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return OT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),hr(Tr,Tr.current),s)break;return null;case 22:case 23:return t.lanes=0,_T(e,t,n)}return Co(e,t,n)}var ET,F2,kT,TT;ET=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F2=function(){};kT=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,vc(Ei.current);var i=null;switch(n){case"input":a=o2(e,a),s=o2(e,s),i=[];break;case"select":a=Ir({},a,{value:void 0}),s=Ir({},s,{value:void 0}),i=[];break;case"textarea":a=d2(e,a),s=d2(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Cp)}h2(n,s);var o;n=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var d=a[u];for(o in d)d.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var h=s[u];if(d=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&h!==d&&(h!=null||d!=null))if(u==="style")if(d){for(o in d)!d.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in h)h.hasOwnProperty(o)&&d[o]!==h[o]&&(n||(n={}),n[o]=h[o])}else n||(i||(i=[]),i.push(u,n)),n=h;else u==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(i=i||[]).push(u,h)):u==="children"?typeof h!="string"&&typeof h!="number"||(i=i||[]).push(u,""+h):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hf.hasOwnProperty(u)?(h!=null&&u==="onScroll"&&pr("scroll",e),i||d===h||(i=[])):(i=i||[]).push(u,h))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};TT=function(e,t,n,s){n!==s&&(t.flags|=4)};function p0(e,t){if(!Sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function In(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function CF(e,t,n){var s=t.pendingProps;switch(FN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(t),null;case 1:return Ss(t.type)&&Ap(),In(t),null;case 3:return s=t.stateNode,Yu(),wr(_s),wr(zn),QN(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qa!==null&&(G2(qa),qa=null))),F2(e,t),In(t),null;case 5:GN(t);var a=vc(_f.current);if(n=t.type,e!==null&&t.stateNode!=null)kT(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(qe(166));return In(t),null}if(e=vc(Ei.current),xx(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[wi]=t,s[wf]=i,e=(t.mode&1)!==0,n){case"dialog":pr("cancel",s),pr("close",s);break;case"iframe":case"object":case"embed":pr("load",s);break;case"video":case"audio":for(a=0;a<B0.length;a++)pr(B0[a],s);break;case"source":pr("error",s);break;case"img":case"image":case"link":pr("error",s),pr("load",s);break;case"details":pr("toggle",s);break;case"input":K_(s,i),pr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pr("invalid",s);break;case"textarea":J_(s,i),pr("invalid",s)}h2(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var d=i[o];o==="children"?typeof d=="string"?s.textContent!==d&&(i.suppressHydrationWarning!==!0&&mx(s.textContent,d,e),a=["children",d]):typeof d=="number"&&s.textContent!==""+d&&(i.suppressHydrationWarning!==!0&&mx(s.textContent,d,e),a=["children",""+d]):hf.hasOwnProperty(o)&&d!=null&&o==="onScroll"&&pr("scroll",s)}switch(n){case"input":ix(s),Z_(s,i,!0);break;case"textarea":ix(s),eS(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Cp)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ak(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[wi]=t,e[wf]=s,ET(e,t,!1,!1),t.stateNode=e;e:{switch(o=f2(n,s),n){case"dialog":pr("cancel",e),pr("close",e),a=s;break;case"iframe":case"object":case"embed":pr("load",e),a=s;break;case"video":case"audio":for(a=0;a<B0.length;a++)pr(B0[a],e);a=s;break;case"source":pr("error",e),a=s;break;case"img":case"image":case"link":pr("error",e),pr("load",e),a=s;break;case"details":pr("toggle",e),a=s;break;case"input":K_(e,s),a=o2(e,s),pr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=Ir({},s,{value:void 0}),pr("invalid",e);break;case"textarea":J_(e,s),a=d2(e,s),pr("invalid",e);break;default:a=s}h2(n,a),d=a;for(i in d)if(d.hasOwnProperty(i)){var h=d[i];i==="style"?lk(e,h):i==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&ik(e,h)):i==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ff(e,h):typeof h=="number"&&ff(e,""+h):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hf.hasOwnProperty(i)?h!=null&&i==="onScroll"&&pr("scroll",e):h!=null&&_N(e,i,h,o))}switch(n){case"input":ix(e),Z_(e,s,!1);break;case"textarea":ix(e),eS(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ll(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?yu(e,!!s.multiple,i,!1):s.defaultValue!=null&&yu(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Cp)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return In(t),null;case 6:if(e&&t.stateNode!=null)TT(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(qe(166));if(n=vc(_f.current),vc(Ei.current),xx(t)){if(s=t.stateNode,n=t.memoizedProps,s[wi]=t,(i=s.nodeValue!==n)&&(e=Zs,e!==null))switch(e.tag){case 3:mx(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mx(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[wi]=t,t.stateNode=s}return In(t),null;case 13:if(wr(Tr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sr&&Ys!==null&&t.mode&1&&!(t.flags&128))Yk(),Gu(),t.flags|=98560,i=!1;else if(i=xx(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(qe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qe(317));i[wi]=t}else Gu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;In(t),i=!1}else qa!==null&&(G2(qa),qa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Tr.current&1?an===0&&(an=3):i4())),t.updateQueue!==null&&(t.flags|=4),In(t),null);case 4:return Yu(),F2(e,t),e===null&&vf(t.stateNode.containerInfo),In(t),null;case 10:return VN(t.type._context),In(t),null;case 17:return Ss(t.type)&&Ap(),In(t),null;case 19:if(wr(Tr),i=t.memoizedState,i===null)return In(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)p0(i,!1);else{if(an!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dp(e),o!==null){for(t.flags|=128,p0(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hr(Tr,Tr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vr()>Ku&&(t.flags|=128,s=!0,p0(i,!1),t.lanes=4194304)}else{if(!s)if(e=Dp(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),p0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Sr)return In(t),null}else 2*Vr()-i.renderingStartTime>Ku&&n!==1073741824&&(t.flags|=128,s=!0,p0(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vr(),t.sibling=null,n=Tr.current,hr(Tr,s?n&1|2:n&1),t):(In(t),null);case 22:case 23:return a4(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Us&1073741824&&(In(t),t.subtreeFlags&6&&(t.flags|=8192)):In(t),null;case 24:return null;case 25:return null}throw Error(qe(156,t.tag))}function AF(e,t){switch(FN(t),t.tag){case 1:return Ss(t.type)&&Ap(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yu(),wr(_s),wr(zn),QN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return GN(t),null;case 13:if(wr(Tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qe(340));Gu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wr(Tr),null;case 4:return Yu(),null;case 10:return VN(t.type._context),null;case 22:case 23:return a4(),null;case 24:return null;default:return null}}var yx=!1,Mn=!1,OF=typeof WeakSet=="function"?WeakSet:Set,nt=null;function lu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){$r(e,t,s)}else n.current=null}function B2(e,t,n){try{n()}catch(s){$r(e,t,s)}}var VS=!1;function EF(e,t){if(N2=Np,e=Rk(),LN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,d=-1,h=-1,u=0,x=0,p=e,b=null;t:for(;;){for(var _;p!==n||a!==0&&p.nodeType!==3||(d=o+a),p!==i||s!==0&&p.nodeType!==3||(h=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)b=p,p=_;for(;;){if(p===e)break t;if(b===n&&++u===a&&(d=o),b===i&&++x===s&&(h=o),(_=p.nextSibling)!==null)break;p=b,b=p.parentNode}p=_}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(_2={focusedElem:e,selectionRange:n},Np=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var N=v.memoizedProps,j=v.memoizedState,S=t.stateNode,C=S.getSnapshotBeforeUpdate(t.elementType===t.type?N:La(t.type,N),j);S.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(E){$r(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return v=VS,VS=!1,v}function K0(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&B2(t,n,i)}a=a.next}while(a!==s)}}function Ey(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function U2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function PT(e){var t=e.alternate;t!==null&&(e.alternate=null,PT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wi],delete t[wf],delete t[A2],delete t[uF],delete t[hF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IT(e){return e.tag===5||e.tag===3||e.tag===4}function qS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z2(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cp));else if(s!==4&&(e=e.child,e!==null))for(z2(e,t,n),e=e.sibling;e!==null;)z2(e,t,n),e=e.sibling}function V2(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(V2(e,t,n),e=e.sibling;e!==null;)V2(e,t,n),e=e.sibling}var Sn=null,Ba=!1;function Vo(e,t,n){for(n=n.child;n!==null;)DT(e,t,n),n=n.sibling}function DT(e,t,n){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(jy,n)}catch{}switch(n.tag){case 5:Mn||lu(n,t);case 6:var s=Sn,a=Ba;Sn=null,Vo(e,t,n),Sn=s,Ba=a,Sn!==null&&(Ba?(e=Sn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(Ba?(e=Sn,n=n.stateNode,e.nodeType===8?zb(e.parentNode,n):e.nodeType===1&&zb(e,n),gf(e)):zb(Sn,n.stateNode));break;case 4:s=Sn,a=Ba,Sn=n.stateNode.containerInfo,Ba=!0,Vo(e,t,n),Sn=s,Ba=a;break;case 0:case 11:case 14:case 15:if(!Mn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&B2(n,t,o),a=a.next}while(a!==s)}Vo(e,t,n);break;case 1:if(!Mn&&(lu(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(d){$r(n,t,d)}Vo(e,t,n);break;case 21:Vo(e,t,n);break;case 22:n.mode&1?(Mn=(s=Mn)||n.memoizedState!==null,Vo(e,t,n),Mn=s):Vo(e,t,n);break;default:Vo(e,t,n)}}function HS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OF),t.forEach(function(s){var a=$F.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function Da(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,o=t,d=o;e:for(;d!==null;){switch(d.tag){case 5:Sn=d.stateNode,Ba=!1;break e;case 3:Sn=d.stateNode.containerInfo,Ba=!0;break e;case 4:Sn=d.stateNode.containerInfo,Ba=!0;break e}d=d.return}if(Sn===null)throw Error(qe(160));DT(i,o,a),Sn=null,Ba=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(u){$r(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MT(t,e),t=t.sibling}function MT(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Da(t,e),fi(e),s&4){try{K0(3,e,e.return),Ey(3,e)}catch(N){$r(e,e.return,N)}try{K0(5,e,e.return)}catch(N){$r(e,e.return,N)}}break;case 1:Da(t,e),fi(e),s&512&&n!==null&&lu(n,n.return);break;case 5:if(Da(t,e),fi(e),s&512&&n!==null&&lu(n,n.return),e.flags&32){var a=e.stateNode;try{ff(a,"")}catch(N){$r(e,e.return,N)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&i.type==="radio"&&i.name!=null&&nk(a,i),f2(d,o);var u=f2(d,i);for(o=0;o<h.length;o+=2){var x=h[o],p=h[o+1];x==="style"?lk(a,p):x==="dangerouslySetInnerHTML"?ik(a,p):x==="children"?ff(a,p):_N(a,x,p,u)}switch(d){case"input":l2(a,i);break;case"textarea":sk(a,i);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?yu(a,!!i.multiple,_,!1):b!==!!i.multiple&&(i.defaultValue!=null?yu(a,!!i.multiple,i.defaultValue,!0):yu(a,!!i.multiple,i.multiple?[]:"",!1))}a[wf]=i}catch(N){$r(e,e.return,N)}}break;case 6:if(Da(t,e),fi(e),s&4){if(e.stateNode===null)throw Error(qe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(N){$r(e,e.return,N)}}break;case 3:if(Da(t,e),fi(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{gf(t.containerInfo)}catch(N){$r(e,e.return,N)}break;case 4:Da(t,e),fi(e);break;case 13:Da(t,e),fi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(n4=Vr())),s&4&&HS(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Mn=(u=Mn)||x,Da(t,e),Mn=u):Da(t,e),fi(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!x&&e.mode&1)for(nt=e,x=e.child;x!==null;){for(p=nt=x;nt!==null;){switch(b=nt,_=b.child,b.tag){case 0:case 11:case 14:case 15:K0(4,b,b.return);break;case 1:lu(b,b.return);var v=b.stateNode;if(typeof v.componentWillUnmount=="function"){s=b,n=b.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(N){$r(s,n,N)}}break;case 5:lu(b,b.return);break;case 22:if(b.memoizedState!==null){GS(p);continue}}_!==null?(_.return=b,nt=_):GS(p)}x=x.sibling}e:for(x=null,p=e;;){if(p.tag===5){if(x===null){x=p;try{a=p.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(d=p.stateNode,h=p.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=ok("display",o))}catch(N){$r(e,e.return,N)}}}else if(p.tag===6){if(x===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(N){$r(e,e.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Da(t,e),fi(e),s&4&&HS(e);break;case 21:break;default:Da(t,e),fi(e)}}function fi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(IT(n)){var s=n;break e}n=n.return}throw Error(qe(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ff(a,""),s.flags&=-33);var i=qS(e);V2(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,d=qS(e);z2(e,d,o);break;default:throw Error(qe(161))}}catch(h){$r(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kF(e,t,n){nt=e,RT(e)}function RT(e,t,n){for(var s=(e.mode&1)!==0;nt!==null;){var a=nt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||yx;if(!o){var d=a.alternate,h=d!==null&&d.memoizedState!==null||Mn;d=yx;var u=Mn;if(yx=o,(Mn=h)&&!u)for(nt=a;nt!==null;)o=nt,h=o.child,o.tag===22&&o.memoizedState!==null?QS(a):h!==null?(h.return=o,nt=h):QS(a);for(;i!==null;)nt=i,RT(i),i=i.sibling;nt=a,yx=d,Mn=u}WS(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,nt=i):WS(e)}}function WS(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mn||Ey(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Mn)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:La(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kS(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kS(t,o,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var x=u.memoizedState;if(x!==null){var p=x.dehydrated;p!==null&&gf(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}Mn||t.flags&512&&U2(t)}catch(b){$r(t,t.return,b)}}if(t===e){nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,nt=n;break}nt=t.return}}function GS(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,nt=n;break}nt=t.return}}function QS(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ey(4,t)}catch(h){$r(t,n,h)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(h){$r(t,a,h)}}var i=t.return;try{U2(t)}catch(h){$r(t,i,h)}break;case 5:var o=t.return;try{U2(t)}catch(h){$r(t,o,h)}}}catch(h){$r(t,t.return,h)}if(t===e){nt=null;break}var d=t.sibling;if(d!==null){d.return=t.return,nt=d;break}nt=t.return}}var TF=Math.ceil,Lp=Po.ReactCurrentDispatcher,t4=Po.ReactCurrentOwner,_a=Po.ReactCurrentBatchConfig,Bt=0,yn=null,Qr=null,An=0,Us=0,cu=Gl(0),an=0,Of=null,Zc=0,ky=0,r4=0,Z0=null,bs=null,n4=0,Ku=1/0,Zi=null,$p=!1,q2=null,Al=null,bx=!1,yl=null,Fp=0,J0=0,H2=null,np=-1,sp=0;function ss(){return Bt&6?Vr():np!==-1?np:np=Vr()}function Ol(e){return e.mode&1?Bt&2&&An!==0?An&-An:mF.transition!==null?(sp===0&&(sp=vk()),sp):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:Ak(e.type)),e):1}function Xa(e,t,n,s){if(50<J0)throw J0=0,H2=null,Error(qe(185));wm(e,n,s),(!(Bt&2)||e!==yn)&&(e===yn&&(!(Bt&2)&&(ky|=n),an===4&&sl(e,An)),Cs(e,s),n===1&&Bt===0&&!(t.mode&1)&&(Ku=Vr()+500,Cy&&Ql()))}function Cs(e,t){var n=e.callbackNode;m$(e,t);var s=wp(e,e===yn?An:0);if(s===0)n!==null&&nS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&nS(n),t===1)e.tag===0?fF(YS.bind(null,e)):Wk(YS.bind(null,e)),cF(function(){!(Bt&6)&&Ql()}),n=null;else{switch(jk(s)){case 1:n=EN;break;case 4:n=yk;break;case 16:n=jp;break;case 536870912:n=bk;break;default:n=jp}n=qT(n,LT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function LT(e,t){if(np=-1,sp=0,Bt&6)throw Error(qe(327));var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var s=wp(e,e===yn?An:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Bp(e,s);else{t=s;var a=Bt;Bt|=2;var i=FT();(yn!==e||An!==t)&&(Zi=null,Ku=Vr()+500,Bc(e,t));do try{DF();break}catch(d){$T(e,d)}while(!0);zN(),Lp.current=i,Bt=a,Qr!==null?t=0:(yn=null,An=0,t=an)}if(t!==0){if(t===2&&(a=y2(e),a!==0&&(s=a,t=W2(e,a))),t===1)throw n=Of,Bc(e,0),sl(e,s),Cs(e,Vr()),n;if(t===6)sl(e,s);else{if(a=e.current.alternate,!(s&30)&&!PF(a)&&(t=Bp(e,s),t===2&&(i=y2(e),i!==0&&(s=i,t=W2(e,i))),t===1))throw n=Of,Bc(e,0),sl(e,s),Cs(e,Vr()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(qe(345));case 2:hc(e,bs,Zi);break;case 3:if(sl(e,s),(s&130023424)===s&&(t=n4+500-Vr(),10<t)){if(wp(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ss(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=C2(hc.bind(null,e,bs,Zi),t);break}hc(e,bs,Zi);break;case 4:if(sl(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ya(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Vr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*TF(s/1960))-s,10<s){e.timeoutHandle=C2(hc.bind(null,e,bs,Zi),s);break}hc(e,bs,Zi);break;case 5:hc(e,bs,Zi);break;default:throw Error(qe(329))}}}return Cs(e,Vr()),e.callbackNode===n?LT.bind(null,e):null}function W2(e,t){var n=Z0;return e.current.memoizedState.isDehydrated&&(Bc(e,t).flags|=256),e=Bp(e,t),e!==2&&(t=bs,bs=n,t!==null&&G2(t)),e}function G2(e){bs===null?bs=e:bs.push.apply(bs,e)}function PF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!ti(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sl(e,t){for(t&=~r4,t&=~ky,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ya(t),s=1<<n;e[n]=-1,t&=~s}}function YS(e){if(Bt&6)throw Error(qe(327));Nu();var t=wp(e,0);if(!(t&1))return Cs(e,Vr()),null;var n=Bp(e,t);if(e.tag!==0&&n===2){var s=y2(e);s!==0&&(t=s,n=W2(e,s))}if(n===1)throw n=Of,Bc(e,0),sl(e,t),Cs(e,Vr()),n;if(n===6)throw Error(qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hc(e,bs,Zi),Cs(e,Vr()),null}function s4(e,t){var n=Bt;Bt|=1;try{return e(t)}finally{Bt=n,Bt===0&&(Ku=Vr()+500,Cy&&Ql())}}function Jc(e){yl!==null&&yl.tag===0&&!(Bt&6)&&Nu();var t=Bt;Bt|=1;var n=_a.transition,s=Zt;try{if(_a.transition=null,Zt=1,e)return e()}finally{Zt=s,_a.transition=n,Bt=t,!(Bt&6)&&Ql()}}function a4(){Us=cu.current,wr(cu)}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lF(n)),Qr!==null)for(n=Qr.return;n!==null;){var s=n;switch(FN(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ap();break;case 3:Yu(),wr(_s),wr(zn),QN();break;case 5:GN(s);break;case 4:Yu();break;case 13:wr(Tr);break;case 19:wr(Tr);break;case 10:VN(s.type._context);break;case 22:case 23:a4()}n=n.return}if(yn=e,Qr=e=El(e.current,null),An=Us=t,an=0,Of=null,r4=ky=Zc=0,bs=Z0=null,bc!==null){for(t=0;t<bc.length;t++)if(n=bc[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}n.pending=s}bc=null}return e}function $T(e,t){do{var n=Qr;try{if(zN(),ep.current=Rp,Mp){for(var s=Pr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Mp=!1}if(Kc=0,mn=rn=Pr=null,X0=!1,Sf=0,t4.current=null,n===null||n.return===null){an=1,Of=t,Qr=null;break}e:{var i=e,o=n.return,d=n,h=t;if(t=An,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var u=h,x=d,p=x.tag;if(!(x.mode&1)&&(p===0||p===11||p===15)){var b=x.alternate;b?(x.updateQueue=b.updateQueue,x.memoizedState=b.memoizedState,x.lanes=b.lanes):(x.updateQueue=null,x.memoizedState=null)}var _=RS(o);if(_!==null){_.flags&=-257,LS(_,o,d,i,t),_.mode&1&&MS(i,u,t),t=_,h=u;var v=t.updateQueue;if(v===null){var N=new Set;N.add(h),t.updateQueue=N}else v.add(h);break e}else{if(!(t&1)){MS(i,u,t),i4();break e}h=Error(qe(426))}}else if(Sr&&d.mode&1){var j=RS(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),LS(j,o,d,i,t),BN(Xu(h,d));break e}}i=h=Xu(h,d),an!==4&&(an=2),Z0===null?Z0=[i]:Z0.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var S=jT(i,h,t);ES(i,S);break e;case 1:d=h;var C=i.type,A=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Al===null||!Al.has(A)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=wT(i,d,t);ES(i,E);break e}}i=i.return}while(i!==null)}UT(n)}catch(k){t=k,Qr===n&&n!==null&&(Qr=n=n.return);continue}break}while(!0)}function FT(){var e=Lp.current;return Lp.current=Rp,e===null?Rp:e}function i4(){(an===0||an===3||an===2)&&(an=4),yn===null||!(Zc&268435455)&&!(ky&268435455)||sl(yn,An)}function Bp(e,t){var n=Bt;Bt|=2;var s=FT();(yn!==e||An!==t)&&(Zi=null,Bc(e,t));do try{IF();break}catch(a){$T(e,a)}while(!0);if(zN(),Bt=n,Lp.current=s,Qr!==null)throw Error(qe(261));return yn=null,An=0,an}function IF(){for(;Qr!==null;)BT(Qr)}function DF(){for(;Qr!==null&&!a$();)BT(Qr)}function BT(e){var t=VT(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?UT(e):Qr=t,t4.current=null}function UT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AF(n,t),n!==null){n.flags&=32767,Qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{an=6,Qr=null;return}}else if(n=CF(n,t,Us),n!==null){Qr=n;return}if(t=t.sibling,t!==null){Qr=t;return}Qr=t=e}while(t!==null);an===0&&(an=5)}function hc(e,t,n){var s=Zt,a=_a.transition;try{_a.transition=null,Zt=1,MF(e,t,n,s)}finally{_a.transition=a,Zt=s}return null}function MF(e,t,n,s){do Nu();while(yl!==null);if(Bt&6)throw Error(qe(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(qe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(x$(e,i),e===yn&&(Qr=yn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bx||(bx=!0,qT(jp,function(){return Nu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_a.transition,_a.transition=null;var o=Zt;Zt=1;var d=Bt;Bt|=4,t4.current=null,EF(e,n),MT(n,e),tF(_2),Np=!!N2,_2=N2=null,e.current=n,kF(n),i$(),Bt=d,Zt=o,_a.transition=i}else e.current=n;if(bx&&(bx=!1,yl=e,Fp=a),i=e.pendingLanes,i===0&&(Al=null),c$(n.stateNode),Cs(e,Vr()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if($p)throw $p=!1,e=q2,q2=null,e;return Fp&1&&e.tag!==0&&Nu(),i=e.pendingLanes,i&1?e===H2?J0++:(J0=0,H2=e):J0=0,Ql(),null}function Nu(){if(yl!==null){var e=jk(Fp),t=_a.transition,n=Zt;try{if(_a.transition=null,Zt=16>e?16:e,yl===null)var s=!1;else{if(e=yl,yl=null,Fp=0,Bt&6)throw Error(qe(331));var a=Bt;for(Bt|=4,nt=e.current;nt!==null;){var i=nt,o=i.child;if(nt.flags&16){var d=i.deletions;if(d!==null){for(var h=0;h<d.length;h++){var u=d[h];for(nt=u;nt!==null;){var x=nt;switch(x.tag){case 0:case 11:case 15:K0(8,x,i)}var p=x.child;if(p!==null)p.return=x,nt=p;else for(;nt!==null;){x=nt;var b=x.sibling,_=x.return;if(PT(x),x===u){nt=null;break}if(b!==null){b.return=_,nt=b;break}nt=_}}}var v=i.alternate;if(v!==null){var N=v.child;if(N!==null){v.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}nt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,nt=o;else e:for(;nt!==null;){if(i=nt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:K0(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,nt=S;break e}nt=i.return}}var C=e.current;for(nt=C;nt!==null;){o=nt;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,nt=A;else e:for(o=C;nt!==null;){if(d=nt,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Ey(9,d)}}catch(k){$r(d,d.return,k)}if(d===o){nt=null;break e}var E=d.sibling;if(E!==null){E.return=d.return,nt=E;break e}nt=d.return}}if(Bt=a,Ql(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(jy,e)}catch{}s=!0}return s}finally{Zt=n,_a.transition=t}}return!1}function XS(e,t,n){t=Xu(n,t),t=jT(e,t,1),e=Cl(e,t,1),t=ss(),e!==null&&(wm(e,1,t),Cs(e,t))}function $r(e,t,n){if(e.tag===3)XS(e,e,n);else for(;t!==null;){if(t.tag===3){XS(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Al===null||!Al.has(s))){e=Xu(n,e),e=wT(t,e,1),t=Cl(t,e,1),e=ss(),t!==null&&(wm(t,1,e),Cs(t,e));break}}t=t.return}}function RF(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ss(),e.pingedLanes|=e.suspendedLanes&n,yn===e&&(An&n)===n&&(an===4||an===3&&(An&130023424)===An&&500>Vr()-n4?Bc(e,0):r4|=n),Cs(e,t)}function zT(e,t){t===0&&(e.mode&1?(t=cx,cx<<=1,!(cx&130023424)&&(cx=4194304)):t=1);var n=ss();e=So(e,t),e!==null&&(wm(e,t,n),Cs(e,n))}function LF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zT(e,n)}function $F(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(qe(314))}s!==null&&s.delete(t),zT(e,n)}var VT;VT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_s.current)js=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return js=!1,SF(e,t,n);js=!!(e.flags&131072)}else js=!1,Sr&&t.flags&1048576&&Gk(t,kp,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;rp(e,t),e=t.pendingProps;var a=Wu(t,zn.current);wu(t,n),a=XN(null,t,s,e,a,n);var i=KN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ss(s)?(i=!0,Op(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,HN(t),a.updater=Oy,t.stateNode=a,a._reactInternals=t,I2(t,s,e,n),t=R2(null,t,s,!0,i,n)):(t.tag=0,Sr&&i&&$N(t),Yn(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(rp(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=BF(s),e=La(s,e),a){case 0:t=M2(null,t,s,e,n);break e;case 1:t=BS(null,t,s,e,n);break e;case 11:t=$S(null,t,s,e,n);break e;case 14:t=FS(null,t,s,La(s.type,e),n);break e}throw Error(qe(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:La(s,a),M2(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:La(s,a),BS(e,t,s,a,n);case 3:e:{if(CT(t),e===null)throw Error(qe(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Jk(e,t),Ip(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Xu(Error(qe(423)),t),t=US(e,t,s,n,a);break e}else if(s!==a){a=Xu(Error(qe(424)),t),t=US(e,t,s,n,a);break e}else for(Ys=Sl(t.stateNode.containerInfo.firstChild),Zs=t,Sr=!0,qa=null,n=Kk(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gu(),s===a){t=Co(e,t,n);break e}Yn(e,t,s,n)}t=t.child}return t;case 5:return eT(t),e===null&&k2(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,S2(s,a)?o=null:i!==null&&S2(s,i)&&(t.flags|=32),ST(e,t),Yn(e,t,o,n),t.child;case 6:return e===null&&k2(t),null;case 13:return AT(e,t,n);case 4:return WN(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Qu(t,null,s,n):Yn(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:La(s,a),$S(e,t,s,a,n);case 7:return Yn(e,t,t.pendingProps,n),t.child;case 8:return Yn(e,t,t.pendingProps.children,n),t.child;case 12:return Yn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,hr(Tp,s._currentValue),s._currentValue=o,i!==null)if(ti(i.value,o)){if(i.children===a.children&&!_s.current){t=Co(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){o=i.child;for(var h=d.firstContext;h!==null;){if(h.context===s){if(i.tag===1){h=po(-1,n&-n),h.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}}i.lanes|=n,h=i.alternate,h!==null&&(h.lanes|=n),T2(i.return,n,t),d.lanes|=n;break}h=h.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(qe(341));o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),T2(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,wu(t,n),a=Sa(a),s=s(a),t.flags|=1,Yn(e,t,s,n),t.child;case 14:return s=t.type,a=La(s,t.pendingProps),a=La(s.type,a),FS(e,t,s,a,n);case 15:return NT(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:La(s,a),rp(e,t),t.tag=1,Ss(s)?(e=!0,Op(t)):e=!1,wu(t,n),vT(t,s,a),I2(t,s,a,n),R2(null,t,s,!0,e,n);case 19:return OT(e,t,n);case 22:return _T(e,t,n)}throw Error(qe(156,t.tag))};function qT(e,t){return gk(e,t)}function FF(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,n,s){return new FF(e,t,n,s)}function o4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BF(e){if(typeof e=="function")return o4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CN)return 11;if(e===AN)return 14}return 2}function El(e,t){var n=e.alternate;return n===null?(n=ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ap(e,t,n,s,a,i){var o=2;if(s=e,typeof e=="function")o4(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jd:return Uc(n.children,a,i,t);case SN:o=8,a|=8;break;case n2:return e=ja(12,n,t,a|2),e.elementType=n2,e.lanes=i,e;case s2:return e=ja(13,n,t,a),e.elementType=s2,e.lanes=i,e;case a2:return e=ja(19,n,t,a),e.elementType=a2,e.lanes=i,e;case ek:return Ty(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z8:o=10;break e;case J8:o=9;break e;case CN:o=11;break e;case AN:o=14;break e;case Jo:o=16,s=null;break e}throw Error(qe(130,e==null?e:typeof e,""))}return t=ja(o,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Uc(e,t,n,s){return e=ja(7,e,s,t),e.lanes=n,e}function Ty(e,t,n,s){return e=ja(22,e,s,t),e.elementType=ek,e.lanes=n,e.stateNode={isHidden:!1},e}function Xb(e,t,n){return e=ja(6,e,null,t),e.lanes=n,e}function Kb(e,t,n){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UF(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tb(0),this.expirationTimes=Tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tb(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function l4(e,t,n,s,a,i,o,d,h){return e=new UF(e,t,n,d,h),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ja(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HN(i),e}function zF(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zd,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function HT(e){if(!e)return $l;e=e._reactInternals;e:{if(md(e)!==e||e.tag!==1)throw Error(qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qe(171))}if(e.tag===1){var n=e.type;if(Ss(n))return Hk(e,n,t)}return t}function WT(e,t,n,s,a,i,o,d,h){return e=l4(n,s,!0,e,a,i,o,d,h),e.context=HT(null),n=e.current,s=ss(),a=Ol(n),i=po(s,a),i.callback=t??null,Cl(n,i,a),e.current.lanes=a,wm(e,a,s),Cs(e,s),e}function Py(e,t,n,s){var a=t.current,i=ss(),o=Ol(a);return n=HT(n),t.context===null?t.context=n:t.pendingContext=n,t=po(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Cl(a,t,o),e!==null&&(Xa(e,a,o,i),Jx(e,a,o)),o}function Up(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function KS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function c4(e,t){KS(e,t),(e=e.alternate)&&KS(e,t)}function VF(){return null}var GT=typeof reportError=="function"?reportError:function(e){console.error(e)};function d4(e){this._internalRoot=e}Iy.prototype.render=d4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qe(409));Py(e,t,null,null)};Iy.prototype.unmount=d4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jc(function(){Py(null,e,null,null)}),t[_o]=null}};function Iy(e){this._internalRoot=e}Iy.prototype.unstable_scheduleHydration=function(e){if(e){var t=_k();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nl.length&&t!==0&&t<nl[n].priority;n++);nl.splice(n,0,e),n===0&&Ck(e)}};function u4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZS(){}function qF(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=Up(o);i.call(u)}}var o=WT(t,s,e,0,null,!1,!1,"",ZS);return e._reactRootContainer=o,e[_o]=o.current,vf(e.nodeType===8?e.parentNode:e),Jc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var d=s;s=function(){var u=Up(h);d.call(u)}}var h=l4(e,0,!1,null,null,!1,!1,"",ZS);return e._reactRootContainer=h,e[_o]=h.current,vf(e.nodeType===8?e.parentNode:e),Jc(function(){Py(t,h,n,s)}),h}function My(e,t,n,s,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var d=a;a=function(){var h=Up(o);d.call(h)}}Py(t,o,e,a)}else o=qF(n,t,e,a,s);return Up(o)}wk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=F0(t.pendingLanes);n!==0&&(kN(t,n|1),Cs(t,Vr()),!(Bt&6)&&(Ku=Vr()+500,Ql()))}break;case 13:Jc(function(){var s=So(e,1);if(s!==null){var a=ss();Xa(s,e,1,a)}}),c4(e,1)}};TN=function(e){if(e.tag===13){var t=So(e,134217728);if(t!==null){var n=ss();Xa(t,e,134217728,n)}c4(e,134217728)}};Nk=function(e){if(e.tag===13){var t=Ol(e),n=So(e,t);if(n!==null){var s=ss();Xa(n,e,t,s)}c4(e,t)}};_k=function(){return Zt};Sk=function(e,t){var n=Zt;try{return Zt=e,t()}finally{Zt=n}};x2=function(e,t,n){switch(t){case"input":if(l2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Sy(s);if(!a)throw Error(qe(90));rk(s),l2(s,a)}}}break;case"textarea":sk(e,n);break;case"select":t=n.value,t!=null&&yu(e,!!n.multiple,t,!1)}};uk=s4;hk=Jc;var HF={usingClientEntryPoint:!1,Events:[_m,nu,Sy,ck,dk,s4]},g0={findFiberByHostInstance:yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WF={bundleType:g0.bundleType,version:g0.version,rendererPackageName:g0.rendererPackageName,rendererConfig:g0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xk(e),e===null?null:e.stateNode},findFiberByHostInstance:g0.findFiberByHostInstance||VF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vx.isDisabled&&vx.supportsFiber)try{jy=vx.inject(WF),Oi=vx}catch{}}na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HF;na.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u4(t))throw Error(qe(200));return zF(e,t,null,n)};na.createRoot=function(e,t){if(!u4(e))throw Error(qe(299));var n=!1,s="",a=GT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=l4(e,1,!1,null,null,n,!1,s,a),e[_o]=t.current,vf(e.nodeType===8?e.parentNode:e),new d4(t)};na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qe(188)):(e=Object.keys(e).join(","),Error(qe(268,e)));return e=xk(t),e=e===null?null:e.stateNode,e};na.flushSync=function(e){return Jc(e)};na.hydrate=function(e,t,n){if(!Dy(t))throw Error(qe(200));return My(null,e,t,!0,n)};na.hydrateRoot=function(e,t,n){if(!u4(e))throw Error(qe(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",o=GT;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=WT(t,null,e,1,n??null,a,!1,i,o),e[_o]=t.current,vf(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Iy(t)};na.render=function(e,t,n){if(!Dy(t))throw Error(qe(200));return My(null,e,t,!1,n)};na.unmountComponentAtNode=function(e){if(!Dy(e))throw Error(qe(40));return e._reactRootContainer?(Jc(function(){My(null,null,e,!1,function(){e._reactRootContainer=null,e[_o]=null})}),!0):!1};na.unstable_batchedUpdates=s4;na.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Dy(n))throw Error(qe(200));if(e==null||e._reactInternals===void 0)throw Error(qe(38));return My(e,t,n,!1,s)};na.version="18.3.1-next-f1338f8080-20240426";function QT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QT)}catch(e){console.error(e)}}QT(),Q8.exports=na;var GF=Q8.exports,JS=GF;t2.createRoot=JS.createRoot,t2.hydrateRoot=JS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ef.apply(this,arguments)}var bl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bl||(bl={}));const e6="popstate";function QF(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:d}=s.location;return Q2("",{pathname:i,search:o,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zp(a)}return XF(t,n,null,e)}function Hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YF(){return Math.random().toString(36).substr(2,8)}function t6(e,t){return{usr:e.state,key:e.key,idx:t}}function Q2(e,t,n,s){return n===void 0&&(n=null),Ef({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Th(t):t,{state:n,key:t&&t.key||s||YF()})}function zp(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Th(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function XF(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,d=bl.Pop,h=null,u=x();u==null&&(u=0,o.replaceState(Ef({},o.state,{idx:u}),""));function x(){return(o.state||{idx:null}).idx}function p(){d=bl.Pop;let j=x(),S=j==null?null:j-u;u=j,h&&h({action:d,location:N.location,delta:S})}function b(j,S){d=bl.Push;let C=Q2(N.location,j,S);u=x()+1;let A=t6(C,u),E=N.createHref(C);try{o.pushState(A,"",E)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(E)}i&&h&&h({action:d,location:N.location,delta:1})}function _(j,S){d=bl.Replace;let C=Q2(N.location,j,S);u=x();let A=t6(C,u),E=N.createHref(C);o.replaceState(A,"",E),i&&h&&h({action:d,location:N.location,delta:0})}function v(j){let S=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof j=="string"?j:zp(j);return C=C.replace(/ $/,"%20"),Hr(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let N={get action(){return d},get location(){return e(a,o)},listen(j){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(e6,p),h=j,()=>{a.removeEventListener(e6,p),h=null}},createHref(j){return t(a,j)},createURL:v,encodeLocation(j){let S=v(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:_,go(j){return o.go(j)}};return N}var r6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r6||(r6={}));function KF(e,t,n){return n===void 0&&(n="/"),ZF(e,t,n)}function ZF(e,t,n,s){let a=typeof t=="string"?Th(t):t,i=h4(a.pathname||"/",n);if(i==null)return null;let o=XT(e);JF(o);let d=null;for(let h=0;d==null&&h<o.length;++h){let u=uB(i);d=lB(o[h],u)}return d}function XT(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,o,d)=>{let h={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};h.relativePath.startsWith("/")&&(Hr(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let u=kl([s,h.relativePath]),x=n.concat(h);i.children&&i.children.length>0&&(Hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XT(i.children,t,x,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:iB(u,i.index),routesMeta:x})};return e.forEach((i,o)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))a(i,o);else for(let h of KT(i.path))a(i,o,h)}),t}function KT(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=KT(s.join("/")),d=[];return d.push(...o.map(h=>h===""?i:[i,h].join("/"))),a&&d.push(...o),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function JF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oB(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const eB=/^:[\w-]+$/,tB=3,rB=2,nB=1,sB=10,aB=-2,n6=e=>e==="*";function iB(e,t){let n=e.split("/"),s=n.length;return n.some(n6)&&(s+=aB),t&&(s+=rB),n.filter(a=>!n6(a)).reduce((a,i)=>a+(eB.test(i)?tB:i===""?nB:sB),s)}function oB(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function lB(e,t,n){let{routesMeta:s}=e,a={},i="/",o=[];for(let d=0;d<s.length;++d){let h=s[d],u=d===s.length-1,x=i==="/"?t:t.slice(i.length)||"/",p=cB({path:h.relativePath,caseSensitive:h.caseSensitive,end:u},x),b=h.route;if(!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:kl([i,p.pathname]),pathnameBase:xB(kl([i,p.pathnameBase])),route:b}),p.pathnameBase!=="/"&&(i=kl([i,p.pathnameBase]))}return o}function cB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=dB(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((u,x,p)=>{let{paramName:b,isOptional:_}=x;if(b==="*"){let N=d[p]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const v=d[p];return _&&!v?u[b]=void 0:u[b]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function dB(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),YT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function uB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function h4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function hB(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Th(e):e;return{pathname:n?n.startsWith("/")?n:fB(n,t):t,search:pB(s),hash:gB(a)}}function fB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zb(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function f4(e,t){let n=mB(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function m4(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Th(e):(a=Ef({},e),Hr(!a.pathname||!a.pathname.includes("?"),Zb("?","pathname","search",a)),Hr(!a.pathname||!a.pathname.includes("#"),Zb("#","pathname","hash",a)),Hr(!a.search||!a.search.includes("#"),Zb("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,d;if(o==null)d=n;else{let p=t.length-1;if(!s&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),p-=1;a.pathname=b.join("/")}d=p>=0?t[p]:"/"}let h=hB(a,d),u=o&&o!=="/"&&o.endsWith("/"),x=(i||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(u||x)&&(h.pathname+="/"),h}const kl=e=>e.join("/").replace(/\/\/+/g,"/"),xB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZT=["post","put","patch","delete"];new Set(ZT);const bB=["get",...ZT];new Set(bB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},kf.apply(this,arguments)}const x4=T.createContext(null),vB=T.createContext(null),Yl=T.createContext(null),Ry=T.createContext(null),Io=T.createContext({outlet:null,matches:[],isDataRoute:!1}),JT=T.createContext(null);function jB(e,t){let{relative:n}=t===void 0?{}:t;Ph()||Hr(!1);let{basename:s,navigator:a}=T.useContext(Yl),{hash:i,pathname:o,search:d}=tP(e,{relative:n}),h=o;return s!=="/"&&(h=o==="/"?s:kl([s,o])),a.createHref({pathname:h,search:d,hash:i})}function Ph(){return T.useContext(Ry)!=null}function Li(){return Ph()||Hr(!1),T.useContext(Ry).location}function eP(e){T.useContext(Yl).static||T.useLayoutEffect(e)}function _t(){let{isDataRoute:e}=T.useContext(Io);return e?DB():wB()}function wB(){Ph()||Hr(!1);let e=T.useContext(x4),{basename:t,future:n,navigator:s}=T.useContext(Yl),{matches:a}=T.useContext(Io),{pathname:i}=Li(),o=JSON.stringify(f4(a,n.v7_relativeSplatPath)),d=T.useRef(!1);return eP(()=>{d.current=!0}),T.useCallback(function(u,x){if(x===void 0&&(x={}),!d.current)return;if(typeof u=="number"){s.go(u);return}let p=m4(u,JSON.parse(o),i,x.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:kl([t,p.pathname])),(x.replace?s.replace:s.push)(p,x.state,x)},[t,s,o,i,e])}function Ih(){let{matches:e}=T.useContext(Io),t=e[e.length-1];return t?t.params:{}}function tP(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=T.useContext(Yl),{matches:a}=T.useContext(Io),{pathname:i}=Li(),o=JSON.stringify(f4(a,s.v7_relativeSplatPath));return T.useMemo(()=>m4(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function NB(e,t){return _B(e,t)}function _B(e,t,n,s){Ph()||Hr(!1);let{navigator:a}=T.useContext(Yl),{matches:i}=T.useContext(Io),o=i[i.length-1],d=o?o.params:{};o&&o.pathname;let h=o?o.pathnameBase:"/";o&&o.route;let u=Li(),x;if(t){var p;let j=typeof t=="string"?Th(t):t;h==="/"||(p=j.pathname)!=null&&p.startsWith(h)||Hr(!1),x=j}else x=u;let b=x.pathname||"/",_=b;if(h!=="/"){let j=h.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=KF(e,{pathname:_}),N=EB(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:kl([h,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:kl([h,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,s);return t&&N?T.createElement(Ry.Provider,{value:{location:kf({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:bl.Pop}},N):N}function SB(){let e=IB(),t=yB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:a},n):null,null)}const CB=T.createElement(SB,null);class AB extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(Io.Provider,{value:this.props.routeContext},T.createElement(JT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OB(e){let{routeContext:t,match:n,children:s}=e,a=T.useContext(x4);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Io.Provider,{value:t},s)}function EB(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,d=(a=n)==null?void 0:a.errors;if(d!=null){let x=o.findIndex(p=>p.route.id&&(d==null?void 0:d[p.route.id])!==void 0);x>=0||Hr(!1),o=o.slice(0,Math.min(o.length,x+1))}let h=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let x=0;x<o.length;x++){let p=o[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=x),p.route.id){let{loaderData:b,errors:_}=n,v=p.route.loader&&b[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((x,p,b)=>{let _,v=!1,N=null,j=null;n&&(_=d&&p.route.id?d[p.route.id]:void 0,N=p.route.errorElement||CB,h&&(u<0&&b===0?(MB("route-fallback"),v=!0,j=null):u===b&&(v=!0,j=p.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,b+1)),C=()=>{let A;return _?A=N:v?A=j:p.route.Component?A=T.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=x,T.createElement(OB,{match:p,routeContext:{outlet:x,matches:S,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?T.createElement(AB,{location:n.location,revalidation:n.revalidation,component:N,error:_,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var rP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rP||{}),nP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nP||{});function kB(e){let t=T.useContext(x4);return t||Hr(!1),t}function TB(e){let t=T.useContext(vB);return t||Hr(!1),t}function PB(e){let t=T.useContext(Io);return t||Hr(!1),t}function sP(e){let t=PB(),n=t.matches[t.matches.length-1];return n.route.id||Hr(!1),n.route.id}function IB(){var e;let t=T.useContext(JT),n=TB(),s=sP();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function DB(){let{router:e}=kB(rP.UseNavigateStable),t=sP(nP.UseNavigateStable),n=T.useRef(!1);return eP(()=>{n.current=!0}),T.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,kf({fromRouteId:t},i)))},[e,t])}const s6={};function MB(e,t,n){s6[e]||(s6[e]=!0)}function RB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jx(e){let{to:t,replace:n,state:s,relative:a}=e;Ph()||Hr(!1);let{future:i,static:o}=T.useContext(Yl),{matches:d}=T.useContext(Io),{pathname:h}=Li(),u=_t(),x=m4(t,f4(d,i.v7_relativeSplatPath),h,a==="path"),p=JSON.stringify(x);return T.useEffect(()=>u(JSON.parse(p),{replace:n,state:s,relative:a}),[u,p,a,n,s]),null}function Ge(e){Hr(!1)}function LB(e){let{basename:t="/",children:n=null,location:s,navigationType:a=bl.Pop,navigator:i,static:o=!1,future:d}=e;Ph()&&Hr(!1);let h=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:h,navigator:i,static:o,future:kf({v7_relativeSplatPath:!1},d)}),[h,d,i,o]);typeof s=="string"&&(s=Th(s));let{pathname:x="/",search:p="",hash:b="",state:_=null,key:v="default"}=s,N=T.useMemo(()=>{let j=h4(x,h);return j==null?null:{location:{pathname:j,search:p,hash:b,state:_,key:v},navigationType:a}},[h,x,p,b,_,v,a]);return N==null?null:T.createElement(Yl.Provider,{value:u},T.createElement(Ry.Provider,{children:n,value:N}))}function a6(e){let{children:t,location:n}=e;return NB(Y2(t),n)}new Promise(()=>{});function Y2(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(s,a)=>{if(!T.isValidElement(s))return;let i=[...t,a];if(s.type===T.Fragment){n.push.apply(n,Y2(s.props.children,i));return}s.type!==Ge&&Hr(!1),!s.props.index||!s.props.children||Hr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Y2(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X2.apply(this,arguments)}function $B(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function FB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BB(e,t){return e.button===0&&(!t||t==="_self")&&!FB(e)}function K2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function UB(e,t){let n=K2(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const zB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VB="6";try{window.__reactRouterVersion=VB}catch{}const qB="startTransition",i6=RL[qB];function HB(e){let{basename:t,children:n,future:s,window:a}=e,i=T.useRef();i.current==null&&(i.current=QF({window:a,v5Compat:!0}));let o=i.current,[d,h]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},x=T.useCallback(p=>{u&&i6?i6(()=>h(p)):h(p)},[h,u]);return T.useLayoutEffect(()=>o.listen(x),[o,x]),T.useEffect(()=>RB(s),[s]),T.createElement(LB,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:o,future:s})}const WB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QB=T.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:d,target:h,to:u,preventScrollReset:x,viewTransition:p}=t,b=$B(t,zB),{basename:_}=T.useContext(Yl),v,N=!1;if(typeof u=="string"&&GB.test(u)&&(v=u,WB))try{let A=new URL(window.location.href),E=u.startsWith("//")?new URL(A.protocol+u):new URL(u),k=h4(E.pathname,_);E.origin===A.origin&&k!=null?u=k+E.search+E.hash:N=!0}catch{}let j=jB(u,{relative:a}),S=YB(u,{replace:o,state:d,target:h,preventScrollReset:x,relative:a,viewTransition:p});function C(A){s&&s(A),A.defaultPrevented||S(A)}return T.createElement("a",X2({},b,{href:v||j,onClick:N||i?s:C,ref:n,target:h}))});var o6;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(o6||(o6={}));var l6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(l6||(l6={}));function YB(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:d}=t===void 0?{}:t,h=_t(),u=Li(),x=tP(e,{relative:o});return T.useCallback(p=>{if(BB(p,n)){p.preventDefault();let b=s!==void 0?s:zp(u)===zp(x);h(e,{replace:b,state:a,preventScrollReset:i,relative:o,viewTransition:d})}},[u,h,x,s,a,n,e,i,o,d])}function Ly(e){let t=T.useRef(K2(e)),n=T.useRef(!1),s=Li(),a=T.useMemo(()=>UB(s.search,n.current?null:t.current),[s.search]),i=_t(),o=T.useCallback((d,h)=>{const u=K2(typeof d=="function"?d(a):d);n.current=!0,i("?"+u,h)},[i,a]);return[a,o]}var Dh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XB={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ll,gN,S8,KB=(S8=class{constructor(){dt(this,ll,XB);dt(this,gN,!1)}setTimeoutProvider(e){Je(this,ll,e)}setTimeout(e,t){return ce(this,ll).setTimeout(e,t)}clearTimeout(e){ce(this,ll).clearTimeout(e)}setInterval(e,t){return ce(this,ll).setInterval(e,t)}clearInterval(e){ce(this,ll).clearInterval(e)}},ll=new WeakMap,gN=new WeakMap,S8),jc=new KB;function ZB(e){setTimeout(e,0)}var ed=typeof window>"u"||"Deno"in globalThis;function Xn(){}function JB(e,t){return typeof e=="function"?e(t):e}function Z2(e){return typeof e=="number"&&e>=0&&e!==1/0}function aP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tl(e,t){return typeof e=="function"?e(t):e}function fa(e,t){return typeof e=="function"?e(t):e}function c6(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:d}=e;if(o){if(s){if(t.queryHash!==p4(o,t.options))return!1}else if(!Tf(t.queryKey,o))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||i&&!i(t))}function d6(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(td(t.options.mutationKey)!==td(i))return!1}else if(!Tf(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function p4(e,t){return((t==null?void 0:t.queryKeyHashFn)||td)(e)}function td(e){return JSON.stringify(e,(t,n)=>J2(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Tf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Tf(e[n],t[n])):!1}var eU=Object.prototype.hasOwnProperty;function iP(e,t){if(e===t)return e;const n=u6(e)&&u6(t);if(!n&&!(J2(e)&&J2(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,d=n?new Array(o):{};let h=0;for(let u=0;u<o;u++){const x=n?u:i[u],p=e[x],b=t[x];if(p===b){d[x]=p,(n?u<a:eU.call(e,x))&&h++;continue}if(p===null||b===null||typeof p!="object"||typeof b!="object"){d[x]=b;continue}const _=iP(p,b);d[x]=_,_===p&&h++}return a===o&&h===a?e:d}function Vp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function u6(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function J2(e){if(!h6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!h6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h6(e){return Object.prototype.toString.call(e)==="[object Object]"}function tU(e){return new Promise(t=>{jc.setTimeout(t,e)})}function ej(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?iP(e,t):t}function rU(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function nU(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var g4=Symbol();function oP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===g4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function lP(e,t){return typeof e=="function"?e(...t):!!e}var Tc,cl,Iu,C8,sU=(C8=class extends Dh{constructor(){super();dt(this,Tc);dt(this,cl);dt(this,Iu);Je(this,Iu,t=>{if(!ed&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ce(this,cl)||this.setEventListener(ce(this,Iu))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,cl))==null||t.call(this),Je(this,cl,void 0))}setEventListener(t){var n;Je(this,Iu,t),(n=ce(this,cl))==null||n.call(this),Je(this,cl,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){ce(this,Tc)!==t&&(Je(this,Tc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ce(this,Tc)=="boolean"?ce(this,Tc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Tc=new WeakMap,cl=new WeakMap,Iu=new WeakMap,C8),y4=new sU;function tj(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var aU=ZB;function iU(){let e=[],t=0,n=d=>{d()},s=d=>{d()},a=aU;const i=d=>{t?e.push(d):a(()=>{n(d)})},o=()=>{const d=e;e=[],d.length&&a(()=>{s(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||o()}return h},batchCalls:d=>(...h)=>{i(()=>{d(...h)})},schedule:i,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{a=d}}}var nn=iU(),Du,dl,Mu,A8,oU=(A8=class extends Dh{constructor(){super();dt(this,Du,!0);dt(this,dl);dt(this,Mu);Je(this,Mu,t=>{if(!ed&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){ce(this,dl)||this.setEventListener(ce(this,Mu))}onUnsubscribe(){var t;this.hasListeners()||((t=ce(this,dl))==null||t.call(this),Je(this,dl,void 0))}setEventListener(t){var n;Je(this,Mu,t),(n=ce(this,dl))==null||n.call(this),Je(this,dl,t(this.setOnline.bind(this)))}setOnline(t){ce(this,Du)!==t&&(Je(this,Du,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return ce(this,Du)}},Du=new WeakMap,dl=new WeakMap,Mu=new WeakMap,A8),qp=new oU;function lU(e){return Math.min(1e3*2**e,3e4)}function cP(e){return(e??"online")==="online"?qp.isOnline():!0}var rj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dP(e){let t=!1,n=0,s;const a=tj(),i=()=>a.status!=="pending",o=N=>{var j;if(!i()){const S=new rj(N);b(S),(j=e.onCancel)==null||j.call(e,S)}},d=()=>{t=!0},h=()=>{t=!1},u=()=>y4.isFocused()&&(e.networkMode==="always"||qp.isOnline())&&e.canRun(),x=()=>cP(e.networkMode)&&e.canRun(),p=N=>{i()||(s==null||s(),a.resolve(N))},b=N=>{i()||(s==null||s(),a.reject(N))},_=()=>new Promise(N=>{var j;s=S=>{(i()||u())&&N(S)},(j=e.onPause)==null||j.call(e)}).then(()=>{var N;s=void 0,i()||(N=e.onContinue)==null||N.call(e)}),v=()=>{if(i())return;let N;const j=n===0?e.initialPromise:void 0;try{N=j??e.fn()}catch(S){N=Promise.reject(S)}Promise.resolve(N).then(p).catch(S=>{var D;if(i())return;const C=e.retry??(ed?0:3),A=e.retryDelay??lU,E=typeof A=="function"?A(n,S):A,k=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,S);if(t||!k){b(S);return}n++,(D=e.onFail)==null||D.call(e,n,S),tU(E).then(()=>u()?void 0:_()).then(()=>{t?b(S):v()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:d,continueRetry:h,canStart:x,start:()=>(x()?v():_().then(v),a)}}var Pc,O8,uP=(O8=class{constructor(){dt(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z2(this.gcTime)&&Je(this,Pc,jc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ed?1/0:5*60*1e3))}clearGcTimeout(){ce(this,Pc)&&(jc.clearTimeout(ce(this,Pc)),Je(this,Pc,void 0))}},Pc=new WeakMap,O8),Ic,Ru,ha,Dc,hn,pm,Mc,$a,Ki,E8,cU=(E8=class extends uP{constructor(t){super();dt(this,$a);dt(this,Ic);dt(this,Ru);dt(this,ha);dt(this,Dc);dt(this,hn);dt(this,pm);dt(this,Mc);Je(this,Mc,!1),Je(this,pm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Je(this,Dc,t.client),Je(this,ha,ce(this,Dc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Je(this,Ic,f6(this.options)),this.state=t.state??ce(this,Ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ce(this,hn))==null?void 0:t.promise}setOptions(t){if(this.options={...ce(this,pm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=f6(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Je(this,Ic,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ce(this,ha).remove(this)}setData(t,n){const s=ej(this.state.data,t,this.options);return Tt(this,$a,Ki).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Tt(this,$a,Ki).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=ce(this,hn))==null?void 0:s.promise;return(a=ce(this,hn))==null||a.cancel(t),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ce(this,Ic))}isActive(){return this.observers.some(t=>fa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===g4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Tl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aP(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,hn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ce(this,hn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ce(this,ha).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ce(this,hn)&&(ce(this,Mc)?ce(this,hn).cancel({revert:!0}):ce(this,hn).cancelRetry()),this.scheduleGc()),ce(this,ha).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,$a,Ki).call(this,{type:"invalidate"})}async fetch(t,n){var h,u,x,p,b,_,v,N,j,S,C,A;if(this.state.fetchStatus!=="idle"&&((h=ce(this,hn))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ce(this,hn))return ce(this,hn).continueRetry(),ce(this,hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(k=>k.options.queryFn);E&&this.setOptions(E.options)}const s=new AbortController,a=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Je(this,Mc,!0),s.signal)})},i=()=>{const E=oP(this.options,n),D=(()=>{const R={client:ce(this,Dc),queryKey:this.queryKey,meta:this.meta};return a(R),R})();return Je(this,Mc,!1),this.options.persister?this.options.persister(E,D,this):E(D)},d=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ce(this,Dc),state:this.state,fetchFn:i};return a(E),E})();(u=this.options.behavior)==null||u.onFetch(d,this),Je(this,Ru,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=d.fetchOptions)==null?void 0:x.meta))&&Tt(this,$a,Ki).call(this,{type:"fetch",meta:(p=d.fetchOptions)==null?void 0:p.meta}),Je(this,hn,dP({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,onCancel:E=>{E instanceof rj&&E.revert&&this.setState({...ce(this,Ru),fetchStatus:"idle"}),s.abort()},onFail:(E,k)=>{Tt(this,$a,Ki).call(this,{type:"failed",failureCount:E,error:k})},onPause:()=>{Tt(this,$a,Ki).call(this,{type:"pause"})},onContinue:()=>{Tt(this,$a,Ki).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const E=await ce(this,hn).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(_=(b=ce(this,ha).config).onSuccess)==null||_.call(b,E,this),(N=(v=ce(this,ha).config).onSettled)==null||N.call(v,E,this.state.error,this),E}catch(E){if(E instanceof rj){if(E.silent)return ce(this,hn).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Tt(this,$a,Ki).call(this,{type:"error",error:E}),(S=(j=ce(this,ha).config).onError)==null||S.call(j,E,this),(A=(C=ce(this,ha).config).onSettled)==null||A.call(C,this.state.data,E,this),E}finally{this.scheduleGc()}}},Ic=new WeakMap,Ru=new WeakMap,ha=new WeakMap,Dc=new WeakMap,hn=new WeakMap,pm=new WeakMap,Mc=new WeakMap,$a=new WeakSet,Ki=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...hP(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Je(this,Ru,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),nn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ce(this,ha).notify({query:this,type:"updated",action:t})})},E8);function hP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function f6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ps,$t,gm,Wn,Rc,Lu,no,ul,ym,$u,Fu,Lc,$c,hl,Bu,Yt,U0,nj,sj,aj,ij,oj,lj,cj,fP,k8,dU=(k8=class extends Dh{constructor(t,n){super();dt(this,Yt);dt(this,ps);dt(this,$t);dt(this,gm);dt(this,Wn);dt(this,Rc);dt(this,Lu);dt(this,no);dt(this,ul);dt(this,ym);dt(this,$u);dt(this,Fu);dt(this,Lc);dt(this,$c);dt(this,hl);dt(this,Bu,new Set);this.options=n,Je(this,ps,t),Je(this,ul,null),Je(this,no,tj()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ce(this,$t).addObserver(this),m6(ce(this,$t),this.options)?Tt(this,Yt,U0).call(this):this.updateResult(),Tt(this,Yt,ij).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dj(ce(this,$t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dj(ce(this,$t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Tt(this,Yt,oj).call(this),Tt(this,Yt,lj).call(this),ce(this,$t).removeObserver(this)}setOptions(t){const n=this.options,s=ce(this,$t);if(this.options=ce(this,ps).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fa(this.options.enabled,ce(this,$t))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Tt(this,Yt,cj).call(this),ce(this,$t).setOptions(this.options),n._defaulted&&!Vp(this.options,n)&&ce(this,ps).getQueryCache().notify({type:"observerOptionsUpdated",query:ce(this,$t),observer:this});const a=this.hasListeners();a&&x6(ce(this,$t),s,this.options,n)&&Tt(this,Yt,U0).call(this),this.updateResult(),a&&(ce(this,$t)!==s||fa(this.options.enabled,ce(this,$t))!==fa(n.enabled,ce(this,$t))||Tl(this.options.staleTime,ce(this,$t))!==Tl(n.staleTime,ce(this,$t)))&&Tt(this,Yt,nj).call(this);const i=Tt(this,Yt,sj).call(this);a&&(ce(this,$t)!==s||fa(this.options.enabled,ce(this,$t))!==fa(n.enabled,ce(this,$t))||i!==ce(this,hl))&&Tt(this,Yt,aj).call(this,i)}getOptimisticResult(t){const n=ce(this,ps).getQueryCache().build(ce(this,ps),t),s=this.createResult(n,t);return hU(this,s)&&(Je(this,Wn,s),Je(this,Lu,this.options),Je(this,Rc,ce(this,$t).state)),s}getCurrentResult(){return ce(this,Wn)}trackResult(t,n){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&!this.options.experimental_prefetchInRender&&ce(this,no).status==="pending"&&ce(this,no).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){ce(this,Bu).add(t)}getCurrentQuery(){return ce(this,$t)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=ce(this,ps).defaultQueryOptions(t),s=ce(this,ps).getQueryCache().build(ce(this,ps),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Tt(this,Yt,U0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ce(this,Wn)))}createResult(t,n){var M;const s=ce(this,$t),a=this.options,i=ce(this,Wn),o=ce(this,Rc),d=ce(this,Lu),u=t!==s?t.state:ce(this,gm),{state:x}=t;let p={...x},b=!1,_;if(n._optimisticResults){const z=this.hasListeners(),I=!z&&m6(t,n),L=z&&x6(t,s,n,a);(I||L)&&(p={...p,...hP(x.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:N,status:j}=p;_=p.data;let S=!1;if(n.placeholderData!==void 0&&_===void 0&&j==="pending"){let z;i!=null&&i.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(z=i.data,S=!0):z=typeof n.placeholderData=="function"?n.placeholderData((M=ce(this,Fu))==null?void 0:M.state.data,ce(this,Fu)):n.placeholderData,z!==void 0&&(j="success",_=ej(i==null?void 0:i.data,z,n),b=!0)}if(n.select&&_!==void 0&&!S)if(i&&_===(o==null?void 0:o.data)&&n.select===ce(this,ym))_=ce(this,$u);else try{Je(this,ym,n.select),_=n.select(_),_=ej(i==null?void 0:i.data,_,n),Je(this,$u,_),Je(this,ul,null)}catch(z){Je(this,ul,z)}ce(this,ul)&&(v=ce(this,ul),_=ce(this,$u),N=Date.now(),j="error");const C=p.fetchStatus==="fetching",A=j==="pending",E=j==="error",k=A&&C,D=_!==void 0,F={status:j,fetchStatus:p.fetchStatus,isPending:A,isSuccess:j==="success",isError:E,isInitialLoading:k,isLoading:k,data:_,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!A,isLoadingError:E&&!D,isPaused:p.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:E&&D,isStale:b4(t,n),refetch:this.refetch,promise:ce(this,no),isEnabled:fa(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const z=$=>{F.status==="error"?$.reject(F.error):F.data!==void 0&&$.resolve(F.data)},I=()=>{const $=Je(this,no,F.promise=tj());z($)},L=ce(this,no);switch(L.status){case"pending":t.queryHash===s.queryHash&&z(L);break;case"fulfilled":(F.status==="error"||F.data!==L.value)&&I();break;case"rejected":(F.status!=="error"||F.error!==L.reason)&&I();break}}return F}updateResult(){const t=ce(this,Wn),n=this.createResult(ce(this,$t),this.options);if(Je(this,Rc,ce(this,$t).state),Je(this,Lu,this.options),ce(this,Rc).data!==void 0&&Je(this,Fu,ce(this,$t)),Vp(n,t))return;Je(this,Wn,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!ce(this,Bu).size)return!0;const o=new Set(i??ce(this,Bu));return this.options.throwOnError&&o.add("error"),Object.keys(ce(this,Wn)).some(d=>{const h=d;return ce(this,Wn)[h]!==t[h]&&o.has(h)})};Tt(this,Yt,fP).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Tt(this,Yt,ij).call(this)}},ps=new WeakMap,$t=new WeakMap,gm=new WeakMap,Wn=new WeakMap,Rc=new WeakMap,Lu=new WeakMap,no=new WeakMap,ul=new WeakMap,ym=new WeakMap,$u=new WeakMap,Fu=new WeakMap,Lc=new WeakMap,$c=new WeakMap,hl=new WeakMap,Bu=new WeakMap,Yt=new WeakSet,U0=function(t){Tt(this,Yt,cj).call(this);let n=ce(this,$t).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Xn)),n},nj=function(){Tt(this,Yt,oj).call(this);const t=Tl(this.options.staleTime,ce(this,$t));if(ed||ce(this,Wn).isStale||!Z2(t))return;const s=aP(ce(this,Wn).dataUpdatedAt,t)+1;Je(this,Lc,jc.setTimeout(()=>{ce(this,Wn).isStale||this.updateResult()},s))},sj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ce(this,$t)):this.options.refetchInterval)??!1},aj=function(t){Tt(this,Yt,lj).call(this),Je(this,hl,t),!(ed||fa(this.options.enabled,ce(this,$t))===!1||!Z2(ce(this,hl))||ce(this,hl)===0)&&Je(this,$c,jc.setInterval(()=>{(this.options.refetchIntervalInBackground||y4.isFocused())&&Tt(this,Yt,U0).call(this)},ce(this,hl)))},ij=function(){Tt(this,Yt,nj).call(this),Tt(this,Yt,aj).call(this,Tt(this,Yt,sj).call(this))},oj=function(){ce(this,Lc)&&(jc.clearTimeout(ce(this,Lc)),Je(this,Lc,void 0))},lj=function(){ce(this,$c)&&(jc.clearInterval(ce(this,$c)),Je(this,$c,void 0))},cj=function(){const t=ce(this,ps).getQueryCache().build(ce(this,ps),this.options);if(t===ce(this,$t))return;const n=ce(this,$t);Je(this,$t,t),Je(this,gm,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},fP=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(ce(this,Wn))}),ce(this,ps).getQueryCache().notify({query:ce(this,$t),type:"observerResultsUpdated"})})},k8);function uU(e,t){return fa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function m6(e,t){return uU(e,t)||e.state.data!==void 0&&dj(e,t,t.refetchOnMount)}function dj(e,t,n){if(fa(t.enabled,e)!==!1&&Tl(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&b4(e,t)}return!1}function x6(e,t,n,s){return(e!==t||fa(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&b4(e,n)}function b4(e,t){return fa(t.enabled,e)!==!1&&e.isStaleByTime(Tl(t.staleTime,e))}function hU(e,t){return!Vp(e.getCurrentResult(),t)}function p6(e){return{onFetch:(t,n)=>{var x,p,b,_,v;const s=t.options,a=(b=(p=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:p.fetchMore)==null?void 0:b.direction,i=((_=t.state.data)==null?void 0:_.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const u=async()=>{let N=!1;const j=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},S=oP(t.options,t.fetchOptions),C=async(A,E,k)=>{if(N)return Promise.reject();if(E==null&&A.pages.length)return Promise.resolve(A);const R=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:E,direction:k?"backward":"forward",meta:t.options.meta};return j(I),I})(),F=await S(R),{maxPages:M}=t.options,z=k?nU:rU;return{pages:z(A.pages,F,M),pageParams:z(A.pageParams,E,M)}};if(a&&i.length){const A=a==="backward",E=A?fU:g6,k={pages:i,pageParams:o},D=E(s,k);d=await C(k,D,A)}else{const A=e??i.length;do{const E=h===0?o[0]??s.initialPageParam:g6(s,d);if(h>0&&E==null)break;d=await C(d,E),h++}while(h<A)}return d};t.options.persister?t.fetchFn=()=>{var N,j;return(j=(N=t.options).persister)==null?void 0:j.call(N,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function g6(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function fU(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var bm,yi,Gn,Fc,bi,Xo,T8,mU=(T8=class extends uP{constructor(t){super();dt(this,bi);dt(this,bm);dt(this,yi);dt(this,Gn);dt(this,Fc);Je(this,bm,t.client),this.mutationId=t.mutationId,Je(this,Gn,t.mutationCache),Je(this,yi,[]),this.state=t.state||mP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ce(this,yi).includes(t)||(ce(this,yi).push(t),this.clearGcTimeout(),ce(this,Gn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Je(this,yi,ce(this,yi).filter(n=>n!==t)),this.scheduleGc(),ce(this,Gn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ce(this,yi).length||(this.state.status==="pending"?this.scheduleGc():ce(this,Gn).remove(this))}continue(){var t;return((t=ce(this,Fc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,d,h,u,x,p,b,_,v,N,j,S,C,A,E,k,D,R,F,M;const n=()=>{Tt(this,bi,Xo).call(this,{type:"continue"})},s={client:ce(this,bm),meta:this.options.meta,mutationKey:this.options.mutationKey};Je(this,Fc,dP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(z,I)=>{Tt(this,bi,Xo).call(this,{type:"failed",failureCount:z,error:I})},onPause:()=>{Tt(this,bi,Xo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ce(this,Gn).canRun(this)}));const a=this.state.status==="pending",i=!ce(this,Fc).canStart();try{if(a)n();else{Tt(this,bi,Xo).call(this,{type:"pending",variables:t,isPaused:i}),await((d=(o=ce(this,Gn).config).onMutate)==null?void 0:d.call(o,t,this,s));const I=await((u=(h=this.options).onMutate)==null?void 0:u.call(h,t,s));I!==this.state.context&&Tt(this,bi,Xo).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const z=await ce(this,Fc).start();return await((p=(x=ce(this,Gn).config).onSuccess)==null?void 0:p.call(x,z,t,this.state.context,this,s)),await((_=(b=this.options).onSuccess)==null?void 0:_.call(b,z,t,this.state.context,s)),await((N=(v=ce(this,Gn).config).onSettled)==null?void 0:N.call(v,z,null,this.state.variables,this.state.context,this,s)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,z,null,t,this.state.context,s)),Tt(this,bi,Xo).call(this,{type:"success",data:z}),z}catch(z){try{throw await((A=(C=ce(this,Gn).config).onError)==null?void 0:A.call(C,z,t,this.state.context,this,s)),await((k=(E=this.options).onError)==null?void 0:k.call(E,z,t,this.state.context,s)),await((R=(D=ce(this,Gn).config).onSettled)==null?void 0:R.call(D,void 0,z,this.state.variables,this.state.context,this,s)),await((M=(F=this.options).onSettled)==null?void 0:M.call(F,void 0,z,t,this.state.context,s)),z}finally{Tt(this,bi,Xo).call(this,{type:"error",error:z})}}finally{ce(this,Gn).runNext(this)}}},bm=new WeakMap,yi=new WeakMap,Gn=new WeakMap,Fc=new WeakMap,bi=new WeakSet,Xo=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{ce(this,yi).forEach(s=>{s.onMutationUpdate(t)}),ce(this,Gn).notify({mutation:this,type:"updated",action:t})})},T8);function mP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var so,Fa,vm,P8,xU=(P8=class extends Dh{constructor(t={}){super();dt(this,so);dt(this,Fa);dt(this,vm);this.config=t,Je(this,so,new Set),Je(this,Fa,new Map),Je(this,vm,0)}build(t,n,s){const a=new mU({client:t,mutationCache:this,mutationId:++nx(this,vm)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){ce(this,so).add(t);const n=wx(t);if(typeof n=="string"){const s=ce(this,Fa).get(n);s?s.push(t):ce(this,Fa).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ce(this,so).delete(t)){const n=wx(t);if(typeof n=="string"){const s=ce(this,Fa).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&ce(this,Fa).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=wx(t);if(typeof n=="string"){const s=ce(this,Fa).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=wx(t);if(typeof n=="string"){const a=(s=ce(this,Fa).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{ce(this,so).forEach(t=>{this.notify({type:"removed",mutation:t})}),ce(this,so).clear(),ce(this,Fa).clear()})}getAll(){return Array.from(ce(this,so))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>d6(n,s))}findAll(t={}){return this.getAll().filter(n=>d6(t,n))}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Xn))))}},so=new WeakMap,Fa=new WeakMap,vm=new WeakMap,P8);function wx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ao,fl,gs,io,wo,ip,uj,I8,pU=(I8=class extends Dh{constructor(n,s){super();dt(this,wo);dt(this,ao);dt(this,fl);dt(this,gs);dt(this,io);Je(this,ao,n),this.setOptions(s),this.bindMethods(),Tt(this,wo,ip).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const s=this.options;this.options=ce(this,ao).defaultMutationOptions(n),Vp(this.options,s)||ce(this,ao).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ce(this,gs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&td(s.mutationKey)!==td(this.options.mutationKey)?this.reset():((a=ce(this,gs))==null?void 0:a.state.status)==="pending"&&ce(this,gs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ce(this,gs))==null||n.removeObserver(this)}onMutationUpdate(n){Tt(this,wo,ip).call(this),Tt(this,wo,uj).call(this,n)}getCurrentResult(){return ce(this,fl)}reset(){var n;(n=ce(this,gs))==null||n.removeObserver(this),Je(this,gs,void 0),Tt(this,wo,ip).call(this),Tt(this,wo,uj).call(this)}mutate(n,s){var a;return Je(this,io,s),(a=ce(this,gs))==null||a.removeObserver(this),Je(this,gs,ce(this,ao).getMutationCache().build(ce(this,ao),this.options)),ce(this,gs).addObserver(this),ce(this,gs).execute(n)}},ao=new WeakMap,fl=new WeakMap,gs=new WeakMap,io=new WeakMap,wo=new WeakSet,ip=function(){var s;const n=((s=ce(this,gs))==null?void 0:s.state)??mP();Je(this,fl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},uj=function(n){nn.batch(()=>{var s,a,i,o,d,h,u,x;if(ce(this,io)&&this.hasListeners()){const p=ce(this,fl).variables,b=ce(this,fl).context,_={client:ce(this,ao),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(s=ce(this,io)).onSuccess)==null||a.call(s,n.data,p,b,_),(o=(i=ce(this,io)).onSettled)==null||o.call(i,n.data,null,p,b,_)):(n==null?void 0:n.type)==="error"&&((h=(d=ce(this,io)).onError)==null||h.call(d,n.error,p,b,_),(x=(u=ce(this,io)).onSettled)==null||x.call(u,void 0,n.error,p,b,_))}this.listeners.forEach(p=>{p(ce(this,fl))})})},I8),vi,D8,gU=(D8=class extends Dh{constructor(t={}){super();dt(this,vi);this.config=t,Je(this,vi,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??p4(a,n);let o=this.get(i);return o||(o=new cU({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ce(this,vi).has(t.queryHash)||(ce(this,vi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ce(this,vi).get(t.queryHash);n&&(t.destroy(),n===t&&ce(this,vi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ce(this,vi).get(t)}getAll(){return[...ce(this,vi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>c6(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>c6(t,s)):n}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},vi=new WeakMap,D8),Rr,ml,xl,Uu,zu,pl,Vu,qu,M8,yU=(M8=class{constructor(e={}){dt(this,Rr);dt(this,ml);dt(this,xl);dt(this,Uu);dt(this,zu);dt(this,pl);dt(this,Vu);dt(this,qu);Je(this,Rr,e.queryCache||new gU),Je(this,ml,e.mutationCache||new xU),Je(this,xl,e.defaultOptions||{}),Je(this,Uu,new Map),Je(this,zu,new Map),Je(this,pl,0)}mount(){nx(this,pl)._++,ce(this,pl)===1&&(Je(this,Vu,y4.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,Rr).onFocus())})),Je(this,qu,qp.subscribe(async e=>{e&&(await this.resumePausedMutations(),ce(this,Rr).onOnline())})))}unmount(){var e,t;nx(this,pl)._--,ce(this,pl)===0&&((e=ce(this,Vu))==null||e.call(this),Je(this,Vu,void 0),(t=ce(this,qu))==null||t.call(this),Je(this,qu,void 0))}isFetching(e){return ce(this,Rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ce(this,ml).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,Rr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=ce(this,Rr).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Tl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return ce(this,Rr).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=ce(this,Rr).get(s.queryHash),i=a==null?void 0:a.state.data,o=JB(t,i);if(o!==void 0)return ce(this,Rr).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return nn.batch(()=>ce(this,Rr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ce(this,Rr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ce(this,Rr);nn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ce(this,Rr);return nn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=nn.batch(()=>ce(this,Rr).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(Xn).catch(Xn)}invalidateQueries(e,t={}){return nn.batch(()=>(ce(this,Rr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=nn.batch(()=>ce(this,Rr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ce(this,Rr).build(this,t);return n.isStaleByTime(Tl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xn).catch(Xn)}fetchInfiniteQuery(e){return e.behavior=p6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xn).catch(Xn)}ensureInfiniteQueryData(e){return e.behavior=p6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qp.isOnline()?ce(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return ce(this,Rr)}getMutationCache(){return ce(this,ml)}getDefaultOptions(){return ce(this,xl)}setDefaultOptions(e){Je(this,xl,e)}setQueryDefaults(e,t){ce(this,Uu).set(td(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ce(this,Uu).values()],n={};return t.forEach(s=>{Tf(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){ce(this,zu).set(td(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ce(this,zu).values()],n={};return t.forEach(s=>{Tf(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ce(this,xl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=p4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===g4&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ce(this,xl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ce(this,Rr).clear(),ce(this,ml).clear()}},Rr=new WeakMap,ml=new WeakMap,xl=new WeakMap,Uu=new WeakMap,zu=new WeakMap,pl=new WeakMap,Vu=new WeakMap,qu=new WeakMap,M8),xP=T.createContext(void 0),$y=e=>{const t=T.useContext(xP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bU=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(xP.Provider,{value:e,children:t})),pP=T.createContext(!1),vU=()=>T.useContext(pP);pP.Provider;function jU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wU=T.createContext(jU()),NU=()=>T.useContext(wU),_U=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},SU=e=>{T.useEffect(()=>{e.clearReset()},[e])},CU=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||lP(n,[e.error,s])),AU=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>n(s(...a)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OU=(e,t)=>e.isLoading&&e.isFetching&&!t,EU=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,y6=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function kU(e,t,n){var p,b,_,v,N;const s=vU(),a=NU(),i=$y(),o=i.defaultQueryOptions(e);(b=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||b.call(p,o),o._optimisticResults=s?"isRestoring":"optimistic",AU(o),_U(o,a),SU(a);const d=!i.getQueryCache().get(o.queryHash),[h]=T.useState(()=>new t(i,o)),u=h.getOptimisticResult(o),x=!s&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(j=>{const S=x?h.subscribe(nn.batchCalls(j)):Xn;return h.updateResult(),S},[h,x]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),T.useEffect(()=>{h.setOptions(o)},[o,h]),EU(o,u))throw y6(o,h,a);if(CU({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(_=i.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||v.call(_,o,u),o.experimental_prefetchInRender&&!ed&&OU(u,s)){const j=d?y6(o,h,a):(N=i.getQueryCache().get(o.queryHash))==null?void 0:N.promise;j==null||j.catch(Xn).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?u:h.trackResult(u)}function Fy(e,t){return kU(e,dU)}function TU(e,t){const n=$y(),[s]=T.useState(()=>new pU(n,e));T.useEffect(()=>{s.setOptions(e)},[s,e]);const a=T.useSyncExternalStore(T.useCallback(o=>s.subscribe(nn.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=T.useCallback((o,d)=>{s.mutate(o,d).catch(Xn)},[s]);if(a.error&&lP(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}let PU={data:""},IU=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||PU,DU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,MU=/\/\*[^]*?\*\/|  +/g,b6=/\n+/g,al=(e,t)=>{let n="",s="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?al(o,i):i+"{"+al(o,i[1]=="k"?"":t)+"}":typeof o=="object"?s+=al(o,t?t.replace(/([^,])+/g,d=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,d):d?d+" "+h:h)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=al.p?al.p(i,o):i+":"+o+";")}return n+(t&&a?t+"{"+a+"}":a)+s},Gi={},gP=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+gP(e[n]);return t}return e},RU=(e,t,n,s,a)=>{let i=gP(e),o=Gi[i]||(Gi[i]=(h=>{let u=0,x=11;for(;u<h.length;)x=101*x+h.charCodeAt(u++)>>>0;return"go"+x})(i));if(!Gi[o]){let h=i!==e?e:(u=>{let x,p,b=[{}];for(;x=DU.exec(u.replace(MU,""));)x[4]?b.shift():x[3]?(p=x[3].replace(b6," ").trim(),b.unshift(b[0][p]=b[0][p]||{})):b[0][x[1]]=x[2].replace(b6," ").trim();return b[0]})(e);Gi[o]=al(a?{["@keyframes "+o]:h}:h,n?"":"."+o)}let d=n&&Gi.g?Gi.g:null;return n&&(Gi.g=Gi[o]),((h,u,x,p)=>{p?u.data=u.data.replace(p,h):u.data.indexOf(h)===-1&&(u.data=x?h+u.data:u.data+h)})(Gi[o],t,s,d),o},LU=(e,t,n)=>e.reduce((s,a,i)=>{let o=t[i];if(o&&o.call){let d=o(n),h=d&&d.props&&d.props.className||/^go/.test(d)&&d;o=h?"."+h:d&&typeof d=="object"?d.props?"":al(d,""):d===!1?"":d}return s+a+(o??"")},"");function By(e){let t=this||{},n=e.call?e(t.p):e;return RU(n.unshift?n.raw?LU(n,[].slice.call(arguments,1),t.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):n,IU(t.target),t.g,t.o,t.k)}let yP,hj,fj;By.bind({g:1});let Ao=By.bind({k:1});function $U(e,t,n,s){al.p=t,yP=e,hj=n,fj=s}function Xl(e,t){let n=this||{};return function(){let s=arguments;function a(i,o){let d=Object.assign({},i),h=d.className||a.className;n.p=Object.assign({theme:hj&&hj()},d),n.o=/ *go\d+/.test(h),d.className=By.apply(n,s)+(h?" "+h:"");let u=e;return e[0]&&(u=d.as||e,delete d.as),fj&&u[0]&&fj(d),yP(u,d)}return a}}var FU=e=>typeof e=="function",Hp=(e,t)=>FU(e)?e(t):e,BU=(()=>{let e=0;return()=>(++e).toString()})(),bP=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),UU=20,v4="default",vP=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:s}=t;return vP(e,{type:e.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},op=[],jP={toasts:[],pausedAt:void 0,settings:{toastLimit:UU}},_i={},wP=(e,t=v4)=>{_i[t]=vP(_i[t]||jP,e),op.forEach(([n,s])=>{n===t&&s(_i[t])})},NP=e=>Object.keys(_i).forEach(t=>wP(e,t)),zU=e=>Object.keys(_i).find(t=>_i[t].toasts.some(n=>n.id===e)),Uy=(e=v4)=>t=>{wP(t,e)},VU={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qU=(e={},t=v4)=>{let[n,s]=T.useState(_i[t]||jP),a=T.useRef(_i[t]);T.useEffect(()=>(a.current!==_i[t]&&s(_i[t]),op.push([t,s]),()=>{let o=op.findIndex(([d])=>d===t);o>-1&&op.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var d,h,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((d=e[o.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((h=e[o.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||VU[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},HU=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BU()}),Cm=e=>(t,n)=>{let s=HU(t,e,n);return Uy(s.toasterId||zU(s.id))({type:2,toast:s}),s.id},it=(e,t)=>Cm("blank")(e,t);it.error=Cm("error");it.success=Cm("success");it.loading=Cm("loading");it.custom=Cm("custom");it.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Uy(t)(n):NP(n)};it.dismissAll=e=>it.dismiss(void 0,e);it.remove=(e,t)=>{let n={type:4,toastId:e};t?Uy(t)(n):NP(n)};it.removeAll=e=>it.remove(void 0,e);it.promise=(e,t,n)=>{let s=it.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?Hp(t.success,a):void 0;return i?it.success(i,{id:s,...n,...n==null?void 0:n.success}):it.dismiss(s),a}).catch(a=>{let i=t.error?Hp(t.error,a):void 0;i?it.error(i,{id:s,...n,...n==null?void 0:n.error}):it.dismiss(s)}),e};var WU=1e3,GU=(e,t="default")=>{let{toasts:n,pausedAt:s}=qU(e,t),a=T.useRef(new Map).current,i=T.useCallback((p,b=WU)=>{if(a.has(p))return;let _=setTimeout(()=>{a.delete(p),o({type:4,toastId:p})},b);a.set(p,_)},[]);T.useEffect(()=>{if(s)return;let p=Date.now(),b=n.map(_=>{if(_.duration===1/0)return;let v=(_.duration||0)+_.pauseDuration-(p-_.createdAt);if(v<0){_.visible&&it.dismiss(_.id);return}return setTimeout(()=>it.dismiss(_.id,t),v)});return()=>{b.forEach(_=>_&&clearTimeout(_))}},[n,s,t]);let o=T.useCallback(Uy(t),[t]),d=T.useCallback(()=>{o({type:5,time:Date.now()})},[o]),h=T.useCallback((p,b)=>{o({type:1,toast:{id:p,height:b}})},[o]),u=T.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),x=T.useCallback((p,b)=>{let{reverseOrder:_=!1,gutter:v=8,defaultPosition:N}=b||{},j=n.filter(A=>(A.position||N)===(p.position||N)&&A.height),S=j.findIndex(A=>A.id===p.id),C=j.filter((A,E)=>E<S&&A.visible).length;return j.filter(A=>A.visible).slice(..._?[C+1]:[0,C]).reduce((A,E)=>A+(E.height||0)+v,0)},[n]);return T.useEffect(()=>{n.forEach(p=>{if(p.dismissed)i(p.id,p.removeDelay);else{let b=a.get(p.id);b&&(clearTimeout(b),a.delete(p.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:h,startPause:d,endPause:u,calculateOffset:x}}},QU=Ao`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YU=Ao`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XU=Ao`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,KU=Xl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${XU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZU=Ao`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JU=Xl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ZU} 1s linear infinite;
`,ez=Ao`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tz=Ao`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rz=Xl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ez} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nz=Xl("div")`
  position: absolute;
`,sz=Xl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,az=Ao`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iz=Xl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${az} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,oz=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?T.createElement(iz,null,t):t:n==="blank"?null:T.createElement(sz,null,T.createElement(JU,{...s}),n!=="loading"&&T.createElement(nz,null,n==="error"?T.createElement(KU,{...s}):T.createElement(rz,{...s})))},lz=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cz=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,dz="0%{opacity:0;} 100%{opacity:1;}",uz="0%{opacity:1;} 100%{opacity:0;}",hz=Xl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fz=Xl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mz=(e,t)=>{let n=e.includes("top")?1:-1,[s,a]=bP()?[dz,uz]:[lz(n),cz(n)];return{animation:t?`${Ao(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ao(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xz=T.memo(({toast:e,position:t,style:n,children:s})=>{let a=e.height?mz(e.position||t||"top-center",e.visible):{opacity:0},i=T.createElement(oz,{toast:e}),o=T.createElement(fz,{...e.ariaProps},Hp(e.message,e));return T.createElement(hz,{className:e.className,style:{...a,...n,...e.style}},typeof s=="function"?s({icon:i,message:o}):T.createElement(T.Fragment,null,i,o))});$U(T.createElement);var pz=({id:e,className:t,style:n,onHeightUpdate:s,children:a})=>{let i=T.useCallback(o=>{if(o){let d=()=>{let h=o.getBoundingClientRect().height;s(e,h)};d(),new MutationObserver(d).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return T.createElement("div",{ref:i,className:t,style:n},a)},gz=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...a}},yz=By`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nx=16,bz=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:a,toasterId:i,containerStyle:o,containerClassName:d})=>{let{toasts:h,handlers:u}=GU(n,i);return T.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Nx,left:Nx,right:Nx,bottom:Nx,pointerEvents:"none",...o},className:d,onMouseEnter:u.startPause,onMouseLeave:u.endPause},h.map(x=>{let p=x.position||t,b=u.calculateOffset(x,{reverseOrder:e,gutter:s,defaultPosition:t}),_=gz(p,b);return T.createElement(pz,{id:x.id,key:x.id,onHeightUpdate:u.updateHeight,className:x.visible?yz:"",style:_},x.type==="custom"?Hp(x.message,x):a?a(x):T.createElement(xz,{toast:x,position:p}))}))},ye=it;function _P(e,t){return function(){return e.apply(t,arguments)}}const{toString:vz}=Object.prototype,{getPrototypeOf:j4}=Object,{iterator:zy,toStringTag:SP}=Symbol,Vy=(e=>t=>{const n=vz.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),si=e=>(e=e.toLowerCase(),t=>Vy(t)===e),qy=e=>t=>typeof t===e,{isArray:Mh}=Array,Zu=qy("undefined");function Am(e){return e!==null&&!Zu(e)&&e.constructor!==null&&!Zu(e.constructor)&&As(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const CP=si("ArrayBuffer");function jz(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&CP(e.buffer),t}const wz=qy("string"),As=qy("function"),AP=qy("number"),Om=e=>e!==null&&typeof e=="object",Nz=e=>e===!0||e===!1,lp=e=>{if(Vy(e)!=="object")return!1;const t=j4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(SP in e)&&!(zy in e)},_z=e=>{if(!Om(e)||Am(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Sz=si("Date"),Cz=si("File"),Az=si("Blob"),Oz=si("FileList"),Ez=e=>Om(e)&&As(e.pipe),kz=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||As(e.append)&&((t=Vy(e))==="formdata"||t==="object"&&As(e.toString)&&e.toString()==="[object FormData]"))},Tz=si("URLSearchParams"),[Pz,Iz,Dz,Mz]=["ReadableStream","Request","Response","Headers"].map(si),Rz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Em(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Mh(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Am(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let d;for(s=0;s<o;s++)d=i[s],t.call(null,e[d],d,e)}}function OP(e,t){if(Am(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EP=e=>!Zu(e)&&e!==wc;function mj(){const{caseless:e,skipUndefined:t}=EP(this)&&this||{},n={},s=(a,i)=>{const o=e&&OP(n,i)||i;lp(n[o])&&lp(a)?n[o]=mj(n[o],a):lp(a)?n[o]=mj({},a):Mh(a)?n[o]=a.slice():(!t||!Zu(a))&&(n[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Em(arguments[a],s);return n}const Lz=(e,t,n,{allOwnKeys:s}={})=>(Em(t,(a,i)=>{n&&As(a)?e[i]=_P(a,n):e[i]=a},{allOwnKeys:s}),e),$z=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fz=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Bz=(e,t,n,s)=>{let a,i,o;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!d[o]&&(t[o]=e[o],d[o]=!0);e=n!==!1&&j4(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Uz=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},zz=e=>{if(!e)return null;if(Mh(e))return e;let t=e.length;if(!AP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Vz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&j4(Uint8Array)),qz=(e,t)=>{const s=(e&&e[zy]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Hz=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Wz=si("HTMLFormElement"),Gz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),v6=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Qz=si("RegExp"),kP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Em(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Yz=e=>{kP(e,(t,n)=>{if(As(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(As(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Xz=(e,t)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return Mh(e)?s(e):s(String(e).split(t)),n},Kz=()=>{},Zz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Jz(e){return!!(e&&As(e.append)&&e[SP]==="FormData"&&e[zy])}const eV=e=>{const t=new Array(10),n=(s,a)=>{if(Om(s)){if(t.indexOf(s)>=0)return;if(Am(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Mh(s)?[]:{};return Em(s,(o,d)=>{const h=n(o,a+1);!Zu(h)&&(i[d]=h)}),t[a]=void 0,i}}return s};return n(e,0)},tV=si("AsyncFunction"),rV=e=>e&&(Om(e)||As(e))&&As(e.then)&&As(e.catch),TP=((e,t)=>e?setImmediate:t?((n,s)=>(wc.addEventListener("message",({source:a,data:i})=>{a===wc&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),wc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",As(wc.postMessage)),nV=typeof queueMicrotask<"u"?queueMicrotask.bind(wc):typeof process<"u"&&process.nextTick||TP,sV=e=>e!=null&&As(e[zy]),Ce={isArray:Mh,isArrayBuffer:CP,isBuffer:Am,isFormData:kz,isArrayBufferView:jz,isString:wz,isNumber:AP,isBoolean:Nz,isObject:Om,isPlainObject:lp,isEmptyObject:_z,isReadableStream:Pz,isRequest:Iz,isResponse:Dz,isHeaders:Mz,isUndefined:Zu,isDate:Sz,isFile:Cz,isBlob:Az,isRegExp:Qz,isFunction:As,isStream:Ez,isURLSearchParams:Tz,isTypedArray:Vz,isFileList:Oz,forEach:Em,merge:mj,extend:Lz,trim:Rz,stripBOM:$z,inherits:Fz,toFlatObject:Bz,kindOf:Vy,kindOfTest:si,endsWith:Uz,toArray:zz,forEachEntry:qz,matchAll:Hz,isHTMLForm:Wz,hasOwnProperty:v6,hasOwnProp:v6,reduceDescriptors:kP,freezeMethods:Yz,toObjectSet:Xz,toCamelCase:Gz,noop:Kz,toFiniteNumber:Zz,findKey:OP,global:wc,isContextDefined:EP,isSpecCompliantForm:Jz,toJSONObject:eV,isAsyncFn:tV,isThenable:rV,setImmediate:TP,asap:nV,isIterable:sV};function At(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Ce.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const PP=At.prototype,IP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{IP[e]={value:e}});Object.defineProperties(At,IP);Object.defineProperty(PP,"isAxiosError",{value:!0});At.from=(e,t,n,s,a,i)=>{const o=Object.create(PP);Ce.toFlatObject(e,o,function(x){return x!==Error.prototype},u=>u!=="isAxiosError");const d=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return At.call(o,d,h,n,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const aV=null;function xj(e){return Ce.isPlainObject(e)||Ce.isArray(e)}function DP(e){return Ce.endsWith(e,"[]")?e.slice(0,-2):e}function j6(e,t,n){return e?e.concat(t).map(function(a,i){return a=DP(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function iV(e){return Ce.isArray(e)&&!e.some(xj)}const oV=Ce.toFlatObject(Ce,{},null,function(t){return/^is[A-Z]/.test(t)});function Hy(e,t,n){if(!Ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!Ce.isUndefined(j[N])});const s=n.metaTokens,a=n.visitor||x,i=n.dots,o=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(t);if(!Ce.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Ce.isDate(v))return v.toISOString();if(Ce.isBoolean(v))return v.toString();if(!h&&Ce.isBlob(v))throw new At("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(v)||Ce.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function x(v,N,j){let S=v;if(v&&!j&&typeof v=="object"){if(Ce.endsWith(N,"{}"))N=s?N:N.slice(0,-2),v=JSON.stringify(v);else if(Ce.isArray(v)&&iV(v)||(Ce.isFileList(v)||Ce.endsWith(N,"[]"))&&(S=Ce.toArray(v)))return N=DP(N),S.forEach(function(A,E){!(Ce.isUndefined(A)||A===null)&&t.append(o===!0?j6([N],E,i):o===null?N:N+"[]",u(A))}),!1}return xj(v)?!0:(t.append(j6(j,N,i),u(v)),!1)}const p=[],b=Object.assign(oV,{defaultVisitor:x,convertValue:u,isVisitable:xj});function _(v,N){if(!Ce.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(v),Ce.forEach(v,function(S,C){(!(Ce.isUndefined(S)||S===null)&&a.call(t,S,Ce.isString(C)?C.trim():C,N,b))===!0&&_(S,N?N.concat(C):[C])}),p.pop()}}if(!Ce.isObject(e))throw new TypeError("data must be an object");return _(e),t}function w6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function w4(e,t){this._pairs=[],e&&Hy(e,this,t)}const MP=w4.prototype;MP.append=function(t,n){this._pairs.push([t,n])};MP.toString=function(t){const n=t?function(s){return t.call(this,s,w6)}:w6;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function lV(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RP(e,t,n){if(!t)return e;const s=n&&n.encode||lV;Ce.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Ce.isURLSearchParams(t)?t.toString():new w4(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class N6{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ce.forEach(this.handlers,function(s){s!==null&&t(s)})}}const LP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cV=typeof URLSearchParams<"u"?URLSearchParams:w4,dV=typeof FormData<"u"?FormData:null,uV=typeof Blob<"u"?Blob:null,hV={isBrowser:!0,classes:{URLSearchParams:cV,FormData:dV,Blob:uV},protocols:["http","https","file","blob","url","data"]},N4=typeof window<"u"&&typeof document<"u",pj=typeof navigator=="object"&&navigator||void 0,fV=N4&&(!pj||["ReactNative","NativeScript","NS"].indexOf(pj.product)<0),mV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xV=N4&&window.location.href||"http://localhost",pV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N4,hasStandardBrowserEnv:fV,hasStandardBrowserWebWorkerEnv:mV,navigator:pj,origin:xV},Symbol.toStringTag,{value:"Module"})),Ln={...pV,...hV};function gV(e,t){return Hy(e,new Ln.classes.URLSearchParams,{visitor:function(n,s,a,i){return Ln.isNode&&Ce.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function yV(e){return Ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bV(e){const t={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],t[i]=e[i];return t}function $P(e){function t(n,s,a,i){let o=n[i++];if(o==="__proto__")return!0;const d=Number.isFinite(+o),h=i>=n.length;return o=!o&&Ce.isArray(a)?a.length:o,h?(Ce.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!d):((!a[o]||!Ce.isObject(a[o]))&&(a[o]=[]),t(n,s,a[o],i)&&Ce.isArray(a[o])&&(a[o]=bV(a[o])),!d)}if(Ce.isFormData(e)&&Ce.isFunction(e.entries)){const n={};return Ce.forEachEntry(e,(s,a)=>{t(yV(s),a,n,0)}),n}return null}function vV(e,t,n){if(Ce.isString(e))try{return(t||JSON.parse)(e),Ce.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const km={transitional:LP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=Ce.isObject(t);if(i&&Ce.isHTMLForm(t)&&(t=new FormData(t)),Ce.isFormData(t))return a?JSON.stringify($P(t)):t;if(Ce.isArrayBuffer(t)||Ce.isBuffer(t)||Ce.isStream(t)||Ce.isFile(t)||Ce.isBlob(t)||Ce.isReadableStream(t))return t;if(Ce.isArrayBufferView(t))return t.buffer;if(Ce.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return gV(t,this.formSerializer).toString();if((d=Ce.isFileList(t))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Hy(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),vV(t)):t}],transformResponse:[function(t){const n=this.transitional||km.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Ce.isResponse(t)||Ce.isReadableStream(t))return t;if(t&&Ce.isString(t)&&(s&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(d){if(o)throw d.name==="SyntaxError"?At.from(d,At.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],e=>{km.headers[e]={}});const jV=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wV=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!n||t[n]&&jV[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},_6=Symbol("internals");function y0(e){return e&&String(e).trim().toLowerCase()}function cp(e){return e===!1||e==null?e:Ce.isArray(e)?e.map(cp):String(e)}function NV(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const _V=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jb(e,t,n,s,a){if(Ce.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!Ce.isString(t)){if(Ce.isString(s))return t.indexOf(s)!==-1;if(Ce.isRegExp(s))return s.test(t)}}function SV(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function CV(e,t){const n=Ce.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let Os=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function i(d,h,u){const x=y0(h);if(!x)throw new Error("header name must be a non-empty string");const p=Ce.findKey(a,x);(!p||a[p]===void 0||u===!0||u===void 0&&a[p]!==!1)&&(a[p||h]=cp(d))}const o=(d,h)=>Ce.forEach(d,(u,x)=>i(u,x,h));if(Ce.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Ce.isString(t)&&(t=t.trim())&&!_V(t))o(wV(t),n);else if(Ce.isObject(t)&&Ce.isIterable(t)){let d={},h,u;for(const x of t){if(!Ce.isArray(x))throw TypeError("Object iterator must return a key-value pair");d[u=x[0]]=(h=d[u])?Ce.isArray(h)?[...h,x[1]]:[h,x[1]]:x[1]}o(d,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=y0(t),t){const s=Ce.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return NV(a);if(Ce.isFunction(n))return n.call(this,a,s);if(Ce.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=y0(t),t){const s=Ce.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Jb(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function i(o){if(o=y0(o),o){const d=Ce.findKey(s,o);d&&(!n||Jb(s,s[d],d,n))&&(delete s[d],a=!0)}}return Ce.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!t||Jb(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,s={};return Ce.forEach(this,(a,i)=>{const o=Ce.findKey(s,i);if(o){n[o]=cp(a),delete n[i];return}const d=t?SV(i):String(i).trim();d!==i&&delete n[i],n[d]=cp(a),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ce.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&Ce.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[_6]=this[_6]={accessors:{}}).accessors,a=this.prototype;function i(o){const d=y0(o);s[d]||(CV(a,o),s[d]=!0)}return Ce.isArray(t)?t.forEach(i):i(t),this}};Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(Os.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});Ce.freezeMethods(Os);function ev(e,t){const n=this||km,s=t||n,a=Os.from(s.headers);let i=s.data;return Ce.forEach(e,function(d){i=d.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function FP(e){return!!(e&&e.__CANCEL__)}function Rh(e,t,n){At.call(this,e??"canceled",At.ERR_CANCELED,t,n),this.name="CanceledError"}Ce.inherits(Rh,At,{__CANCEL__:!0});function BP(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new At("Request failed with status code "+n.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AV(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function OV(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(h){const u=Date.now(),x=s[i];o||(o=u),n[a]=h,s[a]=u;let p=i,b=0;for(;p!==a;)b+=n[p++],p=p%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const _=x&&u-x;return _?Math.round(b*1e3/_):void 0}}function EV(e,t){let n=0,s=1e3/t,a,i;const o=(u,x=Date.now())=>{n=x,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const x=Date.now(),p=x-n;p>=s?o(u,x):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},s-p)))},()=>a&&o(a)]}const Wp=(e,t,n=3)=>{let s=0;const a=OV(50,250);return EV(i=>{const o=i.loaded,d=i.lengthComputable?i.total:void 0,h=o-s,u=a(h),x=o<=d;s=o;const p={loaded:o,total:d,progress:d?o/d:void 0,bytes:h,rate:u||void 0,estimated:u&&d&&x?(d-o)/u:void 0,event:i,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(p)},n)},S6=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},C6=e=>(...t)=>Ce.asap(()=>e(...t)),kV=Ln.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ln.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,TV=Ln.hasStandardBrowserEnv?{write(e,t,n,s,a,i){const o=[e+"="+encodeURIComponent(t)];Ce.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ce.isString(s)&&o.push("path="+s),Ce.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PV(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function IV(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function UP(e,t,n){let s=!PV(t);return e&&(s||n==!1)?IV(e,t):t}const A6=e=>e instanceof Os?{...e}:e;function rd(e,t){t=t||{};const n={};function s(u,x,p,b){return Ce.isPlainObject(u)&&Ce.isPlainObject(x)?Ce.merge.call({caseless:b},u,x):Ce.isPlainObject(x)?Ce.merge({},x):Ce.isArray(x)?x.slice():x}function a(u,x,p,b){if(Ce.isUndefined(x)){if(!Ce.isUndefined(u))return s(void 0,u,p,b)}else return s(u,x,p,b)}function i(u,x){if(!Ce.isUndefined(x))return s(void 0,x)}function o(u,x){if(Ce.isUndefined(x)){if(!Ce.isUndefined(u))return s(void 0,u)}else return s(void 0,x)}function d(u,x,p){if(p in t)return s(u,x);if(p in e)return s(void 0,u)}const h={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d,headers:(u,x,p)=>a(A6(u),A6(x),p,!0)};return Ce.forEach(Object.keys({...e,...t}),function(x){const p=h[x]||a,b=p(e[x],t[x],x);Ce.isUndefined(b)&&p!==d||(n[x]=b)}),n}const zP=e=>{const t=rd({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:d}=t;if(t.headers=o=Os.from(o),t.url=RP(UP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&o.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Ce.isFormData(n)){if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ce.isFunction(n.getHeaders)){const h=n.getHeaders(),u=["content-type","content-length"];Object.entries(h).forEach(([x,p])=>{u.includes(x.toLowerCase())&&o.set(x,p)})}}if(Ln.hasStandardBrowserEnv&&(s&&Ce.isFunction(s)&&(s=s(t)),s||s!==!1&&kV(t.url))){const h=a&&i&&TV.read(i);h&&o.set(a,h)}return t},DV=typeof XMLHttpRequest<"u",MV=DV&&function(e){return new Promise(function(n,s){const a=zP(e);let i=a.data;const o=Os.from(a.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:u}=a,x,p,b,_,v;function N(){_&&_(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(x),a.signal&&a.signal.removeEventListener("abort",x)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function S(){if(!j)return;const A=Os.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),k={data:!d||d==="text"||d==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:A,config:e,request:j};BP(function(R){n(R),N()},function(R){s(R),N()},k),j=null}"onloadend"in j?j.onloadend=S:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(S)},j.onabort=function(){j&&(s(new At("Request aborted",At.ECONNABORTED,e,j)),j=null)},j.onerror=function(E){const k=E&&E.message?E.message:"Network Error",D=new At(k,At.ERR_NETWORK,e,j);D.event=E||null,s(D),j=null},j.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||LP;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),s(new At(E,k.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&Ce.forEach(o.toJSON(),function(E,k){j.setRequestHeader(k,E)}),Ce.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),d&&d!=="json"&&(j.responseType=a.responseType),u&&([b,v]=Wp(u,!0),j.addEventListener("progress",b)),h&&j.upload&&([p,_]=Wp(h),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(x=A=>{j&&(s(!A||A.type?new Rh(null,e,j):A),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(x),a.signal&&(a.signal.aborted?x():a.signal.addEventListener("abort",x)));const C=AV(a.url);if(C&&Ln.protocols.indexOf(C)===-1){s(new At("Unsupported protocol "+C+":",At.ERR_BAD_REQUEST,e));return}j.send(i||null)})},RV=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const i=function(u){if(!a){a=!0,d();const x=u instanceof Error?u:this.reason;s.abort(x instanceof At?x:new Rh(x instanceof Error?x.message:x))}};let o=t&&setTimeout(()=>{o=null,i(new At(`timeout ${t} of ms exceeded`,At.ETIMEDOUT))},t);const d=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:h}=s;return h.unsubscribe=()=>Ce.asap(d),h}},LV=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},$V=async function*(e,t){for await(const n of FV(e))yield*LV(n,t)},FV=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},O6=(e,t,n,s)=>{const a=$V(e,t);let i=0,o,d=h=>{o||(o=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:u,value:x}=await a.next();if(u){d(),h.close();return}let p=x.byteLength;if(n){let b=i+=p;n(b)}h.enqueue(new Uint8Array(x))}catch(u){throw d(u),u}},cancel(h){return d(h),a.return()}},{highWaterMark:2})},E6=64*1024,{isFunction:_x}=Ce,BV=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ce.global),{ReadableStream:k6,TextEncoder:T6}=Ce.global,P6=(e,...t)=>{try{return!!e(...t)}catch{return!1}},UV=e=>{e=Ce.merge.call({skipUndefined:!0},BV,e);const{fetch:t,Request:n,Response:s}=e,a=t?_x(t):typeof fetch=="function",i=_x(n),o=_x(s);if(!a)return!1;const d=a&&_x(k6),h=a&&(typeof T6=="function"?(v=>N=>v.encode(N))(new T6):async v=>new Uint8Array(await new n(v).arrayBuffer())),u=i&&d&&P6(()=>{let v=!1;const N=new n(Ln.origin,{body:new k6,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!N}),x=o&&d&&P6(()=>Ce.isReadableStream(new s("").body)),p={stream:x&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!p[v]&&(p[v]=(N,j)=>{let S=N&&N[v];if(S)return S.call(N);throw new At(`Response type '${v}' is not supported`,At.ERR_NOT_SUPPORT,j)})});const b=async v=>{if(v==null)return 0;if(Ce.isBlob(v))return v.size;if(Ce.isSpecCompliantForm(v))return(await new n(Ln.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(v)||Ce.isArrayBuffer(v))return v.byteLength;if(Ce.isURLSearchParams(v)&&(v=v+""),Ce.isString(v))return(await h(v)).byteLength},_=async(v,N)=>{const j=Ce.toFiniteNumber(v.getContentLength());return j??b(N)};return async v=>{let{url:N,method:j,data:S,signal:C,cancelToken:A,timeout:E,onDownloadProgress:k,onUploadProgress:D,responseType:R,headers:F,withCredentials:M="same-origin",fetchOptions:z}=zP(v),I=t||fetch;R=R?(R+"").toLowerCase():"text";let L=RV([C,A&&A.toAbortSignal()],E),$=null;const W=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let U;try{if(D&&u&&j!=="get"&&j!=="head"&&(U=await _(F,S))!==0){let ae=new n(N,{method:"POST",body:S,duplex:"half"}),le;if(Ce.isFormData(S)&&(le=ae.headers.get("content-type"))&&F.setContentType(le),ae.body){const[ie,fe]=S6(U,Wp(C6(D)));S=O6(ae.body,E6,ie,fe)}}Ce.isString(M)||(M=M?"include":"omit");const Y=i&&"credentials"in n.prototype,X={...z,signal:L,method:j.toUpperCase(),headers:F.normalize().toJSON(),body:S,duplex:"half",credentials:Y?M:void 0};$=i&&new n(N,X);let V=await(i?I($,z):I(N,X));const G=x&&(R==="stream"||R==="response");if(x&&(k||G&&W)){const ae={};["status","statusText","headers"].forEach(xe=>{ae[xe]=V[xe]});const le=Ce.toFiniteNumber(V.headers.get("content-length")),[ie,fe]=k&&S6(le,Wp(C6(k),!0))||[];V=new s(O6(V.body,E6,ie,()=>{fe&&fe(),W&&W()}),ae)}R=R||"text";let ne=await p[Ce.findKey(p,R)||"text"](V,v);return!G&&W&&W(),await new Promise((ae,le)=>{BP(ae,le,{data:ne,headers:Os.from(V.headers),status:V.status,statusText:V.statusText,config:v,request:$})})}catch(Y){throw W&&W(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,v,$),{cause:Y.cause||Y}):At.from(Y,Y&&Y.code,v,$)}}},zV=new Map,VP=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:a}=t,i=[s,a,n];let o=i.length,d=o,h,u,x=zV;for(;d--;)h=i[d],u=x.get(h),u===void 0&&x.set(h,u=d?new Map:UV(t)),x=u;return u};VP();const gj={http:aV,xhr:MV,fetch:{get:VP}};Ce.forEach(gj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const I6=e=>`- ${e}`,VV=e=>Ce.isFunction(e)||e===null||e===!1,qP={getAdapter:(e,t)=>{e=Ce.isArray(e)?e:[e];const{length:n}=e;let s,a;const i={};for(let o=0;o<n;o++){s=e[o];let d;if(a=s,!VV(s)&&(a=gj[(d=String(s)).toLowerCase()],a===void 0))throw new At(`Unknown adapter '${d}'`);if(a&&(Ce.isFunction(a)||(a=a.get(t))))break;i[d||"#"+o]=a}if(!a){const o=Object.entries(i).map(([h,u])=>`adapter ${h} `+(u===!1?"is not supported by the environment":"is not available in the build"));let d=n?o.length>1?`since :
`+o.map(I6).join(`
`):" "+I6(o[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:gj};function tv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rh(null,e)}function D6(e){return tv(e),e.headers=Os.from(e.headers),e.data=ev.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qP.getAdapter(e.adapter||km.adapter,e)(e).then(function(s){return tv(e),s.data=ev.call(e,e.transformResponse,s),s.headers=Os.from(s.headers),s},function(s){return FP(s)||(tv(e),s&&s.response&&(s.response.data=ev.call(e,e.transformResponse,s.response),s.response.headers=Os.from(s.response.headers))),Promise.reject(s)})}const HP="1.12.2",Wy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wy[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const M6={};Wy.transitional=function(t,n,s){function a(i,o){return"[Axios v"+HP+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,d)=>{if(t===!1)throw new At(a(o," has been removed"+(n?" in "+n:"")),At.ERR_DEPRECATED);return n&&!M6[o]&&(M6[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,d):!0}};Wy.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function qV(e,t,n){if(typeof e!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const d=e[i],h=d===void 0||o(d,i,e);if(h!==!0)throw new At("option "+i+" must be "+h,At.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new At("Unknown option "+i,At.ERR_BAD_OPTION)}}const dp={assertOptions:qV,validators:Wy},mi=dp.validators;let zc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new N6,response:new N6}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=rd(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&dp.assertOptions(s,{silentJSONParsing:mi.transitional(mi.boolean),forcedJSONParsing:mi.transitional(mi.boolean),clarifyTimeoutError:mi.transitional(mi.boolean)},!1),a!=null&&(Ce.isFunction(a)?n.paramsSerializer={serialize:a}:dp.assertOptions(a,{encode:mi.function,serialize:mi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),dp.assertOptions(n,{baseUrl:mi.spelling("baseURL"),withXsrfToken:mi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Ce.merge(i.common,i[n.method]);i&&Ce.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Os.concat(o,i);const d=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(h=h&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let x,p=0,b;if(!h){const v=[D6.bind(this),void 0];for(v.unshift(...d),v.push(...u),b=v.length,x=Promise.resolve(n);p<b;)x=x.then(v[p++],v[p++]);return x}b=d.length;let _=n;for(;p<b;){const v=d[p++],N=d[p++];try{_=v(_)}catch(j){N.call(this,j);break}}try{x=D6.call(this,_)}catch(v){return Promise.reject(v)}for(p=0,b=u.length;p<b;)x=x.then(u[p++],u[p++]);return x}getUri(t){t=rd(this.defaults,t);const n=UP(t.baseURL,t.url,t.allowAbsoluteUrls);return RP(n,t.params,t.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(t){zc.prototype[t]=function(n,s){return this.request(rd(s||{},{method:t,url:n,data:(s||{}).data}))}});Ce.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,d){return this.request(rd(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}zc.prototype[t]=n(),zc.prototype[t+"Form"]=n(!0)});let HV=class WP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(d=>{s.subscribe(d),i=d}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,d){s.reason||(s.reason=new Rh(i,o,d),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new WP(function(a){t=a}),cancel:t}}};function WV(e){return function(n){return e.apply(null,n)}}function GV(e){return Ce.isObject(e)&&e.isAxiosError===!0}const yj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yj).forEach(([e,t])=>{yj[t]=e});function GP(e){const t=new zc(e),n=_P(zc.prototype.request,t);return Ce.extend(n,zc.prototype,t,{allOwnKeys:!0}),Ce.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return GP(rd(e,a))},n}const Wr=GP(km);Wr.Axios=zc;Wr.CanceledError=Rh;Wr.CancelToken=HV;Wr.isCancel=FP;Wr.VERSION=HP;Wr.toFormData=Hy;Wr.AxiosError=At;Wr.Cancel=Wr.CanceledError;Wr.all=function(t){return Promise.all(t)};Wr.spread=WV;Wr.isAxiosError=GV;Wr.mergeConfig=rd;Wr.AxiosHeaders=Os;Wr.formToJSON=e=>$P(Ce.isHTMLForm(e)?new FormData(e):e);Wr.getAdapter=qP.getAdapter;Wr.HttpStatusCode=yj;Wr.default=Wr;const{Axios:b5e,AxiosError:v5e,CanceledError:j5e,isCancel:w5e,CancelToken:N5e,VERSION:_5e,all:S5e,Cancel:C5e,isAxiosError:A5e,spread:O5e,toFormData:E5e,AxiosHeaders:k5e,HttpStatusCode:T5e,formToJSON:P5e,getAdapter:I5e,mergeConfig:D5e}=Wr,QP=()=>localStorage.getItem("VITE_API_BASE_URL")||"http://localhost:5000/api"||null||"http://localhost:5000/api";let ef=QP();const he=Wr.create({baseURL:ef,timeout:1e4,headers:{"Content-Type":"application/json"}});he.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));he.interceptors.response.use(e=>e,e=>{var t;if(!e.response)return console.error("Network error - backend may be offline"),Promise.reject(new Error("Network connection failed. Is the backend running?"));if(e.response.status===401){const n=window.location.pathname;!n.includes("/login")&&!n.includes("/register")&&(console.warn("Session expired - logging out"),localStorage.removeItem("token"),(t=window==null?void 0:window.history)!=null&&t.pushState?(window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))):window.location.href="/login")}return Promise.reject(e)});const bj=e=>{e?(localStorage.setItem("VITE_API_BASE_URL",e),ef=e,he.defaults.baseURL=e):(localStorage.removeItem("VITE_API_BASE_URL"),ef=QP(),he.defaults.baseURL=ef)},YP=()=>ef,XP=async(e="/auth/verify")=>{var t,n,s;try{return{success:!0,data:(await he.get(e)).data}}catch(a){return{success:!1,error:((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.message)||a.message,status:(s=a.response)==null?void 0:s.status}}},Pl=Object.freeze(Object.defineProperty({__proto__:null,default:he,getCurrentApiBaseUrl:YP,setApiBaseUrl:bj,testApiConnection:XP},Symbol.toStringTag,{value:"Module"})),KP=T.createContext(),$i=()=>{const e=T.useContext(KP);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},QV=({children:e})=>{const[t,n]=T.useState(null),[s,a]=T.useState(!0);T.useEffect(()=>{(async()=>{var A;if(localStorage.getItem("token"))try{if((await he.get("/auth/verify")).data.valid){const k=await he.get("/auth/profile");n(k.data.user)}else localStorage.removeItem("token"),n(null)}catch(E){console.error("Auth check failed:",E),((A=E.response)==null?void 0:A.status)===401&&(localStorage.removeItem("token"),n(null))}a(!1)})()},[]);const i=async(S,C)=>{var A,E;try{const k=await he.post("/auth/login",{email:S,password:C}),{token:D,user:R}=k.data;return localStorage.setItem("token",D),n(R),ye.success(`Welcome back, ${R.name}!`),{success:!0}}catch(k){const D=((E=(A=k.response)==null?void 0:A.data)==null?void 0:E.message)||"Login failed";return ye.error(D),{success:!1,message:D}}},o=async()=>{try{await he.post("/auth/logout")}catch(S){console.error("Logout error:",S)}finally{localStorage.removeItem("token"),n(null),ye.success("Logged out successfully")}},d=async S=>{var C,A;try{await he.put("/auth/profile",S);const E=await he.get("/auth/profile");return n(E.data.user),ye.success("Profile updated successfully"),{success:!0}}catch(E){const k=((A=(C=E.response)==null?void 0:C.data)==null?void 0:A.message)||"Profile update failed";return ye.error(k),{success:!1,message:k}}},h=async(S,C)=>{var A,E;try{return await he.put("/auth/change-password",{currentPassword:S,newPassword:C}),ye.success("Password changed successfully"),{success:!0}}catch(k){const D=((E=(A=k.response)==null?void 0:A.data)==null?void 0:E.message)||"Password change failed";return ye.error(D),{success:!1,message:D}}},u=async(S,C)=>{var A,E;try{const k=await he.post("/auth/checkin",{location:S,notes:C});return ye.success("Checked in successfully"),{success:!0,data:k.data}}catch(k){const D=((E=(A=k.response)==null?void 0:A.data)==null?void 0:E.message)||"Check-in failed";return ye.error(D),{success:!1,message:D}}},x=async S=>{var C,A;try{const E=await he.post("/auth/checkout",{notes:S});return ye.success("Checked out successfully"),{success:!0,data:E.data}}catch(E){const k=((A=(C=E.response)==null?void 0:C.data)==null?void 0:A.message)||"Check-out failed";return ye.error(k),{success:!1,message:k}}},p=async()=>{try{return{success:!0,data:(await he.get("/auth/attendance/today")).data.attendance}}catch(S){return console.error("Attendance fetch error:",S),{success:!1,message:"Failed to fetch attendance"}}},b=T.useMemo(()=>t!=null&&t.permissions?new Set(t.permissions.map(S=>`${S.module}:${S.action}:${S.resource}`)):new Set,[t==null?void 0:t.permissions]),_=T.useCallback((S,C,A)=>t?t.role&&t.role.level>=5?!0:b.has(`${S}:${C}:${A}`):!1,[b,t]),v=T.useCallback(S=>Array.isArray(S)?t?t.role&&t.role.level>=5?!0:S.some(([C,A,E])=>b.has(`${C}:${A}:${E}`)):!1:(console.warn("hasAnyPermission expects an array of permission triples"),!1),[b,t]),N=T.useCallback(S=>t?t.role&&t.role.level>=4?!0:t.department===S:!1,[t]),j={user:t,loading:s,login:i,logout:o,updateProfile:d,changePassword:h,checkIn:u,checkOut:x,getTodayAttendance:p,hasPermission:_,hasAnyPermission:v,canAccessDepartment:N};return r.jsx(KP.Provider,{value:j,children:e})};var ZP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R6=K.createContext&&K.createContext(ZP),YV=["attr","size","title"];function XV(e,t){if(e==null)return{};var n=KV(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function KV(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gp.apply(this,arguments)}function L6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(n),!0).forEach(function(s){ZV(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ZV(e,t,n){return t=JV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=eq(e,"string");return typeof t=="symbol"?t:t+""}function eq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JP(e){return e&&e.map((t,n)=>K.createElement(t.tag,Qp({key:n},t.attr),JP(t.child)))}function at(e){return t=>K.createElement(tq,Gp({attr:Qp({},e.attr)},t),JP(e.child))}function tq(e){var t=n=>{var{attr:s,size:a,title:i}=e,o=XV(e,YV),d=a||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),K.createElement("svg",Gp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:h,style:Qp(Qp({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&K.createElement("title",null,i),e.children)};return R6!==void 0?K.createElement(R6.Consumer,null,n=>t(n)):t(ZP)}function Nc(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function Fl(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function up(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function rq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(e)}function nq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"},child:[]}]})(e)}function sq(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-90.62-70.05c.19-1.38.8-2.66.8-4.06.05-7.55-2.61-15.27-8.61-21.71-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-40.33 8.38-74.66 31.07-97.59 62.57L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.35 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.42-6.97 4.17-17.02-2.81-22.45zM157.23 251.54c-8.61 67.96-36.41 93.33-52.62 110.75-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h241.92L157.23 251.54zM320 512c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"},child:[]}]})(e)}function rv(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Bl(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(e)}function $6(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function aq(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function e7(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Ni(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function or(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Ii(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Vc(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function nv(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(e)}function Il(e){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function as(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function go(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function t7(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(e)}function ri(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Aa(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function iq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M176 216h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16zm-16 80c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16H176c-8.84 0-16 7.16-16 16v16zm96 121.13c-16.42 0-32.84-5.06-46.86-15.19L0 250.86V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V250.86L302.86 401.94c-14.02 10.12-30.44 15.19-46.86 15.19zm237.61-254.18c-8.85-6.94-17.24-13.47-29.61-22.81V96c0-26.51-21.49-48-48-48h-77.55c-3.04-2.2-5.87-4.26-9.04-6.56C312.6 29.17 279.2-.35 256 0c-23.2-.35-56.59 29.17-73.41 41.44-3.17 2.3-6 4.36-9.04 6.56H96c-26.51 0-48 21.49-48 48v44.14c-12.37 9.33-20.76 15.87-29.61 22.81A47.995 47.995 0 0 0 0 200.72v10.65l96 69.35V96h320v184.72l96-69.35v-10.65c0-14.74-6.78-28.67-18.39-37.77z"},child:[]}]})(e)}function Gy(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function wa(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function oq(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function cs(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function r7(e){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function lq(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function Pf(e){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function Qy(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Yy(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"},child:[]}]})(e)}function F6(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function cq(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function dq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(e)}function n7(e){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"},child:[]}]})(e)}function sv(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Yp(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function B6(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function _c(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function U6(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function _4(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Xp(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Br(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Lh(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function Xs(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function uq(e){return at({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function tf(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Ps(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Kp(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Di(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function hq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function vj(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function fq(e){return at({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function mq(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(e)}function xq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function s7(e){return at({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Es(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Bn(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function pq(e){return at({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function If(e){return at({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function a7(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Zp(e){return at({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"},child:[]}]})(e)}const gq=()=>{const[e,t]=T.useState({email:"",password:""}),[n,s]=T.useState(!1),[a,i]=T.useState(!1),{login:o}=$i(),d=x=>{t({...e,[x.target.name]:x.target.value})},h=async x=>{x.preventDefault(),i(!0);const p=await o(e.email,e.password);p.success||it.error(p.message),i(!1)},u=()=>{s(!n)};return r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-md mx-auto",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full bg-primary flex items-center justify-center",children:r.jsx(e7,{className:"text-white text-4xl"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-1",children:"PASHION ERP"}),r.jsx("p",{className:"text-gray-500",children:"Clothing Factory Management System"})]}),r.jsx("div",{className:"bg-white shadow rounded-lg border border-gray-200",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 text-center mb-1",children:"Welcome Back"}),r.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Sign in to your account to continue"}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(Gy,{})}),r.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:d,required:!0,className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(cq,{})}),r.jsx("input",{id:"password",name:"password",type:n?"text":"password",value:e.password,onChange:d,required:!0,className:"pl-10 pr-10 py-2 w-full border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 focus:outline-none",onClick:u,children:n?r.jsx(oq,{}):r.jsx(cs,{})})]})]}),r.jsx("button",{type:"submit",className:"w-full py-3 text-lg font-semibold rounded bg-gradient-to-r from-primary to-blue-400 text-white flex items-center justify-center disabled:opacity-50",disabled:a,children:a?r.jsx("span",{className:"animate-spin h-5 w-5 mr-2 border-2 border-white border-t-transparent rounded-full"}):"Sign In"})]}),r.jsxs("div",{className:"mt-6 text-center",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Demo Credentials:"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Admin: admin@pashion.com / admin123"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Sales: sales@pashion.com / sales123"})]})]})})]})})},yq=[{value:"sales",label:"Sales"},{value:"procurement",label:"Procurement"},{value:"manufacturing",label:"Manufacturing"},{value:"outsourcing",label:"Outsourcing"},{value:"inventory",label:"Inventory"},{value:"shipment",label:"Shipment"},{value:"store",label:"Store"},{value:"finance",label:"Finance"},{value:"admin",label:"Administration"},{value:"samples",label:"Samples"}],z6=()=>{const e=_t(),[t,n]=T.useState({employee_id:"",name:"",email:"",password:"",phone:"",department:""}),[s,a]=T.useState(!1),i=d=>{const{name:h,value:u}=d.target;n(x=>({...x,[h]:u}))},o=async d=>{var h,u;d.preventDefault(),a(!0);try{await he.post("/auth/register",t),it.success("Registration successful! Redirecting to login..."),setTimeout(()=>e("/login"),1500)}catch(x){it.error(((u=(h=x.response)==null?void 0:h.data)==null?void 0:u.message)||x.message||"Registration failed")}finally{a(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center py-8",children:r.jsxs("div",{className:"max-w-2xl w-full mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-4xl font-bold",children:"P"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"PASHION ERP"}),r.jsx("h2",{className:"text-xl text-gray-600 font-medium mb-1",children:"Create New Account"}),r.jsx("p",{className:"text-gray-500",children:"Join our clothing factory management system"})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg border border-gray-200 p-8",children:[r.jsxs("form",{onSubmit:o,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",name:"employee_id",value:t.employee_id,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",name:"name",value:t.name,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",name:"password",value:t.password,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),r.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:i,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),r.jsxs("select",{name:"department",value:t.department,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select Department"}),yq.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))]})]})]}),r.jsx("button",{type:"submit",className:"w-full btn btn-primary py-3 text-lg font-semibold",disabled:s,children:s?"Registering...":"Create Account"})]}),r.jsx("div",{className:"my-6 border-t border-gray-200"}),r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),r.jsx(QB,{to:"/login",className:"text-blue-600 font-semibold hover:underline",children:"Sign In"})]})]})]})})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),V6=e=>{const t=vq(e);return t.charAt(0).toUpperCase()+t.slice(1)},i7=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),jq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...d},h)=>T.createElement("svg",{ref:h,...wq,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:i7("lucide",a),...!i&&!jq(d)&&{"aria-hidden":"true"},...d},[...o.map(([u,x])=>T.createElement(u,x)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const n=T.forwardRef(({className:s,...a},i)=>T.createElement(Nq,{ref:i,iconNode:t,className:i7(`lucide-${bq(V6(e))}`,`lucide-${e}`,s),...a}));return n.displayName=V6(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],o7=Qe("activity",_q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],l7=Qe("arrow-left",Sq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Aq=Qe("arrow-right",Cq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Eq=Qe("ban",Oq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rf=Qe("bell",kq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],q6=Qe("box",Tq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Iq=Qe("building-2",Pq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ka=Qe("building",Dq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],c7=Qe("calendar-check",Mq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],jj=Qe("calendar-clock",Rq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oa=Qe("calendar",Lq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],d7=Qe("camera",$q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_u=Qe("chart-column",Fq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],wj=Qe("chart-line",Bq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zq=Qe("chart-pie",Uq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$h=Qe("chevron-left",Vq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xy=Qe("chevron-right",qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tm=Qe("circle-alert",Hq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ut=Qe("circle-check-big",Wq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],S4=Qe("circle-check",Gq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],u7=Qe("circle-x",Qq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xq=Qe("circle",Yq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Su=Qe("clipboard-list",Kq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cn=Qe("clock",Zq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],eH=Qe("cog",Jq);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],H6=Qe("copy",tH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],W6=Qe("credit-card",rH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Fi=Qe("dollar-sign",nH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],On=Qe("download",sH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kr=Qe("eye",aH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ji=Qe("factory",iH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kr=Qe("file-text",oH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],h7=Qe("funnel",lH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],dH=Qe("graduation-cap",cH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Cu=Qe("indian-rupee",uH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f7=Qe("info",hH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ma=Qe("layout-dashboard",fH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],m7=Qe("loader-circle",mH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pH=Qe("log-out",xH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],x7=Qe("mail",gH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ul=Qe("map-pin",yH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],p7=Qe("menu",bH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],G6=Qe("microscope",vH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M5 12h14",key:"1ays0h"}]],wH=Qe("minus",jH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],g7=Qe("package-search",NH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wt=Qe("package",_H);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],CH=Qe("paintbrush",SH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Nj=Qe("palette",AH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],hp=Qe("pause",OH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kH=Qe("pen-line",EH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],y7=Qe("pencil",TH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],C4=Qe("phone",PH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],nf=Qe("play",IH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ln=Qe("plus",DH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Jp=Qe("printer",MH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],nd=Qe("qr-code",RH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ji=Qe("receipt",LH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],is=Qe("refresh-cw",$H);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],b7=Qe("rotate-ccw",FH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],UH=Qe("route",BH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ky=Qe("save",zH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],A4=Qe("scan",VH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],HH=Qe("scissors",qH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ts=Qe("search",WH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],z0=Qe("send",GH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YH=Qe("settings",QH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],v7=Qe("settings-2",XH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],j7=Qe("shield-check",KH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],JH=Qe("shield",ZH);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],tW=Qe("shirt",eW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],nW=Qe("shopping-bag",rW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Za=Qe("shopping-cart",sW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],av=Qe("square-check-big",aW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bi=Qe("square-pen",iW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],eg=Qe("square",oW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tg=Qe("star",lW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],O4=Qe("store",cW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],uW=Qe("table",dW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],E4=Qe("target",hW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],mW=Qe("timer",fW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zy=Qe("trash-2",xW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Oo=Qe("trending-down",pW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cr=Qe("trending-up",gW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pn=Qe("triangle-alert",yW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ks=Qe("truck",bW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zl=Qe("user",vW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$n=Qe("users",jW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],NW=Qe("wallet",wW);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sd=Qe("x",_W);var w7={exports:{}},SW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CW=SW,AW=CW;function N7(){}function _7(){}_7.resetWarningCache=N7;var OW=function(){function e(s,a,i,o,d,h){if(h!==AW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_7,resetWarningCache:N7};return n.PropTypes=n,n};w7.exports=OW();var EW=w7.exports;const Ct=Vt(EW),S7=T.createContext(),kW=()=>{const e=T.useContext(S7);if(!e)throw new Error("useStore must be used within a StoreProvider");return e},TW=({children:e})=>{const[t,n]=T.useState(!1),s=()=>n(!0),a=()=>n(!1);return r.jsx(S7.Provider,{value:{isStockModalOpen:t,openStockModal:s,closeStockModal:a},children:e})},C7=({open:e,onToggle:t})=>{var N,j,S;const n=_t(),s=Li(),{user:a,logout:i}=$i(),{openStockModal:o}=kW(),[d,h]=T.useState(0);T.useEffect(()=>{if((a==null?void 0:a.department)==="procurement"||(a==null?void 0:a.department)==="admin"){u();const C=setInterval(u,3e4);return()=>clearInterval(C)}},[a==null?void 0:a.department]);const u=async()=>{try{const C=await he.get("/procurement/pos",{params:{status:"pending_approval"}}),A=C.data.purchaseOrders||C.data.pos||[];h(A.length)}catch(C){console.error("Error fetching pending approvals count:",C)}},x=C=>({sales:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/sales"},{text:"Sales Orders",icon:r.jsx(Za,{size:18}),path:"/sales/orders"},{text:"Create Order",icon:r.jsx(kr,{size:18}),path:"/sales/orders/create"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/sales/reports"}],procurement:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/procurement"},{text:"Pending Approvals",icon:r.jsx(Ut,{size:18}),path:"/procurement/pending-approvals",badge:d},{text:"Purchase Orders",icon:r.jsx(Za,{size:18}),path:"/procurement/purchase-orders"},{text:"Create Purchase Order",icon:r.jsx(kr,{size:18}),path:"/procurement/purchase-orders/create"},{text:"Vendors",icon:r.jsx(Ka,{size:18}),path:"/procurement/vendors"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/procurement/reports"}],challans:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/challans"},{text:"Challan Register",icon:r.jsx(Ji,{size:18}),path:"/challans/register"},{text:"Create Challan",icon:r.jsx(Ji,{size:18}),path:"/challans/create"}],inventory:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/inventory"},{text:"Products",icon:r.jsx(Wt,{size:18}),path:"/inventory/products"},{text:"Barcode Lookup",icon:r.jsx(A4,{size:18}),path:"/inventory/barcode-lookup"},{text:"Lifecycle Tracking",icon:r.jsx(Cn,{size:18}),path:"/inventory/lifecycle"},{text:"Stock Management",icon:r.jsx(Wt,{size:18}),path:"/inventory/stock"},{text:"Goods Receipt (GRN)",icon:r.jsx(Ji,{size:18}),path:"/inventory/grn"},{text:"Stock Alerts",icon:r.jsx(rf,{size:18}),path:"/inventory/alerts"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/inventory/reports"}],manufacturing:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/manufacturing"},{text:"Production Orders",icon:r.jsx(ji,{size:18}),path:"/manufacturing/orders"},{text:"Production Tracking",icon:r.jsx(Cn,{size:18}),path:"/manufacturing/tracking"},{text:"Quality Control",icon:r.jsx(G6,{size:18}),path:"/manufacturing/quality"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/manufacturing/reports"}],outsourcing:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/outsourcing"},{text:"Outward Challans",icon:r.jsx(Ji,{size:18}),path:"/outsourcing/outward"},{text:"Inward Challans",icon:r.jsx(Ji,{size:18}),path:"/outsourcing/inward"},{text:"Vendor Tracking",icon:r.jsx(Ka,{size:18}),path:"/outsourcing/tracking"}],samples:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/samples"},{text:"Sample Orders",icon:r.jsx(G6,{size:18}),path:"/samples/orders"},{text:"Sample Tracking",icon:r.jsx(Cn,{size:18}),path:"/samples/tracking"},{text:"Conversion Reports",icon:r.jsx(kr,{size:18}),path:"/samples/reports"}],shipment:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/shipment"},{text:"Dispatch Orders",icon:r.jsx(ks,{size:18}),path:"/shipment/dispatch"},{text:"Tracking",icon:r.jsx(Cn,{size:18}),path:"/shipment/tracking"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/shipment/reports"}],store:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/store"},{text:"Stock Management",icon:r.jsx(O4,{size:18}),path:"/store/stock"},{text:"Sales Tracking",icon:r.jsx(Za,{size:18}),path:"/store/sales"},{text:"Returns",icon:r.jsx(Ji,{size:18}),path:"/store/returns"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/store/reports"}],finance:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/finance"},{text:"Invoices",icon:r.jsx(Ji,{size:18}),path:"/finance/invoices"},{text:"Payments",icon:r.jsx(Fi,{size:18}),path:"/finance/payments"},{text:"Reports",icon:r.jsx(kr,{size:18}),path:"/finance/reports"}],admin:[{text:"Dashboard",icon:r.jsx(Ma,{size:18}),path:"/admin"},{text:"User Management",icon:r.jsx(zl,{size:18}),path:"/admin/users"},{text:"Role Management",icon:r.jsx(JH,{size:18}),path:"/admin/roles"},{text:"System Config",icon:r.jsx(YH,{size:18}),path:"/admin/config"}]})[C]||[],p=[{text:"Profile",icon:r.jsx(zl,{size:18}),path:"/profile"},{text:"Attendance",icon:r.jsx(Cn,{size:18}),path:"/attendance"},{text:"Notifications",icon:r.jsx(rf,{size:18}),path:"/notifications"}],b=x(a==null?void 0:a.department),_=C=>{if(C==="/store/stock"&&(a==null?void 0:a.department)==="store"&&o){o();return}n(C)},v=C=>s.pathname===C;return a?r.jsx("div",{className:`fixed left-0 top-0 h-full bg-primary-600 text-white transition-all duration-300 ease-in-out z-40 ${e?"w-60":"w-16"}`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:`flex items-center ${e?"justify-between px-4":"justify-center px-2"} py-4 bg-primary-700`,children:[e&&r.jsx("h1",{className:"text-lg font-semibold truncate",children:"Passion ERP"}),r.jsx("button",{onClick:t,className:"text-white hover:bg-primary-800 rounded-md p-1 transition-colors",children:r.jsx(p7,{size:20})})]}),r.jsxs("div",{className:`px-4 py-6 flex flex-col items-center gap-2 ${e?"items-start":"items-center"}`,children:[r.jsx("div",{className:"w-10 h-10 bg-secondary-500 rounded-full flex items-center justify-center font-semibold",children:((N=a.name)==null?void 0:N[0])||((j=a.email)==null?void 0:j[0])||"?"}),e&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-sm font-medium truncate",children:a.name}),r.jsx("p",{className:"text-xs text-white/70 truncate",children:(S=a.role)==null?void 0:S.name})]})]}),r.jsx("hr",{className:"border-white/20"}),r.jsx("nav",{className:`flex-1 ${e?"px-2":"px-0"} py-2`,children:b.map(C=>r.jsxs("button",{onClick:()=>_(C.path),className:`w-full flex items-center gap-3 px-3 py-2 mb-1 rounded-lg transition-colors hover:bg-white/10 ${v(C.path)?"bg-white/20":""} relative`,children:[r.jsx("span",{className:"text-white flex-shrink-0",children:C.icon}),e&&r.jsx("span",{className:"text-sm truncate flex-1",children:C.text}),C.badge>0&&r.jsx("span",{className:`${e?"relative":"absolute top-1 right-1"} bg-red-500 text-white text-xs font-bold rounded-full min-w-[20px] h-5 flex items-center justify-center px-1.5`,children:C.badge>99?"99+":C.badge})]},C.text))}),r.jsx("hr",{className:"border-white/20"}),r.jsx("nav",{className:`${e?"px-2":"px-0"} py-2`,children:p.map(C=>r.jsxs("button",{onClick:()=>_(C.path),className:`w-full flex items-center gap-3 px-3 py-2 mb-1 rounded-lg transition-colors hover:bg-white/10 ${v(C.path)?"bg-white/20":""}`,children:[r.jsx("span",{className:"text-white flex-shrink-0",children:C.icon}),e&&r.jsx("span",{className:"text-sm truncate",children:C.text})]},C.text))}),r.jsx("hr",{className:"border-white/20"}),r.jsx("div",{className:`${e?"px-2":"px-0"} py-4`,children:r.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors hover:bg-white/10",children:[r.jsx(pH,{size:18,className:"text-white flex-shrink-0"}),e&&r.jsx("span",{className:"text-sm",children:"Logout"})]})})]})}):null};C7.propTypes={open:Ct.bool.isRequired,onToggle:Ct.func.isRequired};const Q6=e=>!e||typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1),PW=({children:e})=>{var d,h;const[t,n]=T.useState(!0),{user:s}=$i(),a=Li(),i=T.useMemo(()=>{const u=a.pathname||"/";if(u==="/"||u==="")return s!=null&&s.department?`${Q6(s.department)} Dashboard`:"Dashboard";const x=u.split("/").filter(Boolean);return x.length?x.map(Q6).join(" / "):"Dashboard"},[a.pathname,s==null?void 0:s.department]),o=()=>{n(u=>!u)};return r.jsx(TW,{children:r.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[r.jsx(C7,{open:t,onToggle:o}),r.jsxs("main",{className:`flex-1 flex flex-col min-h-screen transition-all duration-300 overflow-x-hidden ${t?"ml-60":"ml-16"}`,children:[r.jsx("header",{className:"sticky top-0 z-50 bg-white border-gray-200 border-b shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:o,className:"p-2 rounded-md text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.jsx(p7,{size:20})}),r.jsx("h1",{className:"ml-4 text-xl font-semibold text-gray-900",children:i})]}),s&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-600",children:s.email}),r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:((d=s.name)==null?void 0:d[0])||((h=s.email)==null?void 0:h[0])||"?"})]})]})}),r.jsx("section",{className:"flex-1 p-4 md:p-6",children:e})]})]})})},Mi=({data:e,size:t=150,includeText:n=!0,textPosition:s="bottom",className:a=""})=>{const i=T.useRef(null);T.useEffect(()=>{i.current&&o()},[e,t]);const o=()=>{const h=i.current.getContext("2d");h.clearRect(0,0,t,t),h.fillStyle="white",h.fillRect(0,0,t,t);const u=20,x=t/u;h.fillStyle="black";for(let p=0;p<u;p++)for(let b=0;b<u;b++)((p+b)%3===0||p<3||b<3||p>u-4||b>u-4)&&h.fillRect(p*x,b*x,x,x);for(let p=0;p<50;p++){const b=Math.floor(Math.random()*u),_=Math.floor(Math.random()*u);h.fillRect(b*x,_*x,x,x)}};return r.jsxs("div",{className:`qr-code-container ${a}`,children:[r.jsx("canvas",{ref:i,width:t,height:t,className:"border border-gray-300",title:"QR Code for order data"}),n&&s==="bottom"&&r.jsx("div",{className:"text-center mt-2",children:r.jsx("p",{className:"text-xs text-gray-600",children:"Scan to view order details"})}),n&&s==="top"&&r.jsx("div",{className:"text-center mb-2",children:r.jsx("p",{className:"text-xs text-gray-600",children:"Scan to view order details"})})]})},Y6=()=>{var ae,le;const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState("all"),[i,o]=T.useState(!0),[d,h]=T.useState(null),[u,x]=T.useState(null),[p,b]=T.useState([]),[_,v]=T.useState([]),[N,j]=T.useState(null),[S,C]=T.useState(!1),[A,E]=T.useState({from:"",to:""}),[k,D]=T.useState(!1),[R,F]=T.useState(null),M=async()=>{var ie,fe;try{o(!0),h(null);const xe=await he.get("/sales/dashboard/stats");x(xe.data);const ge=await he.get("/sales/orders?page=1&limit=20");b(ge.data.orders);const ke=await he.get("/sales/pipeline");v(ke.data.pipeline)}catch(xe){console.error("Error fetching sales dashboard data:",xe),h(((fe=(ie=xe.response)==null?void 0:ie.data)==null?void 0:fe.message)||"Failed to load dashboard data"),ye.error("Failed to load dashboard data")}finally{o(!1)}};T.useEffect(()=>{M()},[]);const z=async()=>{try{C(!0);const ie=new URLSearchParams;s!=="all"&&ie.append("status",s),A.from&&ie.append("date_from",A.from),A.to&&ie.append("date_to",A.to);const fe=await he.get(`/sales/export?${ie}`,{responseType:"blob"}),xe=window.URL.createObjectURL(new Blob([fe.data])),ge=document.createElement("a");ge.href=xe,ge.setAttribute("download","sales_orders.csv"),document.body.appendChild(ge),ge.click(),ge.remove(),window.URL.revokeObjectURL(xe),ye.success("Orders exported successfully")}catch(ie){console.error("Export error:",ie),ye.error("Failed to export orders")}finally{C(!1)}},I=ie=>{e(`/sales/orders/${ie}`)},L=ie=>{e(`/sales/orders/edit/${ie}`)},$=ie=>{F(ie),D(!0)},W=async ie=>{var fe,xe,ge,ke;if(window.confirm(`Are you sure you want to send order ${ie.order_number} to procurement?

The order will remain in 'draft' status until procurement confirms it.`))try{const Ae=await he.put(`/sales/orders/${ie.id}/send-to-procurement`);ye.success(Ae.data.message||"Order sent to procurement successfully. Awaiting procurement confirmation."),M()}catch(Ae){console.error("Error sending to procurement:",Ae);const Ne=((xe=(fe=Ae.response)==null?void 0:fe.data)==null?void 0:xe.message)||"Failed to send order to procurement",Me=(ke=(ge=Ae.response)==null?void 0:ge.data)==null?void 0:ke.currentStatus;Me?ye.error(`${Ne}. Current status: ${Me}`):ye.error(Ne)}},U=ie=>{ie&&console.log("Searching for:",ie)},Y=ie=>({draft:"bg-gray-100 text-gray-700",pending_approval:"bg-yellow-100 text-yellow-700",confirmed:"bg-blue-100 text-blue-700",in_production:"bg-orange-100 text-orange-700",ready_to_ship:"bg-purple-100 text-purple-700",shipped:"bg-indigo-100 text-indigo-700",delivered:"bg-green-100 text-green-700",completed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700"})[ie]||"bg-gray-100 text-gray-700",X=ie=>({draft:0,pending_approval:10,confirmed:25,in_production:65,ready_to_ship:85,shipped:90,delivered:95,completed:100,cancelled:0})[ie]||0,V=({title:ie,value:fe,icon:xe,color:ge="primary",subtitle:ke,progress:Ae})=>r.jsx("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500 mb-1 tracking-wide",children:ie}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:fe}),ke&&r.jsx("div",{className:"text-xs text-gray-500",children:ke}),Ae!==void 0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:r.jsx("div",{className:`h-2 rounded-full ${ge==="info"?"bg-blue-500":ge==="success"?"bg-green-500":ge==="warning"?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${Ae}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[Ae,"% of target"]})]})]}),r.jsx("div",{className:`rounded-full p-3 flex items-center justify-center w-12 h-12 ${ge==="primary"?"bg-blue-100 text-blue-600":ge==="success"?"bg-green-100 text-green-600":ge==="info"?"bg-blue-100 text-blue-600":ge==="warning"?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"}`,children:xe})]})}),G=({children:ie,value:fe,index:xe})=>r.jsx("div",{className:fe!==xe?"hidden":"",children:fe===xe&&r.jsx("div",{className:"p-6",children:ie})}),ne=s==="all"?p:p.filter(ie=>ie.status===s);return i?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(vj,{className:"animate-spin text-4xl text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading sales dashboard..."})]})})}):d?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wa,{className:"text-4xl text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-red-600 mb-4",children:d}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})})}):r.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your sales performance and manage orders"})]}),r.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",onClick:()=>e("/sales/orders/create"),children:[r.jsx(Br,{className:"text-sm"}),"Create Sales Order"]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(V,{title:"Total Orders",value:(u==null?void 0:u.totalOrders)||0,icon:r.jsx(Di,{className:"text-xl"}),color:"primary"}),r.jsx(V,{title:"Active Orders",value:(u==null?void 0:u.pendingOrders)||0,icon:r.jsx(as,{className:"text-xl"}),color:"warning"}),r.jsx(V,{title:"Completed Orders",value:((le=(ae=u==null?void 0:u.orderStats)==null?void 0:ae.find(ie=>ie.status==="completed"))==null?void 0:le.count)||0,icon:r.jsx(or,{className:"text-xl"}),color:"success"}),r.jsx(V,{title:"Total Revenue",value:`₹${(((u==null?void 0:u.totalRevenue)||0)/1e5).toFixed(1)}L`,icon:r.jsx(B6,{className:"text-xl"}),color:"info",subtitle:"This month"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:r.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-4",children:"Quick Search & Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Orders"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-4 py-2 pl-10 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search by order no, customer name...",onChange:ie=>U(ie.target.value)}),r.jsx(Ps,{className:"absolute left-3 top-3 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status Filter"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:ie=>a(ie.target.value),children:[r.jsx("option",{value:"all",children:"All Orders"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"pending_approval",children:"Pending Approval"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"in_production",children:"In Production"}),r.jsx("option",{value:"ready_to_ship",children:"Ready to Ship"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",onClick:()=>e("/sales/reports"),children:[r.jsx(Ni,{className:"text-sm"}),"View Reports"]}),r.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",onClick:z,disabled:S,children:[S?r.jsx(vj,{className:"animate-spin text-sm"}):r.jsx(lq,{className:"text-sm"}),S?"Exporting...":"Export"]})]})]})]})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-6",children:r.jsx("div",{className:"flex gap-8",children:["Sales Orders","Sales Pipeline","Customer Management"].map((ie,fe)=>r.jsx("button",{className:`py-4 px-2 font-medium text-sm border-b-2 transition-all ${t===fe?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600 hover:border-blue-300"}`,onClick:()=>n(fe),children:ie},ie))})}),r.jsx(G,{value:t,index:0,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-xl text-gray-900",children:"Sales Orders"}),r.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[ne.length," orders found"]})]}),r.jsxs("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",onClick:()=>e("/sales/orders"),children:[r.jsx(Il,{className:"text-sm"}),"View All Orders"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-left",children:"Order No."}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-left",children:"Customer"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-left",children:"Products"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-right",children:"Quantity"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-right",children:"Amount"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-center",children:"Status"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-center",children:"Progress"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-left",children:"Delivery Date"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-left",children:"Salesperson"}),r.jsx("th",{className:"font-semibold text-gray-700 px-4 py-3 text-center",children:"Actions"})]})}),r.jsx("tbody",{children:ne.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"10",className:"px-4 py-8 text-center text-gray-500",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Il,{className:"text-4xl text-gray-300 mb-2"}),r.jsx("p",{children:"No orders found matching your criteria"})]})})}):ne.map(ie=>{var fe,xe,ge,ke;return r.jsxs("tr",{className:"hover:bg-blue-50 border-b border-gray-100 transition-colors cursor-pointer group",onClick:Ae=>{Ae.target.closest("button")||I(ie.id)},tabIndex:0,onKeyDown:Ae=>{(Ae.key==="Enter"||Ae.key===" ")&&I(ie.id)},"aria-label":`View order ${ie.order_number}`,children:[r.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900 group-hover:underline",children:ie.order_number}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:((fe=ie.customer)==null?void 0:fe.name)||"N/A"}),r.jsx("div",{className:"text-xs text-gray-500",children:((xe=ie.customer)==null?void 0:xe.phone)||""})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"text-sm text-gray-700",children:ie.items&&ie.items.length>0?r.jsxs("div",{children:[ie.items.slice(0,2).map((Ae,Ne)=>r.jsx("div",{className:"truncate max-w-48",title:Ae.product_name,children:Ae.product_name},Ne)),ie.items.length>2&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",ie.items.length-2," more items"]})]}):"No products"})}),r.jsx("td",{className:"px-4 py-3 text-right font-medium",children:ie.total_quantity||0}),r.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:["₹",((ge=ie.final_amount)==null?void 0:ge.toLocaleString())||0]}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${Y(ie.status)}`,children:ie.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:r.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${X(ie.status)}%`}})}),r.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[X(ie.status),"%"]})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:ie.delivery_date?new Date(ie.delivery_date).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:((ke=ie.creator)==null?void 0:ke.name)||"N/A"}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx("button",{className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",onClick:Ae=>{Ae.stopPropagation(),I(ie.id)},title:"View Order",children:r.jsx(cs,{className:"text-sm"})}),r.jsx("button",{className:"p-2 rounded-lg bg-purple-50 text-purple-600 hover:bg-purple-100 transition-colors",onClick:Ae=>{Ae.stopPropagation(),L(ie.id)},title:"Edit Order",children:r.jsx(Aa,{className:"text-sm"})}),r.jsx("button",{className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 transition-colors",onClick:Ae=>{Ae.stopPropagation(),$(ie)},title:"View QR Code",children:r.jsx(Xs,{className:"text-sm"})}),ie.status==="draft"&&!ie.ready_for_procurement&&r.jsx("button",{className:"p-2 rounded-lg bg-orange-50 text-orange-600 hover:bg-orange-100 transition-colors",onClick:Ae=>{Ae.stopPropagation(),W(ie)},title:"Send to Procurement for Approval",children:r.jsx(_c,{className:"text-sm"})}),ie.status==="draft"&&ie.ready_for_procurement&&r.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-700 rounded-full whitespace-nowrap",children:"⏳ Awaiting Approval"})]})})]},ie.id)})})]})})]})}),r.jsx(G,{value:t,index:1,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-xl text-gray-900",children:"Sales Pipeline"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Track your sales opportunities through different stages"})]}),r.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:()=>e("/sales/pipeline"),children:[r.jsx(Ni,{className:"text-sm"}),"View Full Pipeline"]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6",children:_.length===0?r.jsxs("div",{className:"col-span-full text-center py-8",children:[r.jsx(Ni,{className:"text-4xl text-gray-300 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No pipeline data available"})]}):_.map((ie,fe)=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"text-lg font-semibold text-blue-600 mb-2 capitalize",children:ie.status.replace("_"," ")}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:ie.count}),r.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"Opportunities"}),r.jsxs("div",{className:"text-xl font-semibold text-green-600",children:["₹",((ie.value||0)/1e5).toFixed(1),"L"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Pipeline Value"}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:r.jsx("div",{className:"h-2 bg-blue-500 rounded-full transition-all duration-300",style:{width:`${Math.min((fe+1)*20,100)}%`}})})})]},ie.status))}),_.length>0&&r.jsxs("div",{className:"mt-8 bg-gray-50 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Pipeline Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.reduce((ie,fe)=>ie+fe.count,0)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Opportunities"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["₹",(_.reduce((ie,fe)=>ie+(fe.value||0),0)/1e5).toFixed(1),"L"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Pipeline Value"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_.length>0?Math.round(_.reduce((ie,fe)=>ie+fe.count,0)/_.length):0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Avg. per Stage"})]})]})]})]})}),r.jsx(G,{value:t,index:2,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-xl text-gray-900",children:"Customer Management"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage your customer relationships and insights"})]}),r.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",onClick:()=>e("/sales/customers"),children:[r.jsx(Br,{className:"text-sm"}),"Add Customer"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(If,{className:"text-blue-600 text-2xl"})}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:(N==null?void 0:N.total)||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ni,{className:"text-green-600 text-2xl"})}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:(N==null?void 0:N.newThisMonth)||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"New This Month"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(B6,{className:"text-blue-600 text-2xl"})}),r.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["₹",((N==null?void 0:N.avgOrderValue)||0)/1e3,"K"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Order Value"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",onClick:()=>e("/sales/customers"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(If,{className:"text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"View Customers"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Manage customer database"})]})]})}),r.jsx("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",onClick:()=>e("/sales/customer-segments"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ni,{className:"text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Customer Segments"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Analyze customer groups"})]})]})}),r.jsx("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",onClick:()=>e("/sales/customer-feedback"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(or,{className:"text-purple-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Customer Feedback"}),r.jsx("div",{className:"text-sm text-gray-600",children:"View customer reviews"})]})]})}),r.jsx("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",onClick:()=>e("/sales/customer-reports"),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ri,{className:"text-orange-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Customer Reports"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Generate customer insights"})]})]})})]})]})]})})]}),k&&R&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order QR Code"}),r.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Mi,{data:JSON.stringify({orderId:R.id,orderNumber:R.order_number,customer:R.customer,status:R.status,department:"sales",timestamp:new Date().toISOString(),materials:R.garment_specs,quantity:R.quantity}),size:200}),r.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Order: ",R.order_number]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Scan this QR code to access order details"})]})]})})]})};var rt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var X6=new Map([[rt.QR_CODE,"QR_CODE"],[rt.AZTEC,"AZTEC"],[rt.CODABAR,"CODABAR"],[rt.CODE_39,"CODE_39"],[rt.CODE_93,"CODE_93"],[rt.CODE_128,"CODE_128"],[rt.DATA_MATRIX,"DATA_MATRIX"],[rt.MAXICODE,"MAXICODE"],[rt.ITF,"ITF"],[rt.EAN_13,"EAN_13"],[rt.EAN_8,"EAN_8"],[rt.PDF_417,"PDF_417"],[rt.RSS_14,"RSS_14"],[rt.RSS_EXPANDED,"RSS_EXPANDED"],[rt.UPC_A,"UPC_A"],[rt.UPC_E,"UPC_E"],[rt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),K6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(K6||(K6={}));function IW(e){return Object.values(rt).includes(e)}var Vl;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Vl||(Vl={}));var Ua=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Vl.SCAN_TYPE_CAMERA,Vl.SCAN_TYPE_FILE],e}(),A7=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!X6.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,X6.get(t))},e}(),Z6=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),_j;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(_j||(_j={}));var O7=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:_j.UNKWOWN_ERROR}},e}(),E7=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function pi(e){return typeof e>"u"||e===null}function DW(e,t,n){return e>n?n:e<t?t:e}var du=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Kt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),J6=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),k7=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var s=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(a),o=Object.keys(t),d=0,h=o;d<h.length;d++){var u=h[d];if(i.has(u))return n.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),Sj={exports:{}};(function(e,t){(function(n,s){s(t)})(oo,function(n){function s(q){return q==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)l.hasOwnProperty(c)&&(q[c]=l[c])};function i(q,l){a(q,l);function c(){this.constructor=q}q.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}function o(q,l){var c=Object.setPrototypeOf;c?c(q,l):q.__proto__=l}function d(q,l){l===void 0&&(l=q.constructor);var c=Error.captureStackTrace;c&&c(q,l)}var h=function(q){i(l,q);function l(c){var f=this.constructor,m=q.call(this,c)||this;return Object.defineProperty(m,"name",{value:f.name,enumerable:!1}),o(m,f.prototype),d(m),m}return l}(Error);class u extends h{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class x extends u{}x.kind="ArgumentException";class p extends u{}p.kind="IllegalArgumentException";class b{constructor(l){if(this.binarizer=l,l===null)throw new p("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,c){return this.binarizer.getBlackRow(l,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,c,f,m){const g=this.binarizer.getLuminanceSource().crop(l,c,f,m);return new b(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends u{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class v{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(l,c,f,m,g){for(;g--;)f[m++]=l[c++]}static currentTimeMillis(){return Date.now()}}class j extends u{}j.kind="IndexOutOfBoundsException";class S extends j{constructor(l=void 0,c=void 0){super(c),this.index=l,this.message=c}}S.kind="ArrayIndexOutOfBoundsException";class C{static fill(l,c){for(let f=0,m=l.length;f<m;f++)l[f]=c}static fillWithin(l,c,f,m){C.rangeCheck(l.length,c,f);for(let g=c;g<f;g++)l[g]=m}static rangeCheck(l,c,f){if(c>f)throw new p("fromIndex("+c+") > toIndex("+f+")");if(c<0)throw new S(c);if(f>l)throw new S(f)}static asList(...l){return l}static create(l,c,f){return Array.from({length:l}).map(g=>Array.from({length:c}).fill(f))}static createInt32Array(l,c,f){return Array.from({length:l}).map(g=>Int32Array.from({length:c}).fill(f))}static equals(l,c){if(!l||!c||!l.length||!c.length||l.length!==c.length)return!1;for(let f=0,m=l.length;f<m;f++)if(l[f]!==c[f])return!1;return!0}static hashCode(l){if(l===null)return 0;let c=1;for(const f of l)c=31*c+f;return c}static fillUint8Array(l,c){for(let f=0;f!==l.length;f++)l[f]=c}static copyOf(l,c){return l.slice(0,c)}static copyOfUint8Array(l,c){if(l.length<=c){const f=new Uint8Array(c);return f.set(l),f}return l.slice(0,c)}static copyOfRange(l,c,f){const m=f-c,g=new Int32Array(m);return N.arraycopy(l,c,g,0,m),g}static binarySearch(l,c,f){f===void 0&&(f=C.numberComparator);let m=0,g=l.length-1;for(;m<=g;){const y=g+m>>1,w=f(c,l[y]);if(w>0)m=y+1;else if(w<0)g=y-1;else return y}return-m-1}static numberComparator(l,c){return l-c}}class A{static numberOfTrailingZeros(l){let c;if(l===0)return 32;let f=31;return c=l<<16,c!==0&&(f-=16,l=c),c=l<<8,c!==0&&(f-=8,l=c),c=l<<4,c!==0&&(f-=4,l=c),c=l<<2,c!==0&&(f-=2,l=c),f-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let c=1;return l>>>16||(c+=16,l<<=16),l>>>24||(c+=8,l<<=8),l>>>28||(c+=4,l<<=4),l>>>30||(c+=2,l<<=2),c-=l>>>31,c}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,c){return Math.trunc(l/c)}static parseInt(l,c=void 0){return parseInt(l,c)}}A.MIN_VALUE_32_BITS=-2147483648,A.MAX_VALUE=Number.MAX_SAFE_INTEGER;class E{constructor(l,c){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,c==null?this.bits=E.makeArray(l):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const c=E.makeArray(l);N.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const c=this.size;if(l>=c)return c;const f=this.bits;let m=Math.floor(l/32),g=f[m];g&=~((1<<(l&31))-1);const y=f.length;for(;g===0;){if(++m===y)return c;g=f[m]}const w=m*32+A.numberOfTrailingZeros(g);return w>c?c:w}getNextUnset(l){const c=this.size;if(l>=c)return c;const f=this.bits;let m=Math.floor(l/32),g=~f[m];g&=~((1<<(l&31))-1);const y=f.length;for(;g===0;){if(++m===y)return c;g=~f[m]}const w=m*32+A.numberOfTrailingZeros(g);return w>c?c:w}setBulk(l,c){this.bits[Math.floor(l/32)]=c}setRange(l,c){if(c<l||l<0||c>this.size)throw new p;if(c===l)return;c--;const f=Math.floor(l/32),m=Math.floor(c/32),g=this.bits;for(let y=f;y<=m;y++){const w=y>f?0:l&31,P=(2<<(y<m?31:c&31))-(1<<w);g[y]|=P}}clear(){const l=this.bits.length,c=this.bits;for(let f=0;f<l;f++)c[f]=0}isRange(l,c,f){if(c<l||l<0||c>this.size)throw new p;if(c===l)return!0;c--;const m=Math.floor(l/32),g=Math.floor(c/32),y=this.bits;for(let w=m;w<=g;w++){const O=w>m?0:l&31,B=(2<<(w<g?31:c&31))-(1<<O)&4294967295;if((y[w]&B)!==(f?B:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,c){if(c<0||c>32)throw new p("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let f=c;f>0;f--)this.appendBit((l>>f-1&1)===1)}appendBitArray(l){const c=l.size;this.ensureCapacity(this.size+c);for(let f=0;f<c;f++)this.appendBit(l.get(f))}xor(l){if(this.size!==l.size)throw new p("Sizes don't match");const c=this.bits;for(let f=0,m=c.length;f<m;f++)c[f]^=l.bits[f]}toBytes(l,c,f,m){for(let g=0;g<m;g++){let y=0;for(let w=0;w<8;w++)this.get(l)&&(y|=1<<7-w),l++;c[f+g]=y}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),f=c+1,m=this.bits;for(let g=0;g<f;g++){let y=m[g];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,l[c-g]=y}if(this.size!==f*32){const g=f*32-this.size;let y=l[0]>>>g;for(let w=1;w<f;w++){const O=l[w];y|=O<<32-g,l[w-1]=y,y=O>>>g}l[f-1]=y}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof E))return!1;const c=l;return this.size===c.size&&C.equals(this.bits,c.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let l="";for(let c=0,f=this.size;c<f;c++)c&7||(l+=" "),l+=this.get(c)?"X":".";return l}clone(){return new E(this.size,this.bits.slice())}}var k;(function(q){q[q.OTHER=0]="OTHER",q[q.PURE_BARCODE=1]="PURE_BARCODE",q[q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",q[q.TRY_HARDER=3]="TRY_HARDER",q[q.CHARACTER_SET=4]="CHARACTER_SET",q[q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",q[q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",q[q.ASSUME_GS1=7]="ASSUME_GS1",q[q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",q[q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",q[q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var D=k;class R extends u{static getFormatInstance(){return new R}}R.kind="FormatException";var F;(function(q){q[q.Cp437=0]="Cp437",q[q.ISO8859_1=1]="ISO8859_1",q[q.ISO8859_2=2]="ISO8859_2",q[q.ISO8859_3=3]="ISO8859_3",q[q.ISO8859_4=4]="ISO8859_4",q[q.ISO8859_5=5]="ISO8859_5",q[q.ISO8859_6=6]="ISO8859_6",q[q.ISO8859_7=7]="ISO8859_7",q[q.ISO8859_8=8]="ISO8859_8",q[q.ISO8859_9=9]="ISO8859_9",q[q.ISO8859_10=10]="ISO8859_10",q[q.ISO8859_11=11]="ISO8859_11",q[q.ISO8859_13=12]="ISO8859_13",q[q.ISO8859_14=13]="ISO8859_14",q[q.ISO8859_15=14]="ISO8859_15",q[q.ISO8859_16=15]="ISO8859_16",q[q.SJIS=16]="SJIS",q[q.Cp1250=17]="Cp1250",q[q.Cp1251=18]="Cp1251",q[q.Cp1252=19]="Cp1252",q[q.Cp1256=20]="Cp1256",q[q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",q[q.UTF8=22]="UTF8",q[q.ASCII=23]="ASCII",q[q.Big5=24]="Big5",q[q.GB18030=25]="GB18030",q[q.EUC_KR=26]="EUC_KR"})(F||(F={}));class M{constructor(l,c,f,...m){this.valueIdentifier=l,this.name=f,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=m,M.VALUE_IDENTIFIER_TO_ECI.set(l,this),M.NAME_TO_ECI.set(f,this);const g=this.values;for(let y=0,w=g.length;y!==w;y++){const O=g[y];M.VALUES_TO_ECI.set(O,this)}for(const y of m)M.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new R("incorect value");const c=M.VALUES_TO_ECI.get(l);if(c===void 0)throw new R("incorect value");return c}static getCharacterSetECIByName(l){const c=M.NAME_TO_ECI.get(l);if(c===void 0)throw new R("incorect value");return c}equals(l){if(!(l instanceof M))return!1;const c=l;return this.getName()===c.getName()}}M.VALUE_IDENTIFIER_TO_ECI=new Map,M.VALUES_TO_ECI=new Map,M.NAME_TO_ECI=new Map,M.Cp437=new M(F.Cp437,Int32Array.from([0,2]),"Cp437"),M.ISO8859_1=new M(F.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),M.ISO8859_2=new M(F.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),M.ISO8859_3=new M(F.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),M.ISO8859_4=new M(F.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),M.ISO8859_5=new M(F.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),M.ISO8859_6=new M(F.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),M.ISO8859_7=new M(F.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),M.ISO8859_8=new M(F.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),M.ISO8859_9=new M(F.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),M.ISO8859_10=new M(F.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),M.ISO8859_11=new M(F.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),M.ISO8859_13=new M(F.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),M.ISO8859_14=new M(F.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),M.ISO8859_15=new M(F.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),M.ISO8859_16=new M(F.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),M.SJIS=new M(F.SJIS,20,"SJIS","Shift_JIS"),M.Cp1250=new M(F.Cp1250,21,"Cp1250","windows-1250"),M.Cp1251=new M(F.Cp1251,22,"Cp1251","windows-1251"),M.Cp1252=new M(F.Cp1252,23,"Cp1252","windows-1252"),M.Cp1256=new M(F.Cp1256,24,"Cp1256","windows-1256"),M.UnicodeBigUnmarked=new M(F.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),M.UTF8=new M(F.UTF8,26,"UTF8","UTF-8"),M.ASCII=new M(F.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),M.Big5=new M(F.Big5,28,"Big5"),M.GB18030=new M(F.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),M.EUC_KR=new M(F.EUC_KR,30,"EUC_KR","EUC-KR");class z extends u{}z.kind="UnsupportedOperationException";class I{static decode(l,c){const f=this.encodingName(c);return this.customDecoder?this.customDecoder(l,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(l,f):new TextDecoder(f).decode(l)}static shouldDecodeOnFallback(l){return!I.isBrowser()&&l==="ISO-8859-1"}static encode(l,c){const f=this.encodingName(c);return this.customEncoder?this.customEncoder(l,f):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof M?l:M.getCharacterSetECIByName(l)}static decodeFallback(l,c){const f=this.encodingCharacterSet(c);if(I.isDecodeFallbackSupported(f)){let m="";for(let g=0,y=l.length;g<y;g++){let w=l[g].toString(16);w.length<2&&(w="0"+w),m+="%"+w}return decodeURIComponent(m)}if(f.equals(M.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new z(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(M.UTF8)||l.equals(M.ISO8859_1)||l.equals(M.ASCII)}static encodeFallback(l){const f=btoa(unescape(encodeURIComponent(l))).split(""),m=[];for(let g=0;g<f.length;g++)m.push(f[g].charCodeAt(0));return new Uint8Array(m)}}class L{static castAsNonUtf8Char(l,c=null){const f=c?c.getName():this.ISO88591;return I.decode(new Uint8Array([l]),f)}static guessEncoding(l,c){if(c!=null&&c.get(D.CHARACTER_SET)!==void 0)return c.get(D.CHARACTER_SET).toString();const f=l.length;let m=!0,g=!0,y=!0,w=0,O=0,P=0,B=0,H=0,Q=0,te=0,de=0,ue=0,ve=0,Se=0;const He=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let We=0;We<f&&(m||g||y);We++){const Ue=l[We]&255;y&&(w>0?Ue&128?w--:y=!1:Ue&128&&(Ue&64?(w++,Ue&32?(w++,Ue&16?(w++,Ue&8?y=!1:B++):P++):O++):y=!1)),m&&(Ue>127&&Ue<160?m=!1:Ue>159&&(Ue<192||Ue===215||Ue===247)&&Se++),g&&(H>0?Ue<64||Ue===127||Ue>252?g=!1:H--:Ue===128||Ue===160||Ue>239?g=!1:Ue>160&&Ue<224?(Q++,de=0,te++,te>ue&&(ue=te)):Ue>127?(H++,te=0,de++,de>ve&&(ve=de)):(te=0,de=0))}return y&&w>0&&(y=!1),g&&H>0&&(g=!1),y&&(He||O+P+B>0)?L.UTF8:g&&(L.ASSUME_SHIFT_JIS||ue>=3||ve>=3)?L.SHIFT_JIS:m&&g?ue===2&&Q===2||Se*10>=f?L.SHIFT_JIS:L.ISO88591:m?L.ISO88591:g?L.SHIFT_JIS:y?L.UTF8:L.PLATFORM_DEFAULT_ENCODING}static format(l,...c){let f=-1;function m(y,w,O,P,B,H){if(y==="%%")return"%";if(c[++f]===void 0)return;y=P?parseInt(P.substr(1)):void 0;let Q=B?parseInt(B.substr(1)):void 0,te;switch(H){case"s":te=c[f];break;case"c":te=c[f][0];break;case"f":te=parseFloat(c[f]).toFixed(y);break;case"p":te=parseFloat(c[f]).toPrecision(y);break;case"e":te=parseFloat(c[f]).toExponential(y);break;case"x":te=parseInt(c[f]).toString(Q||16);break;case"d":te=parseFloat(parseInt(c[f],Q||10).toPrecision(y)).toFixed(0);break}te=typeof te=="object"?JSON.stringify(te):(+te).toString(Q);let de=parseInt(O),ue=O&&O[0]+""=="0"?"0":" ";for(;te.length<de;)te=w!==void 0?te+ue:ue+te;return te}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(g,m)}static getBytes(l,c){return I.encode(l,c)}static getCharCode(l,c=0){return l.charCodeAt(c)}static getCharAt(l){return String.fromCharCode(l)}}L.SHIFT_JIS=M.SJIS.getName(),L.GB2312="GB2312",L.ISO88591=M.ISO8859_1.getName(),L.EUC_JP="EUC_JP",L.UTF8=M.UTF8.getName(),L.PLATFORM_DEFAULT_ENCODING=L.UTF8,L.ASSUME_SHIFT_JIS=!1;class ${constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=L.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,c,f){for(let m=c;c<c+f;m++)this.append(l[m]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,c){this.value=this.value.substr(0,l)+c+this.value.substr(l+1)}substring(l,c){return this.value.substring(l,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,c){this.value=this.value.substr(0,l)+c+this.value.substr(l+c.length)}}class W{constructor(l,c,f,m){if(this.width=l,this.height=c,this.rowSize=f,this.bits=m,c==null&&(c=l),this.height=c,l<1||c<1)throw new p("Both dimensions must be greater than 0");f==null&&(f=Math.floor((l+31)/32)),this.rowSize=f,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const c=l.length,f=l[0].length,m=new W(f,c);for(let g=0;g<c;g++){const y=l[g];for(let w=0;w<f;w++)y[w]&&m.set(w,g)}return m}static parseFromString(l,c,f){if(l===null)throw new p("stringRepresentation cannot be null");const m=new Array(l.length);let g=0,y=0,w=-1,O=0,P=0;for(;P<l.length;)if(l.charAt(P)===`
`||l.charAt(P)==="\r"){if(g>y){if(w===-1)w=g-y;else if(g-y!==w)throw new p("row lengths do not match");y=g,O++}P++}else if(l.substring(P,P+c.length)===c)P+=c.length,m[g]=!0,g++;else if(l.substring(P,P+f.length)===f)P+=f.length,m[g]=!1,g++;else throw new p("illegal character encountered: "+l.substring(P));if(g>y){if(w===-1)w=g-y;else if(g-y!==w)throw new p("row lengths do not match");O++}const B=new W(w,O);for(let H=0;H<g;H++)m[H]&&B.set(Math.floor(H%w),Math.floor(H/w));return B}get(l,c){const f=c*this.rowSize+Math.floor(l/32);return(this.bits[f]>>>(l&31)&1)!==0}set(l,c){const f=c*this.rowSize+Math.floor(l/32);this.bits[f]|=1<<(l&31)&4294967295}unset(l,c){const f=c*this.rowSize+Math.floor(l/32);this.bits[f]&=~(1<<(l&31)&4294967295)}flip(l,c){const f=c*this.rowSize+Math.floor(l/32);this.bits[f]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new p("input matrix dimensions do not match");const c=new E(Math.floor(this.width/32)+1),f=this.rowSize,m=this.bits;for(let g=0,y=this.height;g<y;g++){const w=g*f,O=l.getRow(g,c).getBitArray();for(let P=0;P<f;P++)m[w+P]^=O[P]}}clear(){const l=this.bits,c=l.length;for(let f=0;f<c;f++)l[f]=0}setRegion(l,c,f,m){if(c<0||l<0)throw new p("Left and top must be nonnegative");if(m<1||f<1)throw new p("Height and width must be at least 1");const g=l+f,y=c+m;if(y>this.height||g>this.width)throw new p("The region must fit inside the matrix");const w=this.rowSize,O=this.bits;for(let P=c;P<y;P++){const B=P*w;for(let H=l;H<g;H++)O[B+Math.floor(H/32)]|=1<<(H&31)&4294967295}}getRow(l,c){c==null||c.getSize()<this.width?c=new E(this.width):c.clear();const f=this.rowSize,m=this.bits,g=l*f;for(let y=0;y<f;y++)c.setBulk(y*32,m[g+y]);return c}setRow(l,c){N.arraycopy(c.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),c=this.getHeight();let f=new E(l),m=new E(l);for(let g=0,y=Math.floor((c+1)/2);g<y;g++)f=this.getRow(g,f),m=this.getRow(c-1-g,m),f.reverse(),m.reverse(),this.setRow(g,m),this.setRow(c-1-g,f)}getEnclosingRectangle(){const l=this.width,c=this.height,f=this.rowSize,m=this.bits;let g=l,y=c,w=-1,O=-1;for(let P=0;P<c;P++)for(let B=0;B<f;B++){const H=m[P*f+B];if(H!==0){if(P<y&&(y=P),P>O&&(O=P),B*32<g){let Q=0;for(;!(H<<31-Q&4294967295);)Q++;B*32+Q<g&&(g=B*32+Q)}if(B*32+31>w){let Q=31;for(;!(H>>>Q);)Q--;B*32+Q>w&&(w=B*32+Q)}}}return w<g||O<y?null:Int32Array.from([g,y,w-g+1,O-y+1])}getTopLeftOnBit(){const l=this.rowSize,c=this.bits;let f=0;for(;f<c.length&&c[f]===0;)f++;if(f===c.length)return null;const m=f/l;let g=f%l*32;const y=c[f];let w=0;for(;!(y<<31-w&4294967295);)w++;return g+=w,Int32Array.from([g,m])}getBottomRightOnBit(){const l=this.rowSize,c=this.bits;let f=c.length-1;for(;f>=0&&c[f]===0;)f--;if(f<0)return null;const m=Math.floor(f/l);let g=Math.floor(f%l)*32;const y=c[f];let w=31;for(;!(y>>>w);)w--;return g+=w,Int32Array.from([g,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof W))return!1;const c=l;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&C.equals(this.bits,c.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+C.hashCode(this.bits),l}toString(l="X ",c="  ",f=`
`){return this.buildToString(l,c,f)}buildToString(l,c,f){let m=new $;for(let g=0,y=this.height;g<y;g++){for(let w=0,O=this.width;w<O;w++)m.append(this.get(w,g)?l:c);m.append(f)}return m.toString()}clone(){return new W(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends u{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class Y extends v{constructor(l){super(l),this.luminances=Y.EMPTY,this.buckets=new Int32Array(Y.LUMINANCE_BUCKETS)}getBlackRow(l,c){const f=this.getLuminanceSource(),m=f.getWidth();c==null||c.getSize()<m?c=new E(m):c.clear(),this.initArrays(m);const g=f.getRow(l,this.luminances),y=this.buckets;for(let O=0;O<m;O++)y[(g[O]&255)>>Y.LUMINANCE_SHIFT]++;const w=Y.estimateBlackPoint(y);if(m<3)for(let O=0;O<m;O++)(g[O]&255)<w&&c.set(O);else{let O=g[0]&255,P=g[1]&255;for(let B=1;B<m-1;B++){const H=g[B+1]&255;(P*4-O-H)/2<w&&c.set(B),O=P,P=H}}return c}getBlackMatrix(){const l=this.getLuminanceSource(),c=l.getWidth(),f=l.getHeight(),m=new W(c,f);this.initArrays(c);const g=this.buckets;for(let O=1;O<5;O++){const P=Math.floor(f*O/5),B=l.getRow(P,this.luminances),H=Math.floor(c*4/5);for(let Q=Math.floor(c/5);Q<H;Q++){const te=B[Q]&255;g[te>>Y.LUMINANCE_SHIFT]++}}const y=Y.estimateBlackPoint(g),w=l.getMatrix();for(let O=0;O<f;O++){const P=O*c;for(let B=0;B<c;B++)(w[P+B]&255)<y&&m.set(B,O)}return m}createBinarizer(l){return new Y(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const c=this.buckets;for(let f=0;f<Y.LUMINANCE_BUCKETS;f++)c[f]=0}static estimateBlackPoint(l){const c=l.length;let f=0,m=0,g=0;for(let B=0;B<c;B++)l[B]>g&&(m=B,g=l[B]),l[B]>f&&(f=l[B]);let y=0,w=0;for(let B=0;B<c;B++){const H=B-m,Q=l[B]*H*H;Q>w&&(y=B,w=Q)}if(m>y){const B=m;m=y,y=B}if(y-m<=c/16)throw new U;let O=y-1,P=-1;for(let B=y-1;B>m;B--){const H=B-m,Q=H*H*(y-B)*(f-l[B]);Q>P&&(O=B,P=Q)}return O<<Y.LUMINANCE_SHIFT}}Y.LUMINANCE_BITS=5,Y.LUMINANCE_SHIFT=8-Y.LUMINANCE_BITS,Y.LUMINANCE_BUCKETS=1<<Y.LUMINANCE_BITS,Y.EMPTY=Uint8ClampedArray.from([0]);class X extends Y{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),c=l.getWidth(),f=l.getHeight();if(c>=X.MINIMUM_DIMENSION&&f>=X.MINIMUM_DIMENSION){const m=l.getMatrix();let g=c>>X.BLOCK_SIZE_POWER;c&X.BLOCK_SIZE_MASK&&g++;let y=f>>X.BLOCK_SIZE_POWER;f&X.BLOCK_SIZE_MASK&&y++;const w=X.calculateBlackPoints(m,g,y,c,f),O=new W(c,f);X.calculateThresholdForBlock(m,g,y,c,f,w,O),this.matrix=O}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new X(l)}static calculateThresholdForBlock(l,c,f,m,g,y,w){const O=g-X.BLOCK_SIZE,P=m-X.BLOCK_SIZE;for(let B=0;B<f;B++){let H=B<<X.BLOCK_SIZE_POWER;H>O&&(H=O);const Q=X.cap(B,2,f-3);for(let te=0;te<c;te++){let de=te<<X.BLOCK_SIZE_POWER;de>P&&(de=P);const ue=X.cap(te,2,c-3);let ve=0;for(let He=-2;He<=2;He++){const We=y[Q+He];ve+=We[ue-2]+We[ue-1]+We[ue]+We[ue+1]+We[ue+2]}const Se=ve/25;X.thresholdBlock(l,de,H,Se,m,w)}}}static cap(l,c,f){return l<c?c:l>f?f:l}static thresholdBlock(l,c,f,m,g,y){for(let w=0,O=f*g+c;w<X.BLOCK_SIZE;w++,O+=g)for(let P=0;P<X.BLOCK_SIZE;P++)(l[O+P]&255)<=m&&y.set(c+P,f+w)}static calculateBlackPoints(l,c,f,m,g){const y=g-X.BLOCK_SIZE,w=m-X.BLOCK_SIZE,O=new Array(f);for(let P=0;P<f;P++){O[P]=new Int32Array(c);let B=P<<X.BLOCK_SIZE_POWER;B>y&&(B=y);for(let H=0;H<c;H++){let Q=H<<X.BLOCK_SIZE_POWER;Q>w&&(Q=w);let te=0,de=255,ue=0;for(let Se=0,He=B*m+Q;Se<X.BLOCK_SIZE;Se++,He+=m){for(let We=0;We<X.BLOCK_SIZE;We++){const Ue=l[He+We]&255;te+=Ue,Ue<de&&(de=Ue),Ue>ue&&(ue=Ue)}if(ue-de>X.MIN_DYNAMIC_RANGE)for(Se++,He+=m;Se<X.BLOCK_SIZE;Se++,He+=m)for(let We=0;We<X.BLOCK_SIZE;We++)te+=l[He+We]&255}let ve=te>>X.BLOCK_SIZE_POWER*2;if(ue-de<=X.MIN_DYNAMIC_RANGE&&(ve=de/2,P>0&&H>0)){const Se=(O[P-1][H]+2*O[P][H-1]+O[P-1][H-1])/4;de<Se&&(ve=Se)}O[P][H]=ve}}return O}}X.BLOCK_SIZE_POWER=3,X.BLOCK_SIZE=1<<X.BLOCK_SIZE_POWER,X.BLOCK_SIZE_MASK=X.BLOCK_SIZE-1,X.MINIMUM_DIMENSION=X.BLOCK_SIZE*5,X.MIN_DYNAMIC_RANGE=24;class V{constructor(l,c){this.width=l,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,c,f,m){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let c=new $;for(let f=0;f<this.height;f++){const m=this.getRow(f,l);for(let g=0;g<this.width;g++){const y=m[g]&255;let w;y<64?w="#":y<128?w="+":y<192?w=".":w=" ",c.append(w)}c.append(`
`)}return c.toString()}}class G extends V{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,c){const f=this.delegate.getRow(l,c),m=this.getWidth();for(let g=0;g<m;g++)f[g]=255-(f[g]&255);return f}getMatrix(){const l=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(c);for(let m=0;m<c;m++)f[m]=255-(l[m]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(l,c,f,m){return new G(this.delegate.crop(l,c,f,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new G(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new G(this.delegate.rotateCounterClockwise45())}}class ne extends V{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=ne.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const c=l.getContext("2d").getImageData(0,0,l.width,l.height);return ne.toGrayscaleBuffer(c.data,l.width,l.height)}static toGrayscaleBuffer(l,c,f){const m=new Uint8ClampedArray(c*f);for(let g=0,y=0,w=l.length;g<w;g+=4,y++){let O;if(l[g+3]===0)O=255;else{const B=l[g],H=l[g+1],Q=l[g+2];O=306*B+601*H+117*Q+512>>10}m[y]=O}return m}getRow(l,c){if(l<0||l>=this.getHeight())throw new p("Requested row is outside the image: "+l);const f=this.getWidth(),m=l*f;return c===null?c=this.buffer.slice(m,m+f):(c.length<f&&(c=new Uint8ClampedArray(f)),c.set(this.buffer.slice(m,m+f))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,c,f,m){return super.crop(l,c,f,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const c=this.getTempCanvasElement(),f=c.getContext("2d"),m=l*ne.DEGREE_TO_RADIANS,g=this.canvas.width,y=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(m))*g+Math.abs(Math.sin(m))*y),O=Math.ceil(Math.abs(Math.sin(m))*g+Math.abs(Math.cos(m))*y);return c.width=w,c.height=O,f.translate(w/2,O/2),f.rotate(m),f.drawImage(this.canvas,g/-2,y/-2),this.buffer=ne.makeBufferFromCanvasImageData(c),this}invert(){return new G(this)}}ne.DEGREE_TO_RADIANS=Math.PI/180;class ae{constructor(l,c,f){this.deviceId=l,this.label=c,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||oo||self||window||void 0)&&(globalThis||oo||self||window||void 0).__awaiter||function(q,l,c,f){function m(g){return g instanceof c?g:new c(function(y){y(g)})}return new(c||(c=Promise))(function(g,y){function w(B){try{P(f.next(B))}catch(H){y(H)}}function O(B){try{P(f.throw(B))}catch(H){y(H)}}function P(B){B.done?g(B.value):m(B.value).then(w,O)}P((f=f.apply(q,l||[])).next())})};class ie{constructor(l,c=500,f){this.reader=l,this.timeBetweenScansMillis=c,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const f of l){const m=f.kind==="video"?"videoinput":f.kind;if(m!=="videoinput")continue;const g=f.deviceId||f.id,y=f.label||`Video device ${c.length+1}`,w=f.groupId,O={deviceId:g,label:y,kind:m,groupId:w};c.push(O)}return c})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ae(c.deviceId,c.label))})}findDeviceById(l){return le(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(f=>f.deviceId===l):null})}decodeFromInputVideoDevice(l,c){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,c)})}decodeOnceFromVideoDevice(l,c){return le(this,void 0,void 0,function*(){this.reset();let f;l?f={deviceId:{exact:l}}:f={facingMode:"environment"};const m={video:f};return yield this.decodeOnceFromConstraints(m,c)})}decodeOnceFromConstraints(l,c){return le(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(f,c)})}decodeOnceFromStream(l,c){return le(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(l,c);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(l,c,f){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,c,f)})}decodeFromVideoDevice(l,c,f){return le(this,void 0,void 0,function*(){let m;l?m={deviceId:{exact:l}}:m={facingMode:"environment"};const g={video:m};return yield this.decodeFromConstraints(g,c,f)})}decodeFromConstraints(l,c,f){return le(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(m,c,f)})}decodeFromStream(l,c,f){return le(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(l,c);return yield this.decodeContinuously(m,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,c){return le(this,void 0,void 0,function*(){const f=this.prepareVideoElement(c);return this.addVideoSource(f,l),this.videoElement=f,this.stream=l,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(l){return new Promise((c,f)=>this.playVideoOnLoad(l,()=>c()))}playVideoOnLoad(l,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",c),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,c){const f=document.getElementById(l);if(!f)throw new x(`element with id '${l}' not found`);if(f.nodeName.toLowerCase()!==c.toLowerCase())throw new x(`element with id '${l}' must be an ${c} element`);return f}decodeFromImage(l,c){if(!l&&!c)throw new x("either imageElement with a src set or an url must be provided");return c&&!l?this.decodeFromImageUrl(c):this.decodeFromImageElement(l)}decodeFromVideo(l,c){if(!l&&!c)throw new x("Either an element with a src set or an URL must be provided");return c&&!l?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,c,f){if(l===void 0&&c===void 0)throw new x("Either an element with a src set or an URL must be provided");return c&&!l?this.decodeFromVideoUrlContinuously(c,f):this.decodeFromVideoElementContinuously(l,f)}decodeFromImageElement(l){if(!l)throw new x("An image element must be provided.");this.reset();const c=this.prepareImageElement(l);this.imageElement=c;let f;return this.isImageLoaded(c)?f=this.decodeOnce(c,!1,!0):f=this._decodeOnLoadImage(c),f}decodeFromVideoElement(l){const c=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(l,c){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(f,c)}_decodeFromVideoElementSetup(l){if(!l)throw new x("A video element must be provided.");this.reset();const c=this.prepareVideoElement(l);return this.videoElement=c,c}decodeFromImageUrl(l){if(!l)throw new x("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const f=this._decodeOnLoadImage(c);return c.src=l,f}decodeFromVideoUrl(l){if(!l)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElement(c);return c.src=l,f}decodeFromVideoUrlContinuously(l,c){if(!l)throw new x("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(f,c);return f.src=l,m}_decodeOnLoadImage(l){return new Promise((c,f)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(c,f),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,c){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,c)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let c;return typeof l>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof l=="string"&&(c=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(c=l),c}prepareVideoElement(l){let c;return!l&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof l=="string"&&(c=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(c=l),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(l,c=!0,f=!0){this._stopAsyncDecode=!1;const m=(g,y)=>{if(this._stopAsyncDecode){y(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(l);g(w)}catch(w){const O=c&&w instanceof U,B=(w instanceof _||w instanceof R)&&f;if(O||B)return setTimeout(m,this._timeBetweenDecodingAttempts,g,y);y(w)}};return new Promise((g,y)=>m(g,y))}decodeContinuously(l,c){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(l);c(m,null),setTimeout(f,this.timeBetweenScansMillis)}catch(m){c(null,m);const g=m instanceof _||m instanceof R,y=m instanceof U;(g||y)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(l){const c=this.createBinaryBitmap(l);return this.decodeBitmap(c)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,c,f){c||(c={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(l,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(l,c,f=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(l,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const c=this.getCaptureCanvas(l),f=new ne(c),m=new X(f);return new b(m)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const c=this.createCaptureCanvas(l);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let f,m;return typeof l<"u"&&(l instanceof HTMLVideoElement?(f=l.videoWidth,m=l.videoHeight):l instanceof HTMLImageElement&&(f=l.naturalWidth||l.width,m=l.naturalHeight||l.height)),c.style.width=f+"px",c.style.height=m+"px",c.width=f,c.height=m,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,c){try{l.srcObject=c}catch{l.src=URL.createObjectURL(c)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class fe{constructor(l,c,f=c==null?0:8*c.length,m,g,y=N.currentTimeMillis()){this.text=l,this.rawBytes=c,this.numBits=f,this.resultPoints=m,this.format=g,this.timestamp=y,this.text=l,this.rawBytes=c,f==null?this.numBits=c==null?0:8*c.length:this.numBits=f,this.resultPoints=m,this.format=g,this.resultMetadata=null,y==null?this.timestamp=N.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,c)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const c=this.resultPoints;if(c===null)this.resultPoints=l;else if(l!==null&&l.length>0){const f=new Array(c.length+l.length);N.arraycopy(c,0,f,0,c.length),N.arraycopy(l,0,f,c.length,l.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var xe;(function(q){q[q.AZTEC=0]="AZTEC",q[q.CODABAR=1]="CODABAR",q[q.CODE_39=2]="CODE_39",q[q.CODE_93=3]="CODE_93",q[q.CODE_128=4]="CODE_128",q[q.DATA_MATRIX=5]="DATA_MATRIX",q[q.EAN_8=6]="EAN_8",q[q.EAN_13=7]="EAN_13",q[q.ITF=8]="ITF",q[q.MAXICODE=9]="MAXICODE",q[q.PDF_417=10]="PDF_417",q[q.QR_CODE=11]="QR_CODE",q[q.RSS_14=12]="RSS_14",q[q.RSS_EXPANDED=13]="RSS_EXPANDED",q[q.UPC_A=14]="UPC_A",q[q.UPC_E=15]="UPC_E",q[q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xe||(xe={}));var ge=xe,ke;(function(q){q[q.OTHER=0]="OTHER",q[q.ORIENTATION=1]="ORIENTATION",q[q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",q[q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",q[q.ISSUE_NUMBER=4]="ISSUE_NUMBER",q[q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",q[q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",q[q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",q[q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",q[q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",q[q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var Ae=ke;class Ne{constructor(l,c,f,m,g=-1,y=-1){this.rawBytes=l,this.text=c,this.byteSegments=f,this.ecLevel=m,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=y,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Me{exp(l){return this.expTable[l]}log(l){if(l===0)throw new p;return this.logTable[l]}static addOrSubtract(l,c){return l^c}}class Re{constructor(l,c){if(c.length===0)throw new p;this.field=l;const f=c.length;if(f>1&&c[0]===0){let m=1;for(;m<f&&c[m]===0;)m++;m===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-m),N.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const c=this.coefficients;let f;if(l===1){f=0;for(let y=0,w=c.length;y!==w;y++){const O=c[y];f=Me.addOrSubtract(f,O)}return f}f=c[0];const m=c.length,g=this.field;for(let y=1;y<m;y++)f=Me.addOrSubtract(g.multiply(l,f),c[y]);return f}addOrSubtract(l){if(!this.field.equals(l.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let c=this.coefficients,f=l.coefficients;if(c.length>f.length){const y=c;c=f,f=y}let m=new Int32Array(f.length);const g=f.length-c.length;N.arraycopy(f,0,m,0,g);for(let y=g;y<f.length;y++)m[y]=Me.addOrSubtract(c[y-g],f[y]);return new Re(this.field,m)}multiply(l){if(!this.field.equals(l.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const c=this.coefficients,f=c.length,m=l.coefficients,g=m.length,y=new Int32Array(f+g-1),w=this.field;for(let O=0;O<f;O++){const P=c[O];for(let B=0;B<g;B++)y[O+B]=Me.addOrSubtract(y[O+B],w.multiply(P,m[B]))}return new Re(w,y)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const c=this.coefficients.length,f=this.field,m=new Int32Array(c),g=this.coefficients;for(let y=0;y<c;y++)m[y]=f.multiply(g[y],l);return new Re(f,m)}multiplyByMonomial(l,c){if(l<0)throw new p;if(c===0)return this.field.getZero();const f=this.coefficients,m=f.length,g=new Int32Array(m+l),y=this.field;for(let w=0;w<m;w++)g[w]=y.multiply(f[w],c);return new Re(y,g)}divide(l){if(!this.field.equals(l.field))throw new p("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new p("Divide by 0");const c=this.field;let f=c.getZero(),m=this;const g=l.getCoefficient(l.getDegree()),y=c.inverse(g);for(;m.getDegree()>=l.getDegree()&&!m.isZero();){const w=m.getDegree()-l.getDegree(),O=c.multiply(m.getCoefficient(m.getDegree()),y),P=l.multiplyByMonomial(w,O),B=c.buildMonomial(w,O);f=f.addOrSubtract(B),m=m.addOrSubtract(P)}return[f,m]}toString(){let l="";for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);if(f!==0){if(f<0?(l+=" - ",f=-f):l.length>0&&(l+=" + "),c===0||f!==1){const m=this.field.log(f);m===0?l+="1":m===1?l+="a":(l+="a^",l+=m)}c!==0&&(c===1?l+="x":(l+="x^",l+=c))}}return l}}class Pe extends u{}Pe.kind="ArithmeticException";class Ke extends Me{constructor(l,c,f){super(),this.primitive=l,this.size=c,this.generatorBase=f;const m=new Int32Array(c);let g=1;for(let w=0;w<c;w++)m[w]=g,g*=2,g>=c&&(g^=l,g&=c-1);this.expTable=m;const y=new Int32Array(c);for(let w=0;w<c-1;w++)y[m[w]]=w;this.logTable=y,this.zero=new Re(this,Int32Array.from([0])),this.one=new Re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,c){if(l<0)throw new p;if(c===0)return this.zero;const f=new Int32Array(l+1);return f[0]=c,new Re(this,f)}inverse(l){if(l===0)throw new Pe;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,c){return l===0||c===0?0:this.expTable[(this.logTable[l]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+A.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class lt extends u{}lt.kind="ReedSolomonException";class vt extends u{}vt.kind="IllegalStateException";class Ot{constructor(l){this.field=l}decode(l,c){const f=this.field,m=new Re(f,l),g=new Int32Array(c);let y=!0;for(let te=0;te<c;te++){const de=m.evaluateAt(f.exp(te+f.getGeneratorBase()));g[g.length-1-te]=de,de!==0&&(y=!1)}if(y)return;const w=new Re(f,g),O=this.runEuclideanAlgorithm(f.buildMonomial(c,1),w,c),P=O[0],B=O[1],H=this.findErrorLocations(P),Q=this.findErrorMagnitudes(B,H);for(let te=0;te<H.length;te++){const de=l.length-1-f.log(H[te]);if(de<0)throw new lt("Bad error location");l[de]=Ke.addOrSubtract(l[de],Q[te])}}runEuclideanAlgorithm(l,c,f){if(l.getDegree()<c.getDegree()){const te=l;l=c,c=te}const m=this.field;let g=l,y=c,w=m.getZero(),O=m.getOne();for(;y.getDegree()>=(f/2|0);){let te=g,de=w;if(g=y,w=O,g.isZero())throw new lt("r_{i-1} was zero");y=te;let ue=m.getZero();const ve=g.getCoefficient(g.getDegree()),Se=m.inverse(ve);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){const He=y.getDegree()-g.getDegree(),We=m.multiply(y.getCoefficient(y.getDegree()),Se);ue=ue.addOrSubtract(m.buildMonomial(He,We)),y=y.addOrSubtract(g.multiplyByMonomial(He,We))}if(O=ue.multiply(w).addOrSubtract(de),y.getDegree()>=g.getDegree())throw new vt("Division algorithm failed to reduce polynomial?")}const P=O.getCoefficient(0);if(P===0)throw new lt("sigmaTilde(0) was zero");const B=m.inverse(P),H=O.multiplyScalar(B),Q=y.multiplyScalar(B);return[H,Q]}findErrorLocations(l){const c=l.getDegree();if(c===1)return Int32Array.from([l.getCoefficient(1)]);const f=new Int32Array(c);let m=0;const g=this.field;for(let y=1;y<g.getSize()&&m<c;y++)l.evaluateAt(y)===0&&(f[m]=g.inverse(y),m++);if(m!==c)throw new lt("Error locator degree does not match number of roots");return f}findErrorMagnitudes(l,c){const f=c.length,m=new Int32Array(f),g=this.field;for(let y=0;y<f;y++){const w=g.inverse(c[y]);let O=1;for(let P=0;P<f;P++)if(y!==P){const B=g.multiply(c[P],w),H=B&1?B&-2:B|1;O=g.multiply(O,H)}m[y]=g.multiply(l.evaluateAt(w),g.inverse(O)),g.getGeneratorBase()!==0&&(m[y]=g.multiply(m[y],w))}return m}}var ft;(function(q){q[q.UPPER=0]="UPPER",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.DIGIT=3]="DIGIT",q[q.PUNCT=4]="PUNCT",q[q.BINARY=5]="BINARY"})(ft||(ft={}));class ut{decode(l){this.ddata=l;let c=l.getBits(),f=this.extractBits(c),m=this.correctBits(f),g=ut.convertBoolArrayToByteArray(m),y=ut.getEncodedData(m),w=new Ne(g,y,null,null);return w.setNumBits(m.length),w}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let c=l.length,f=ft.UPPER,m=ft.UPPER,g="",y=0;for(;y<c;)if(m===ft.BINARY){if(c-y<5)break;let w=ut.readCode(l,y,5);if(y+=5,w===0){if(c-y<11)break;w=ut.readCode(l,y,11)+31,y+=11}for(let O=0;O<w;O++){if(c-y<8){y=c;break}const P=ut.readCode(l,y,8);g+=L.castAsNonUtf8Char(P),y+=8}m=f}else{let w=m===ft.DIGIT?4:5;if(c-y<w)break;let O=ut.readCode(l,y,w);y+=w;let P=ut.getCharacter(m,O);P.startsWith("CTRL_")?(f=m,m=ut.getTable(P.charAt(5)),P.charAt(6)==="L"&&(f=m)):(g+=P,m=f)}return g}static getTable(l){switch(l){case"L":return ft.LOWER;case"P":return ft.PUNCT;case"M":return ft.MIXED;case"D":return ft.DIGIT;case"B":return ft.BINARY;case"U":default:return ft.UPPER}}static getCharacter(l,c){switch(l){case ft.UPPER:return ut.UPPER_TABLE[c];case ft.LOWER:return ut.LOWER_TABLE[c];case ft.MIXED:return ut.MIXED_TABLE[c];case ft.PUNCT:return ut.PUNCT_TABLE[c];case ft.DIGIT:return ut.DIGIT_TABLE[c];default:throw new vt("Bad table")}}correctBits(l){let c,f;this.ddata.getNbLayers()<=2?(f=6,c=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,c=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,c=Ke.AZTEC_DATA_10):(f=12,c=Ke.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),g=l.length/f;if(g<m)throw new R;let y=l.length%f,w=new Int32Array(g);for(let Q=0;Q<g;Q++,y+=f)w[Q]=ut.readCode(l,y,f);try{new Ot(c).decode(w,g-m)}catch(Q){throw new R(Q)}let O=(1<<f)-1,P=0;for(let Q=0;Q<m;Q++){let te=w[Q];if(te===0||te===O)throw new R;(te===1||te===O-1)&&P++}let B=new Array(m*f-P),H=0;for(let Q=0;Q<m;Q++){let te=w[Q];if(te===1||te===O-1)B.fill(te>1,H,H+f-1),H+=f-1;else for(let de=f-1;de>=0;--de)B[H++]=(te&1<<de)!==0}return B}extractBits(l){let c=this.ddata.isCompact(),f=this.ddata.getNbLayers(),m=(c?11:14)+f*4,g=new Int32Array(m),y=new Array(this.totalBitsInLayer(f,c));if(c)for(let w=0;w<g.length;w++)g[w]=w;else{let w=m+1+2*A.truncDivision(A.truncDivision(m,2)-1,15),O=m/2,P=A.truncDivision(w,2);for(let B=0;B<O;B++){let H=B+A.truncDivision(B,15);g[O-B-1]=P-H-1,g[O+B]=P+H+1}}for(let w=0,O=0;w<f;w++){let P=(f-w)*4+(c?9:12),B=w*2,H=m-1-B;for(let Q=0;Q<P;Q++){let te=Q*2;for(let de=0;de<2;de++)y[O+te+de]=l.get(g[B+de],g[B+Q]),y[O+2*P+te+de]=l.get(g[B+Q],g[H-de]),y[O+4*P+te+de]=l.get(g[H-de],g[H-Q]),y[O+6*P+te+de]=l.get(g[H-Q],g[B+de])}O+=P*8}return y}static readCode(l,c,f){let m=0;for(let g=c;g<c+f;g++)m<<=1,l[g]&&(m|=1);return m}static readByte(l,c){let f=l.length-c;return f>=8?ut.readCode(l,c,8):ut.readCode(l,c,f)<<8-f}static convertBoolArrayToByteArray(l){let c=new Uint8Array((l.length+7)/8);for(let f=0;f<c.length;f++)c[f]=ut.readByte(l,8*f);return c}totalBitsInLayer(l,c){return((c?88:112)+16*l)*l}}ut.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ut.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ut.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ut.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ut.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,c,f,m){const g=l-f,y=c-m;return Math.sqrt(g*g+y*y)}static sum(l){let c=0;for(let f=0,m=l.length;f!==m;f++){const g=l[f];c+=g}return c}}class Z{static floatToIntBits(l){return l}}Z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(l,c){this.x=l,this.y=c}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof ee){const c=l;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Z.floatToIntBits(this.x)+Z.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const c=this.distance(l[0],l[1]),f=this.distance(l[1],l[2]),m=this.distance(l[0],l[2]);let g,y,w;if(f>=c&&f>=m?(y=l[0],g=l[1],w=l[2]):m>=f&&m>=c?(y=l[1],g=l[0],w=l[2]):(y=l[2],g=l[0],w=l[1]),this.crossProductZ(g,y,w)<0){const O=g;g=w,w=O}l[0]=g,l[1]=y,l[2]=w}static distance(l,c){return oe.distance(l.x,l.y,c.x,c.y)}static crossProductZ(l,c,f){const m=c.x,g=c.y;return(f.x-m)*(l.y-g)-(f.y-g)*(l.x-m)}}class pe{constructor(l,c){this.bits=l,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Le extends pe{constructor(l,c,f,m,g){super(l,c),this.compact=f,this.nbDatablocks=m,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ee{constructor(l,c,f,m){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),c==null&&(c=Ee.INIT_SIZE),f==null&&(f=l.getWidth()/2|0),m==null&&(m=l.getHeight()/2|0);const g=c/2|0;if(this.leftInit=f-g,this.rightInit=f+g,this.upInit=m-g,this.downInit=m+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let l=this.leftInit,c=this.rightInit,f=this.upInit,m=this.downInit,g=!1,y=!0,w=!1,O=!1,P=!1,B=!1,H=!1;const Q=this.width,te=this.height;for(;y;){y=!1;let de=!0;for(;(de||!O)&&c<Q;)de=this.containsBlackPoint(f,m,c,!1),de?(c++,y=!0,O=!0):O||c++;if(c>=Q){g=!0;break}let ue=!0;for(;(ue||!P)&&m<te;)ue=this.containsBlackPoint(l,c,m,!0),ue?(m++,y=!0,P=!0):P||m++;if(m>=te){g=!0;break}let ve=!0;for(;(ve||!B)&&l>=0;)ve=this.containsBlackPoint(f,m,l,!1),ve?(l--,y=!0,B=!0):B||l--;if(l<0){g=!0;break}let Se=!0;for(;(Se||!H)&&f>=0;)Se=this.containsBlackPoint(l,c,f,!0),Se?(f--,y=!0,H=!0):H||f--;if(f<0){g=!0;break}y&&(w=!0)}if(!g&&w){const de=c-l;let ue=null;for(let We=1;ue===null&&We<de;We++)ue=this.getBlackPointOnSegment(l,m-We,l+We,m);if(ue==null)throw new U;let ve=null;for(let We=1;ve===null&&We<de;We++)ve=this.getBlackPointOnSegment(l,f+We,l+We,f);if(ve==null)throw new U;let Se=null;for(let We=1;Se===null&&We<de;We++)Se=this.getBlackPointOnSegment(c,f+We,c-We,f);if(Se==null)throw new U;let He=null;for(let We=1;He===null&&We<de;We++)He=this.getBlackPointOnSegment(c,m-We,c-We,m);if(He==null)throw new U;return this.centerEdges(He,ue,Se,ve)}else throw new U}getBlackPointOnSegment(l,c,f,m){const g=oe.round(oe.distance(l,c,f,m)),y=(f-l)/g,w=(m-c)/g,O=this.image;for(let P=0;P<g;P++){const B=oe.round(l+P*y),H=oe.round(c+P*w);if(O.get(B,H))return new ee(B,H)}return null}centerEdges(l,c,f,m){const g=l.getX(),y=l.getY(),w=c.getX(),O=c.getY(),P=f.getX(),B=f.getY(),H=m.getX(),Q=m.getY(),te=Ee.CORR;return g<this.width/2?[new ee(H-te,Q+te),new ee(w+te,O+te),new ee(P-te,B-te),new ee(g+te,y-te)]:[new ee(H+te,Q+te),new ee(w+te,O-te),new ee(P-te,B+te),new ee(g-te,y-te)]}containsBlackPoint(l,c,f,m){const g=this.image;if(m){for(let y=l;y<=c;y++)if(g.get(y,f))return!0}else for(let y=l;y<=c;y++)if(g.get(f,y))return!0;return!1}}Ee.INIT_SIZE=10,Ee.CORR=1;class $e{static checkAndNudgePoints(l,c){const f=l.getWidth(),m=l.getHeight();let g=!0;for(let y=0;y<c.length&&g;y+=2){const w=Math.floor(c[y]),O=Math.floor(c[y+1]);if(w<-1||w>f||O<-1||O>m)throw new U;g=!1,w===-1?(c[y]=0,g=!0):w===f&&(c[y]=f-1,g=!0),O===-1?(c[y+1]=0,g=!0):O===m&&(c[y+1]=m-1,g=!0)}g=!0;for(let y=c.length-2;y>=0&&g;y-=2){const w=Math.floor(c[y]),O=Math.floor(c[y+1]);if(w<-1||w>f||O<-1||O>m)throw new U;g=!1,w===-1?(c[y]=0,g=!0):w===f&&(c[y]=f-1,g=!0),O===-1?(c[y+1]=0,g=!0):O===m&&(c[y+1]=m-1,g=!0)}}}class Xe{constructor(l,c,f,m,g,y,w,O,P){this.a11=l,this.a21=c,this.a31=f,this.a12=m,this.a22=g,this.a32=y,this.a13=w,this.a23=O,this.a33=P}static quadrilateralToQuadrilateral(l,c,f,m,g,y,w,O,P,B,H,Q,te,de,ue,ve){const Se=Xe.quadrilateralToSquare(l,c,f,m,g,y,w,O);return Xe.squareToQuadrilateral(P,B,H,Q,te,de,ue,ve).times(Se)}transformPoints(l){const c=l.length,f=this.a11,m=this.a12,g=this.a13,y=this.a21,w=this.a22,O=this.a23,P=this.a31,B=this.a32,H=this.a33;for(let Q=0;Q<c;Q+=2){const te=l[Q],de=l[Q+1],ue=g*te+O*de+H;l[Q]=(f*te+y*de+P)/ue,l[Q+1]=(m*te+w*de+B)/ue}}transformPointsWithValues(l,c){const f=this.a11,m=this.a12,g=this.a13,y=this.a21,w=this.a22,O=this.a23,P=this.a31,B=this.a32,H=this.a33,Q=l.length;for(let te=0;te<Q;te++){const de=l[te],ue=c[te],ve=g*de+O*ue+H;l[te]=(f*de+y*ue+P)/ve,c[te]=(m*de+w*ue+B)/ve}}static squareToQuadrilateral(l,c,f,m,g,y,w,O){const P=l-f+g-w,B=c-m+y-O;if(P===0&&B===0)return new Xe(f-l,g-f,l,m-c,y-m,c,0,0,1);{const H=f-g,Q=w-g,te=m-y,de=O-y,ue=H*de-Q*te,ve=(P*de-Q*B)/ue,Se=(H*B-P*te)/ue;return new Xe(f-l+ve*f,w-l+Se*w,l,m-c+ve*m,O-c+Se*O,c,ve,Se,1)}}static quadrilateralToSquare(l,c,f,m,g,y,w,O){return Xe.squareToQuadrilateral(l,c,f,m,g,y,w,O).buildAdjoint()}buildAdjoint(){return new Xe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new Xe(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class wt extends $e{sampleGrid(l,c,f,m,g,y,w,O,P,B,H,Q,te,de,ue,ve,Se,He,We){const Ue=Xe.quadrilateralToQuadrilateral(m,g,y,w,O,P,B,H,Q,te,de,ue,ve,Se,He,We);return this.sampleGridWithTransform(l,c,f,Ue)}sampleGridWithTransform(l,c,f,m){if(c<=0||f<=0)throw new U;const g=new W(c,f),y=new Float32Array(2*c);for(let w=0;w<f;w++){const O=y.length,P=w+.5;for(let B=0;B<O;B+=2)y[B]=B/2+.5,y[B+1]=P;m.transformPoints(y),$e.checkAndNudgePoints(l,y);try{for(let B=0;B<O;B+=2)l.get(Math.floor(y[B]),Math.floor(y[B+1]))&&g.set(B/2,w)}catch{throw new U}}return g}}class be{static setGridSampler(l){be.gridSampler=l}static getInstance(){return be.gridSampler}}be.gridSampler=new wt;class Be{constructor(l,c){this.x=l,this.y=c}toResultPoint(){return new ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class gt{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let c=this.getMatrixCenter(),f=this.getBullsEyeCorners(c);if(l){let y=f[0];f[0]=f[2],f[2]=y}this.extractParameters(f);let m=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),g=this.getMatrixCornerPoints(f);return new Le(m,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new U;let c=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(l[0],l[1],c),this.sampleLine(l[1],l[2],c),this.sampleLine(l[2],l[3],c),this.sampleLine(l[3],l[0],c)]);this.shift=this.getRotation(f,c);let m=0;for(let y=0;y<4;y++){let w=f[(this.shift+y)%4];this.compact?(m<<=7,m+=w>>1&127):(m<<=10,m+=(w>>2&992)+(w>>1&31))}let g=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(l,c){let f=0;l.forEach((m,g,y)=>{let w=(m>>c-2<<1)+(m&1);f=(f<<3)+w}),f=((f&1)<<11)+(f>>1);for(let m=0;m<4;m++)if(A.bitCount(f^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new U}getCorrectedParameterData(l,c){let f,m;c?(f=7,m=2):(f=10,m=4);let g=f-m,y=new Int32Array(f);for(let O=f-1;O>=0;--O)y[O]=l&15,l>>=4;try{new Ot(Ke.AZTEC_PARAM).decode(y,g)}catch{throw new U}let w=0;for(let O=0;O<m;O++)w=(w<<4)+y[O];return w}getBullsEyeCorners(l){let c=l,f=l,m=l,g=l,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let H=this.getFirstDifferent(c,y,1,-1),Q=this.getFirstDifferent(f,y,1,1),te=this.getFirstDifferent(m,y,-1,1),de=this.getFirstDifferent(g,y,-1,-1);if(this.nbCenterLayers>2){let ue=this.distancePoint(de,H)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(ue<.75||ue>1.25||!this.isWhiteOrBlackRectangle(H,Q,te,de))break}c=H,f=Q,m=te,g=de,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let w=new ee(c.getX()+.5,c.getY()-.5),O=new ee(f.getX()+.5,f.getY()+.5),P=new ee(m.getX()-.5,m.getY()+.5),B=new ee(g.getX()-.5,g.getY()-.5);return this.expandSquare([w,O,P,B],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,c,f,m;try{let w=new Ee(this.image).detect();l=w[0],c=w[1],f=w[2],m=w[3]}catch{let O=this.image.getWidth()/2,P=this.image.getHeight()/2;l=this.getFirstDifferent(new Be(O+7,P-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Be(O+7,P+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new Be(O-7,P+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Be(O-7,P-7),!1,-1,-1).toResultPoint()}let g=oe.round((l.getX()+m.getX()+c.getX()+f.getX())/4),y=oe.round((l.getY()+m.getY()+c.getY()+f.getY())/4);try{let w=new Ee(this.image,15,g,y).detect();l=w[0],c=w[1],f=w[2],m=w[3]}catch{l=this.getFirstDifferent(new Be(g+7,y-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Be(g+7,y+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new Be(g-7,y+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Be(g-7,y-7),!1,-1,-1).toResultPoint()}return g=oe.round((l.getX()+m.getX()+c.getX()+f.getX())/4),y=oe.round((l.getY()+m.getY()+c.getY()+f.getY())/4),new Be(g,y)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,c,f,m,g){let y=be.getInstance(),w=this.getDimension(),O=w/2-this.nbCenterLayers,P=w/2+this.nbCenterLayers;return y.sampleGrid(l,w,w,O,O,P,O,P,P,O,P,c.getX(),c.getY(),f.getX(),f.getY(),m.getX(),m.getY(),g.getX(),g.getY())}sampleLine(l,c,f){let m=0,g=this.distanceResultPoint(l,c),y=g/f,w=l.getX(),O=l.getY(),P=y*(c.getX()-l.getX())/g,B=y*(c.getY()-l.getY())/g;for(let H=0;H<f;H++)this.image.get(oe.round(w+H*P),oe.round(O+H*B))&&(m|=1<<f-H-1);return m}isWhiteOrBlackRectangle(l,c,f,m){let g=3;l=new Be(l.getX()-g,l.getY()+g),c=new Be(c.getX()-g,c.getY()-g),f=new Be(f.getX()+g,f.getY()-g),m=new Be(m.getX()+g,m.getY()+g);let y=this.getColor(m,l);if(y===0)return!1;let w=this.getColor(l,c);return w!==y||(w=this.getColor(c,f),w!==y)?!1:(w=this.getColor(f,m),w===y)}getColor(l,c){let f=this.distancePoint(l,c),m=(c.getX()-l.getX())/f,g=(c.getY()-l.getY())/f,y=0,w=l.getX(),O=l.getY(),P=this.image.get(l.getX(),l.getY()),B=Math.ceil(f);for(let Q=0;Q<B;Q++)w+=m,O+=g,this.image.get(oe.round(w),oe.round(O))!==P&&y++;let H=y/f;return H>.1&&H<.9?0:H<=.1===P?1:-1}getFirstDifferent(l,c,f,m){let g=l.getX()+f,y=l.getY()+m;for(;this.isValid(g,y)&&this.image.get(g,y)===c;)g+=f,y+=m;for(g-=f,y-=m;this.isValid(g,y)&&this.image.get(g,y)===c;)g+=f;for(g-=f;this.isValid(g,y)&&this.image.get(g,y)===c;)y+=m;return y-=m,new Be(g,y)}expandSquare(l,c,f){let m=f/(2*c),g=l[0].getX()-l[2].getX(),y=l[0].getY()-l[2].getY(),w=(l[0].getX()+l[2].getX())/2,O=(l[0].getY()+l[2].getY())/2,P=new ee(w+m*g,O+m*y),B=new ee(w-m*g,O-m*y);g=l[1].getX()-l[3].getX(),y=l[1].getY()-l[3].getY(),w=(l[1].getX()+l[3].getX())/2,O=(l[1].getY()+l[3].getY())/2;let H=new ee(w+m*g,O+m*y),Q=new ee(w-m*g,O-m*y);return[P,H,B,Q]}isValid(l,c){return l>=0&&l<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(l){let c=oe.round(l.getX()),f=oe.round(l.getY());return this.isValid(c,f)}distancePoint(l,c){return oe.distance(l.getX(),l.getY(),c.getX(),c.getY())}distanceResultPoint(l,c){return oe.distance(l.getX(),l.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(A.truncDivision(this.nbLayers-4,8)+1)+15}}class Et{decode(l,c=null){let f=null,m=new gt(l.getBlackMatrix()),g=null,y=null;try{let B=m.detectMirror(!1);g=B.getPoints(),this.reportFoundResultPoints(c,g),y=new ut().decode(B)}catch(B){f=B}if(y==null)try{let B=m.detectMirror(!0);g=B.getPoints(),this.reportFoundResultPoints(c,g),y=new ut().decode(B)}catch(B){throw f??B}let w=new fe(y.getText(),y.getRawBytes(),y.getNumBits(),g,ge.AZTEC,N.currentTimeMillis()),O=y.getByteSegments();O!=null&&w.putMetadata(Ae.BYTE_SEGMENTS,O);let P=y.getECLevel();return P!=null&&w.putMetadata(Ae.ERROR_CORRECTION_LEVEL,P),w}reportFoundResultPoints(l,c){if(l!=null){let f=l.get(D.NEED_RESULT_POINT_CALLBACK);f!=null&&c.forEach((m,g,y)=>{f.foundPossibleResultPoint(m)})}}reset(){}}class Or extends ie{constructor(l=500){super(new Et,l)}}class It{decode(l,c){try{return this.doDecode(l,c)}catch{if(c&&c.get(D.TRY_HARDER)===!0&&l.isRotateSupported()){const g=l.rotateCounterClockwise(),y=this.doDecode(g,c),w=y.getResultMetadata();let O=270;w!==null&&w.get(Ae.ORIENTATION)===!0&&(O=O+w.get(Ae.ORIENTATION)%360),y.putMetadata(Ae.ORIENTATION,O);const P=y.getResultPoints();if(P!==null){const B=g.getHeight();for(let H=0;H<P.length;H++)P[H]=new ee(B-P[H].getY()-1,P[H].getX())}return y}else throw new U}}reset(){}doDecode(l,c){const f=l.getWidth(),m=l.getHeight();let g=new E(f);const y=c&&c.get(D.TRY_HARDER)===!0,w=Math.max(1,m>>(y?8:5));let O;y?O=m:O=15;const P=Math.trunc(m/2);for(let B=0;B<O;B++){const H=Math.trunc((B+1)/2),Q=(B&1)===0,te=P+w*(Q?H:-H);if(te<0||te>=m)break;try{g=l.getBlackRow(te,g)}catch{continue}for(let de=0;de<2;de++){if(de===1&&(g.reverse(),c&&c.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const ue=new Map;c.forEach((ve,Se)=>ue.set(Se,ve)),ue.delete(D.NEED_RESULT_POINT_CALLBACK),c=ue}try{const ue=this.decodeRow(te,g,c);if(de===1){ue.putMetadata(Ae.ORIENTATION,180);const ve=ue.getResultPoints();ve!==null&&(ve[0]=new ee(f-ve[0].getX()-1,ve[0].getY()),ve[1]=new ee(f-ve[1].getX()-1,ve[1].getY()))}return ue}catch{}}}throw new U}static recordPattern(l,c,f){const m=f.length;for(let P=0;P<m;P++)f[P]=0;const g=l.getSize();if(c>=g)throw new U;let y=!l.get(c),w=0,O=c;for(;O<g;){if(l.get(O)!==y)f[w]++;else{if(++w===m)break;f[w]=1,y=!y}O++}if(!(w===m||w===m-1&&O===g))throw new U}static recordPatternInReverse(l,c,f){let m=f.length,g=l.get(c);for(;c>0&&m>=0;)l.get(--c)!==g&&(m--,g=!g);if(m>=0)throw new U;It.recordPattern(l,c+1,f)}static patternMatchVariance(l,c,f){const m=l.length;let g=0,y=0;for(let P=0;P<m;P++)g+=l[P],y+=c[P];if(g<y)return Number.POSITIVE_INFINITY;const w=g/y;f*=w;let O=0;for(let P=0;P<m;P++){const B=l[P],H=c[P]*w,Q=B>H?B-H:H-B;if(Q>f)return Number.POSITIVE_INFINITY;O+=Q}return O/g}}class Ie extends It{static findStartPattern(l){const c=l.getSize(),f=l.getNextSet(0);let m=0,g=Int32Array.from([0,0,0,0,0,0]),y=f,w=!1;const O=6;for(let P=f;P<c;P++)if(l.get(P)!==w)g[m]++;else{if(m===O-1){let B=Ie.MAX_AVG_VARIANCE,H=-1;for(let Q=Ie.CODE_START_A;Q<=Ie.CODE_START_C;Q++){const te=It.patternMatchVariance(g,Ie.CODE_PATTERNS[Q],Ie.MAX_INDIVIDUAL_VARIANCE);te<B&&(B=te,H=Q)}if(H>=0&&l.isRange(Math.max(0,y-(P-y)/2),y,!1))return Int32Array.from([y,P,H]);y+=g[0]+g[1],g=g.slice(2,g.length-1),g[m-1]=0,g[m]=0,m--}else m++;g[m]=1,w=!w}throw new U}static decodeCode(l,c,f){It.recordPattern(l,f,c);let m=Ie.MAX_AVG_VARIANCE,g=-1;for(let y=0;y<Ie.CODE_PATTERNS.length;y++){const w=Ie.CODE_PATTERNS[y],O=this.patternMatchVariance(c,w,Ie.MAX_INDIVIDUAL_VARIANCE);O<m&&(m=O,g=y)}if(g>=0)return g;throw new U}decodeRow(l,c,f){const m=f&&f.get(D.ASSUME_GS1)===!0,g=Ie.findStartPattern(c),y=g[2];let w=0;const O=new Uint8Array(20);O[w++]=y;let P;switch(y){case Ie.CODE_START_A:P=Ie.CODE_CODE_A;break;case Ie.CODE_START_B:P=Ie.CODE_CODE_B;break;case Ie.CODE_START_C:P=Ie.CODE_CODE_C;break;default:throw new R}let B=!1,H=!1,Q="",te=g[0],de=g[1];const ue=Int32Array.from([0,0,0,0,0,0]);let ve=0,Se=0,He=y,We=0,Ue=!0,Rt=!1,St=!1;for(;!B;){const Md=H;switch(H=!1,ve=Se,Se=Ie.decodeCode(c,ue,de),O[w++]=Se,Se!==Ie.CODE_STOP&&(Ue=!0),Se!==Ie.CODE_STOP&&(We++,He+=We*Se),te=de,de+=ue.reduce((bL,vL)=>bL+vL,0),Se){case Ie.CODE_START_A:case Ie.CODE_START_B:case Ie.CODE_START_C:throw new R}switch(P){case Ie.CODE_CODE_A:if(Se<64)St===Rt?Q+=String.fromCharCode(32+Se):Q+=String.fromCharCode(32+Se+128),St=!1;else if(Se<96)St===Rt?Q+=String.fromCharCode(Se-64):Q+=String.fromCharCode(Se+64),St=!1;else switch(Se!==Ie.CODE_STOP&&(Ue=!1),Se){case Ie.CODE_FNC_1:m&&(Q.length===0?Q+="]C1":Q+="");break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_A:!Rt&&St?(Rt=!0,St=!1):Rt&&St?(Rt=!1,St=!1):St=!0;break;case Ie.CODE_SHIFT:H=!0,P=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_B:P=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_C:P=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:B=!0;break}break;case Ie.CODE_CODE_B:if(Se<96)St===Rt?Q+=String.fromCharCode(32+Se):Q+=String.fromCharCode(32+Se+128),St=!1;else switch(Se!==Ie.CODE_STOP&&(Ue=!1),Se){case Ie.CODE_FNC_1:m&&(Q.length===0?Q+="]C1":Q+="");break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_B:!Rt&&St?(Rt=!0,St=!1):Rt&&St?(Rt=!1,St=!1):St=!0;break;case Ie.CODE_SHIFT:H=!0,P=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_A:P=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_C:P=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:B=!0;break}break;case Ie.CODE_CODE_C:if(Se<100)Se<10&&(Q+="0"),Q+=Se;else switch(Se!==Ie.CODE_STOP&&(Ue=!1),Se){case Ie.CODE_FNC_1:m&&(Q.length===0?Q+="]C1":Q+="");break;case Ie.CODE_CODE_A:P=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_B:P=Ie.CODE_CODE_B;break;case Ie.CODE_STOP:B=!0;break}break}Md&&(P=P===Ie.CODE_CODE_A?Ie.CODE_CODE_B:Ie.CODE_CODE_A)}const fs=de-te;if(de=c.getNextUnset(de),!c.isRange(de,Math.min(c.getSize(),de+(de-te)/2),!1))throw new U;if(He-=We*ve,He%103!==ve)throw new _;const Ia=Q.length;if(Ia===0)throw new U;Ia>0&&Ue&&(P===Ie.CODE_CODE_C?Q=Q.substring(0,Ia-2):Q=Q.substring(0,Ia-1));const ms=(g[1]+g[0])/2,ir=te+fs/2,Nn=O.length,Ms=new Uint8Array(Nn);for(let Md=0;Md<Nn;Md++)Ms[Md]=O[Md];const Dd=[new ee(ms,l),new ee(ir,l)];return new fe(Q,Ms,0,Dd,ge.CODE_128,new Date().getTime())}}Ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ie.MAX_AVG_VARIANCE=.25,Ie.MAX_INDIVIDUAL_VARIANCE=.7,Ie.CODE_SHIFT=98,Ie.CODE_CODE_C=99,Ie.CODE_CODE_B=100,Ie.CODE_CODE_A=101,Ie.CODE_FNC_1=102,Ie.CODE_FNC_2=97,Ie.CODE_FNC_3=96,Ie.CODE_FNC_4_A=101,Ie.CODE_FNC_4_B=100,Ie.CODE_START_A=103,Ie.CODE_START_B=104,Ie.CODE_START_C=105,Ie.CODE_STOP=106;class se extends It{constructor(l=!1,c=!1){super(),this.usingCheckDigit=l,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,c,f){let m=this.counters;m.fill(0),this.decodeRowResult="";let g=se.findAsteriskPattern(c,m),y=c.getNextSet(g[1]),w=c.getSize(),O,P;do{se.recordPattern(c,y,m);let ue=se.toNarrowWidePattern(m);if(ue<0)throw new U;O=se.patternToChar(ue),this.decodeRowResult+=O,P=y;for(let ve of m)y+=ve;y=c.getNextSet(y)}while(O!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let B=0;for(let ue of m)B+=ue;let H=y-P-B;if(y!==w&&H*2<B)throw new U;if(this.usingCheckDigit){let ue=this.decodeRowResult.length-1,ve=0;for(let Se=0;Se<ue;Se++)ve+=se.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Se));if(this.decodeRowResult.charAt(ue)!==se.ALPHABET_STRING.charAt(ve%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ue)}if(this.decodeRowResult.length===0)throw new U;let Q;this.extendedMode?Q=se.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let te=(g[1]+g[0])/2,de=P+B/2;return new fe(Q,null,0,[new ee(te,l),new ee(de,l)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(l,c){let f=l.getSize(),m=l.getNextSet(0),g=0,y=m,w=!1,O=c.length;for(let P=m;P<f;P++)if(l.get(P)!==w)c[g]++;else{if(g===O-1){if(this.toNarrowWidePattern(c)===se.ASTERISK_ENCODING&&l.isRange(Math.max(0,y-Math.floor((P-y)/2)),y,!1))return[y,P];y+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,w=!w}throw new U}static toNarrowWidePattern(l){let c=l.length,f=0,m;do{let g=2147483647;for(let O of l)O<g&&O>f&&(g=O);f=g,m=0;let y=0,w=0;for(let O=0;O<c;O++){let P=l[O];P>f&&(w|=1<<c-1-O,m++,y+=P)}if(m===3){for(let O=0;O<c&&m>0;O++){let P=l[O];if(P>f&&(m--,P*2>=y))return-1}return w}}while(m>3);return-1}static patternToChar(l){for(let c=0;c<se.CHARACTER_ENCODINGS.length;c++)if(se.CHARACTER_ENCODINGS[c]===l)return se.ALPHABET_STRING.charAt(c);if(l===se.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(l){let c=l.length,f="";for(let m=0;m<c;m++){let g=l.charAt(m);if(g==="+"||g==="$"||g==="%"||g==="/"){let y=l.charAt(m+1),w="\0";switch(g){case"+":if(y>="A"&&y<="Z")w=String.fromCharCode(y.charCodeAt(0)+32);else throw new R;break;case"$":if(y>="A"&&y<="Z")w=String.fromCharCode(y.charCodeAt(0)-64);else throw new R;break;case"%":if(y>="A"&&y<="E")w=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")w=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")w=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")w=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")w="\0";else if(y==="V")w="@";else if(y==="W")w="`";else if(y==="X"||y==="Y"||y==="Z")w="";else throw new R;break;case"/":if(y>="A"&&y<="O")w=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")w=":";else throw new R;break}f+=w,m++}else f+=g}return f}}se.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",se.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],se.ASTERISK_ENCODING=148;class we extends It{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,c,f){let m=this.decodeStart(c),g=this.decodeEnd(c),y=new $;we.decodeMiddle(c,m[1],g[0],y);let w=y.toString(),O=null;f!=null&&(O=f.get(D.ALLOWED_LENGTHS)),O==null&&(O=we.DEFAULT_ALLOWED_LENGTHS);let P=w.length,B=!1,H=0;for(let de of O){if(P===de){B=!0;break}de>H&&(H=de)}if(!B&&P>H&&(B=!0),!B)throw new R;const Q=[new ee(m[1],l),new ee(g[0],l)];return new fe(w,null,0,Q,ge.ITF,new Date().getTime())}static decodeMiddle(l,c,f,m){let g=new Int32Array(10),y=new Int32Array(5),w=new Int32Array(5);for(g.fill(0),y.fill(0),w.fill(0);c<f;){It.recordPattern(l,c,g);for(let P=0;P<5;P++){let B=2*P;y[P]=g[B],w[P]=g[B+1]}let O=we.decodeDigit(y);m.append(O.toString()),O=this.decodeDigit(w),m.append(O.toString()),g.forEach(function(P){c+=P})}}decodeStart(l){let c=we.skipWhiteSpace(l),f=we.findGuardPattern(l,c,we.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(l,f[0]),f}validateQuietZone(l,c){let f=this.narrowLineWidth*10;f=f<c?f:c;for(let m=c-1;f>0&&m>=0&&!l.get(m);m--)f--;if(f!==0)throw new U}static skipWhiteSpace(l){const c=l.getSize(),f=l.getNextSet(0);if(f===c)throw new U;return f}decodeEnd(l){l.reverse();try{let c=we.skipWhiteSpace(l),f;try{f=we.findGuardPattern(l,c,we.END_PATTERN_REVERSED[0])}catch(g){g instanceof U&&(f=we.findGuardPattern(l,c,we.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,f[0]);let m=f[0];return f[0]=l.getSize()-f[1],f[1]=l.getSize()-m,f}finally{l.reverse()}}static findGuardPattern(l,c,f){let m=f.length,g=new Int32Array(m),y=l.getSize(),w=!1,O=0,P=c;g.fill(0);for(let B=c;B<y;B++)if(l.get(B)!==w)g[O]++;else{if(O===m-1){if(It.patternMatchVariance(g,f,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return[P,B];P+=g[0]+g[1],N.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,w=!w}throw new U}static decodeDigit(l){let c=we.MAX_AVG_VARIANCE,f=-1,m=we.PATTERNS.length;for(let g=0;g<m;g++){let y=we.PATTERNS[g],w=It.patternMatchVariance(l,y,we.MAX_INDIVIDUAL_VARIANCE);w<c?(c=w,f=g):w===c&&(f=-1)}if(f>=0)return f%10;throw new U}}we.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],we.MAX_AVG_VARIANCE=.38,we.MAX_INDIVIDUAL_VARIANCE=.5,we.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],we.START_PATTERN=Int32Array.from([1,1,1,1]),we.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class De extends It{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let c=!1,f,m=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),f=De.findGuardPattern(l,m,!1,this.START_END_PATTERN,g);let y=f[0];m=f[1];let w=y-(m-y);w>=0&&(c=l.isRange(w,y,!1))}return f}static checkChecksum(l){return De.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let c=l.length;if(c===0)return!1;let f=parseInt(l.charAt(c-1),10);return De.getStandardUPCEANChecksum(l.substring(0,c-1))===f}static getStandardUPCEANChecksum(l){let c=l.length,f=0;for(let m=c-1;m>=0;m-=2){let g=l.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new R;f+=g}f*=3;for(let m=c-2;m>=0;m-=2){let g=l.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new R;f+=g}return(1e3-f)%10}static decodeEnd(l,c){return De.findGuardPattern(l,c,!1,De.START_END_PATTERN,new Int32Array(De.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,c,f,m){return this.findGuardPattern(l,c,f,m,new Int32Array(m.length))}static findGuardPattern(l,c,f,m,g){let y=l.getSize();c=f?l.getNextUnset(c):l.getNextSet(c);let w=0,O=c,P=m.length,B=f;for(let H=c;H<y;H++)if(l.get(H)!==B)g[w]++;else{if(w===P-1){if(It.patternMatchVariance(g,m,De.MAX_INDIVIDUAL_VARIANCE)<De.MAX_AVG_VARIANCE)return Int32Array.from([O,H]);O+=g[0]+g[1];let Q=g.slice(2,g.length-1);for(let te=0;te<w-1;te++)g[te]=Q[te];g[w-1]=0,g[w]=0,w--}else w++;g[w]=1,B=!B}throw new U}static decodeDigit(l,c,f,m){this.recordPattern(l,f,c);let g=this.MAX_AVG_VARIANCE,y=-1,w=m.length;for(let O=0;O<w;O++){let P=m[O],B=It.patternMatchVariance(c,P,De.MAX_INDIVIDUAL_VARIANCE);B<g&&(g=B,y=O)}if(y>=0)return y;throw new U}}De.MAX_AVG_VARIANCE=.48,De.MAX_INDIVIDUAL_VARIANCE=.7,De.START_END_PATTERN=Int32Array.from([1,1,1]),De.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),De.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),De.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class tt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,c,f){let m=this.decodeRowStringBuffer,g=this.decodeMiddle(c,f,m),y=m.toString(),w=tt.parseExtensionString(y),O=[new ee((f[0]+f[1])/2,l),new ee(g,l)],P=new fe(y,null,0,O,ge.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&P.putAllMetadata(w),P}decodeMiddle(l,c,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=l.getSize(),y=c[1],w=0;for(let P=0;P<5&&y<g;P++){let B=De.decodeDigit(l,m,y,De.L_AND_G_PATTERNS);f+=String.fromCharCode(48+B%10);for(let H of m)y+=H;B>=10&&(w|=1<<4-P),P!==4&&(y=l.getNextSet(y),y=l.getNextUnset(y))}if(f.length!==5)throw new U;let O=this.determineCheckDigit(w);if(tt.extensionChecksum(f.toString())!==O)throw new U;return y}static extensionChecksum(l){let c=l.length,f=0;for(let m=c-2;m>=0;m-=2)f+=l.charAt(m).charCodeAt(0)-48;f*=3;for(let m=c-1;m>=0;m-=2)f+=l.charAt(m).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(l){for(let c=0;c<10;c++)if(l===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new U}static parseExtensionString(l){if(l.length!==5)return null;let c=tt.parseExtension5String(l);return c==null?null:new Map([[Ae.SUGGESTED_PRICE,c]])}static parseExtension5String(l){let c;switch(l.charAt(0)){case"0":c="£";break;case"5":c="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let f=parseInt(l.substring(1)),m=(f/100).toString(),g=f%100,y=g<10?"0"+g:g.toString();return c+m+"."+y}}class Gt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,c,f){let m=this.decodeRowStringBuffer,g=this.decodeMiddle(c,f,m),y=m.toString(),w=Gt.parseExtensionString(y),O=[new ee((f[0]+f[1])/2,l),new ee(g,l)],P=new fe(y,null,0,O,ge.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&P.putAllMetadata(w),P}decodeMiddle(l,c,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=l.getSize(),y=c[1],w=0;for(let O=0;O<2&&y<g;O++){let P=De.decodeDigit(l,m,y,De.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let B of m)y+=B;P>=10&&(w|=1<<1-O),O!==1&&(y=l.getNextSet(y),y=l.getNextUnset(y))}if(f.length!==2)throw new U;if(parseInt(f.toString())%4!==w)throw new U;return y}static parseExtensionString(l){return l.length!==2?null:new Map([[Ae.ISSUE_NUMBER,parseInt(l)]])}}class sr{static decodeRow(l,c,f){let m=De.findGuardPattern(c,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new tt().decodeRow(l,c,m)}catch{return new Gt().decodeRow(l,c,m)}}}sr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class me extends De{constructor(){super(),this.decodeRowStringBuffer="",me.L_AND_G_PATTERNS=me.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let c=me.L_PATTERNS[l-10],f=new Int32Array(c.length);for(let m=0;m<c.length;m++)f[m]=c[c.length-m-1];me.L_AND_G_PATTERNS[l]=f}}decodeRow(l,c,f){let m=me.findStartGuardPattern(c),g=f==null?null:f.get(D.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Ue=new ee((m[0]+m[1])/2,l);g.foundPossibleResultPoint(Ue)}let y=this.decodeMiddle(c,m,this.decodeRowStringBuffer),w=y.rowOffset,O=y.resultString;if(g!=null){const Ue=new ee(w,l);g.foundPossibleResultPoint(Ue)}let P=this.decodeEnd(c,w);if(g!=null){const Ue=new ee((P[0]+P[1])/2,l);g.foundPossibleResultPoint(Ue)}let B=P[1],H=B+(B-P[0]);if(H>=c.getSize()||!c.isRange(B,H,!1))throw new U;let Q=O.toString();if(Q.length<8)throw new R;if(!me.checkChecksum(Q))throw new _;let te=(m[1]+m[0])/2,de=(P[1]+P[0])/2,ue=this.getBarcodeFormat(),ve=[new ee(te,l),new ee(de,l)],Se=new fe(Q,null,0,ve,ue,new Date().getTime()),He=0;try{let Ue=sr.decodeRow(l,c,P[1]);Se.putMetadata(Ae.UPC_EAN_EXTENSION,Ue.getText()),Se.putAllMetadata(Ue.getResultMetadata()),Se.addResultPoints(Ue.getResultPoints()),He=Ue.getText().length}catch{}let We=f==null?null:f.get(D.ALLOWED_EAN_EXTENSIONS);if(We!=null){let Ue=!1;for(let Rt in We)if(He.toString()===Rt){Ue=!0;break}if(!Ue)throw new U}return Se}decodeEnd(l,c){return me.findGuardPattern(l,c,!1,me.START_END_PATTERN,new Int32Array(me.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return me.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let c=l.length;if(c===0)return!1;let f=parseInt(l.charAt(c-1),10);return me.getStandardUPCEANChecksum(l.substring(0,c-1))===f}static getStandardUPCEANChecksum(l){let c=l.length,f=0;for(let m=c-1;m>=0;m-=2){let g=l.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new R;f+=g}f*=3;for(let m=c-2;m>=0;m-=2){let g=l.charAt(m).charCodeAt(0)-48;if(g<0||g>9)throw new R;f+=g}return(1e3-f)%10}}class re extends me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,c,f){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=l.getSize(),y=c[1],w=0;for(let P=0;P<6&&y<g;P++){let B=me.decodeDigit(l,m,y,me.L_AND_G_PATTERNS);f+=String.fromCharCode(48+B%10);for(let H of m)y+=H;B>=10&&(w|=1<<5-P)}f=re.determineFirstDigit(f,w),y=me.findGuardPattern(l,y,!0,me.MIDDLE_PATTERN,new Int32Array(me.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<6&&y<g;P++){let B=me.decodeDigit(l,m,y,me.L_PATTERNS);f+=String.fromCharCode(48+B);for(let H of m)y+=H}return{rowOffset:y,resultString:f}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(l,c){for(let f=0;f<10;f++)if(c===this.FIRST_DIGIT_ENCODINGS[f])return l=String.fromCharCode(48+f)+l,l;throw new U}}re.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Oe extends me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,c,f){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=l.getSize(),y=c[1];for(let O=0;O<4&&y<g;O++){let P=me.decodeDigit(l,m,y,me.L_PATTERNS);f+=String.fromCharCode(48+P);for(let B of m)y+=B}y=me.findGuardPattern(l,y,!0,me.MIDDLE_PATTERN,new Int32Array(me.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<4&&y<g;O++){let P=me.decodeDigit(l,m,y,me.L_PATTERNS);f+=String.fromCharCode(48+P);for(let B of m)y+=B}return{rowOffset:y,resultString:f}}getBarcodeFormat(){return ge.EAN_8}}class ze extends me{constructor(){super(...arguments),this.ean13Reader=new re}getBarcodeFormat(){return ge.UPC_A}decode(l,c){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,c,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,c,f))}decodeMiddle(l,c,f){return this.ean13Reader.decodeMiddle(l,c,f)}maybeReturnResult(l){let c=l.getText();if(c.charAt(0)==="0"){let f=new fe(c.substring(1),null,null,l.getResultPoints(),ge.UPC_A);return l.getResultMetadata()!=null&&f.putAllMetadata(l.getResultMetadata()),f}else throw new U}reset(){this.ean13Reader.reset()}}class Ze extends me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,c,f){const m=this.decodeMiddleCounters.map(P=>P);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const g=l.getSize();let y=c[1],w=0;for(let P=0;P<6&&y<g;P++){const B=Ze.decodeDigit(l,m,y,Ze.L_AND_G_PATTERNS);f+=String.fromCharCode(48+B%10);for(let H of m)y+=H;B>=10&&(w|=1<<5-P)}let O=Ze.determineNumSysAndCheckDigit(f,w);return{rowOffset:y,resultString:O}}decodeEnd(l,c){return Ze.findGuardPatternWithoutCounters(l,c,!0,Ze.MIDDLE_END_PATTERN)}checkChecksum(l){return me.checkChecksum(Ze.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,c){for(let f=0;f<=1;f++)for(let m=0;m<10;m++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][m]){let g=String.fromCharCode(48+f),y=String.fromCharCode(48+m);return g+l+y}throw U.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(l){const c=l.slice(1,7).split("").map(g=>g.charCodeAt(0)),f=new $;f.append(l.charAt(0));let m=c[5];switch(m){case 0:case 1:case 2:f.appendChars(c,0,2),f.append(m),f.append("0000"),f.appendChars(c,2,3);break;case 3:f.appendChars(c,0,3),f.append("00000"),f.appendChars(c,3,2);break;case 4:f.appendChars(c,0,4),f.append("00000"),f.append(c[4]);break;default:f.appendChars(c,0,5),f.append("0000"),f.append(m);break}return l.length>=8&&f.append(l.charAt(7)),f.toString()}}Ze.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ze.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class er extends It{constructor(l){super();let c=l==null?null:l.get(D.POSSIBLE_FORMATS),f=[];s(c)?(f.push(new re),f.push(new ze),f.push(new Oe),f.push(new Ze)):(c.indexOf(ge.EAN_13)>-1&&f.push(new re),c.indexOf(ge.UPC_A)>-1&&f.push(new ze),c.indexOf(ge.EAN_8)>-1&&f.push(new Oe),c.indexOf(ge.UPC_E)>-1&&f.push(new Ze)),this.readers=f}decodeRow(l,c,f){for(let m of this.readers)try{const g=m.decodeRow(l,c,f),y=g.getBarcodeFormat()===ge.EAN_13&&g.getText().charAt(0)==="0",w=f==null?null:f.get(D.POSSIBLE_FORMATS),O=w==null||w.includes(ge.UPC_A);if(y&&O){const P=g.getRawBytes(),B=new fe(g.getText().substring(1),P,P?P.length:null,g.getResultPoints(),ge.UPC_A);return B.putAllMetadata(g.getResultMetadata()),B}return g}catch{}throw new U}reset(){for(let l of this.readers)l.reset()}}class Nt extends It{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,c){for(let f=0;f<c.length;f++)if(It.patternMatchVariance(l,c[f],Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return f;throw new U}static count(l){return oe.sum(new Int32Array(l))}static increment(l,c){let f=0,m=c[0];for(let g=1;g<l.length;g++)c[g]>m&&(m=c[g],f=g);l[f]++}static decrement(l,c){let f=0,m=c[0];for(let g=1;g<l.length;g++)c[g]<m&&(m=c[g],f=g);l[f]--}static isFinderPattern(l){let c=l[0]+l[1],f=c+l[2]+l[3],m=c/f;if(m>=Nt.MIN_FINDER_PATTERN_RATIO&&m<=Nt.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let w of l)w>y&&(y=w),w<g&&(g=w);return y<10*g}return!1}}Nt.MAX_AVG_VARIANCE=.2,Nt.MAX_INDIVIDUAL_VARIANCE=.45,Nt.MIN_FINDER_PATTERN_RATIO=9.5/12,Nt.MAX_FINDER_PATTERN_RATIO=12.5/14;class mr{constructor(l,c){this.value=l,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof mr))return!1;const c=l;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ds{constructor(l,c,f,m,g){this.value=l,this.startEnd=c,this.value=l,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new ee(f,g)),this.resultPoints.push(new ee(m,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Ds))return!1;const c=l;return this.value===c.value}hashCode(){return this.value}}class kn{constructor(){}static getRSSvalue(l,c,f){let m=0;for(let O of l)m+=O;let g=0,y=0,w=l.length;for(let O=0;O<w-1;O++){let P;for(P=1,y|=1<<O;P<l[O];P++,y&=~(1<<O)){let B=kn.combins(m-P-1,w-O-2);if(f&&y===0&&m-P-(w-O-1)>=w-O-1&&(B-=kn.combins(m-P-(w-O),w-O-2)),w-O-1>1){let H=0;for(let Q=m-P-(w-O-2);Q>c;Q--)H+=kn.combins(m-P-Q-1,w-O-3);B-=H*(w-1-O)}else m-P>c&&B--;g+=B}m-=P}return g}static combins(l,c){let f,m;l-c>c?(m=c,f=l-c):(m=l-c,f=c);let g=1,y=1;for(let w=l;w>f;w--)g*=w,y<=m&&(g/=y,y++);for(;y<=m;)g/=y,y++;return g}}class sc{static buildBitArray(l){let c=l.length*2-1;l[l.length-1].getRightChar()==null&&(c-=1);let f=12*c,m=new E(f),g=0,w=l[0].getRightChar().getValue();for(let O=11;O>=0;--O)w&1<<O&&m.set(g),g++;for(let O=1;O<l.length;++O){let P=l[O],B=P.getLeftChar().getValue();for(let H=11;H>=0;--H)B&1<<H&&m.set(g),g++;if(P.getRightChar()!=null){let H=P.getRightChar().getValue();for(let Q=11;Q>=0;--Q)H&1<<Q&&m.set(g),g++}}return m}}class ii{constructor(l,c){c?this.decodedInformation=null:(this.finished=l,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Od{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class vn extends Od{constructor(l,c){super(l),this.value=c}getValue(){return this.value}isFNC1(){return this.value===vn.FNC1}}vn.FNC1="$";class oi extends Od{constructor(l,c,f){super(l),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qn extends Od{constructor(l,c,f){if(super(l),c<0||c>10||f<0||f>10)throw new R;this.firstDigit=c,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===qn.FNC1}isAnyFNC1(){return this.firstDigit===qn.FNC1||this.secondDigit===qn.FNC1}}qn.FNC1=10;class et{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new U;let c=l.substring(0,2);for(let g of et.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===et.VARIABLE_LENGTH?et.processVariableAI(2,g[2],l):et.processFixedAI(2,g[1],l);if(l.length<3)throw new U;let f=l.substring(0,3);for(let g of et.THREE_DIGIT_DATA_LENGTH)if(g[0]===f)return g[1]===et.VARIABLE_LENGTH?et.processVariableAI(3,g[2],l):et.processFixedAI(3,g[1],l);for(let g of et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===f)return g[1]===et.VARIABLE_LENGTH?et.processVariableAI(4,g[2],l):et.processFixedAI(4,g[1],l);if(l.length<4)throw new U;let m=l.substring(0,4);for(let g of et.FOUR_DIGIT_DATA_LENGTH)if(g[0]===m)return g[1]===et.VARIABLE_LENGTH?et.processVariableAI(4,g[2],l):et.processFixedAI(4,g[1],l);throw new U}static processFixedAI(l,c,f){if(f.length<l)throw new U;let m=f.substring(0,l);if(f.length<l+c)throw new U;let g=f.substring(l,l+c),y=f.substring(l+c),w="("+m+")"+g,O=et.parseFieldsInGeneralPurpose(y);return O==null?w:w+O}static processVariableAI(l,c,f){let m=f.substring(0,l),g;f.length<l+c?g=f.length:g=l+c;let y=f.substring(l,g),w=f.substring(g),O="("+m+")"+y,P=et.parseFieldsInGeneralPurpose(w);return P==null?O:O+P}}et.VARIABLE_LENGTH=[],et.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",et.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",et.VARIABLE_LENGTH,20],["22",et.VARIABLE_LENGTH,29],["30",et.VARIABLE_LENGTH,8],["37",et.VARIABLE_LENGTH,8],["90",et.VARIABLE_LENGTH,30],["91",et.VARIABLE_LENGTH,30],["92",et.VARIABLE_LENGTH,30],["93",et.VARIABLE_LENGTH,30],["94",et.VARIABLE_LENGTH,30],["95",et.VARIABLE_LENGTH,30],["96",et.VARIABLE_LENGTH,30],["97",et.VARIABLE_LENGTH,3],["98",et.VARIABLE_LENGTH,30],["99",et.VARIABLE_LENGTH,30]],et.THREE_DIGIT_DATA_LENGTH=[["240",et.VARIABLE_LENGTH,30],["241",et.VARIABLE_LENGTH,30],["242",et.VARIABLE_LENGTH,6],["250",et.VARIABLE_LENGTH,30],["251",et.VARIABLE_LENGTH,30],["253",et.VARIABLE_LENGTH,17],["254",et.VARIABLE_LENGTH,20],["400",et.VARIABLE_LENGTH,30],["401",et.VARIABLE_LENGTH,30],["402",17],["403",et.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",et.VARIABLE_LENGTH,20],["421",et.VARIABLE_LENGTH,15],["422",3],["423",et.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],et.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",et.VARIABLE_LENGTH,15],["391",et.VARIABLE_LENGTH,18],["392",et.VARIABLE_LENGTH,15],["393",et.VARIABLE_LENGTH,18],["703",et.VARIABLE_LENGTH,30]],et.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",et.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",et.VARIABLE_LENGTH,20],["8003",et.VARIABLE_LENGTH,30],["8004",et.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",et.VARIABLE_LENGTH,30],["8008",et.VARIABLE_LENGTH,12],["8018",18],["8020",et.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",et.VARIABLE_LENGTH,70],["8200",et.VARIABLE_LENGTH,70]];class Hi{constructor(l){this.buffer=new $,this.information=l}decodeAllCodes(l,c){let f=c,m=null;do{let g=this.decodeGeneralPurposeField(f,m),y=et.parseFieldsInGeneralPurpose(g.getNewString());if(y!=null&&l.append(y),g.isRemaining()?m=""+g.getRemainingValue():m=null,f===g.getNewPosition())break;f=g.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let c=l;c<l+3;++c)if(this.information.get(c))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(l,4);return g===0?new qn(this.information.getSize(),qn.FNC1,qn.FNC1):new qn(this.information.getSize(),g-1,qn.FNC1)}let c=this.extractNumericValueFromBitArray(l,7),f=(c-8)/11,m=(c-8)%11;return new qn(l+7,f,m)}extractNumericValueFromBitArray(l,c){return Hi.extractNumericValueFromBitArray(this.information,l,c)}static extractNumericValueFromBitArray(l,c,f){let m=0;for(let g=0;g<f;++g)l.get(c+g)&&(m|=1<<f-g-1);return m}decodeGeneralPurposeField(l,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(l);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new oi(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new oi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,c;do{let f=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),l=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),l=c.isFinished()):(c=this.parseNumericBlock(),l=c.isFinished()),!(f!==this.current.getPosition())&&!l)break}while(!l);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let c;return l.isSecondDigitFNC1()?c=new oi(this.current.getPosition(),this.buffer.toString()):c=new oi(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new ii(!0,c)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let c=new oi(this.current.getPosition(),this.buffer.toString());return new ii(!0,c)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ii(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let c=new oi(this.current.getPosition(),this.buffer.toString());return new ii(!0,c)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ii(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let c=new oi(this.current.getPosition(),this.buffer.toString());return new ii(!0,c)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ii(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(l,5);if(c>=5&&c<16)return!0;if(l+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,7);if(f>=64&&f<116)return!0;if(l+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,8);return m>=232&&m<253}decodeIsoIec646(l){let c=this.extractNumericValueFromBitArray(l,5);if(c===15)return new vn(l+5,vn.FNC1);if(c>=5&&c<15)return new vn(l+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(l,7);if(f>=64&&f<90)return new vn(l+7,""+(f+1));if(f>=90&&f<116)return new vn(l+7,""+(f+7));let m=this.extractNumericValueFromBitArray(l,8),g;switch(m){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new R}return new vn(l+8,g)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(l,5);if(c>=5&&c<16)return!0;if(l+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,6);return f>=16&&f<63}decodeAlphanumeric(l){let c=this.extractNumericValueFromBitArray(l,5);if(c===15)return new vn(l+5,vn.FNC1);if(c>=5&&c<15)return new vn(l+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(l,6);if(f>=32&&f<58)return new vn(l+6,""+(f+33));let m;switch(f){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new vt("Decoding invalid alphanumeric value: "+f)}return new vn(l+6,m)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let c=0;c<5&&c+l<this.information.getSize();++c)if(c===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+c))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let c=l;c<l+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let c=0;c<4&&c+l<this.information.getSize();++c)if(this.information.get(l+c))return!1;return!0}}class Wi{constructor(l){this.information=l,this.generalDecoder=new Hi(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class us extends Wi{constructor(l){super(l)}encodeCompressedGtin(l,c){l.append("(01)");let f=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,c,f)}encodeCompressedGtinWithoutAI(l,c,f){for(let m=0;m<4;++m){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*m,10);g/100===0&&l.append("0"),g/10===0&&l.append("0"),l.append(g)}us.appendCheckDigit(l,f)}static appendCheckDigit(l,c){let f=0;for(let m=0;m<13;m++){let g=l.charAt(m+c).charCodeAt(0)-48;f+=m&1?g:3*g}f=10-f%10,f===10&&(f=0),l.append(f)}}us.GTIN_SIZE=40;class Ed extends us{constructor(l){super(l)}parseInformation(){let l=new $;l.append("(01)");let c=l.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(Ed.HEADER_SIZE,4);return l.append(f),this.encodeCompressedGtinWithoutAI(l,Ed.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(l,Ed.HEADER_SIZE+44)}}Ed.HEADER_SIZE=4;class Ym extends Wi{constructor(l){super(l)}parseInformation(){let l=new $;return this.getGeneralDecoder().decodeAllCodes(l,Ym.HEADER_SIZE)}}Ym.HEADER_SIZE=5;class Xm extends us{constructor(l){super(l)}encodeCompressedWeight(l,c,f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(c,f);this.addWeightCode(l,m);let g=this.checkWeight(m),y=1e5;for(let w=0;w<5;++w)g/y===0&&l.append("0"),y/=10;l.append(g)}}class li extends Xm{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=li.HEADER_SIZE+Xm.GTIN_SIZE+li.WEIGHT_SIZE)throw new U;let l=new $;return this.encodeCompressedGtin(l,li.HEADER_SIZE),this.encodeCompressedWeight(l,li.HEADER_SIZE+Xm.GTIN_SIZE,li.WEIGHT_SIZE),l.toString()}}li.HEADER_SIZE=5,li.WEIGHT_SIZE=15;class WR extends li{constructor(l){super(l)}addWeightCode(l,c){l.append("(3103)")}checkWeight(l){return l}}class GR extends li{constructor(l){super(l)}addWeightCode(l,c){c<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ci extends us{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ci.HEADER_SIZE+us.GTIN_SIZE)throw new U;let l=new $;this.encodeCompressedGtin(l,ci.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ci.HEADER_SIZE+us.GTIN_SIZE,ci.LAST_DIGIT_SIZE);l.append("(392"),l.append(c),l.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(ci.HEADER_SIZE+us.GTIN_SIZE+ci.LAST_DIGIT_SIZE,null);return l.append(f.getNewString()),l.toString()}}ci.HEADER_SIZE=8,ci.LAST_DIGIT_SIZE=2;class Hn extends us{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Hn.HEADER_SIZE+us.GTIN_SIZE)throw new U;let l=new $;this.encodeCompressedGtin(l,Hn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Hn.HEADER_SIZE+us.GTIN_SIZE,Hn.LAST_DIGIT_SIZE);l.append("(393"),l.append(c),l.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Hn.HEADER_SIZE+us.GTIN_SIZE+Hn.LAST_DIGIT_SIZE,Hn.FIRST_THREE_DIGITS_SIZE);f/100==0&&l.append("0"),f/10==0&&l.append("0"),l.append(f);let m=this.getGeneralDecoder().decodeGeneralPurposeField(Hn.HEADER_SIZE+us.GTIN_SIZE+Hn.LAST_DIGIT_SIZE+Hn.FIRST_THREE_DIGITS_SIZE,null);return l.append(m.getNewString()),l.toString()}}Hn.HEADER_SIZE=8,Hn.LAST_DIGIT_SIZE=2,Hn.FIRST_THREE_DIGITS_SIZE=10;class _r extends Xm{constructor(l,c,f){super(l),this.dateCode=f,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=_r.HEADER_SIZE+_r.GTIN_SIZE+_r.WEIGHT_SIZE+_r.DATE_SIZE)throw new U;let l=new $;return this.encodeCompressedGtin(l,_r.HEADER_SIZE),this.encodeCompressedWeight(l,_r.HEADER_SIZE+_r.GTIN_SIZE,_r.WEIGHT_SIZE),this.encodeCompressedDate(l,_r.HEADER_SIZE+_r.GTIN_SIZE+_r.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(c,_r.DATE_SIZE);if(f==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let m=f%32;f/=32;let g=f%12+1;f/=12;let y=f;y/10==0&&l.append("0"),l.append(y),g/10==0&&l.append("0"),l.append(g),m/10==0&&l.append("0"),l.append(m)}addWeightCode(l,c){l.append("("),l.append(this.firstAIdigits),l.append(c/1e5),l.append(")")}checkWeight(l){return l%1e5}}_r.HEADER_SIZE=8,_r.WEIGHT_SIZE=20,_r.DATE_SIZE=16;function k_(q){try{if(q.get(1))return new Ed(q);if(!q.get(2))return new Ym(q);switch(Hi.extractNumericValueFromBitArray(q,1,4)){case 4:return new WR(q);case 5:return new GR(q)}switch(Hi.extractNumericValueFromBitArray(q,1,5)){case 12:return new ci(q);case 13:return new Hn(q)}switch(Hi.extractNumericValueFromBitArray(q,1,7)){case 56:return new _r(q,"310","11");case 57:return new _r(q,"320","11");case 58:return new _r(q,"310","13");case 59:return new _r(q,"320","13");case 60:return new _r(q,"310","15");case 61:return new _r(q,"320","15");case 62:return new _r(q,"310","17");case 63:return new _r(q,"320","17")}}catch(l){throw console.log(l),new vt("unknown decoder: "+q)}}class Lo{constructor(l,c,f,m){this.leftchar=l,this.rightchar=c,this.finderpattern=f,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,c){return l instanceof Lo?Lo.equalsOrNull(l.leftchar,c.leftchar)&&Lo.equalsOrNull(l.rightchar,c.rightchar)&&Lo.equalsOrNull(l.finderpattern,c.finderpattern):!1}static equalsOrNull(l,c){return l===null?c===null:Lo.equals(l,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class db{constructor(l,c,f){this.pairs=l,this.rowNumber=c,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,c){return l instanceof db?this.checkEqualitity(l,c)&&l.wasReversed===c.wasReversed:!1}checkEqualitity(l,c){if(!l||!c)return;let f;return l.forEach((m,g)=>{c.forEach(y=>{m.getLeftChar().getValue()===y.getLeftChar().getValue()&&m.getRightChar().getValue()===y.getRightChar().getValue()&&m.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(f=!0)})}),f}}class Fe extends Nt{constructor(l){super(...arguments),this.pairs=new Array(Fe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,c,f){this.pairs.length=0,this.startFromEven=!1;try{return Fe.constructResult(this.decodeRow2pairs(l,c))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,Fe.constructResult(this.decodeRow2pairs(l,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,c){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,l))}catch(g){if(g instanceof U){if(!this.pairs.length)throw new U;f=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(l,!1),m){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new U}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return l&&(this.rows=this.rows.reverse()),c}checkRows(l,c){for(let f=c;f<this.rows.length;f++){let m=this.rows[f];this.pairs.length=0;for(let y of l)this.pairs.push(y.getPairs());if(this.pairs.push(m.getPairs()),!Fe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(l);g.push(m);try{return this.checkRows(g,f+1)}catch(y){this.verbose&&console.log(y)}}throw new U}static isValidSequence(l){for(let c of Fe.FINDER_PATTERN_SEQUENCES){if(l.length>c.length)continue;let f=!0;for(let m=0;m<l.length;m++)if(l[m].getFinderPattern().getValue()!=c[m]){f=!1;break}if(f)return!0}return!1}storeRow(l,c){let f=0,m=!1,g=!1;for(;f<this.rows.length;){let y=this.rows[f];if(y.getRowNumber()>l){g=y.isEquivalent(this.pairs);break}m=y.isEquivalent(this.pairs),f++}g||m||Fe.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new db(this.pairs,l,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,c){for(let f of c)if(f.getPairs().length!==l.length){for(let m of f.getPairs())for(let g of l)if(Lo.equals(m,g))break}}static isPartialRow(l,c){for(let f of c){let m=!0;for(let g of l){let y=!1;for(let w of f.getPairs())if(g.equals(w)){y=!0;break}if(!y){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(l){let c=sc.buildBitArray(l),m=k_(c).parseInformation(),g=l[0].getFinderPattern().getResultPoints(),y=l[l.length-1].getFinderPattern().getResultPoints(),w=[g[0],g[1],y[0],y[1]];return new fe(m,null,null,w,ge.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),c=l.getLeftChar(),f=l.getRightChar();if(f==null)return!1;let m=f.getChecksumPortion(),g=2;for(let w=1;w<this.pairs.size();++w){let O=this.pairs.get(w);m+=O.getLeftChar().getChecksumPortion(),g++;let P=O.getRightChar();P!=null&&(m+=P.getChecksumPortion(),g++)}return m%=211,211*(g-4)+m==c.getValue()}static getNextSecondBar(l,c){let f;return l.get(c)?(f=l.getNextUnset(c),f=l.getNextSet(f)):(f=l.getNextSet(c),f=l.getNextUnset(f)),f}retrieveNextPair(l,c,f){let m=c.length%2==0;this.startFromEven&&(m=!m);let g,y=!0,w=-1;do this.findNextPair(l,c,w),g=this.parseFoundFinderPattern(l,f,m),g==null?w=Fe.getNextSecondBar(l,this.startEnd[0]):y=!1;while(y);let O=this.decodeDataCharacter(l,g,m,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new U;let P;try{P=this.decodeDataCharacter(l,g,m,!1)}catch(B){P=null,this.verbose&&console.log(B)}return new Lo(O,P,g,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,c,f){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=l.getSize(),y;f>=0?y=f:this.isEmptyPair(c)?y=0:y=c[c.length-1].getFinderPattern().getStartEnd()[1];let w=c.length%2!=0;this.startFromEven&&(w=!w);let O=!1;for(;y<g&&(O=!l.get(y),!!O);)y++;let P=0,B=y;for(let H=y;H<g;H++)if(l.get(H)!=O)m[P]++;else{if(P==3){if(w&&Fe.reverseCounters(m),Fe.isFinderPattern(m)){this.startEnd[0]=B,this.startEnd[1]=H;return}w&&Fe.reverseCounters(m),B+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,P--}else P++;m[P]=1,O=!O}throw new U}static reverseCounters(l){let c=l.length;for(let f=0;f<c/2;++f){let m=l[f];l[f]=l[c-f-1],l[c-f-1]=m}}parseFoundFinderPattern(l,c,f){let m,g,y;if(f){let P=this.startEnd[0]-1;for(;P>=0&&!l.get(P);)P--;P++,m=this.startEnd[0]-P,g=P,y=this.startEnd[1]}else g=this.startEnd[0],y=l.getNextUnset(this.startEnd[1]+1),m=y-this.startEnd[1];let w=this.getDecodeFinderCounters();N.arraycopy(w,0,w,1,w.length-1),w[0]=m;let O;try{O=this.parseFinderValue(w,Fe.FINDER_PATTERNS)}catch{return null}return new Ds(O,[g,y],g,y,c)}decodeDataCharacter(l,c,f,m){let g=this.getDataCharacterCounters();for(let ir=0;ir<g.length;ir++)g[ir]=0;if(m)Fe.recordPatternInReverse(l,c.getStartEnd()[0],g);else{Fe.recordPattern(l,c.getStartEnd()[1],g);for(let ir=0,Nn=g.length-1;ir<Nn;ir++,Nn--){let Ms=g[ir];g[ir]=g[Nn],g[Nn]=Ms}}let y=17,w=oe.sum(new Int32Array(g))/y,O=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(w-O)/O>.3)throw new U;let P=this.getOddCounts(),B=this.getEvenCounts(),H=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let ir=0;ir<g.length;ir++){let Nn=1*g[ir]/w,Ms=Nn+.5;if(Ms<1){if(Nn<.3)throw new U;Ms=1}else if(Ms>8){if(Nn>8.7)throw new U;Ms=8}let Dd=ir/2;ir&1?(B[Dd]=Ms,Q[Dd]=Nn-Ms):(P[Dd]=Ms,H[Dd]=Nn-Ms)}this.adjustOddEvenCounts(y);let te=4*c.getValue()+(f?0:2)+(m?0:1)-1,de=0,ue=0;for(let ir=P.length-1;ir>=0;ir--){if(Fe.isNotA1left(c,f,m)){let Nn=Fe.WEIGHTS[te][2*ir];ue+=P[ir]*Nn}de+=P[ir]}let ve=0;for(let ir=B.length-1;ir>=0;ir--)if(Fe.isNotA1left(c,f,m)){let Nn=Fe.WEIGHTS[te][2*ir+1];ve+=B[ir]*Nn}let Se=ue+ve;if(de&1||de>13||de<4)throw new U;let He=(13-de)/2,We=Fe.SYMBOL_WIDEST[He],Ue=9-We,Rt=kn.getRSSvalue(P,We,!0),St=kn.getRSSvalue(B,Ue,!1),fs=Fe.EVEN_TOTAL_SUBSET[He],Ia=Fe.GSUM[He],ms=Rt*fs+St+Ia;return new mr(ms,Se)}static isNotA1left(l,c,f){return!(l.getValue()==0&&c&&f)}adjustOddEvenCounts(l){let c=oe.sum(new Int32Array(this.getOddCounts())),f=oe.sum(new Int32Array(this.getEvenCounts())),m=!1,g=!1;c>13?g=!0:c<4&&(m=!0);let y=!1,w=!1;f>13?w=!0:f<4&&(y=!0);let O=c+f-l,P=(c&1)==1,B=(f&1)==0;if(O==1)if(P){if(B)throw new U;g=!0}else{if(!B)throw new U;w=!0}else if(O==-1)if(P){if(B)throw new U;m=!0}else{if(!B)throw new U;y=!0}else if(O==0){if(P){if(!B)throw new U;c<f?(m=!0,w=!0):(g=!0,y=!0)}else if(B)throw new U}else throw new U;if(m){if(g)throw new U;Fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(w)throw new U;Fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Fe.SYMBOL_WIDEST=[7,5,4,3,1],Fe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Fe.GSUM=[0,348,1388,2948,3988],Fe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Fe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Fe.FINDER_PAT_A=0,Fe.FINDER_PAT_B=1,Fe.FINDER_PAT_C=2,Fe.FINDER_PAT_D=3,Fe.FINDER_PAT_E=4,Fe.FINDER_PAT_F=5,Fe.FINDER_PATTERN_SEQUENCES=[[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_C,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_E,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D,Fe.FINDER_PAT_C],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_E,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D,Fe.FINDER_PAT_D,Fe.FINDER_PAT_F],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_E,Fe.FINDER_PAT_B,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_F,Fe.FINDER_PAT_F],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_D],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_E],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_F,Fe.FINDER_PAT_F],[Fe.FINDER_PAT_A,Fe.FINDER_PAT_A,Fe.FINDER_PAT_B,Fe.FINDER_PAT_B,Fe.FINDER_PAT_C,Fe.FINDER_PAT_D,Fe.FINDER_PAT_D,Fe.FINDER_PAT_E,Fe.FINDER_PAT_E,Fe.FINDER_PAT_F,Fe.FINDER_PAT_F]],Fe.MAX_PAIRS=11;class QR extends mr{constructor(l,c,f){super(l,c),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dr extends Nt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,c,f){const m=this.decodePair(c,!1,l,f);Dr.addOrTally(this.possibleLeftPairs,m),c.reverse();let g=this.decodePair(c,!0,l,f);Dr.addOrTally(this.possibleRightPairs,g),c.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&Dr.checkChecksum(y,w))return Dr.constructResult(y,w)}throw new U}static addOrTally(l,c){if(c==null)return;let f=!1;for(let m of l)if(m.getValue()===c.getValue()){m.incrementCount(),f=!0;break}f||l.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,c){let f=4537077*l.getValue()+c.getValue(),m=new String(f).toString(),g=new $;for(let P=13-m.length;P>0;P--)g.append("0");g.append(m);let y=0;for(let P=0;P<13;P++){let B=g.charAt(P).charCodeAt(0)-48;y+=P&1?B:3*B}y=10-y%10,y===10&&(y=0),g.append(y.toString());let w=l.getFinderPattern().getResultPoints(),O=c.getFinderPattern().getResultPoints();return new fe(g.toString(),null,0,[w[0],w[1],O[0],O[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(l,c){let f=(l.getChecksumPortion()+16*c.getChecksumPortion())%79,m=9*l.getFinderPattern().getValue()+c.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,f===m}decodePair(l,c,f,m){try{let g=this.findFinderPattern(l,c),y=this.parseFoundFinderPattern(l,f,c,g),w=m==null?null:m.get(D.NEED_RESULT_POINT_CALLBACK);if(w!=null){let B=(g[0]+g[1])/2;c&&(B=l.getSize()-1-B),w.foundPossibleResultPoint(new ee(B,f))}let O=this.decodeDataCharacter(l,y,!0),P=this.decodeDataCharacter(l,y,!1);return new QR(1597*O.getValue()+P.getValue(),O.getChecksumPortion()+4*P.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(l,c,f){let m=this.getDataCharacterCounters();for(let ve=0;ve<m.length;ve++)m[ve]=0;if(f)It.recordPatternInReverse(l,c.getStartEnd()[0],m);else{It.recordPattern(l,c.getStartEnd()[1]+1,m);for(let ve=0,Se=m.length-1;ve<Se;ve++,Se--){let He=m[ve];m[ve]=m[Se],m[Se]=He}}let g=f?16:15,y=oe.sum(new Int32Array(m))/g,w=this.getOddCounts(),O=this.getEvenCounts(),P=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let ve=0;ve<m.length;ve++){let Se=m[ve]/y,He=Math.floor(Se+.5);He<1?He=1:He>8&&(He=8);let We=Math.floor(ve/2);ve&1?(O[We]=He,B[We]=Se-He):(w[We]=He,P[We]=Se-He)}this.adjustOddEvenCounts(f,g);let H=0,Q=0;for(let ve=w.length-1;ve>=0;ve--)Q*=9,Q+=w[ve],H+=w[ve];let te=0,de=0;for(let ve=O.length-1;ve>=0;ve--)te*=9,te+=O[ve],de+=O[ve];let ue=Q+3*te;if(f){if(H&1||H>12||H<4)throw new U;let ve=(12-H)/2,Se=Dr.OUTSIDE_ODD_WIDEST[ve],He=9-Se,We=kn.getRSSvalue(w,Se,!1),Ue=kn.getRSSvalue(O,He,!0),Rt=Dr.OUTSIDE_EVEN_TOTAL_SUBSET[ve],St=Dr.OUTSIDE_GSUM[ve];return new mr(We*Rt+Ue+St,ue)}else{if(de&1||de>10||de<4)throw new U;let ve=(10-de)/2,Se=Dr.INSIDE_ODD_WIDEST[ve],He=9-Se,We=kn.getRSSvalue(w,Se,!0),Ue=kn.getRSSvalue(O,He,!1),Rt=Dr.INSIDE_ODD_TOTAL_SUBSET[ve],St=Dr.INSIDE_GSUM[ve];return new mr(Ue*Rt+We+St,ue)}}findFinderPattern(l,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=l.getSize(),g=!1,y=0;for(;y<m&&(g=!l.get(y),c!==g);)y++;let w=0,O=y;for(let P=y;P<m;P++)if(l.get(P)!==g)f[w]++;else{if(w===3){if(Nt.isFinderPattern(f))return[O,P];O+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,w--}else w++;f[w]=1,g=!g}throw new U}parseFoundFinderPattern(l,c,f,m){let g=l.get(m[0]),y=m[0]-1;for(;y>=0&&g!==l.get(y);)y--;y++;const w=m[0]-y,O=this.getDecodeFinderCounters(),P=new Int32Array(O.length);N.arraycopy(O,0,P,1,O.length-1),P[0]=w;const B=this.parseFinderValue(P,Dr.FINDER_PATTERNS);let H=y,Q=m[1];return f&&(H=l.getSize()-1-H,Q=l.getSize()-1-Q),new Ds(B,[y,m[1]],H,Q,c)}adjustOddEvenCounts(l,c){let f=oe.sum(new Int32Array(this.getOddCounts())),m=oe.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1,w=!1,O=!1;l?(f>12?y=!0:f<4&&(g=!0),m>12?O=!0:m<4&&(w=!0)):(f>11?y=!0:f<5&&(g=!0),m>10?O=!0:m<4&&(w=!0));let P=f+m-c,B=(f&1)===(l?1:0),H=(m&1)===1;if(P===1)if(B){if(H)throw new U;y=!0}else{if(!H)throw new U;O=!0}else if(P===-1)if(B){if(H)throw new U;g=!0}else{if(!H)throw new U;w=!0}else if(P===0){if(B){if(!H)throw new U;f<m?(g=!0,O=!0):(y=!0,w=!0)}else if(H)throw new U}else throw new U;if(g){if(y)throw new U;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(O)throw new U;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dr.OUTSIDE_GSUM=[0,161,961,2015,2715],Dr.INSIDE_GSUM=[0,336,1036,1516],Dr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dr.INSIDE_ODD_WIDEST=[2,4,6,8],Dr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class kd extends It{constructor(l,c){super(),this.readers=[],this.verbose=c===!0;const f=l?l.get(D.POSSIBLE_FORMATS):null,m=l&&l.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(ge.EAN_13)||f.includes(ge.UPC_A)||f.includes(ge.EAN_8)||f.includes(ge.UPC_E))&&this.readers.push(new er(l)),f.includes(ge.CODE_39)&&this.readers.push(new se(m)),f.includes(ge.CODE_128)&&this.readers.push(new Ie),f.includes(ge.ITF)&&this.readers.push(new we),f.includes(ge.RSS_14)&&this.readers.push(new Dr),f.includes(ge.RSS_EXPANDED)&&this.readers.push(new Fe(this.verbose))):(this.readers.push(new er(l)),this.readers.push(new se),this.readers.push(new er(l)),this.readers.push(new Ie),this.readers.push(new we),this.readers.push(new Dr),this.readers.push(new Fe(this.verbose)))}decodeRow(l,c,f){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(l,c,f)}catch{}throw new U}reset(){this.readers.forEach(l=>l.reset())}}class YR extends ie{constructor(l=500,c){super(new kd(c),l,c)}}class Qt{constructor(l,c,f){this.ecCodewords=l,this.ecBlocks=[c],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class qt{constructor(l,c){this.count=l,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(l,c,f,m,g,y){this.versionNumber=l,this.symbolSizeRows=c,this.symbolSizeColumns=f,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=g,this.ecBlocks=y;let w=0;const O=y.getECCodewords(),P=y.getECBlocks();for(let B of P)w+=B.getCount()*(B.getDataCodewords()+O);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,c){if(l&1||c&1)throw new R;for(let f of Lt.VERSIONS)if(f.symbolSizeRows===l&&f.symbolSizeColumns===c)return f;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new Lt(1,10,10,8,8,new Qt(5,new qt(1,3))),new Lt(2,12,12,10,10,new Qt(7,new qt(1,5))),new Lt(3,14,14,12,12,new Qt(10,new qt(1,8))),new Lt(4,16,16,14,14,new Qt(12,new qt(1,12))),new Lt(5,18,18,16,16,new Qt(14,new qt(1,18))),new Lt(6,20,20,18,18,new Qt(18,new qt(1,22))),new Lt(7,22,22,20,20,new Qt(20,new qt(1,30))),new Lt(8,24,24,22,22,new Qt(24,new qt(1,36))),new Lt(9,26,26,24,24,new Qt(28,new qt(1,44))),new Lt(10,32,32,14,14,new Qt(36,new qt(1,62))),new Lt(11,36,36,16,16,new Qt(42,new qt(1,86))),new Lt(12,40,40,18,18,new Qt(48,new qt(1,114))),new Lt(13,44,44,20,20,new Qt(56,new qt(1,144))),new Lt(14,48,48,22,22,new Qt(68,new qt(1,174))),new Lt(15,52,52,24,24,new Qt(42,new qt(2,102))),new Lt(16,64,64,14,14,new Qt(56,new qt(2,140))),new Lt(17,72,72,16,16,new Qt(36,new qt(4,92))),new Lt(18,80,80,18,18,new Qt(48,new qt(4,114))),new Lt(19,88,88,20,20,new Qt(56,new qt(4,144))),new Lt(20,96,96,22,22,new Qt(68,new qt(4,174))),new Lt(21,104,104,24,24,new Qt(56,new qt(6,136))),new Lt(22,120,120,18,18,new Qt(68,new qt(6,175))),new Lt(23,132,132,20,20,new Qt(62,new qt(8,163))),new Lt(24,144,144,22,22,new Qt(62,new qt(8,156),new qt(2,155))),new Lt(25,8,18,6,16,new Qt(7,new qt(1,5))),new Lt(26,8,32,6,14,new Qt(11,new qt(1,10))),new Lt(27,12,26,10,24,new Qt(14,new qt(1,16))),new Lt(28,12,36,10,16,new Qt(18,new qt(1,22))),new Lt(29,16,36,14,16,new Qt(24,new qt(1,32))),new Lt(30,16,48,14,22,new Qt(28,new qt(1,49)))]}}Lt.VERSIONS=Lt.buildVersions();class ub{constructor(l){const c=l.getHeight();if(c<8||c>144||c&1)throw new R;this.version=ub.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new W(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const c=l.getHeight(),f=l.getWidth();return Lt.getVersionForDimensions(c,f)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let c=0,f=4,m=0;const g=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let w=!1,O=!1,P=!1,B=!1;do if(f===g&&m===0&&!w)l[c++]=this.readCorner1(g,y)&255,f-=2,m+=2,w=!0;else if(f===g-2&&m===0&&y&3&&!O)l[c++]=this.readCorner2(g,y)&255,f-=2,m+=2,O=!0;else if(f===g+4&&m===2&&!(y&7)&&!P)l[c++]=this.readCorner3(g,y)&255,f-=2,m+=2,P=!0;else if(f===g-2&&m===0&&(y&7)===4&&!B)l[c++]=this.readCorner4(g,y)&255,f-=2,m+=2,B=!0;else{do f<g&&m>=0&&!this.readMappingMatrix.get(m,f)&&(l[c++]=this.readUtah(f,m,g,y)&255),f-=2,m+=2;while(f>=0&&m<y);f+=1,m+=3;do f>=0&&m<y&&!this.readMappingMatrix.get(m,f)&&(l[c++]=this.readUtah(f,m,g,y)&255),f+=2,m-=2;while(f<g&&m>=0);f+=3,m+=1}while(f<g||m<y);if(c!==this.version.getTotalCodewords())throw new R;return l}readModule(l,c,f,m){return l<0&&(l+=f,c+=4-(f+4&7)),c<0&&(c+=m,l+=4-(m+4&7)),this.readMappingMatrix.set(c,l),this.mappingBitMatrix.get(c,l)}readUtah(l,c,f,m){let g=0;return this.readModule(l-2,c-2,f,m)&&(g|=1),g<<=1,this.readModule(l-2,c-1,f,m)&&(g|=1),g<<=1,this.readModule(l-1,c-2,f,m)&&(g|=1),g<<=1,this.readModule(l-1,c-1,f,m)&&(g|=1),g<<=1,this.readModule(l-1,c,f,m)&&(g|=1),g<<=1,this.readModule(l,c-2,f,m)&&(g|=1),g<<=1,this.readModule(l,c-1,f,m)&&(g|=1),g<<=1,this.readModule(l,c,f,m)&&(g|=1),g}readCorner1(l,c){let f=0;return this.readModule(l-1,0,l,c)&&(f|=1),f<<=1,this.readModule(l-1,1,l,c)&&(f|=1),f<<=1,this.readModule(l-1,2,l,c)&&(f|=1),f<<=1,this.readModule(0,c-2,l,c)&&(f|=1),f<<=1,this.readModule(0,c-1,l,c)&&(f|=1),f<<=1,this.readModule(1,c-1,l,c)&&(f|=1),f<<=1,this.readModule(2,c-1,l,c)&&(f|=1),f<<=1,this.readModule(3,c-1,l,c)&&(f|=1),f}readCorner2(l,c){let f=0;return this.readModule(l-3,0,l,c)&&(f|=1),f<<=1,this.readModule(l-2,0,l,c)&&(f|=1),f<<=1,this.readModule(l-1,0,l,c)&&(f|=1),f<<=1,this.readModule(0,c-4,l,c)&&(f|=1),f<<=1,this.readModule(0,c-3,l,c)&&(f|=1),f<<=1,this.readModule(0,c-2,l,c)&&(f|=1),f<<=1,this.readModule(0,c-1,l,c)&&(f|=1),f<<=1,this.readModule(1,c-1,l,c)&&(f|=1),f}readCorner3(l,c){let f=0;return this.readModule(l-1,0,l,c)&&(f|=1),f<<=1,this.readModule(l-1,c-1,l,c)&&(f|=1),f<<=1,this.readModule(0,c-3,l,c)&&(f|=1),f<<=1,this.readModule(0,c-2,l,c)&&(f|=1),f<<=1,this.readModule(0,c-1,l,c)&&(f|=1),f<<=1,this.readModule(1,c-3,l,c)&&(f|=1),f<<=1,this.readModule(1,c-2,l,c)&&(f|=1),f<<=1,this.readModule(1,c-1,l,c)&&(f|=1),f}readCorner4(l,c){let f=0;return this.readModule(l-3,0,l,c)&&(f|=1),f<<=1,this.readModule(l-2,0,l,c)&&(f|=1),f<<=1,this.readModule(l-1,0,l,c)&&(f|=1),f<<=1,this.readModule(0,c-2,l,c)&&(f|=1),f<<=1,this.readModule(0,c-1,l,c)&&(f|=1),f<<=1,this.readModule(1,c-1,l,c)&&(f|=1),f<<=1,this.readModule(2,c-1,l,c)&&(f|=1),f<<=1,this.readModule(3,c-1,l,c)&&(f|=1),f}extractDataRegion(l){const c=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(l.getHeight()!==c)throw new p("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),y=c/m|0,w=f/g|0,O=y*m,P=w*g,B=new W(P,O);for(let H=0;H<y;++H){const Q=H*m;for(let te=0;te<w;++te){const de=te*g;for(let ue=0;ue<m;++ue){const ve=H*(m+2)+1+ue,Se=Q+ue;for(let He=0;He<g;++He){const We=te*(g+2)+1+He;if(l.get(We,ve)){const Ue=de+He;B.set(Ue,Se)}}}}}return B}}class hb{constructor(l,c){this.numDataCodewords=l,this.codewords=c}static getDataBlocks(l,c){const f=c.getECBlocks();let m=0;const g=f.getECBlocks();for(let ue of g)m+=ue.getCount();const y=new Array(m);let w=0;for(let ue of g)for(let ve=0;ve<ue.getCount();ve++){const Se=ue.getDataCodewords(),He=f.getECCodewords()+Se;y[w++]=new hb(Se,new Uint8Array(He))}const P=y[0].codewords.length-f.getECCodewords(),B=P-1;let H=0;for(let ue=0;ue<B;ue++)for(let ve=0;ve<w;ve++)y[ve].codewords[ue]=l[H++];const Q=c.getVersionNumber()===24,te=Q?8:w;for(let ue=0;ue<te;ue++)y[ue].codewords[P-1]=l[H++];const de=y[0].codewords.length;for(let ue=P;ue<de;ue++)for(let ve=0;ve<w;ve++){const Se=Q?(ve+8)%w:ve,He=Q&&Se>7?ue-1:ue;y[Se].codewords[He]=l[H++]}if(H!==l.length)throw new p;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fb{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new p(""+l);let c=0,f=this.bitOffset,m=this.byteOffset;const g=this.bytes;if(f>0){const y=8-f,w=l<y?l:y,O=y-w,P=255>>8-w<<O;c=(g[m]&P)>>O,l-=w,f+=w,f===8&&(f=0,m++)}if(l>0){for(;l>=8;)c=c<<8|g[m]&255,m++,l-=8;if(l>0){const y=8-l,w=255>>y<<y;c=c<<l|(g[m]&w)>>y,f+=l}}return this.bitOffset=f,this.byteOffset=m,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Zr;(function(q){q[q.PAD_ENCODE=0]="PAD_ENCODE",q[q.ASCII_ENCODE=1]="ASCII_ENCODE",q[q.C40_ENCODE=2]="C40_ENCODE",q[q.TEXT_ENCODE=3]="TEXT_ENCODE",q[q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",q[q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",q[q.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zr||(Zr={}));class $o{static decode(l){const c=new fb(l),f=new $,m=new $,g=new Array;let y=Zr.ASCII_ENCODE;do if(y===Zr.ASCII_ENCODE)y=this.decodeAsciiSegment(c,f,m);else{switch(y){case Zr.C40_ENCODE:this.decodeC40Segment(c,f);break;case Zr.TEXT_ENCODE:this.decodeTextSegment(c,f);break;case Zr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,f);break;case Zr.EDIFACT_ENCODE:this.decodeEdifactSegment(c,f);break;case Zr.BASE256_ENCODE:this.decodeBase256Segment(c,f,g);break;default:throw new R}y=Zr.ASCII_ENCODE}while(y!==Zr.PAD_ENCODE&&c.available()>0);return m.length()>0&&f.append(m.toString()),new Ne(l,f.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(l,c,f){let m=!1;do{let g=l.readBits(8);if(g===0)throw new R;if(g<=128)return m&&(g+=128),c.append(String.fromCharCode(g-1)),Zr.ASCII_ENCODE;if(g===129)return Zr.PAD_ENCODE;if(g<=229){const y=g-130;y<10&&c.append("0"),c.append(""+y)}else switch(g){case 230:return Zr.C40_ENCODE;case 231:return Zr.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:c.append("[)>05"),f.insert(0,"");break;case 237:c.append("[)>06"),f.insert(0,"");break;case 238:return Zr.ANSIX12_ENCODE;case 239:return Zr.TEXT_ENCODE;case 240:return Zr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||l.available()!==0)throw new R;break}}while(l.available()>0);return Zr.ASCII_ENCODE}static decodeC40Segment(l,c){let f=!1;const m=[];let g=0;do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),m);for(let w=0;w<3;w++){const O=m[w];switch(g){case 0:if(O<3)g=O+1;else if(O<this.C40_BASIC_SET_CHARS.length){const P=this.C40_BASIC_SET_CHARS[O];f?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):c.append(P)}else throw new R;break;case 1:f?(c.append(String.fromCharCode(O+128)),f=!1):c.append(String.fromCharCode(O)),g=0;break;case 2:if(O<this.C40_SHIFT2_SET_CHARS.length){const P=this.C40_SHIFT2_SET_CHARS[O];f?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):c.append(P)}else switch(O){case 27:c.append("");break;case 30:f=!0;break;default:throw new R}g=0;break;case 3:f?(c.append(String.fromCharCode(O+224)),f=!1):c.append(String.fromCharCode(O+96)),g=0;break;default:throw new R}}}while(l.available()>0)}static decodeTextSegment(l,c){let f=!1,m=[],g=0;do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),m);for(let w=0;w<3;w++){const O=m[w];switch(g){case 0:if(O<3)g=O+1;else if(O<this.TEXT_BASIC_SET_CHARS.length){const P=this.TEXT_BASIC_SET_CHARS[O];f?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):c.append(P)}else throw new R;break;case 1:f?(c.append(String.fromCharCode(O+128)),f=!1):c.append(String.fromCharCode(O)),g=0;break;case 2:if(O<this.TEXT_SHIFT2_SET_CHARS.length){const P=this.TEXT_SHIFT2_SET_CHARS[O];f?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):c.append(P)}else switch(O){case 27:c.append("");break;case 30:f=!0;break;default:throw new R}g=0;break;case 3:if(O<this.TEXT_SHIFT3_SET_CHARS.length){const P=this.TEXT_SHIFT3_SET_CHARS[O];f?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):c.append(P),g=0}else throw new R;break;default:throw new R}}}while(l.available()>0)}static decodeAnsiX12Segment(l,c){const f=[];do{if(l.available()===8)return;const m=l.readBits(8);if(m===254)return;this.parseTwoBytes(m,l.readBits(8),f);for(let g=0;g<3;g++){const y=f[g];switch(y){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(y<14)c.append(String.fromCharCode(y+44));else if(y<40)c.append(String.fromCharCode(y+51));else throw new R;break}}}while(l.available()>0)}static parseTwoBytes(l,c,f){let m=(l<<8)+c-1,g=Math.floor(m/1600);f[0]=g,m-=g*1600,g=Math.floor(m/40),f[1]=g,f[2]=m-g*40}static decodeEdifactSegment(l,c){do{if(l.available()<=16)return;for(let f=0;f<4;f++){let m=l.readBits(6);if(m===31){const g=8-l.getBitOffset();g!==8&&l.readBits(g);return}m&32||(m|=64),c.append(String.fromCharCode(m))}}while(l.available()>0)}static decodeBase256Segment(l,c,f){let m=1+l.getByteOffset();const g=this.unrandomize255State(l.readBits(8),m++);let y;if(g===0?y=l.available()/8|0:g<250?y=g:y=250*(g-249)+this.unrandomize255State(l.readBits(8),m++),y<0)throw new R;const w=new Uint8Array(y);for(let O=0;O<y;O++){if(l.available()<8)throw new R;w[O]=this.unrandomize255State(l.readBits(8),m++)}f.push(w);try{c.append(I.decode(w,L.ISO88591))}catch(O){throw new vt("Platform does not support required encoding: "+O.message)}}static unrandomize255State(l,c){const f=149*c%255+1,m=l-f;return m>=0?m:m+256}}$o.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$o.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$o.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$o.TEXT_SHIFT2_SET_CHARS=$o.C40_SHIFT2_SET_CHARS,$o.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class XR{constructor(){this.rsDecoder=new Ot(Ke.DATA_MATRIX_FIELD_256)}decode(l){const c=new ub(l),f=c.getVersion(),m=c.readCodewords(),g=hb.getDataBlocks(m,f);let y=0;for(let P of g)y+=P.getNumDataCodewords();const w=new Uint8Array(y),O=g.length;for(let P=0;P<O;P++){const B=g[P],H=B.getCodewords(),Q=B.getNumDataCodewords();this.correctErrors(H,Q);for(let te=0;te<Q;te++)w[te*O+P]=H[te]}return $o.decode(w)}correctErrors(l,c){const f=new Int32Array(l);try{this.rsDecoder.decode(f,l.length-c)}catch{throw new _}for(let m=0;m<c;m++)l[m]=f[m]}}class Ur{constructor(l){this.image=l,this.rectangleDetector=new Ee(this.image)}detect(){const l=this.rectangleDetector.detect();let c=this.detectSolid1(l);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new U;c=this.shiftToModuleCenter(c);const f=c[0],m=c[1],g=c[2],y=c[3];let w=this.transitionsBetween(f,y)+1,O=this.transitionsBetween(g,y)+1;(w&1)===1&&(w+=1),(O&1)===1&&(O+=1),4*w<7*O&&4*O<7*w&&(w=O=Math.max(w,O));let P=Ur.sampleGrid(this.image,f,m,g,y,w,O);return new pe(P,[f,m,g,y])}static shiftPoint(l,c,f){let m=(c.getX()-l.getX())/(f+1),g=(c.getY()-l.getY())/(f+1);return new ee(l.getX()+m,l.getY()+g)}static moveAway(l,c,f){let m=l.getX(),g=l.getY();return m<c?m-=1:m+=1,g<f?g-=1:g+=1,new ee(m,g)}detectSolid1(l){let c=l[0],f=l[1],m=l[3],g=l[2],y=this.transitionsBetween(c,f),w=this.transitionsBetween(f,m),O=this.transitionsBetween(m,g),P=this.transitionsBetween(g,c),B=y,H=[g,c,f,m];return B>w&&(B=w,H[0]=c,H[1]=f,H[2]=m,H[3]=g),B>O&&(B=O,H[0]=f,H[1]=m,H[2]=g,H[3]=c),B>P&&(H[0]=m,H[1]=g,H[2]=c,H[3]=f),H}detectSolid2(l){let c=l[0],f=l[1],m=l[2],g=l[3],y=this.transitionsBetween(c,g),w=Ur.shiftPoint(f,m,(y+1)*4),O=Ur.shiftPoint(m,f,(y+1)*4),P=this.transitionsBetween(w,c),B=this.transitionsBetween(O,g);return P<B?(l[0]=c,l[1]=f,l[2]=m,l[3]=g):(l[0]=f,l[1]=m,l[2]=g,l[3]=c),l}correctTopRight(l){let c=l[0],f=l[1],m=l[2],g=l[3],y=this.transitionsBetween(c,g),w=this.transitionsBetween(f,g),O=Ur.shiftPoint(c,f,(w+1)*4),P=Ur.shiftPoint(m,f,(y+1)*4);y=this.transitionsBetween(O,g),w=this.transitionsBetween(P,g);let B=new ee(g.getX()+(m.getX()-f.getX())/(y+1),g.getY()+(m.getY()-f.getY())/(y+1)),H=new ee(g.getX()+(c.getX()-f.getX())/(w+1),g.getY()+(c.getY()-f.getY())/(w+1));if(!this.isValid(B))return this.isValid(H)?H:null;if(!this.isValid(H))return B;let Q=this.transitionsBetween(O,B)+this.transitionsBetween(P,B),te=this.transitionsBetween(O,H)+this.transitionsBetween(P,H);return Q>te?B:H}shiftToModuleCenter(l){let c=l[0],f=l[1],m=l[2],g=l[3],y=this.transitionsBetween(c,g)+1,w=this.transitionsBetween(m,g)+1,O=Ur.shiftPoint(c,f,w*4),P=Ur.shiftPoint(m,f,y*4);y=this.transitionsBetween(O,g)+1,w=this.transitionsBetween(P,g)+1,(y&1)===1&&(y+=1),(w&1)===1&&(w+=1);let B=(c.getX()+f.getX()+m.getX()+g.getX())/4,H=(c.getY()+f.getY()+m.getY()+g.getY())/4;c=Ur.moveAway(c,B,H),f=Ur.moveAway(f,B,H),m=Ur.moveAway(m,B,H),g=Ur.moveAway(g,B,H);let Q,te;return O=Ur.shiftPoint(c,f,w*4),O=Ur.shiftPoint(O,g,y*4),Q=Ur.shiftPoint(f,c,w*4),Q=Ur.shiftPoint(Q,m,y*4),P=Ur.shiftPoint(m,g,w*4),P=Ur.shiftPoint(P,f,y*4),te=Ur.shiftPoint(g,m,w*4),te=Ur.shiftPoint(te,c,y*4),[O,Q,P,te]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,c,f,m,g,y,w){return be.getInstance().sampleGrid(l,y,w,.5,.5,y-.5,.5,y-.5,w-.5,.5,w-.5,c.getX(),c.getY(),g.getX(),g.getY(),m.getX(),m.getY(),f.getX(),f.getY())}transitionsBetween(l,c){let f=Math.trunc(l.getX()),m=Math.trunc(l.getY()),g=Math.trunc(c.getX()),y=Math.trunc(c.getY()),w=Math.abs(y-m)>Math.abs(g-f);if(w){let ue=f;f=m,m=ue,ue=g,g=y,y=ue}let O=Math.abs(g-f),P=Math.abs(y-m),B=-O/2,H=m<y?1:-1,Q=f<g?1:-1,te=0,de=this.image.get(w?m:f,w?f:m);for(let ue=f,ve=m;ue!==g;ue+=Q){let Se=this.image.get(w?ve:ue,w?ue:ve);if(Se!==de&&(te++,de=Se),B+=P,B>0){if(ve===y)break;ve+=H,B-=O}}return te}}class Fo{constructor(){this.decoder=new XR}decode(l,c=null){let f,m;if(c!=null&&c.has(D.PURE_BARCODE)){const P=Fo.extractPureBits(l.getBlackMatrix());f=this.decoder.decode(P),m=Fo.NO_POINTS}else{const P=new Ur(l.getBlackMatrix()).detect();f=this.decoder.decode(P.getBits()),m=P.getPoints()}const g=f.getRawBytes(),y=new fe(f.getText(),g,8*g.length,m,ge.DATA_MATRIX,N.currentTimeMillis()),w=f.getByteSegments();w!=null&&y.putMetadata(Ae.BYTE_SEGMENTS,w);const O=f.getECLevel();return O!=null&&y.putMetadata(Ae.ERROR_CORRECTION_LEVEL,O),y}reset(){}static extractPureBits(l){const c=l.getTopLeftOnBit(),f=l.getBottomRightOnBit();if(c==null||f==null)throw new U;const m=this.moduleSize(c,l);let g=c[1];const y=f[1];let w=c[0];const P=(f[0]-w+1)/m,B=(y-g+1)/m;if(P<=0||B<=0)throw new U;const H=m/2;g+=H,w+=H;const Q=new W(P,B);for(let te=0;te<B;te++){const de=g+te*m;for(let ue=0;ue<P;ue++)l.get(w+ue*m,de)&&Q.set(ue,te)}return Q}static moduleSize(l,c){const f=c.getWidth();let m=l[0];const g=l[1];for(;m<f&&c.get(m,g);)m++;if(m===f)throw new U;const y=m-l[0];if(y===0)throw new U;return y}}Fo.NO_POINTS=[];class KR extends ie{constructor(l=500){super(new Fo,l)}}var Td;(function(q){q[q.L=0]="L",q[q.M=1]="M",q[q.Q=2]="Q",q[q.H=3]="H"})(Td||(Td={}));class cr{constructor(l,c,f){this.value=l,this.stringValue=c,this.bits=f,cr.FOR_BITS.set(f,this),cr.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return cr.L;case"M":return cr.M;case"Q":return cr.Q;case"H":return cr.H;default:throw new x(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof cr))return!1;const c=l;return this.value===c.value}static forBits(l){if(l<0||l>=cr.FOR_BITS.size)throw new p;return cr.FOR_BITS.get(l)}}cr.FOR_BITS=new Map,cr.FOR_VALUE=new Map,cr.L=new cr(Td.L,"L",1),cr.M=new cr(Td.M,"M",0),cr.Q=new cr(Td.Q,"Q",3),cr.H=new cr(Td.H,"H",2);class Tn{constructor(l){this.errorCorrectionLevel=cr.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,c){return A.bitCount(l^c)}static decodeFormatInformation(l,c){const f=Tn.doDecodeFormatInformation(l,c);return f!==null?f:Tn.doDecodeFormatInformation(l^Tn.FORMAT_INFO_MASK_QR,c^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,c){let f=Number.MAX_SAFE_INTEGER,m=0;for(const g of Tn.FORMAT_INFO_DECODE_LOOKUP){const y=g[0];if(y===l||y===c)return new Tn(g[1]);let w=Tn.numBitsDiffering(l,y);w<f&&(m=g[1],f=w),l!==c&&(w=Tn.numBitsDiffering(c,y),w<f&&(m=g[1],f=w))}return f<=3?new Tn(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof Tn))return!1;const c=l;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class je{constructor(l,...c){this.ecCodewordsPerBlock=l,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const c=this.ecBlocks;for(const f of c)l+=f.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class J{constructor(l,c){this.count=l,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ct{constructor(l,c,...f){this.versionNumber=l,this.alignmentPatternCenters=c,this.ecBlocks=f;let m=0;const g=f[0].getECCodewordsPerBlock(),y=f[0].getECBlocks();for(const w of y)m+=w.getCount()*(w.getDataCodewords()+g);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new R;try{return this.getVersionForNumber((l-17)/4)}catch{throw new R}}static getVersionForNumber(l){if(l<1||l>40)throw new p;return ct.VERSIONS[l-1]}static decodeVersionInformation(l){let c=Number.MAX_SAFE_INTEGER,f=0;for(let m=0;m<ct.VERSION_DECODE_INFO.length;m++){const g=ct.VERSION_DECODE_INFO[m];if(g===l)return ct.getVersionForNumber(m+7);const y=Tn.numBitsDiffering(l,g);y<c&&(f=m+7,c=y)}return c<=3?ct.getVersionForNumber(f):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),c=new W(l);c.setRegion(0,0,9,9),c.setRegion(l-8,0,8,9),c.setRegion(0,l-8,9,8);const f=this.alignmentPatternCenters.length;for(let m=0;m<f;m++){const g=this.alignmentPatternCenters[m]-2;for(let y=0;y<f;y++)m===0&&(y===0||y===f-1)||m===f-1&&y===0||c.setRegion(this.alignmentPatternCenters[y]-2,g,5,5)}return c.setRegion(6,9,1,l-17),c.setRegion(9,6,l-17,1),this.versionNumber>6&&(c.setRegion(l-11,0,3,6),c.setRegion(0,l-11,6,3)),c}toString(){return""+this.versionNumber}}ct.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ct.VERSIONS=[new ct(1,new Int32Array(0),new je(7,new J(1,19)),new je(10,new J(1,16)),new je(13,new J(1,13)),new je(17,new J(1,9))),new ct(2,Int32Array.from([6,18]),new je(10,new J(1,34)),new je(16,new J(1,28)),new je(22,new J(1,22)),new je(28,new J(1,16))),new ct(3,Int32Array.from([6,22]),new je(15,new J(1,55)),new je(26,new J(1,44)),new je(18,new J(2,17)),new je(22,new J(2,13))),new ct(4,Int32Array.from([6,26]),new je(20,new J(1,80)),new je(18,new J(2,32)),new je(26,new J(2,24)),new je(16,new J(4,9))),new ct(5,Int32Array.from([6,30]),new je(26,new J(1,108)),new je(24,new J(2,43)),new je(18,new J(2,15),new J(2,16)),new je(22,new J(2,11),new J(2,12))),new ct(6,Int32Array.from([6,34]),new je(18,new J(2,68)),new je(16,new J(4,27)),new je(24,new J(4,19)),new je(28,new J(4,15))),new ct(7,Int32Array.from([6,22,38]),new je(20,new J(2,78)),new je(18,new J(4,31)),new je(18,new J(2,14),new J(4,15)),new je(26,new J(4,13),new J(1,14))),new ct(8,Int32Array.from([6,24,42]),new je(24,new J(2,97)),new je(22,new J(2,38),new J(2,39)),new je(22,new J(4,18),new J(2,19)),new je(26,new J(4,14),new J(2,15))),new ct(9,Int32Array.from([6,26,46]),new je(30,new J(2,116)),new je(22,new J(3,36),new J(2,37)),new je(20,new J(4,16),new J(4,17)),new je(24,new J(4,12),new J(4,13))),new ct(10,Int32Array.from([6,28,50]),new je(18,new J(2,68),new J(2,69)),new je(26,new J(4,43),new J(1,44)),new je(24,new J(6,19),new J(2,20)),new je(28,new J(6,15),new J(2,16))),new ct(11,Int32Array.from([6,30,54]),new je(20,new J(4,81)),new je(30,new J(1,50),new J(4,51)),new je(28,new J(4,22),new J(4,23)),new je(24,new J(3,12),new J(8,13))),new ct(12,Int32Array.from([6,32,58]),new je(24,new J(2,92),new J(2,93)),new je(22,new J(6,36),new J(2,37)),new je(26,new J(4,20),new J(6,21)),new je(28,new J(7,14),new J(4,15))),new ct(13,Int32Array.from([6,34,62]),new je(26,new J(4,107)),new je(22,new J(8,37),new J(1,38)),new je(24,new J(8,20),new J(4,21)),new je(22,new J(12,11),new J(4,12))),new ct(14,Int32Array.from([6,26,46,66]),new je(30,new J(3,115),new J(1,116)),new je(24,new J(4,40),new J(5,41)),new je(20,new J(11,16),new J(5,17)),new je(24,new J(11,12),new J(5,13))),new ct(15,Int32Array.from([6,26,48,70]),new je(22,new J(5,87),new J(1,88)),new je(24,new J(5,41),new J(5,42)),new je(30,new J(5,24),new J(7,25)),new je(24,new J(11,12),new J(7,13))),new ct(16,Int32Array.from([6,26,50,74]),new je(24,new J(5,98),new J(1,99)),new je(28,new J(7,45),new J(3,46)),new je(24,new J(15,19),new J(2,20)),new je(30,new J(3,15),new J(13,16))),new ct(17,Int32Array.from([6,30,54,78]),new je(28,new J(1,107),new J(5,108)),new je(28,new J(10,46),new J(1,47)),new je(28,new J(1,22),new J(15,23)),new je(28,new J(2,14),new J(17,15))),new ct(18,Int32Array.from([6,30,56,82]),new je(30,new J(5,120),new J(1,121)),new je(26,new J(9,43),new J(4,44)),new je(28,new J(17,22),new J(1,23)),new je(28,new J(2,14),new J(19,15))),new ct(19,Int32Array.from([6,30,58,86]),new je(28,new J(3,113),new J(4,114)),new je(26,new J(3,44),new J(11,45)),new je(26,new J(17,21),new J(4,22)),new je(26,new J(9,13),new J(16,14))),new ct(20,Int32Array.from([6,34,62,90]),new je(28,new J(3,107),new J(5,108)),new je(26,new J(3,41),new J(13,42)),new je(30,new J(15,24),new J(5,25)),new je(28,new J(15,15),new J(10,16))),new ct(21,Int32Array.from([6,28,50,72,94]),new je(28,new J(4,116),new J(4,117)),new je(26,new J(17,42)),new je(28,new J(17,22),new J(6,23)),new je(30,new J(19,16),new J(6,17))),new ct(22,Int32Array.from([6,26,50,74,98]),new je(28,new J(2,111),new J(7,112)),new je(28,new J(17,46)),new je(30,new J(7,24),new J(16,25)),new je(24,new J(34,13))),new ct(23,Int32Array.from([6,30,54,78,102]),new je(30,new J(4,121),new J(5,122)),new je(28,new J(4,47),new J(14,48)),new je(30,new J(11,24),new J(14,25)),new je(30,new J(16,15),new J(14,16))),new ct(24,Int32Array.from([6,28,54,80,106]),new je(30,new J(6,117),new J(4,118)),new je(28,new J(6,45),new J(14,46)),new je(30,new J(11,24),new J(16,25)),new je(30,new J(30,16),new J(2,17))),new ct(25,Int32Array.from([6,32,58,84,110]),new je(26,new J(8,106),new J(4,107)),new je(28,new J(8,47),new J(13,48)),new je(30,new J(7,24),new J(22,25)),new je(30,new J(22,15),new J(13,16))),new ct(26,Int32Array.from([6,30,58,86,114]),new je(28,new J(10,114),new J(2,115)),new je(28,new J(19,46),new J(4,47)),new je(28,new J(28,22),new J(6,23)),new je(30,new J(33,16),new J(4,17))),new ct(27,Int32Array.from([6,34,62,90,118]),new je(30,new J(8,122),new J(4,123)),new je(28,new J(22,45),new J(3,46)),new je(30,new J(8,23),new J(26,24)),new je(30,new J(12,15),new J(28,16))),new ct(28,Int32Array.from([6,26,50,74,98,122]),new je(30,new J(3,117),new J(10,118)),new je(28,new J(3,45),new J(23,46)),new je(30,new J(4,24),new J(31,25)),new je(30,new J(11,15),new J(31,16))),new ct(29,Int32Array.from([6,30,54,78,102,126]),new je(30,new J(7,116),new J(7,117)),new je(28,new J(21,45),new J(7,46)),new je(30,new J(1,23),new J(37,24)),new je(30,new J(19,15),new J(26,16))),new ct(30,Int32Array.from([6,26,52,78,104,130]),new je(30,new J(5,115),new J(10,116)),new je(28,new J(19,47),new J(10,48)),new je(30,new J(15,24),new J(25,25)),new je(30,new J(23,15),new J(25,16))),new ct(31,Int32Array.from([6,30,56,82,108,134]),new je(30,new J(13,115),new J(3,116)),new je(28,new J(2,46),new J(29,47)),new je(30,new J(42,24),new J(1,25)),new je(30,new J(23,15),new J(28,16))),new ct(32,Int32Array.from([6,34,60,86,112,138]),new je(30,new J(17,115)),new je(28,new J(10,46),new J(23,47)),new je(30,new J(10,24),new J(35,25)),new je(30,new J(19,15),new J(35,16))),new ct(33,Int32Array.from([6,30,58,86,114,142]),new je(30,new J(17,115),new J(1,116)),new je(28,new J(14,46),new J(21,47)),new je(30,new J(29,24),new J(19,25)),new je(30,new J(11,15),new J(46,16))),new ct(34,Int32Array.from([6,34,62,90,118,146]),new je(30,new J(13,115),new J(6,116)),new je(28,new J(14,46),new J(23,47)),new je(30,new J(44,24),new J(7,25)),new je(30,new J(59,16),new J(1,17))),new ct(35,Int32Array.from([6,30,54,78,102,126,150]),new je(30,new J(12,121),new J(7,122)),new je(28,new J(12,47),new J(26,48)),new je(30,new J(39,24),new J(14,25)),new je(30,new J(22,15),new J(41,16))),new ct(36,Int32Array.from([6,24,50,76,102,128,154]),new je(30,new J(6,121),new J(14,122)),new je(28,new J(6,47),new J(34,48)),new je(30,new J(46,24),new J(10,25)),new je(30,new J(2,15),new J(64,16))),new ct(37,Int32Array.from([6,28,54,80,106,132,158]),new je(30,new J(17,122),new J(4,123)),new je(28,new J(29,46),new J(14,47)),new je(30,new J(49,24),new J(10,25)),new je(30,new J(24,15),new J(46,16))),new ct(38,Int32Array.from([6,32,58,84,110,136,162]),new je(30,new J(4,122),new J(18,123)),new je(28,new J(13,46),new J(32,47)),new je(30,new J(48,24),new J(14,25)),new je(30,new J(42,15),new J(32,16))),new ct(39,Int32Array.from([6,26,54,82,110,138,166]),new je(30,new J(20,117),new J(4,118)),new je(28,new J(40,47),new J(7,48)),new je(30,new J(43,24),new J(22,25)),new je(30,new J(10,15),new J(67,16))),new ct(40,Int32Array.from([6,30,58,86,114,142,170]),new je(30,new J(19,118),new J(6,119)),new je(28,new J(18,47),new J(31,48)),new je(30,new J(34,24),new J(34,25)),new je(30,new J(20,15),new J(61,16)))];var dn;(function(q){q[q.DATA_MASK_000=0]="DATA_MASK_000",q[q.DATA_MASK_001=1]="DATA_MASK_001",q[q.DATA_MASK_010=2]="DATA_MASK_010",q[q.DATA_MASK_011=3]="DATA_MASK_011",q[q.DATA_MASK_100=4]="DATA_MASK_100",q[q.DATA_MASK_101=5]="DATA_MASK_101",q[q.DATA_MASK_110=6]="DATA_MASK_110",q[q.DATA_MASK_111=7]="DATA_MASK_111"})(dn||(dn={}));class aa{constructor(l,c){this.value=l,this.isMasked=c}unmaskBitMatrix(l,c){for(let f=0;f<c;f++)for(let m=0;m<c;m++)this.isMasked(f,m)&&l.flip(m,f)}}aa.values=new Map([[dn.DATA_MASK_000,new aa(dn.DATA_MASK_000,(q,l)=>(q+l&1)===0)],[dn.DATA_MASK_001,new aa(dn.DATA_MASK_001,(q,l)=>(q&1)===0)],[dn.DATA_MASK_010,new aa(dn.DATA_MASK_010,(q,l)=>l%3===0)],[dn.DATA_MASK_011,new aa(dn.DATA_MASK_011,(q,l)=>(q+l)%3===0)],[dn.DATA_MASK_100,new aa(dn.DATA_MASK_100,(q,l)=>(Math.floor(q/2)+Math.floor(l/3)&1)===0)],[dn.DATA_MASK_101,new aa(dn.DATA_MASK_101,(q,l)=>q*l%6===0)],[dn.DATA_MASK_110,new aa(dn.DATA_MASK_110,(q,l)=>q*l%6<3)],[dn.DATA_MASK_111,new aa(dn.DATA_MASK_111,(q,l)=>(q+l+q*l%3&1)===0)]]);class ZR{constructor(l){const c=l.getHeight();if(c<21||(c&3)!==1)throw new R;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let g=0;g<6;g++)l=this.copyBit(g,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let g=5;g>=0;g--)l=this.copyBit(8,g,l);const c=this.bitMatrix.getHeight();let f=0;const m=c-7;for(let g=c-1;g>=m;g--)f=this.copyBit(8,g,f);for(let g=c-8;g<c;g++)f=this.copyBit(g,8,f);if(this.parsedFormatInfo=Tn.decodeFormatInformation(l,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),c=Math.floor((l-17)/4);if(c<=6)return ct.getVersionForNumber(c);let f=0;const m=l-11;for(let y=5;y>=0;y--)for(let w=l-9;w>=m;w--)f=this.copyBit(w,y,f);let g=ct.decodeVersionInformation(f);if(g!==null&&g.getDimensionForVersion()===l)return this.parsedVersion=g,g;f=0;for(let y=5;y>=0;y--)for(let w=l-9;w>=m;w--)f=this.copyBit(y,w,f);if(g=ct.decodeVersionInformation(f),g!==null&&g.getDimensionForVersion()===l)return this.parsedVersion=g,g;throw new R}copyBit(l,c,f){return(this.isMirror?this.bitMatrix.get(c,l):this.bitMatrix.get(l,c))?f<<1|1:f<<1}readCodewords(){const l=this.readFormatInformation(),c=this.readVersion(),f=aa.values.get(l.getDataMask()),m=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,m);const g=c.buildFunctionPattern();let y=!0;const w=new Uint8Array(c.getTotalCodewords());let O=0,P=0,B=0;for(let H=m-1;H>0;H-=2){H===6&&H--;for(let Q=0;Q<m;Q++){const te=y?m-1-Q:Q;for(let de=0;de<2;de++)g.get(H-de,te)||(B++,P<<=1,this.bitMatrix.get(H-de,te)&&(P|=1),B===8&&(w[O++]=P,B=0,P=0))}y=!y}if(O!==c.getTotalCodewords())throw new R;return w}remask(){if(this.parsedFormatInfo===null)return;const l=aa.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let c=0,f=l.getWidth();c<f;c++)for(let m=c+1,g=l.getHeight();m<g;m++)l.get(c,m)!==l.get(m,c)&&(l.flip(m,c),l.flip(c,m))}}class mb{constructor(l,c){this.numDataCodewords=l,this.codewords=c}static getDataBlocks(l,c,f){if(l.length!==c.getTotalCodewords())throw new p;const m=c.getECBlocksForLevel(f);let g=0;const y=m.getECBlocks();for(const de of y)g+=de.getCount();const w=new Array(g);let O=0;for(const de of y)for(let ue=0;ue<de.getCount();ue++){const ve=de.getDataCodewords(),Se=m.getECCodewordsPerBlock()+ve;w[O++]=new mb(ve,new Uint8Array(Se))}const P=w[0].codewords.length;let B=w.length-1;for(;B>=0&&w[B].codewords.length!==P;)B--;B++;const H=P-m.getECCodewordsPerBlock();let Q=0;for(let de=0;de<H;de++)for(let ue=0;ue<O;ue++)w[ue].codewords[de]=l[Q++];for(let de=B;de<O;de++)w[de].codewords[H]=l[Q++];const te=w[0].codewords.length;for(let de=H;de<te;de++)for(let ue=0;ue<O;ue++){const ve=ue<B?de:de+1;w[ue].codewords[ve]=l[Q++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ia;(function(q){q[q.TERMINATOR=0]="TERMINATOR",q[q.NUMERIC=1]="NUMERIC",q[q.ALPHANUMERIC=2]="ALPHANUMERIC",q[q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",q[q.BYTE=4]="BYTE",q[q.ECI=5]="ECI",q[q.KANJI=6]="KANJI",q[q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",q[q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",q[q.HANZI=9]="HANZI"})(ia||(ia={}));class ht{constructor(l,c,f,m){this.value=l,this.stringValue=c,this.characterCountBitsForVersions=f,this.bits=m,ht.FOR_BITS.set(m,this),ht.FOR_VALUE.set(l,this)}static forBits(l){const c=ht.FOR_BITS.get(l);if(c===void 0)throw new p;return c}getCharacterCountBits(l){const c=l.getVersionNumber();let f;return c<=9?f=0:c<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof ht))return!1;const c=l;return this.value===c.value}toString(){return this.stringValue}}ht.FOR_BITS=new Map,ht.FOR_VALUE=new Map,ht.TERMINATOR=new ht(ia.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ht.NUMERIC=new ht(ia.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ht.ALPHANUMERIC=new ht(ia.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ht.STRUCTURED_APPEND=new ht(ia.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ht.BYTE=new ht(ia.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ht.ECI=new ht(ia.ECI,"ECI",Int32Array.from([0,0,0]),7),ht.KANJI=new ht(ia.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ht.FNC1_FIRST_POSITION=new ht(ia.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ht.FNC1_SECOND_POSITION=new ht(ia.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ht.HANZI=new ht(ia.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Er{static decode(l,c,f,m){const g=new fb(l);let y=new $;const w=new Array;let O=-1,P=-1;try{let B=null,H=!1,Q;do{if(g.available()<4)Q=ht.TERMINATOR;else{const te=g.readBits(4);Q=ht.forBits(te)}switch(Q){case ht.TERMINATOR:break;case ht.FNC1_FIRST_POSITION:case ht.FNC1_SECOND_POSITION:H=!0;break;case ht.STRUCTURED_APPEND:if(g.available()<16)throw new R;O=g.readBits(8),P=g.readBits(8);break;case ht.ECI:const te=Er.parseECIValue(g);if(B=M.getCharacterSetECIByValue(te),B===null)throw new R;break;case ht.HANZI:const de=g.readBits(4),ue=g.readBits(Q.getCharacterCountBits(c));de===Er.GB2312_SUBSET&&Er.decodeHanziSegment(g,y,ue);break;default:const ve=g.readBits(Q.getCharacterCountBits(c));switch(Q){case ht.NUMERIC:Er.decodeNumericSegment(g,y,ve);break;case ht.ALPHANUMERIC:Er.decodeAlphanumericSegment(g,y,ve,H);break;case ht.BYTE:Er.decodeByteSegment(g,y,ve,B,w,m);break;case ht.KANJI:Er.decodeKanjiSegment(g,y,ve);break;default:throw new R}break}}while(Q!==ht.TERMINATOR)}catch{throw new R}return new Ne(l,y.toString(),w.length===0?null:w,f===null?null:f.toString(),O,P)}static decodeHanziSegment(l,c,f){if(f*13>l.available())throw new R;const m=new Uint8Array(2*f);let g=0;for(;f>0;){const y=l.readBits(13);let w=y/96<<8&4294967295|y%96;w<959?w+=41377:w+=42657,m[g]=w>>8&255,m[g+1]=w&255,g+=2,f--}try{c.append(I.decode(m,L.GB2312))}catch(y){throw new R(y)}}static decodeKanjiSegment(l,c,f){if(f*13>l.available())throw new R;const m=new Uint8Array(2*f);let g=0;for(;f>0;){const y=l.readBits(13);let w=y/192<<8&4294967295|y%192;w<7936?w+=33088:w+=49472,m[g]=w>>8,m[g+1]=w,g+=2,f--}try{c.append(I.decode(m,L.SHIFT_JIS))}catch(y){throw new R(y)}}static decodeByteSegment(l,c,f,m,g,y){if(8*f>l.available())throw new R;const w=new Uint8Array(f);for(let P=0;P<f;P++)w[P]=l.readBits(8);let O;m===null?O=L.guessEncoding(w,y):O=m.getName();try{c.append(I.decode(w,O))}catch(P){throw new R(P)}g.push(w)}static toAlphaNumericChar(l){if(l>=Er.ALPHANUMERIC_CHARS.length)throw new R;return Er.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,c,f,m){const g=c.length();for(;f>1;){if(l.available()<11)throw new R;const y=l.readBits(11);c.append(Er.toAlphaNumericChar(Math.floor(y/45))),c.append(Er.toAlphaNumericChar(y%45)),f-=2}if(f===1){if(l.available()<6)throw new R;c.append(Er.toAlphaNumericChar(l.readBits(6)))}if(m)for(let y=g;y<c.length();y++)c.charAt(y)==="%"&&(y<c.length()-1&&c.charAt(y+1)==="%"?c.deleteCharAt(y+1):c.setCharAt(y,""))}static decodeNumericSegment(l,c,f){for(;f>=3;){if(l.available()<10)throw new R;const m=l.readBits(10);if(m>=1e3)throw new R;c.append(Er.toAlphaNumericChar(Math.floor(m/100))),c.append(Er.toAlphaNumericChar(Math.floor(m/10)%10)),c.append(Er.toAlphaNumericChar(m%10)),f-=3}if(f===2){if(l.available()<7)throw new R;const m=l.readBits(7);if(m>=100)throw new R;c.append(Er.toAlphaNumericChar(Math.floor(m/10))),c.append(Er.toAlphaNumericChar(m%10))}else if(f===1){if(l.available()<4)throw new R;const m=l.readBits(4);if(m>=10)throw new R;c.append(Er.toAlphaNumericChar(m))}}static parseECIValue(l){const c=l.readBits(8);if(!(c&128))return c&127;if((c&192)===128){const f=l.readBits(8);return(c&63)<<8&4294967295|f}if((c&224)===192){const f=l.readBits(16);return(c&31)<<16&4294967295|f}throw new R}}Er.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Er.GB2312_SUBSET=1;class T_{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const c=l[0];l[0]=l[2],l[2]=c}}class JR{constructor(){this.rsDecoder=new Ot(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(l,c){return this.decodeBitMatrix(W.parseFromBooleanArray(l),c)}decodeBitMatrix(l,c){const f=new ZR(l);let m=null;try{return this.decodeBitMatrixParser(f,c)}catch(g){m=g}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const g=this.decodeBitMatrixParser(f,c);return g.setOther(new T_(!0)),g}catch(g){throw m!==null?m:g}}decodeBitMatrixParser(l,c){const f=l.readVersion(),m=l.readFormatInformation().getErrorCorrectionLevel(),g=l.readCodewords(),y=mb.getDataBlocks(g,f,m);let w=0;for(const B of y)w+=B.getNumDataCodewords();const O=new Uint8Array(w);let P=0;for(const B of y){const H=B.getCodewords(),Q=B.getNumDataCodewords();this.correctErrors(H,Q);for(let te=0;te<Q;te++)O[P++]=H[te]}return Er.decode(O,f,m,c)}correctErrors(l,c){const f=new Int32Array(l);try{this.rsDecoder.decode(f,l.length-c)}catch{throw new _}for(let m=0;m<c;m++)l[m]=f[m]}}class xb extends ee{constructor(l,c,f){super(l,c),this.estimatedModuleSize=f}aboutEquals(l,c,f){if(Math.abs(c-this.getY())<=l&&Math.abs(f-this.getX())<=l){const m=Math.abs(l-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(l,c,f){const m=(this.getX()+c)/2,g=(this.getY()+l)/2,y=(this.estimatedModuleSize+f)/2;return new xb(m,g,y)}}class Km{constructor(l,c,f,m,g,y,w){this.image=l,this.startX=c,this.startY=f,this.width=m,this.height=g,this.moduleSize=y,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,c=this.height,f=this.width,m=l+f,g=this.startY+c/2,y=new Int32Array(3),w=this.image;for(let O=0;O<c;O++){const P=g+(O&1?-Math.floor((O+1)/2):Math.floor((O+1)/2));y[0]=0,y[1]=0,y[2]=0;let B=l;for(;B<m&&!w.get(B,P);)B++;let H=0;for(;B<m;){if(w.get(B,P))if(H===1)y[1]++;else if(H===2){if(this.foundPatternCross(y)){const Q=this.handlePossibleCenter(y,P,B);if(Q!==null)return Q}y[0]=y[2],y[1]=1,y[2]=0,H=1}else y[++H]++;else H===1&&H++,y[H]++;B++}if(this.foundPatternCross(y)){const Q=this.handlePossibleCenter(y,P,m);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(l,c){return c-l[2]-l[1]/2}foundPatternCross(l){const c=this.moduleSize,f=c/2;for(let m=0;m<3;m++)if(Math.abs(c-l[m])>=f)return!1;return!0}crossCheckVertical(l,c,f,m){const g=this.image,y=g.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let O=l;for(;O>=0&&g.get(c,O)&&w[1]<=f;)w[1]++,O--;if(O<0||w[1]>f)return NaN;for(;O>=0&&!g.get(c,O)&&w[0]<=f;)w[0]++,O--;if(w[0]>f)return NaN;for(O=l+1;O<y&&g.get(c,O)&&w[1]<=f;)w[1]++,O++;if(O===y||w[1]>f)return NaN;for(;O<y&&!g.get(c,O)&&w[2]<=f;)w[2]++,O++;if(w[2]>f)return NaN;const P=w[0]+w[1]+w[2];return 5*Math.abs(P-m)>=2*m?NaN:this.foundPatternCross(w)?Km.centerFromEnd(w,O):NaN}handlePossibleCenter(l,c,f){const m=l[0]+l[1]+l[2],g=Km.centerFromEnd(l,f),y=this.crossCheckVertical(c,g,2*l[1],m);if(!isNaN(y)){const w=(l[0]+l[1]+l[2])/3;for(const P of this.possibleCenters)if(P.aboutEquals(w,y,g))return P.combineEstimate(y,g,w);const O=new xb(g,y,w);this.possibleCenters.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return null}}class pb extends ee{constructor(l,c,f,m){super(l,c),this.estimatedModuleSize=f,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,c,f){if(Math.abs(c-this.getY())<=l&&Math.abs(f-this.getX())<=l){const m=Math.abs(l-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(l,c,f){const m=this.count+1,g=(this.count*this.getX()+c)/m,y=(this.count*this.getY()+l)/m,w=(this.count*this.estimatedModuleSize+f)/m;return new pb(g,y,w,m)}}class eL{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class un{constructor(l,c){this.image=l,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const c=l!=null&&l.get(D.TRY_HARDER)!==void 0,f=l!=null&&l.get(D.PURE_BARCODE)!==void 0,m=this.image,g=m.getHeight(),y=m.getWidth();let w=Math.floor(3*g/(4*un.MAX_MODULES));(w<un.MIN_SKIP||c)&&(w=un.MIN_SKIP);let O=!1;const P=new Int32Array(5);for(let H=w-1;H<g&&!O;H+=w){P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0;let Q=0;for(let te=0;te<y;te++)if(m.get(te,H))(Q&1)===1&&Q++,P[Q]++;else if(Q&1)P[Q]++;else if(Q===4)if(un.foundPatternCross(P)){if(this.handlePossibleCenter(P,H,te,f)===!0)if(w=2,this.hasSkipped===!0)O=this.haveMultiplyConfirmedCenters();else{const ue=this.findRowSkip();ue>P[2]&&(H+=ue-P[2]-w,te=y-1)}else{P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,Q=3;continue}Q=0,P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0}else P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,Q=3;else P[++Q]++;un.foundPatternCross(P)&&this.handlePossibleCenter(P,H,y,f)===!0&&(w=P[0],this.hasSkipped&&(O=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return ee.orderBestPatterns(B),new eL(B)}static centerFromEnd(l,c){return c-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let c=0;for(let g=0;g<5;g++){const y=l[g];if(y===0)return!1;c+=y}if(c<7)return!1;const f=c/7,m=f/2;return Math.abs(f-l[0])<m&&Math.abs(f-l[1])<m&&Math.abs(3*f-l[2])<3*m&&Math.abs(f-l[3])<m&&Math.abs(f-l[4])<m}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,c,f,m){const g=this.getCrossCheckStateCount();let y=0;const w=this.image;for(;l>=y&&c>=y&&w.get(c-y,l-y);)g[2]++,y++;if(l<y||c<y)return!1;for(;l>=y&&c>=y&&!w.get(c-y,l-y)&&g[1]<=f;)g[1]++,y++;if(l<y||c<y||g[1]>f)return!1;for(;l>=y&&c>=y&&w.get(c-y,l-y)&&g[0]<=f;)g[0]++,y++;if(g[0]>f)return!1;const O=w.getHeight(),P=w.getWidth();for(y=1;l+y<O&&c+y<P&&w.get(c+y,l+y);)g[2]++,y++;if(l+y>=O||c+y>=P)return!1;for(;l+y<O&&c+y<P&&!w.get(c+y,l+y)&&g[3]<f;)g[3]++,y++;if(l+y>=O||c+y>=P||g[3]>=f)return!1;for(;l+y<O&&c+y<P&&w.get(c+y,l+y)&&g[4]<f;)g[4]++,y++;if(g[4]>=f)return!1;const B=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(B-m)<2*m&&un.foundPatternCross(g)}crossCheckVertical(l,c,f,m){const g=this.image,y=g.getHeight(),w=this.getCrossCheckStateCount();let O=l;for(;O>=0&&g.get(c,O);)w[2]++,O--;if(O<0)return NaN;for(;O>=0&&!g.get(c,O)&&w[1]<=f;)w[1]++,O--;if(O<0||w[1]>f)return NaN;for(;O>=0&&g.get(c,O)&&w[0]<=f;)w[0]++,O--;if(w[0]>f)return NaN;for(O=l+1;O<y&&g.get(c,O);)w[2]++,O++;if(O===y)return NaN;for(;O<y&&!g.get(c,O)&&w[3]<f;)w[3]++,O++;if(O===y||w[3]>=f)return NaN;for(;O<y&&g.get(c,O)&&w[4]<f;)w[4]++,O++;if(w[4]>=f)return NaN;const P=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(P-m)>=2*m?NaN:un.foundPatternCross(w)?un.centerFromEnd(w,O):NaN}crossCheckHorizontal(l,c,f,m){const g=this.image,y=g.getWidth(),w=this.getCrossCheckStateCount();let O=l;for(;O>=0&&g.get(O,c);)w[2]++,O--;if(O<0)return NaN;for(;O>=0&&!g.get(O,c)&&w[1]<=f;)w[1]++,O--;if(O<0||w[1]>f)return NaN;for(;O>=0&&g.get(O,c)&&w[0]<=f;)w[0]++,O--;if(w[0]>f)return NaN;for(O=l+1;O<y&&g.get(O,c);)w[2]++,O++;if(O===y)return NaN;for(;O<y&&!g.get(O,c)&&w[3]<f;)w[3]++,O++;if(O===y||w[3]>=f)return NaN;for(;O<y&&g.get(O,c)&&w[4]<f;)w[4]++,O++;if(w[4]>=f)return NaN;const P=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(P-m)>=m?NaN:un.foundPatternCross(w)?un.centerFromEnd(w,O):NaN}handlePossibleCenter(l,c,f,m){const g=l[0]+l[1]+l[2]+l[3]+l[4];let y=un.centerFromEnd(l,f),w=this.crossCheckVertical(c,Math.floor(y),l[2],g);if(!isNaN(w)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(w),l[2],g),!isNaN(y)&&(!m||this.crossCheckDiagonal(Math.floor(w),Math.floor(y),l[2],g)))){const O=g/7;let P=!1;const B=this.possibleCenters;for(let H=0,Q=B.length;H<Q;H++){const te=B[H];if(te.aboutEquals(O,w,y)){B[H]=te.combineEstimate(w,y,O),P=!0;break}}if(!P){const H=new pb(y,w,O);B.push(H),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(H)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const f of this.possibleCenters)if(f.getCount()>=un.CENTER_QUORUM)if(c==null)c=f;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-f.getX())-Math.abs(c.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,c=0;const f=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=un.CENTER_QUORUM&&(l++,c+=y.getEstimatedModuleSize());if(l<3)return!1;const m=c/f;let g=0;for(const y of this.possibleCenters)g+=Math.abs(y.getEstimatedModuleSize()-m);return g<=.05*c}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new U;const c=this.possibleCenters;let f;if(l>3){let m=0,g=0;for(const O of this.possibleCenters){const P=O.getEstimatedModuleSize();m+=P,g+=P*P}f=m/l;let y=Math.sqrt(g/l-f*f);c.sort((O,P)=>{const B=Math.abs(P.getEstimatedModuleSize()-f),H=Math.abs(O.getEstimatedModuleSize()-f);return B<H?-1:B>H?1:0});const w=Math.max(.2*f,y);for(let O=0;O<c.length&&c.length>3;O++){const P=c[O];Math.abs(P.getEstimatedModuleSize()-f)>w&&(c.splice(O,1),O--)}}if(c.length>3){let m=0;for(const g of c)m+=g.getEstimatedModuleSize();f=m/c.length,c.sort((g,y)=>{if(y.getCount()===g.getCount()){const w=Math.abs(y.getEstimatedModuleSize()-f),O=Math.abs(g.getEstimatedModuleSize()-f);return w<O?1:w>O?-1:0}else return y.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}un.CENTER_QUORUM=2,un.MIN_SKIP=3,un.MAX_MODULES=57;class r0{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(D.NEED_RESULT_POINT_CALLBACK);const f=new un(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(f)}processFinderPatternInfo(l){const c=l.getTopLeft(),f=l.getTopRight(),m=l.getBottomLeft(),g=this.calculateModuleSize(c,f,m);if(g<1)throw new U("No pattern found in proccess finder.");const y=r0.computeDimension(c,f,m,g),w=ct.getProvisionalVersionForDimension(y),O=w.getDimensionForVersion()-7;let P=null;if(w.getAlignmentPatternCenters().length>0){const te=f.getX()-c.getX()+m.getX(),de=f.getY()-c.getY()+m.getY(),ue=1-3/O,ve=Math.floor(c.getX()+ue*(te-c.getX())),Se=Math.floor(c.getY()+ue*(de-c.getY()));for(let He=4;He<=16;He<<=1)try{P=this.findAlignmentInRegion(g,ve,Se,He);break}catch(We){if(!(We instanceof U))throw We}}const B=r0.createTransform(c,f,m,P,y),H=r0.sampleGrid(this.image,B,y);let Q;return P===null?Q=[m,c,f]:Q=[m,c,f,P],new pe(H,Q)}static createTransform(l,c,f,m,g){const y=g-3.5;let w,O,P,B;return m!==null?(w=m.getX(),O=m.getY(),P=y-3,B=P):(w=c.getX()-l.getX()+f.getX(),O=c.getY()-l.getY()+f.getY(),P=y,B=y),Xe.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,P,B,3.5,y,l.getX(),l.getY(),c.getX(),c.getY(),w,O,f.getX(),f.getY())}static sampleGrid(l,c,f){return be.getInstance().sampleGridWithTransform(l,f,f,c)}static computeDimension(l,c,f,m){const g=oe.round(ee.distance(l,c)/m),y=oe.round(ee.distance(l,f)/m);let w=Math.floor((g+y)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new U("Dimensions could be not found.")}return w}calculateModuleSize(l,c,f){return(this.calculateModuleSizeOneWay(l,c)+this.calculateModuleSizeOneWay(l,f))/2}calculateModuleSizeOneWay(l,c){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(c.getX()),Math.floor(c.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(f)?m/7:isNaN(m)?f/7:(f+m)/14}sizeOfBlackWhiteBlackRunBothWays(l,c,f,m){let g=this.sizeOfBlackWhiteBlackRun(l,c,f,m),y=1,w=l-(f-l);w<0?(y=l/(l-w),w=0):w>=this.image.getWidth()&&(y=(this.image.getWidth()-1-l)/(w-l),w=this.image.getWidth()-1);let O=Math.floor(c-(m-c)*y);return y=1,O<0?(y=c/(c-O),O=0):O>=this.image.getHeight()&&(y=(this.image.getHeight()-1-c)/(O-c),O=this.image.getHeight()-1),w=Math.floor(l+(w-l)*y),g+=this.sizeOfBlackWhiteBlackRun(l,c,w,O),g-1}sizeOfBlackWhiteBlackRun(l,c,f,m){const g=Math.abs(m-c)>Math.abs(f-l);if(g){let te=l;l=c,c=te,te=f,f=m,m=te}const y=Math.abs(f-l),w=Math.abs(m-c);let O=-y/2;const P=l<f?1:-1,B=c<m?1:-1;let H=0;const Q=f+P;for(let te=l,de=c;te!==Q;te+=P){const ue=g?de:te,ve=g?te:de;if(H===1===this.image.get(ue,ve)){if(H===2)return oe.distance(te,de,l,c);H++}if(O+=w,O>0){if(de===m)break;de+=B,O-=y}}return H===2?oe.distance(f+P,m,l,c):NaN}findAlignmentInRegion(l,c,f,m){const g=Math.floor(m*l),y=Math.max(0,c-g),w=Math.min(this.image.getWidth()-1,c+g);if(w-y<l*3)throw new U("Alignment top exceeds estimated module size.");const O=Math.max(0,f-g),P=Math.min(this.image.getHeight()-1,f+g);if(P-O<l*3)throw new U("Alignment bottom exceeds estimated module size.");return new Km(this.image,y,O,w-y,P-O,l,this.resultPointCallback).find()}}class Bo{constructor(){this.decoder=new JR}getDecoder(){return this.decoder}decode(l,c){let f,m;if(c!=null&&c.get(D.PURE_BARCODE)!==void 0){const O=Bo.extractPureBits(l.getBlackMatrix());f=this.decoder.decodeBitMatrix(O,c),m=Bo.NO_POINTS}else{const O=new r0(l.getBlackMatrix()).detect(c);f=this.decoder.decodeBitMatrix(O.getBits(),c),m=O.getPoints()}f.getOther()instanceof T_&&f.getOther().applyMirroredCorrection(m);const g=new fe(f.getText(),f.getRawBytes(),void 0,m,ge.QR_CODE,void 0),y=f.getByteSegments();y!==null&&g.putMetadata(Ae.BYTE_SEGMENTS,y);const w=f.getECLevel();return w!==null&&g.putMetadata(Ae.ERROR_CORRECTION_LEVEL,w),f.hasStructuredAppend()&&(g.putMetadata(Ae.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),g.putMetadata(Ae.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),g}reset(){}static extractPureBits(l){const c=l.getTopLeftOnBit(),f=l.getBottomRightOnBit();if(c===null||f===null)throw new U;const m=this.moduleSize(c,l);let g=c[1],y=f[1],w=c[0],O=f[0];if(w>=O||g>=y)throw new U;if(y-g!==O-w&&(O=w+(y-g),O>=l.getWidth()))throw new U;const P=Math.round((O-w+1)/m),B=Math.round((y-g+1)/m);if(P<=0||B<=0)throw new U;if(B!==P)throw new U;const H=Math.floor(m/2);g+=H,w+=H;const Q=w+Math.floor((P-1)*m)-O;if(Q>0){if(Q>H)throw new U;w-=Q}const te=g+Math.floor((B-1)*m)-y;if(te>0){if(te>H)throw new U;g-=te}const de=new W(P,B);for(let ue=0;ue<B;ue++){const ve=g+Math.floor(ue*m);for(let Se=0;Se<P;Se++)l.get(w+Math.floor(Se*m),ve)&&de.set(Se,ue)}return de}static moduleSize(l,c){const f=c.getHeight(),m=c.getWidth();let g=l[0],y=l[1],w=!0,O=0;for(;g<m&&y<f;){if(w!==c.get(g,y)){if(++O===5)break;w=!w}g++,y++}if(g===m||y===f)throw new U;return(g-l[0])/7}}Bo.NO_POINTS=new Array;class yt{PDF417Common(){}static getBitCountSum(l){return oe.sum(l)}static toIntArray(l){if(l==null||!l.length)return yt.EMPTY_INT_ARRAY;const c=new Int32Array(l.length);let f=0;for(const m of l)c[f++]=m;return c}static getCodeword(l){const c=C.binarySearch(yt.SYMBOL_TABLE,l&262143);return c<0?-1:(yt.CODEWORD_TABLE[c]-1)%yt.NUMBER_OF_CODEWORDS}}yt.NUMBER_OF_CODEWORDS=929,yt.MAX_CODEWORDS_IN_BARCODE=yt.NUMBER_OF_CODEWORDS-1,yt.MIN_ROWS_IN_BARCODE=3,yt.MAX_ROWS_IN_BARCODE=90,yt.MODULES_IN_CODEWORD=17,yt.MODULES_IN_STOP_PATTERN=18,yt.BARS_IN_MODULE=8,yt.EMPTY_INT_ARRAY=new Int32Array([]),yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tL{constructor(l,c){this.bits=l,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class kt{static detectMultiple(l,c,f){let m=l.getBlackMatrix(),g=kt.detect(f,m);return g.length||(m=m.clone(),m.rotate180(),g=kt.detect(f,m)),new tL(m,g)}static detect(l,c){const f=new Array;let m=0,g=0,y=!1;for(;m<c.getHeight();){const w=kt.findVertices(c,m,g);if(w[0]==null&&w[3]==null){if(!y)break;y=!1,g=0;for(const O of f)O[1]!=null&&(m=Math.trunc(Math.max(m,O[1].getY()))),O[3]!=null&&(m=Math.max(m,Math.trunc(O[3].getY())));m+=kt.ROW_STEP;continue}if(y=!0,f.push(w),!l)break;w[2]!=null?(g=Math.trunc(w[2].getX()),m=Math.trunc(w[2].getY())):(g=Math.trunc(w[4].getX()),m=Math.trunc(w[4].getY()))}return f}static findVertices(l,c,f){const m=l.getHeight(),g=l.getWidth(),y=new Array(8);return kt.copyToResult(y,kt.findRowsWithPattern(l,m,g,c,f,kt.START_PATTERN),kt.INDEXES_START_PATTERN),y[4]!=null&&(f=Math.trunc(y[4].getX()),c=Math.trunc(y[4].getY())),kt.copyToResult(y,kt.findRowsWithPattern(l,m,g,c,f,kt.STOP_PATTERN),kt.INDEXES_STOP_PATTERN),y}static copyToResult(l,c,f){for(let m=0;m<f.length;m++)l[f[m]]=c[m]}static findRowsWithPattern(l,c,f,m,g,y){const w=new Array(4);let O=!1;const P=new Int32Array(y.length);for(;m<c;m+=kt.ROW_STEP){let H=kt.findGuardPattern(l,g,m,f,!1,y,P);if(H!=null){for(;m>0;){const Q=kt.findGuardPattern(l,g,--m,f,!1,y,P);if(Q!=null)H=Q;else{m++;break}}w[0]=new ee(H[0],m),w[1]=new ee(H[1],m),O=!0;break}}let B=m+1;if(O){let H=0,Q=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;B<c;B++){const te=kt.findGuardPattern(l,Q[0],B,f,!1,y,P);if(te!=null&&Math.abs(Q[0]-te[0])<kt.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-te[1])<kt.MAX_PATTERN_DRIFT)Q=te,H=0;else{if(H>kt.SKIPPED_ROW_COUNT_MAX)break;H++}}B-=H+1,w[2]=new ee(Q[0],B),w[3]=new ee(Q[1],B)}return B-m<kt.BARCODE_MIN_HEIGHT&&C.fill(w,null),w}static findGuardPattern(l,c,f,m,g,y,w){C.fillWithin(w,0,w.length,0);let O=c,P=0;for(;l.get(O,f)&&O>0&&P++<kt.MAX_PIXEL_DRIFT;)O--;let B=O,H=0,Q=y.length;for(let te=g;B<m;B++)if(l.get(B,f)!==te)w[H]++;else{if(H===Q-1){if(kt.patternMatchVariance(w,y,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return new Int32Array([O,B]);O+=w[0]+w[1],N.arraycopy(w,2,w,0,H-1),w[H-1]=0,w[H]=0,H--}else H++;w[H]=1,te=!te}return H===Q-1&&kt.patternMatchVariance(w,y,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE?new Int32Array([O,B-1]):null}static patternMatchVariance(l,c,f){let m=l.length,g=0,y=0;for(let P=0;P<m;P++)g+=l[P],y+=c[P];if(g<y)return 1/0;let w=g/y;f*=w;let O=0;for(let P=0;P<m;P++){let B=l[P],H=c[P]*w,Q=B>H?B-H:H-B;if(Q>f)return 1/0;O+=Q}return O/g}}kt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),kt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),kt.MAX_AVG_VARIANCE=.42,kt.MAX_INDIVIDUAL_VARIANCE=.8,kt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),kt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),kt.MAX_PIXEL_DRIFT=3,kt.MAX_PATTERN_DRIFT=5,kt.SKIPPED_ROW_COUNT_MAX=25,kt.ROW_STEP=5,kt.BARCODE_MIN_HEIGHT=10;class jn{constructor(l,c){if(c.length===0)throw new p;this.field=l;let f=c.length;if(f>1&&c[0]===0){let m=1;for(;m<f&&c[m]===0;)m++;m===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-m),N.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let m=0;for(let g of this.coefficients)m=this.field.add(m,g);return m}let c=this.coefficients[0],f=this.coefficients.length;for(let m=1;m<f;m++)c=this.field.add(this.field.multiply(l,c),this.coefficients[m]);return c}add(l){if(!this.field.equals(l.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let c=this.coefficients,f=l.coefficients;if(c.length>f.length){let y=c;c=f,f=y}let m=new Int32Array(f.length),g=f.length-c.length;N.arraycopy(f,0,m,0,g);for(let y=g;y<f.length;y++)m[y]=this.field.add(c[y-g],f[y]);return new jn(this.field,m)}subtract(l){if(!this.field.equals(l.field))throw new p("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof jn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new jn(this.field,new Int32Array([0]));let c=this.coefficients,f=c.length,m=l.coefficients,g=m.length,y=new Int32Array(f+g-1);for(let w=0;w<f;w++){let O=c[w];for(let P=0;P<g;P++)y[w+P]=this.field.add(y[w+P],this.field.multiply(O,m[P]))}return new jn(this.field,y)}negative(){let l=this.coefficients.length,c=new Int32Array(l);for(let f=0;f<l;f++)c[f]=this.field.subtract(0,this.coefficients[f]);return new jn(this.field,c)}multiplyScalar(l){if(l===0)return new jn(this.field,new Int32Array([0]));if(l===1)return this;let c=this.coefficients.length,f=new Int32Array(c);for(let m=0;m<c;m++)f[m]=this.field.multiply(this.coefficients[m],l);return new jn(this.field,f)}multiplyByMonomial(l,c){if(l<0)throw new p;if(c===0)return new jn(this.field,new Int32Array([0]));let f=this.coefficients.length,m=new Int32Array(f+l);for(let g=0;g<f;g++)m[g]=this.field.multiply(this.coefficients[g],c);return new jn(this.field,m)}toString(){let l=new $;for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);f!==0&&(f<0?(l.append(" - "),f=-f):l.length()>0&&l.append(" + "),(c===0||f!==1)&&l.append(f),c!==0&&(c===1?l.append("x"):(l.append("x^"),l.append(c))))}return l.toString()}}class rL{add(l,c){return(l+c)%this.modulus}subtract(l,c){return(this.modulus+l-c)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new p;return this.logTable[l]}inverse(l){if(l===0)throw new Pe;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,c){return l===0||c===0?0:this.expTable[(this.logTable[l]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class gb extends rL{constructor(l,c){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let f=1;for(let m=0;m<l;m++)this.expTable[m]=f,f=f*c%l;for(let m=0;m<l-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new jn(this,new Int32Array([0])),this.one=new jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,c){if(l<0)throw new p;if(c===0)return this.zero;let f=new Int32Array(l+1);return f[0]=c,new jn(this,f)}}gb.PDF417_GF=new gb(yt.NUMBER_OF_CODEWORDS,3);class P_{constructor(){this.field=gb.PDF417_GF}decode(l,c,f){let m=new jn(this.field,l),g=new Int32Array(c),y=!1;for(let de=c;de>0;de--){let ue=m.evaluateAt(this.field.exp(de));g[c-de]=ue,ue!==0&&(y=!0)}if(!y)return 0;let w=this.field.getOne();if(f!=null)for(const de of f){let ue=this.field.exp(l.length-1-de),ve=new jn(this.field,new Int32Array([this.field.subtract(0,ue),1]));w=w.multiply(ve)}let O=new jn(this.field,g),P=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),O,c),B=P[0],H=P[1],Q=this.findErrorLocations(B),te=this.findErrorMagnitudes(H,B,Q);for(let de=0;de<Q.length;de++){let ue=l.length-1-this.field.log(Q[de]);if(ue<0)throw _.getChecksumInstance();l[ue]=this.field.subtract(l[ue],te[de])}return Q.length}runEuclideanAlgorithm(l,c,f){if(l.getDegree()<c.getDegree()){let Q=l;l=c,c=Q}let m=l,g=c,y=this.field.getZero(),w=this.field.getOne();for(;g.getDegree()>=Math.round(f/2);){let Q=m,te=y;if(m=g,y=w,m.isZero())throw _.getChecksumInstance();g=Q;let de=this.field.getZero(),ue=m.getCoefficient(m.getDegree()),ve=this.field.inverse(ue);for(;g.getDegree()>=m.getDegree()&&!g.isZero();){let Se=g.getDegree()-m.getDegree(),He=this.field.multiply(g.getCoefficient(g.getDegree()),ve);de=de.add(this.field.buildMonomial(Se,He)),g=g.subtract(m.multiplyByMonomial(Se,He))}w=de.multiply(y).subtract(te).negative()}let O=w.getCoefficient(0);if(O===0)throw _.getChecksumInstance();let P=this.field.inverse(O),B=w.multiply(P),H=g.multiply(P);return[B,H]}findErrorLocations(l){let c=l.getDegree(),f=new Int32Array(c),m=0;for(let g=1;g<this.field.getSize()&&m<c;g++)l.evaluateAt(g)===0&&(f[m]=this.field.inverse(g),m++);if(m!==c)throw _.getChecksumInstance();return f}findErrorMagnitudes(l,c,f){let m=c.getDegree(),g=new Int32Array(m);for(let P=1;P<=m;P++)g[m-P]=this.field.multiply(P,c.getCoefficient(P));let y=new jn(this.field,g),w=f.length,O=new Int32Array(w);for(let P=0;P<w;P++){let B=this.field.inverse(f[P]),H=this.field.subtract(0,l.evaluateAt(B)),Q=this.field.inverse(y.evaluateAt(B));O[P]=this.field.multiply(H,Q)}return O}}class ac{constructor(l,c,f,m,g){l instanceof ac?this.constructor_2(l):this.constructor_1(l,c,f,m,g)}constructor_1(l,c,f,m,g){const y=c==null||f==null,w=m==null||g==null;if(y&&w)throw new U;y?(c=new ee(0,m.getY()),f=new ee(0,g.getY())):w&&(m=new ee(l.getWidth()-1,c.getY()),g=new ee(l.getWidth()-1,f.getY())),this.image=l,this.topLeft=c,this.bottomLeft=f,this.topRight=m,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),f.getX())),this.maxX=Math.trunc(Math.max(m.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),m.getY())),this.maxY=Math.trunc(Math.max(f.getY(),g.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,c){return l==null?c:c==null?l:new ac(l.image,l.topLeft,l.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(l,c,f){let m=this.topLeft,g=this.bottomLeft,y=this.topRight,w=this.bottomRight;if(l>0){let O=f?this.topLeft:this.topRight,P=Math.trunc(O.getY()-l);P<0&&(P=0);let B=new ee(O.getX(),P);f?m=B:y=B}if(c>0){let O=f?this.bottomLeft:this.bottomRight,P=Math.trunc(O.getY()+c);P>=this.image.getHeight()&&(P=this.image.getHeight()-1);let B=new ee(O.getX(),P);f?g=B:w=B}return new ac(this.image,m,g,y,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class nL{constructor(l,c,f,m){this.columnCount=l,this.errorCorrectionLevel=m,this.rowCountUpperPart=c,this.rowCountLowerPart=f,this.rowCount=c+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class n0{constructor(){this.buffer=""}static form(l,c){let f=-1;function m(y,w,O,P,B,H){if(y==="%%")return"%";if(c[++f]===void 0)return;y=P?parseInt(P.substr(1)):void 0;let Q=B?parseInt(B.substr(1)):void 0,te;switch(H){case"s":te=c[f];break;case"c":te=c[f][0];break;case"f":te=parseFloat(c[f]).toFixed(y);break;case"p":te=parseFloat(c[f]).toPrecision(y);break;case"e":te=parseFloat(c[f]).toExponential(y);break;case"x":te=parseInt(c[f]).toString(Q||16);break;case"d":te=parseFloat(parseInt(c[f],Q||10).toPrecision(y)).toFixed(0);break}te=typeof te=="object"?JSON.stringify(te):(+te).toString(Q);let de=parseInt(O),ue=O&&O[0]+""=="0"?"0":" ";for(;te.length<de;)te=w!==void 0?te+ue:ue+te;return te}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(g,m)}format(l,...c){this.buffer+=n0.form(l,c)}toString(){return this.buffer}}class s0{constructor(l){this.boundingBox=new ac(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let c=this.getCodeword(l);if(c!=null)return c;for(let f=1;f<s0.MAX_NEARBY_DISTANCE;f++){let m=this.imageRowToCodewordIndex(l)-f;if(m>=0&&(c=this.codewords[m],c!=null)||(m=this.imageRowToCodewordIndex(l)+f,m<this.codewords.length&&(c=this.codewords[m],c!=null)))return c}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,c){this.codewords[this.imageRowToCodewordIndex(l)]=c}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new n0;let c=0;for(const f of this.codewords){if(f==null){l.format("%3d:    |   %n",c++);continue}l.format("%3d: %3d|%3d%n",c++,f.getRowNumber(),f.getValue())}return l.toString()}}s0.MAX_NEARBY_DISTANCE=5;class a0{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let c=this.values.get(l);c==null&&(c=0),c++,this.values.set(l,c)}getValue(){let l=-1,c=new Array;for(const[f,m]of this.values.entries()){const g={getKey:()=>f,getValue:()=>m};g.getValue()>l?(l=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===l&&c.push(g.getKey())}return yt.toIntArray(c)}getConfidence(l){return this.values.get(l)}}class I_ extends s0{constructor(l,c){super(l),this._isLeft=c}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,l);let f=this.getBoundingBox(),m=this._isLeft?f.getTopLeft():f.getTopRight(),g=this._isLeft?f.getBottomLeft():f.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(m.getY())),w=this.imageRowToCodewordIndex(Math.trunc(g.getY())),O=-1,P=1,B=0;for(let H=y;H<w;H++){if(c[H]==null)continue;let Q=c[H],te=Q.getRowNumber()-O;if(te===0)B++;else if(te===1)P=Math.max(P,B),B=1,O=Q.getRowNumber();else if(te<0||Q.getRowNumber()>=l.getRowCount()||te>H)c[H]=null;else{let de;P>2?de=(P-2)*te:de=te;let ue=de>=H;for(let ve=1;ve<=de&&!ue;ve++)ue=c[H-ve]!=null;ue?c[H]=null:(O=Q.getRowNumber(),B=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let c=new Int32Array(l.getRowCount());for(let f of this.getCodewords())if(f!=null){let m=f.getRowNumber();if(m>=c.length)continue;c[m]++}return c}adjustIncompleteIndicatorColumnRowNumbers(l){let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=this.imageRowToCodewordIndex(Math.trunc(m.getY())),w=this.getCodewords(),O=-1;for(let P=g;P<y;P++){if(w[P]==null)continue;let B=w[P];B.setRowNumberAsRowIndicatorColumn();let H=B.getRowNumber()-O;H===0||(H===1?O=B.getRowNumber():B.getRowNumber()>=l.getRowCount()?w[P]=null:O=B.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),c=new a0,f=new a0,m=new a0,g=new a0;for(let w of l){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let O=w.getValue()%30,P=w.getRowNumber();switch(this._isLeft||(P+=2),P%3){case 0:f.setValue(O*3+1);break;case 1:g.setValue(O/3),m.setValue(O%3);break;case 2:c.setValue(O+1);break}}if(c.getValue().length===0||f.getValue().length===0||m.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||f.getValue()[0]+m.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+m.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;let y=new nL(c.getValue()[0],f.getValue()[0],m.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(l,y),y}removeIncorrectCodewords(l,c){for(let f=0;f<l.length;f++){let m=l[f];if(l[f]==null)continue;let g=m.getValue()%30,y=m.getRowNumber();if(y>c.getRowCount()){l[f]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(l[f]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(l[f]=null);break;case 2:g+1!==c.getColumnCount()&&(l[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class i0{constructor(l,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=yt.MAX_CODEWORDS_IN_BARCODE,c;do c=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let f=this.detectionResultColumns[c].getCodewords();for(let m=0;m<f.length;m++)f[m]!=null&&(f[m].hasValidRowNumber()||this.adjustRowNumbers(c,m,f))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<l.length;f++)if(l[f]!=null&&c[f]!=null&&l[f].getRowNumber()===c[f].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let g=this.detectionResultColumns[m].getCodewords()[f];g!=null&&(g.setRowNumber(l[f].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let m=c[f].getRowNumber(),g=0;for(let y=this.barcodeColumnCount+1;y>0&&g<this.ADJUST_ROW_NUMBER_SKIP;y--){let w=this.detectionResultColumns[y].getCodewords()[f];w!=null&&(g=i0.adjustRowNumberIfValid(m,g,w),w.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,c=this.detectionResultColumns[0].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let m=c[f].getRowNumber(),g=0;for(let y=1;y<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;y++){let w=this.detectionResultColumns[y].getCodewords()[f];w!=null&&(g=i0.adjustRowNumberIfValid(m,g,w),w.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,c,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(l)?(f.setRowNumber(l),c=0):++c),c}adjustRowNumbers(l,c,f){if(!this.detectionResultColumns[l-1])return;let m=f[c],g=this.detectionResultColumns[l-1].getCodewords(),y=g;this.detectionResultColumns[l+1]!=null&&(y=this.detectionResultColumns[l+1].getCodewords());let w=new Array(14);w[2]=g[c],w[3]=y[c],c>0&&(w[0]=f[c-1],w[4]=g[c-1],w[5]=y[c-1]),c>1&&(w[8]=f[c-2],w[10]=g[c-2],w[11]=y[c-2]),c<f.length-1&&(w[1]=f[c+1],w[6]=g[c+1],w[7]=y[c+1]),c<f.length-2&&(w[9]=f[c+2],w[12]=g[c+2],w[13]=y[c+2]);for(let O of w)if(i0.adjustRowNumber(m,O))return}static adjustRowNumber(l,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===l.getBucket()?(l.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,c){this.detectionResultColumns[l]=c}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new n0;for(let f=0;f<l.getCodewords().length;f++){c.format("CW %3d:",f);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[m].getCodewords()[f];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class o0{constructor(l,c,f,m){this.rowNumber=o0.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(c),this.bucket=Math.trunc(f),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==o0.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}o0.BARCODE_ROW_UNKNOWN=-1;class hs{static initialize(){for(let l=0;l<yt.SYMBOL_TABLE.length;l++){let c=yt.SYMBOL_TABLE[l],f=c&1;for(let m=0;m<yt.BARS_IN_MODULE;m++){let g=0;for(;(c&1)===f;)g+=1,c>>=1;f=c&1,hs.RATIOS_TABLE[l]||(hs.RATIOS_TABLE[l]=new Array(yt.BARS_IN_MODULE)),hs.RATIOS_TABLE[l][yt.BARS_IN_MODULE-m-1]=Math.fround(g/yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let c=hs.getDecodedCodewordValue(hs.sampleBitCounts(l));return c!==-1?c:hs.getClosestDecodedValue(l)}static sampleBitCounts(l){let c=oe.sum(l),f=new Int32Array(yt.BARS_IN_MODULE),m=0,g=0;for(let y=0;y<yt.MODULES_IN_CODEWORD;y++){let w=c/(2*yt.MODULES_IN_CODEWORD)+y*c/yt.MODULES_IN_CODEWORD;g+l[m]<=w&&(g+=l[m],m++),f[m]++}return f}static getDecodedCodewordValue(l){let c=hs.getBitValue(l);return yt.getCodeword(c)===-1?-1:c}static getBitValue(l){let c=0;for(let f=0;f<l.length;f++)for(let m=0;m<l[f];m++)c=c<<1|(f%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(l){let c=oe.sum(l),f=new Array(yt.BARS_IN_MODULE);if(c>1)for(let y=0;y<f.length;y++)f[y]=Math.fround(l[y]/c);let m=Z.MAX_VALUE,g=-1;this.bSymbolTableReady||hs.initialize();for(let y=0;y<hs.RATIOS_TABLE.length;y++){let w=0,O=hs.RATIOS_TABLE[y];for(let P=0;P<yt.BARS_IN_MODULE;P++){let B=Math.fround(O[P]-f[P]);if(w+=Math.fround(B*B),w>=m)break}w<m&&(m=w,g=yt.SYMBOL_TABLE[y])}return g}}hs.bSymbolTableReady=!1,hs.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(q=>new Array(yt.BARS_IN_MODULE));class D_{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class M_{static parseLong(l,c=void 0){return parseInt(l,c)}}class R_ extends u{}R_.kind="NullPointerException";class sL{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,c,f){if(l==null)throw new R_;if(c<0||c>l.length||f<0||c+f>l.length||c+f<0)throw new j;if(f===0)return;for(let m=0;m<f;m++)this.write(l[c+m])}flush(){}close(){}}class aL extends u{}class iL extends sL{constructor(l=32){if(super(),this.count=0,l<0)throw new p("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let f=this.buf.length<<1;if(f-l<0&&(f=l),f<0){if(l<0)throw new aL;f=A.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,f)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,c,f){if(c<0||c>l.length||f<0||c+f-l.length>0)throw new j;this.ensureCapacity(this.count+f),N.arraycopy(l,c,this.buf,this.count,f),this.count+=f}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var tr;(function(q){q[q.ALPHA=0]="ALPHA",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.PUNCT=3]="PUNCT",q[q.ALPHA_SHIFT=4]="ALPHA_SHIFT",q[q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tr||(tr={}));function L_(){if(typeof window<"u")return window.BigInt||null;if(typeof oo<"u")return oo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Zm;function Uo(q){if(typeof Zm>"u"&&(Zm=L_()),Zm===null)throw new Error("BigInt is not supported!");return Zm(q)}function oL(){let q=[];q[0]=Uo(1);let l=Uo(900);q[1]=l;for(let c=2;c<16;c++)q[c]=q[c-1]*l;return q}class _e{static decode(l,c){let f=new $(""),m=M.ISO8859_1;f.enableDecoding(m);let g=1,y=l[g++],w=new D_;for(;g<l[0];){switch(y){case _e.TEXT_COMPACTION_MODE_LATCH:g=_e.textCompaction(l,g,f);break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:g=_e.byteCompaction(y,l,m,g,f);break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[g++]);break;case _e.NUMERIC_COMPACTION_MODE_LATCH:g=_e.numericCompaction(l,g,f);break;case _e.ECI_CHARSET:M.getCharacterSetECIByValue(l[g++]);break;case _e.ECI_GENERAL_PURPOSE:g+=2;break;case _e.ECI_USER_DEFINED:g++;break;case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=_e.decodeMacroBlock(l,g,w);break;case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:throw new R;default:g--,g=_e.textCompaction(l,g,f);break}if(g<l.length)y=l[g++];else throw R.getFormatInstance()}if(f.length()===0)throw R.getFormatInstance();let O=new Ne(null,f.toString(),null,c);return O.setOther(w),O}static decodeMacroBlock(l,c,f){if(c+_e.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw R.getFormatInstance();let m=new Int32Array(_e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<_e.NUMBER_OF_SEQUENCE_CODEWORDS;w++,c++)m[w]=l[c];f.setSegmentIndex(A.parseInt(_e.decodeBase900toBase10(m,_e.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new $;c=_e.textCompaction(l,c,g),f.setFileId(g.toString());let y=-1;for(l[c]===_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=c+1);c<l[0];)switch(l[c]){case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,l[c]){case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new $;c=_e.textCompaction(l,c+1,w),f.setFileName(w.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let O=new $;c=_e.textCompaction(l,c+1,O),f.setSender(O.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let P=new $;c=_e.textCompaction(l,c+1,P),f.setAddressee(P.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let B=new $;c=_e.numericCompaction(l,c+1,B),f.setSegmentCount(A.parseInt(B.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let H=new $;c=_e.numericCompaction(l,c+1,H),f.setTimestamp(M_.parseLong(H.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new $;c=_e.numericCompaction(l,c+1,Q),f.setChecksum(A.parseInt(Q.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let te=new $;c=_e.numericCompaction(l,c+1,te),f.setFileSize(M_.parseLong(te.toString()));break;default:throw R.getFormatInstance()}break;case _e.MACRO_PDF417_TERMINATOR:c++,f.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(y!==-1){let w=c-y;f.isLastSegment()&&w--,f.setOptionalData(C.copyOfRange(l,y,y+w))}return c}static textCompaction(l,c,f){let m=new Int32Array((l[0]-c)*2),g=new Int32Array((l[0]-c)*2),y=0,w=!1;for(;c<l[0]&&!w;){let O=l[c++];if(O<_e.TEXT_COMPACTION_MODE_LATCH)m[y]=O/30,m[y+1]=O%30,y+=2;else switch(O){case _e.TEXT_COMPACTION_MODE_LATCH:m[y++]=_e.TEXT_COMPACTION_MODE_LATCH;break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:c--,w=!0;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[y]=_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,O=l[c++],g[y]=O,y++;break}}return _e.decodeTextCompaction(m,g,y,f),c}static decodeTextCompaction(l,c,f,m){let g=tr.ALPHA,y=tr.ALPHA,w=0;for(;w<f;){let O=l[w],P="";switch(g){case tr.ALPHA:if(O<26)P=String.fromCharCode(65+O);else switch(O){case 26:P=" ";break;case _e.LL:g=tr.LOWER;break;case _e.ML:g=tr.MIXED;break;case _e.PS:y=g,g=tr.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[w]);break;case _e.TEXT_COMPACTION_MODE_LATCH:g=tr.ALPHA;break}break;case tr.LOWER:if(O<26)P=String.fromCharCode(97+O);else switch(O){case 26:P=" ";break;case _e.AS:y=g,g=tr.ALPHA_SHIFT;break;case _e.ML:g=tr.MIXED;break;case _e.PS:y=g,g=tr.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[w]);break;case _e.TEXT_COMPACTION_MODE_LATCH:g=tr.ALPHA;break}break;case tr.MIXED:if(O<_e.PL)P=_e.MIXED_CHARS[O];else switch(O){case _e.PL:g=tr.PUNCT;break;case 26:P=" ";break;case _e.LL:g=tr.LOWER;break;case _e.AL:g=tr.ALPHA;break;case _e.PS:y=g,g=tr.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[w]);break;case _e.TEXT_COMPACTION_MODE_LATCH:g=tr.ALPHA;break}break;case tr.PUNCT:if(O<_e.PAL)P=_e.PUNCT_CHARS[O];else switch(O){case _e.PAL:g=tr.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[w]);break;case _e.TEXT_COMPACTION_MODE_LATCH:g=tr.ALPHA;break}break;case tr.ALPHA_SHIFT:if(g=y,O<26)P=String.fromCharCode(65+O);else switch(O){case 26:P=" ";break;case _e.TEXT_COMPACTION_MODE_LATCH:g=tr.ALPHA;break}break;case tr.PUNCT_SHIFT:if(g=y,O<_e.PAL)P=_e.PUNCT_CHARS[O];else switch(O){case _e.PAL:g=tr.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[w]);break;case _e.TEXT_COMPACTION_MODE_LATCH:g=tr.ALPHA;break}break}P!==""&&m.append(P),w++}}static byteCompaction(l,c,f,m,g){let y=new iL,w=0,O=0,P=!1;switch(l){case _e.BYTE_COMPACTION_MODE_LATCH:let B=new Int32Array(6),H=c[m++];for(;m<c[0]&&!P;)switch(B[w++]=H,O=900*O+H,H=c[m++],H){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:m--,P=!0;break;default:if(w%5===0&&w>0){for(let Q=0;Q<6;++Q)y.write(Number(Uo(O)>>Uo(8*(5-Q))));O=0,w=0}break}m===c[0]&&H<_e.TEXT_COMPACTION_MODE_LATCH&&(B[w++]=H);for(let Q=0;Q<w;Q++)y.write(B[Q]);break;case _e.BYTE_COMPACTION_MODE_LATCH_6:for(;m<c[0]&&!P;){let Q=c[m++];if(Q<_e.TEXT_COMPACTION_MODE_LATCH)w++,O=900*O+Q;else switch(Q){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:m--,P=!0;break}if(w%5===0&&w>0){for(let te=0;te<6;++te)y.write(Number(Uo(O)>>Uo(8*(5-te))));O=0,w=0}}break}return g.append(I.decode(y.toByteArray(),f)),m}static numericCompaction(l,c,f){let m=0,g=!1,y=new Int32Array(_e.MAX_NUMERIC_CODEWORDS);for(;c<l[0]&&!g;){let w=l[c++];if(c===l[0]&&(g=!0),w<_e.TEXT_COMPACTION_MODE_LATCH)y[m]=w,m++;else switch(w){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(m%_e.MAX_NUMERIC_CODEWORDS===0||w===_e.NUMERIC_COMPACTION_MODE_LATCH||g)&&m>0&&(f.append(_e.decodeBase900toBase10(y,m)),m=0)}return c}static decodeBase900toBase10(l,c){let f=Uo(0);for(let g=0;g<c;g++)f+=_e.EXP900[c-g-1]*Uo(l[g]);let m=f.toString();if(m.charAt(0)!=="1")throw new R;return m.substring(1)}}_e.TEXT_COMPACTION_MODE_LATCH=900,_e.BYTE_COMPACTION_MODE_LATCH=901,_e.NUMERIC_COMPACTION_MODE_LATCH=902,_e.BYTE_COMPACTION_MODE_LATCH_6=924,_e.ECI_USER_DEFINED=925,_e.ECI_GENERAL_PURPOSE=926,_e.ECI_CHARSET=927,_e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,_e.MACRO_PDF417_TERMINATOR=922,_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,_e.MAX_NUMERIC_CODEWORDS=15,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,_e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,_e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,_e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,_e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,_e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,_e.PL=25,_e.LL=27,_e.AS=27,_e.ML=28,_e.AL=28,_e.PS=29,_e.PAL=29,_e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,_e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",_e.EXP900=L_()?oL():[],_e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Pt{constructor(){}static decode(l,c,f,m,g,y,w){let O=new ac(l,c,f,m,g),P=null,B=null,H;for(let de=!0;;de=!1){if(c!=null&&(P=Pt.getRowIndicatorColumn(l,O,c,!0,y,w)),m!=null&&(B=Pt.getRowIndicatorColumn(l,O,m,!1,y,w)),H=Pt.merge(P,B),H==null)throw U.getNotFoundInstance();let ue=H.getBoundingBox();if(de&&ue!=null&&(ue.getMinY()<O.getMinY()||ue.getMaxY()>O.getMaxY()))O=ue;else break}H.setBoundingBox(O);let Q=H.getBarcodeColumnCount()+1;H.setDetectionResultColumn(0,P),H.setDetectionResultColumn(Q,B);let te=P!=null;for(let de=1;de<=Q;de++){let ue=te?de:Q-de;if(H.getDetectionResultColumn(ue)!==void 0)continue;let ve;ue===0||ue===Q?ve=new I_(O,ue===0):ve=new s0(O),H.setDetectionResultColumn(ue,ve);let Se=-1,He=Se;for(let We=O.getMinY();We<=O.getMaxY();We++){if(Se=Pt.getStartColumn(H,ue,We,te),Se<0||Se>O.getMaxX()){if(He===-1)continue;Se=He}let Ue=Pt.detectCodeword(l,O.getMinX(),O.getMaxX(),te,Se,We,y,w);Ue!=null&&(ve.setCodeword(We,Ue),He=Se,y=Math.min(y,Ue.getWidth()),w=Math.max(w,Ue.getWidth()))}}return Pt.createDecoderResult(H)}static merge(l,c){if(l==null&&c==null)return null;let f=Pt.getBarcodeMetadata(l,c);if(f==null)return null;let m=ac.merge(Pt.adjustBoundingBox(l),Pt.adjustBoundingBox(c));return new i0(f,m)}static adjustBoundingBox(l){if(l==null)return null;let c=l.getRowHeights();if(c==null)return null;let f=Pt.getMax(c),m=0;for(let w of c)if(m+=f-w,w>0)break;let g=l.getCodewords();for(let w=0;m>0&&g[w]==null;w++)m--;let y=0;for(let w=c.length-1;w>=0&&(y+=f-c[w],!(c[w]>0));w--);for(let w=g.length-1;y>0&&g[w]==null;w--)y--;return l.getBoundingBox().addMissingRows(m,y,l.isLeft())}static getMax(l){let c=-1;for(let f of l)c=Math.max(c,f);return c}static getBarcodeMetadata(l,c){let f;if(l==null||(f=l.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let m;return c==null||(m=c.getBarcodeMetadata())==null?f:f.getColumnCount()!==m.getColumnCount()&&f.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&f.getRowCount()!==m.getRowCount()?null:f}static getRowIndicatorColumn(l,c,f,m,g,y){let w=new I_(c,m);for(let O=0;O<2;O++){let P=O===0?1:-1,B=Math.trunc(Math.trunc(f.getX()));for(let H=Math.trunc(Math.trunc(f.getY()));H<=c.getMaxY()&&H>=c.getMinY();H+=P){let Q=Pt.detectCodeword(l,0,l.getWidth(),m,B,H,g,y);Q!=null&&(w.setCodeword(H,Q),m?B=Q.getStartX():B=Q.getEndX())}}return w}static adjustCodewordCount(l,c){let f=c[0][1],m=f.getValue(),g=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Pt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(m.length===0){if(g<1||g>yt.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();f.setValue(g)}else m[0]!==g&&f.setValue(g)}static createDecoderResult(l){let c=Pt.createBarcodeMatrix(l);Pt.adjustCodewordCount(l,c);let f=new Array,m=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),g=[],y=new Array;for(let O=0;O<l.getBarcodeRowCount();O++)for(let P=0;P<l.getBarcodeColumnCount();P++){let B=c[O][P+1].getValue(),H=O*l.getBarcodeColumnCount()+P;B.length===0?f.push(H):B.length===1?m[H]=B[0]:(y.push(H),g.push(B))}let w=new Array(g.length);for(let O=0;O<w.length;O++)w[O]=g[O];return Pt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),m,yt.toIntArray(f),yt.toIntArray(y),w)}static createDecoderResultFromAmbiguousValues(l,c,f,m,g){let y=new Int32Array(m.length),w=100;for(;w-- >0;){for(let O=0;O<y.length;O++)c[m[O]]=g[O][y[O]];try{return Pt.decodeCodewords(c,l,f)}catch(O){if(!(O instanceof _))throw O}if(y.length===0)throw _.getChecksumInstance();for(let O=0;O<y.length;O++)if(y[O]<g[O].length-1){y[O]++;break}else if(y[O]=0,O===y.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(l){let c=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let m=0;m<c.length;m++)for(let g=0;g<c[m].length;g++)c[m][g]=new a0;let f=0;for(let m of l.getDetectionResultColumns()){if(m!=null){for(let g of m.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=0){if(y>=c.length)continue;c[y][f].setValue(g.getValue())}}}f++}return c}static isValidBarcodeColumn(l,c){return c>=0&&c<=l.getBarcodeColumnCount()+1}static getStartColumn(l,c,f,m){let g=m?1:-1,y=null;if(Pt.isValidBarcodeColumn(l,c-g)&&(y=l.getDetectionResultColumn(c-g).getCodeword(f)),y!=null)return m?y.getEndX():y.getStartX();if(y=l.getDetectionResultColumn(c).getCodewordNearby(f),y!=null)return m?y.getStartX():y.getEndX();if(Pt.isValidBarcodeColumn(l,c-g)&&(y=l.getDetectionResultColumn(c-g).getCodewordNearby(f)),y!=null)return m?y.getEndX():y.getStartX();let w=0;for(;Pt.isValidBarcodeColumn(l,c-g);){c-=g;for(let O of l.getDetectionResultColumn(c).getCodewords())if(O!=null)return(m?O.getEndX():O.getStartX())+g*w*(O.getEndX()-O.getStartX());w++}return m?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,c,f,m,g,y,w,O){g=Pt.adjustCodewordStartColumn(l,c,f,m,g,y);let P=Pt.getModuleBitCount(l,c,f,m,g,y);if(P==null)return null;let B,H=oe.sum(P);if(m)B=g+H;else{for(let de=0;de<P.length/2;de++){let ue=P[de];P[de]=P[P.length-1-de],P[P.length-1-de]=ue}B=g,g=B-H}if(!Pt.checkCodewordSkew(H,w,O))return null;let Q=hs.getDecodedValue(P),te=yt.getCodeword(Q);return te===-1?null:new o0(g,B,Pt.getCodewordBucketNumber(Q),te)}static getModuleBitCount(l,c,f,m,g,y){let w=g,O=new Int32Array(8),P=0,B=m?1:-1,H=m;for(;(m?w<f:w>=c)&&P<O.length;)l.get(w,y)===H?(O[P]++,w+=B):(P++,H=!H);return P===O.length||w===(m?f:c)&&P===O.length-1?O:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,c,f,m,g,y){let w=g,O=m?-1:1;for(let P=0;P<2;P++){for(;(m?w>=c:w<f)&&m===l.get(w,y);){if(Math.abs(g-w)>Pt.CODEWORD_SKEW_SIZE)return g;w+=O}O=-O,m=!m}return w}static checkCodewordSkew(l,c,f){return c-Pt.CODEWORD_SKEW_SIZE<=l&&l<=f+Pt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,c,f){if(l.length===0)throw R.getFormatInstance();let m=1<<c+1,g=Pt.correctErrors(l,f,m);Pt.verifyCodewordCount(l,m);let y=_e.decode(l,""+c);return y.setErrorsCorrected(g),y.setErasures(f.length),y}static correctErrors(l,c,f){if(c!=null&&c.length>f/2+Pt.MAX_ERRORS||f<0||f>Pt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Pt.errorCorrection.decode(l,f,c)}static verifyCodewordCount(l,c){if(l.length<4)throw R.getFormatInstance();let f=l[0];if(f>l.length)throw R.getFormatInstance();if(f===0)if(c<l.length)l[0]=l.length-c;else throw R.getFormatInstance()}static getBitCountForCodeword(l){let c=new Int32Array(8),f=0,m=c.length-1;for(;!((l&1)!==f&&(f=l&1,m--,m<0));)c[m]++,l>>=1;return c}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Pt.getCodewordBucketNumber(Pt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let c=new n0;for(let f=0;f<l.length;f++){c.format("Row %2d: ",f);for(let m=0;m<l[f].length;m++){let g=l[f][m];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}Pt.CODEWORD_SKEW_SIZE=2,Pt.MAX_ERRORS=3,Pt.MAX_EC_CODEWORDS=512,Pt.errorCorrection=new P_;class wn{decode(l,c=null){let f=wn.decode(l,c,!1);if(f==null||f.length===0||f[0]==null)throw U.getNotFoundInstance();return f[0]}decodeMultiple(l,c=null){try{return wn.decode(l,c,!0)}catch(f){throw f instanceof R||f instanceof _?U.getNotFoundInstance():f}}static decode(l,c,f){const m=new Array,g=kt.detectMultiple(l,c,f);for(const y of g.getPoints()){const w=Pt.decode(g.getBits(),y[4],y[5],y[6],y[7],wn.getMinCodewordWidth(y),wn.getMaxCodewordWidth(y)),O=new fe(w.getText(),w.getRawBytes(),void 0,y,ge.PDF_417);O.putMetadata(Ae.ERROR_CORRECTION_LEVEL,w.getECLevel());const P=w.getOther();P!=null&&O.putMetadata(Ae.PDF417_EXTRA_METADATA,P),m.push(O)}return m.map(y=>y)}static getMaxWidth(l,c){return l==null||c==null?0:Math.trunc(Math.abs(l.getX()-c.getX()))}static getMinWidth(l,c){return l==null||c==null?A.MAX_VALUE:Math.trunc(Math.abs(l.getX()-c.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(wn.getMaxWidth(l[0],l[4]),wn.getMaxWidth(l[6],l[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(wn.getMaxWidth(l[1],l[5]),wn.getMaxWidth(l[7],l[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(wn.getMinWidth(l[0],l[4]),wn.getMinWidth(l[6],l[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(wn.getMinWidth(l[1],l[5]),wn.getMinWidth(l[7],l[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Jm extends u{}Jm.kind="ReaderException";class $_{constructor(l,c){this.verbose=l===!0,c&&this.setHints(c)}decode(l,c){return c&&this.setHints(c),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const c=!s(l)&&l.get(D.TRY_HARDER)===!0,f=s(l)?null:l.get(D.POSSIBLE_FORMATS),m=new Array;if(!s(f)){const g=f.some(y=>y===ge.UPC_A||y===ge.UPC_E||y===ge.EAN_13||y===ge.EAN_8||y===ge.CODABAR||y===ge.CODE_39||y===ge.CODE_93||y===ge.CODE_128||y===ge.ITF||y===ge.RSS_14||y===ge.RSS_EXPANDED);g&&!c&&m.push(new kd(l,this.verbose)),f.includes(ge.QR_CODE)&&m.push(new Bo),f.includes(ge.DATA_MATRIX)&&m.push(new Fo),f.includes(ge.AZTEC)&&m.push(new Et),f.includes(ge.PDF_417)&&m.push(new wn),g&&c&&m.push(new kd(l,this.verbose))}m.length===0&&(c||m.push(new kd(l,this.verbose)),m.push(new Bo),m.push(new Fo),m.push(new Et),m.push(new wn),c&&m.push(new kd(l,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Jm("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(l,this.hints)}catch(f){if(f instanceof Jm)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class lL extends ie{constructor(l=null,c=500){const f=new $_;f.setHints(l),super(f,c)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class cL extends ie{constructor(l=500){super(new wn,l)}}class dL extends ie{constructor(l=500){super(new Bo,l)}}var yb;(function(q){q[q.ERROR_CORRECTION=0]="ERROR_CORRECTION",q[q.CHARACTER_SET=1]="CHARACTER_SET",q[q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",q[q.MIN_SIZE=3]="MIN_SIZE",q[q.MAX_SIZE=4]="MAX_SIZE",q[q.MARGIN=5]="MARGIN",q[q.PDF417_COMPACT=6]="PDF417_COMPACT",q[q.PDF417_COMPACTION=7]="PDF417_COMPACTION",q[q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",q[q.AZTEC_LAYERS=9]="AZTEC_LAYERS",q[q.QR_VERSION=10]="QR_VERSION"})(yb||(yb={}));var Jr=yb;class bb{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Re(l,Int32Array.from([1])))}buildGenerator(l){const c=this.cachedGenerators;if(l>=c.length){let f=c[c.length-1];const m=this.field;for(let g=c.length;g<=l;g++){const y=f.multiply(new Re(m,Int32Array.from([1,m.exp(g-1+m.getGeneratorBase())])));c.push(y),f=y}}return c[l]}encode(l,c){if(c===0)throw new p("No error correction bytes");const f=l.length-c;if(f<=0)throw new p("No data bytes provided");const m=this.buildGenerator(c),g=new Int32Array(f);N.arraycopy(l,0,g,0,f);let y=new Re(this.field,g);y=y.multiplyByMonomial(c,1);const O=y.divide(m)[1].getCoefficients(),P=c-O.length;for(let B=0;B<P;B++)l[f+B]=0;N.arraycopy(O,0,l,f+P,O.length)}}class Mr{constructor(){}static applyMaskPenaltyRule1(l){return Mr.applyMaskPenaltyRule1Internal(l,!0)+Mr.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let c=0;const f=l.getArray(),m=l.getWidth(),g=l.getHeight();for(let y=0;y<g-1;y++){const w=f[y];for(let O=0;O<m-1;O++){const P=w[O];P===w[O+1]&&P===f[y+1][O]&&P===f[y+1][O+1]&&c++}}return Mr.N2*c}static applyMaskPenaltyRule3(l){let c=0;const f=l.getArray(),m=l.getWidth(),g=l.getHeight();for(let y=0;y<g;y++)for(let w=0;w<m;w++){const O=f[y];w+6<m&&O[w]===1&&O[w+1]===0&&O[w+2]===1&&O[w+3]===1&&O[w+4]===1&&O[w+5]===0&&O[w+6]===1&&(Mr.isWhiteHorizontal(O,w-4,w)||Mr.isWhiteHorizontal(O,w+7,w+11))&&c++,y+6<g&&f[y][w]===1&&f[y+1][w]===0&&f[y+2][w]===1&&f[y+3][w]===1&&f[y+4][w]===1&&f[y+5][w]===0&&f[y+6][w]===1&&(Mr.isWhiteVertical(f,w,y-4,y)||Mr.isWhiteVertical(f,w,y+7,y+11))&&c++}return c*Mr.N3}static isWhiteHorizontal(l,c,f){c=Math.max(c,0),f=Math.min(f,l.length);for(let m=c;m<f;m++)if(l[m]===1)return!1;return!0}static isWhiteVertical(l,c,f,m){f=Math.max(f,0),m=Math.min(m,l.length);for(let g=f;g<m;g++)if(l[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let c=0;const f=l.getArray(),m=l.getWidth(),g=l.getHeight();for(let O=0;O<g;O++){const P=f[O];for(let B=0;B<m;B++)P[B]===1&&c++}const y=l.getHeight()*l.getWidth();return Math.floor(Math.abs(c*2-y)*10/y)*Mr.N4}static getDataMaskBit(l,c,f){let m,g;switch(l){case 0:m=f+c&1;break;case 1:m=f&1;break;case 2:m=c%3;break;case 3:m=(f+c)%3;break;case 4:m=Math.floor(f/2)+Math.floor(c/3)&1;break;case 5:g=f*c,m=(g&1)+g%3;break;case 6:g=f*c,m=(g&1)+g%3&1;break;case 7:g=f*c,m=g%3+(f+c&1)&1;break;default:throw new p("Invalid mask pattern: "+l)}return m===0}static applyMaskPenaltyRule1Internal(l,c){let f=0;const m=c?l.getHeight():l.getWidth(),g=c?l.getWidth():l.getHeight(),y=l.getArray();for(let w=0;w<m;w++){let O=0,P=-1;for(let B=0;B<g;B++){const H=c?y[w][B]:y[B][w];H===P?O++:(O>=5&&(f+=Mr.N1+(O-5)),O=1,P=H)}O>=5&&(f+=Mr.N1+(O-5))}return f}}Mr.N1=3,Mr.N2=3,Mr.N3=40,Mr.N4=10;class ex{constructor(l,c){this.width=l,this.height=c;const f=new Array(c);for(let m=0;m!==c;m++)f[m]=new Uint8Array(l);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(l,c){return this.bytes[c][l]}getArray(){return this.bytes}setNumber(l,c,f){this.bytes[c][l]=f}setBoolean(l,c,f){this.bytes[c][l]=f?1:0}clear(l){for(const c of this.bytes)C.fill(c,l)}equals(l){if(!(l instanceof ex))return!1;const c=l;if(this.width!==c.width||this.height!==c.height)return!1;for(let f=0,m=this.height;f<m;++f){const g=this.bytes[f],y=c.bytes[f];for(let w=0,O=this.width;w<O;++w)if(g[w]!==y[w])return!1}return!0}toString(){const l=new $;for(let c=0,f=this.height;c<f;++c){const m=this.bytes[c];for(let g=0,y=this.width;g<y;++g)switch(m[g]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class ic{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new $;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<ic.NUM_MASK_PATTERNS}}ic.NUM_MASK_PATTERNS=8;class ar extends u{}ar.kind="WriterException";class mt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,c,f,m,g){mt.clearMatrix(g),mt.embedBasicPatterns(f,g),mt.embedTypeInfo(c,m,g),mt.maybeEmbedVersionInfo(f,g),mt.embedDataBits(l,m,g)}static embedBasicPatterns(l,c){mt.embedPositionDetectionPatternsAndSeparators(c),mt.embedDarkDotAtLeftBottomCorner(c),mt.maybeEmbedPositionAdjustmentPatterns(l,c),mt.embedTimingPatterns(c)}static embedTypeInfo(l,c,f){const m=new E;mt.makeTypeInfoBits(l,c,m);for(let g=0,y=m.getSize();g<y;++g){const w=m.get(m.getSize()-1-g),O=mt.TYPE_INFO_COORDINATES[g],P=O[0],B=O[1];if(f.setBoolean(P,B,w),g<8){const H=f.getWidth()-g-1;f.setBoolean(H,8,w)}else{const Q=f.getHeight()-7+(g-8);f.setBoolean(8,Q,w)}}}static maybeEmbedVersionInfo(l,c){if(l.getVersionNumber()<7)return;const f=new E;mt.makeVersionInfoBits(l,f);let m=6*3-1;for(let g=0;g<6;++g)for(let y=0;y<3;++y){const w=f.get(m);m--,c.setBoolean(g,c.getHeight()-11+y,w),c.setBoolean(c.getHeight()-11+y,g,w)}}static embedDataBits(l,c,f){let m=0,g=-1,y=f.getWidth()-1,w=f.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);w>=0&&w<f.getHeight();){for(let O=0;O<2;++O){const P=y-O;if(!mt.isEmpty(f.get(P,w)))continue;let B;m<l.getSize()?(B=l.get(m),++m):B=!1,c!==255&&Mr.getDataMaskBit(c,P,w)&&(B=!B),f.setBoolean(P,w,B)}w+=g}g=-g,w+=g,y-=2}if(m!==l.getSize())throw new ar("Not all bits consumed: "+m+"/"+l.getSize())}static findMSBSet(l){return 32-A.numberOfLeadingZeros(l)}static calculateBCHCode(l,c){if(c===0)throw new p("0 polynomial");const f=mt.findMSBSet(c);for(l<<=f-1;mt.findMSBSet(l)>=f;)l^=c<<mt.findMSBSet(l)-f;return l}static makeTypeInfoBits(l,c,f){if(!ic.isValidMaskPattern(c))throw new ar("Invalid mask pattern");const m=l.getBits()<<3|c;f.appendBits(m,5);const g=mt.calculateBCHCode(m,mt.TYPE_INFO_POLY);f.appendBits(g,10);const y=new E;if(y.appendBits(mt.TYPE_INFO_MASK_PATTERN,15),f.xor(y),f.getSize()!==15)throw new ar("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(l,c){c.appendBits(l.getVersionNumber(),6);const f=mt.calculateBCHCode(l.getVersionNumber(),mt.VERSION_INFO_POLY);if(c.appendBits(f,12),c.getSize()!==18)throw new ar("should not happen but we got: "+c.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let c=8;c<l.getWidth()-8;++c){const f=(c+1)%2;mt.isEmpty(l.get(c,6))&&l.setNumber(c,6,f),mt.isEmpty(l.get(6,c))&&l.setNumber(6,c,f)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new ar;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,c,f){for(let m=0;m<8;++m){if(!mt.isEmpty(f.get(l+m,c)))throw new ar;f.setNumber(l+m,c,0)}}static embedVerticalSeparationPattern(l,c,f){for(let m=0;m<7;++m){if(!mt.isEmpty(f.get(l,c+m)))throw new ar;f.setNumber(l,c+m,0)}}static embedPositionAdjustmentPattern(l,c,f){for(let m=0;m<5;++m){const g=mt.POSITION_ADJUSTMENT_PATTERN[m];for(let y=0;y<5;++y)f.setNumber(l+y,c+m,g[y])}}static embedPositionDetectionPattern(l,c,f){for(let m=0;m<7;++m){const g=mt.POSITION_DETECTION_PATTERN[m];for(let y=0;y<7;++y)f.setNumber(l+y,c+m,g[y])}}static embedPositionDetectionPatternsAndSeparators(l){const c=mt.POSITION_DETECTION_PATTERN[0].length;mt.embedPositionDetectionPattern(0,0,l),mt.embedPositionDetectionPattern(l.getWidth()-c,0,l),mt.embedPositionDetectionPattern(0,l.getWidth()-c,l);const f=8;mt.embedHorizontalSeparationPattern(0,f-1,l),mt.embedHorizontalSeparationPattern(l.getWidth()-f,f-1,l),mt.embedHorizontalSeparationPattern(0,l.getWidth()-f,l);const m=7;mt.embedVerticalSeparationPattern(m,0,l),mt.embedVerticalSeparationPattern(l.getHeight()-m-1,0,l),mt.embedVerticalSeparationPattern(m,l.getHeight()-m,l)}static maybeEmbedPositionAdjustmentPatterns(l,c){if(l.getVersionNumber()<2)return;const f=l.getVersionNumber()-1,m=mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let g=0,y=m.length;g!==y;g++){const w=m[g];if(w>=0)for(let O=0;O!==y;O++){const P=m[O];P>=0&&mt.isEmpty(c.get(P,w))&&mt.embedPositionAdjustmentPattern(P-2,w-2,c)}}}}mt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),mt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),mt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),mt.VERSION_INFO_POLY=7973,mt.TYPE_INFO_POLY=1335,mt.TYPE_INFO_MASK_PATTERN=21522;class uL{constructor(l,c){this.dataBytes=l,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xr{constructor(){}static calculateMaskPenalty(l){return Mr.applyMaskPenaltyRule1(l)+Mr.applyMaskPenaltyRule2(l)+Mr.applyMaskPenaltyRule3(l)+Mr.applyMaskPenaltyRule4(l)}static encode(l,c,f=null){let m=xr.DEFAULT_BYTE_MODE_ENCODING;const g=f!==null&&f.get(Jr.CHARACTER_SET)!==void 0;g&&(m=f.get(Jr.CHARACTER_SET).toString());const y=this.chooseMode(l,m),w=new E;if(y===ht.BYTE&&(g||xr.DEFAULT_BYTE_MODE_ENCODING!==m)){const We=M.getCharacterSetECIByName(m);We!==void 0&&this.appendECI(We,w)}this.appendModeInfo(y,w);const O=new E;this.appendBytes(l,y,O,m);let P;if(f!==null&&f.get(Jr.QR_VERSION)!==void 0){const We=Number.parseInt(f.get(Jr.QR_VERSION).toString(),10);P=ct.getVersionForNumber(We);const Ue=this.calculateBitsNeeded(y,w,O,P);if(!this.willFit(Ue,P,c))throw new ar("Data too big for requested version")}else P=this.recommendVersion(c,y,w,O);const B=new E;B.appendBitArray(w);const H=y===ht.BYTE?O.getSizeInBytes():l.length;this.appendLengthInfo(H,P,y,B),B.appendBitArray(O);const Q=P.getECBlocksForLevel(c),te=P.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(te,B);const de=this.interleaveWithECBytes(B,P.getTotalCodewords(),te,Q.getNumBlocks()),ue=new ic;ue.setECLevel(c),ue.setMode(y),ue.setVersion(P);const ve=P.getDimensionForVersion(),Se=new ex(ve,ve),He=this.chooseMaskPattern(de,c,P,Se);return ue.setMaskPattern(He),mt.buildMatrix(de,c,P,He,Se),ue.setMatrix(Se),ue}static recommendVersion(l,c,f,m){const g=this.calculateBitsNeeded(c,f,m,ct.getVersionForNumber(1)),y=this.chooseVersion(g,l),w=this.calculateBitsNeeded(c,f,m,y);return this.chooseVersion(w,l)}static calculateBitsNeeded(l,c,f,m){return c.getSize()+l.getCharacterCountBits(m)+f.getSize()}static getAlphanumericCode(l){return l<xr.ALPHANUMERIC_TABLE.length?xr.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,c=null){if(M.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(l))return ht.KANJI;let f=!1,m=!1;for(let g=0,y=l.length;g<y;++g){const w=l.charAt(g);if(xr.isDigit(w))f=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)m=!0;else return ht.BYTE}return m?ht.ALPHANUMERIC:f?ht.NUMERIC:ht.BYTE}static isOnlyDoubleByteKanji(l){let c;try{c=I.encode(l,M.SJIS)}catch{return!1}const f=c.length;if(f%2!==0)return!1;for(let m=0;m<f;m+=2){const g=c[m]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(l,c,f,m){let g=Number.MAX_SAFE_INTEGER,y=-1;for(let w=0;w<ic.NUM_MASK_PATTERNS;w++){mt.buildMatrix(l,c,f,w,m);let O=this.calculateMaskPenalty(m);O<g&&(g=O,y=w)}return y}static chooseVersion(l,c){for(let f=1;f<=40;f++){const m=ct.getVersionForNumber(f);if(xr.willFit(l,m,c))return m}throw new ar("Data too big")}static willFit(l,c,f){const m=c.getTotalCodewords(),y=c.getECBlocksForLevel(f).getTotalECCodewords(),w=m-y,O=(l+7)/8;return w>=O}static terminateBits(l,c){const f=l*8;if(c.getSize()>f)throw new ar("data bits cannot fit in the QR Code"+c.getSize()+" > "+f);for(let y=0;y<4&&c.getSize()<f;++y)c.appendBit(!1);const m=c.getSize()&7;if(m>0)for(let y=m;y<8;y++)c.appendBit(!1);const g=l-c.getSizeInBytes();for(let y=0;y<g;++y)c.appendBits(y&1?17:236,8);if(c.getSize()!==f)throw new ar("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,c,f,m,g,y){if(m>=f)throw new ar("Block ID too large");const w=l%f,O=f-w,P=Math.floor(l/f),B=P+1,H=Math.floor(c/f),Q=H+1,te=P-H,de=B-Q;if(te!==de)throw new ar("EC bytes mismatch");if(f!==O+w)throw new ar("RS blocks mismatch");if(l!==(H+te)*O+(Q+de)*w)throw new ar("Total bytes mismatch");m<O?(g[0]=H,y[0]=te):(g[0]=Q,y[0]=de)}static interleaveWithECBytes(l,c,f,m){if(l.getSizeInBytes()!==f)throw new ar("Number of bits and data bytes does not match");let g=0,y=0,w=0;const O=new Array;for(let B=0;B<m;++B){const H=new Int32Array(1),Q=new Int32Array(1);xr.getNumDataBytesAndNumECBytesForBlockID(c,f,m,B,H,Q);const te=H[0],de=new Uint8Array(te);l.toBytes(8*g,de,0,te);const ue=xr.generateECBytes(de,Q[0]);O.push(new uL(de,ue)),y=Math.max(y,te),w=Math.max(w,ue.length),g+=H[0]}if(f!==g)throw new ar("Data bytes does not match offset");const P=new E;for(let B=0;B<y;++B)for(const H of O){const Q=H.getDataBytes();B<Q.length&&P.appendBits(Q[B],8)}for(let B=0;B<w;++B)for(const H of O){const Q=H.getErrorCorrectionBytes();B<Q.length&&P.appendBits(Q[B],8)}if(c!==P.getSizeInBytes())throw new ar("Interleaving error: "+c+" and "+P.getSizeInBytes()+" differ.");return P}static generateECBytes(l,c){const f=l.length,m=new Int32Array(f+c);for(let y=0;y<f;y++)m[y]=l[y]&255;new bb(Ke.QR_CODE_FIELD_256).encode(m,c);const g=new Uint8Array(c);for(let y=0;y<c;y++)g[y]=m[f+y];return g}static appendModeInfo(l,c){c.appendBits(l.getBits(),4)}static appendLengthInfo(l,c,f,m){const g=f.getCharacterCountBits(c);if(l>=1<<g)throw new ar(l+" is bigger than "+((1<<g)-1));m.appendBits(l,g)}static appendBytes(l,c,f,m){switch(c){case ht.NUMERIC:xr.appendNumericBytes(l,f);break;case ht.ALPHANUMERIC:xr.appendAlphanumericBytes(l,f);break;case ht.BYTE:xr.append8BitBytes(l,f,m);break;case ht.KANJI:xr.appendKanjiBytes(l,f);break;default:throw new ar("Invalid mode: "+c)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const c=xr.getDigit(l);return c>=0&&c<=9}static appendNumericBytes(l,c){const f=l.length;let m=0;for(;m<f;){const g=xr.getDigit(l.charAt(m));if(m+2<f){const y=xr.getDigit(l.charAt(m+1)),w=xr.getDigit(l.charAt(m+2));c.appendBits(g*100+y*10+w,10),m+=3}else if(m+1<f){const y=xr.getDigit(l.charAt(m+1));c.appendBits(g*10+y,7),m+=2}else c.appendBits(g,4),m++}}static appendAlphanumericBytes(l,c){const f=l.length;let m=0;for(;m<f;){const g=xr.getAlphanumericCode(l.charCodeAt(m));if(g===-1)throw new ar;if(m+1<f){const y=xr.getAlphanumericCode(l.charCodeAt(m+1));if(y===-1)throw new ar;c.appendBits(g*45+y,11),m+=2}else c.appendBits(g,6),m++}}static append8BitBytes(l,c,f){let m;try{m=I.encode(l,f)}catch(g){throw new ar(g)}for(let g=0,y=m.length;g!==y;g++){const w=m[g];c.appendBits(w,8)}}static appendKanjiBytes(l,c){let f;try{f=I.encode(l,M.SJIS)}catch(g){throw new ar(g)}const m=f.length;for(let g=0;g<m;g+=2){const y=f[g]&255,w=f[g+1]&255,O=y<<8&4294967295|w;let P=-1;if(O>=33088&&O<=40956?P=O-33088:O>=57408&&O<=60351&&(P=O-49472),P===-1)throw new ar("Invalid byte sequence");const B=(P>>8)*192+(P&255);c.appendBits(B,13)}}static appendECI(l,c){c.appendBits(ht.ECI.getBits(),4),c.appendBits(l.getValue(),8)}}xr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xr.DEFAULT_BYTE_MODE_ENCODING=M.UTF8.getName();class oc{write(l,c,f,m=null){if(l.length===0)throw new p("Found empty contents");if(c<0||f<0)throw new p("Requested dimensions are too small: "+c+"x"+f);let g=cr.L,y=oc.QUIET_ZONE_SIZE;m!==null&&(m.get(Jr.ERROR_CORRECTION)!==void 0&&(g=cr.fromString(m.get(Jr.ERROR_CORRECTION).toString())),m.get(Jr.MARGIN)!==void 0&&(y=Number.parseInt(m.get(Jr.MARGIN).toString(),10)));const w=xr.encode(l,g,m);return this.renderResult(w,c,f,y)}writeToDom(l,c,f,m,g=null){typeof l=="string"&&(l=document.querySelector(l));const y=this.write(c,f,m,g);l&&l.appendChild(y)}renderResult(l,c,f,m){const g=l.getMatrix();if(g===null)throw new vt;const y=g.getWidth(),w=g.getHeight(),O=y+m*2,P=w+m*2,B=Math.max(c,O),H=Math.max(f,P),Q=Math.min(Math.floor(B/O),Math.floor(H/P)),te=Math.floor((B-y*Q)/2),de=Math.floor((H-w*Q)/2),ue=this.createSVGElement(B,H);for(let ve=0,Se=de;ve<w;ve++,Se+=Q)for(let He=0,We=te;He<y;He++,We+=Q)if(g.get(He,ve)===1){const Ue=this.createSvgRectElement(We,Se,Q,Q);ue.appendChild(Ue)}return ue}createSVGElement(l,c){const f=document.createElementNS(oc.SVG_NS,"svg");return f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",c.toString()),f}createSvgRectElement(l,c,f,m){const g=document.createElementNS(oc.SVG_NS,"rect");return g.setAttributeNS(null,"x",l.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",f.toString()),g.setAttributeNS(null,"width",m.toString()),g.setAttributeNS(null,"fill","#000000"),g}}oc.QUIET_ZONE_SIZE=4,oc.SVG_NS="http://www.w3.org/2000/svg";class Pd{encode(l,c,f,m,g){if(l.length===0)throw new p("Found empty contents");if(c!==ge.QR_CODE)throw new p("Can only encode QR_CODE, but got "+c);if(f<0||m<0)throw new p(`Requested dimensions are too small: ${f}x${m}`);let y=cr.L,w=Pd.QUIET_ZONE_SIZE;g!==null&&(g.get(Jr.ERROR_CORRECTION)!==void 0&&(y=cr.fromString(g.get(Jr.ERROR_CORRECTION).toString())),g.get(Jr.MARGIN)!==void 0&&(w=Number.parseInt(g.get(Jr.MARGIN).toString(),10)));const O=xr.encode(l,y,g);return Pd.renderResult(O,f,m,w)}static renderResult(l,c,f,m){const g=l.getMatrix();if(g===null)throw new vt;const y=g.getWidth(),w=g.getHeight(),O=y+m*2,P=w+m*2,B=Math.max(c,O),H=Math.max(f,P),Q=Math.min(Math.floor(B/O),Math.floor(H/P)),te=Math.floor((B-y*Q)/2),de=Math.floor((H-w*Q)/2),ue=new W(B,H);for(let ve=0,Se=de;ve<w;ve++,Se+=Q)for(let He=0,We=te;He<y;He++,We+=Q)g.get(He,ve)===1&&ue.setRegion(We,Se,Q,Q);return ue}}Pd.QUIET_ZONE_SIZE=4;class hL{encode(l,c,f,m,g){let y;switch(c){case ge.QR_CODE:y=new Pd;break;default:throw new p("No encoder available for format "+c)}return y.encode(l,c,f,m,g)}}class di extends V{constructor(l,c,f,m,g,y,w,O){if(super(y,w),this.yuvData=l,this.dataWidth=c,this.dataHeight=f,this.left=m,this.top=g,m+y>c||g+w>f)throw new p("Crop rectangle does not fit within image data.");O&&this.reverseHorizontal(y,w)}getRow(l,c){if(l<0||l>=this.getHeight())throw new p("Requested row is outside the image: "+l);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const m=(l+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,m,c,0,f),c}getMatrix(){const l=this.getWidth(),c=this.getHeight();if(l===this.dataWidth&&c===this.dataHeight)return this.yuvData;const f=l*c,m=new Uint8ClampedArray(f);let g=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return N.arraycopy(this.yuvData,g,m,0,f),m;for(let y=0;y<c;y++){const w=y*l;N.arraycopy(this.yuvData,g,m,w,l),g+=this.dataWidth}return m}isCropSupported(){return!0}crop(l,c,f,m){return new di(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+c,f,m,!1)}renderThumbnail(){const l=this.getWidth()/di.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/di.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(l*c),m=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let y=0;y<c;y++){const w=y*l;for(let O=0;O<l;O++){const P=m[g+O*di.THUMBNAIL_SCALE_FACTOR]&255;f[w+O]=4278190080|P*65793}g+=this.dataWidth*di.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/di.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/di.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,c){const f=this.yuvData;for(let m=0,g=this.top*this.dataWidth+this.left;m<c;m++,g+=this.dataWidth){const y=g+l/2;for(let w=g,O=g+l-1;w<y;w++,O--){const P=f[w];f[w]=f[O],f[O]=P}}}invert(){return new G(this)}}di.THUMBNAIL_SCALE_FACTOR=2;class vb extends V{constructor(l,c,f,m,g,y,w){if(super(c,f),this.dataWidth=m,this.dataHeight=g,this.left=y,this.top=w,l.BYTES_PER_ELEMENT===4){const O=c*f,P=new Uint8ClampedArray(O);for(let B=0;B<O;B++){const H=l[B],Q=H>>16&255,te=H>>7&510,de=H&255;P[B]=(Q+te+de)/4&255}this.luminances=P}else this.luminances=l;if(m===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=f),y===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+f>this.dataHeight)throw new p("Crop rectangle does not fit within image data.")}getRow(l,c){if(l<0||l>=this.getHeight())throw new p("Requested row is outside the image: "+l);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const m=(l+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,m,c,0,f),c}getMatrix(){const l=this.getWidth(),c=this.getHeight();if(l===this.dataWidth&&c===this.dataHeight)return this.luminances;const f=l*c,m=new Uint8ClampedArray(f);let g=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return N.arraycopy(this.luminances,g,m,0,f),m;for(let y=0;y<c;y++){const w=y*l;N.arraycopy(this.luminances,g,m,w,l),g+=this.dataWidth}return m}isCropSupported(){return!0}crop(l,c,f,m){return new vb(this.luminances,f,m,this.dataWidth,this.dataHeight,this.left+l,this.top+c)}invert(){return new G(this)}}class F_ extends M{static forName(l){return this.getCharacterSetECIByName(l)}}class jb{}jb.ISO_8859_1=M.ISO8859_1;class B_{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class U_{static singletonList(l){return[l]}static min(l,c){return l.sort(c)[0]}}class fL{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Id extends fL{constructor(l,c,f){super(l),this.value=c,this.bitCount=f}appendTo(l,c){l.appendBits(this.value,this.bitCount)}add(l,c){return new Id(this,l,c)}addBinaryShift(l,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Id(this,l,c)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+A.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class wb extends Id{constructor(l,c,f){super(l,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=f}appendTo(l,c){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):f===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(c[this.binaryShiftStart+f],8)}addBinaryShift(l,c){return new wb(this,l,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function mL(q,l,c){return new wb(q,l,c)}function l0(q,l,c){return new Id(q,l,c)}const xL=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],zo=0,tx=1,oa=2,z_=3,ui=4,pL=new Id(null,0,0),Nb=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gL(q){for(let l of q)C.fill(l,-1);return q[zo][ui]=0,q[tx][ui]=0,q[tx][zo]=28,q[z_][ui]=0,q[oa][ui]=0,q[oa][zo]=15,q}const V_=gL(C.createInt32Array(6,6));class hi{constructor(l,c,f,m){this.token=l,this.mode=c,this.binaryShiftByteCount=f,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,c){let f=this.bitCount,m=this.token;if(l!==this.mode){let y=Nb[this.mode][l];m=l0(m,y&65535,y>>16),f+=y>>16}let g=l===oa?4:5;return m=l0(m,c,g),new hi(m,l,0,f+g)}shiftAndAppend(l,c){let f=this.token,m=this.mode===oa?4:5;return f=l0(f,V_[this.mode][l],m),f=l0(f,c,5),new hi(f,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(l){let c=this.token,f=this.mode,m=this.bitCount;if(this.mode===ui||this.mode===oa){let w=Nb[f][zo];c=l0(c,w&65535,w>>16),m+=w>>16,f=zo}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new hi(c,f,this.binaryShiftByteCount+1,m+g);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(l+1)),y}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=mL(c,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new hi(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let c=this.bitCount+(Nb[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?c+=hi.calculateBinaryShiftCost(l)-hi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(c+=10),c<=l.bitCount}toBitArray(l){let c=[];for(let m=this.endBinaryShift(l.length).token;m!==null;m=m.getPrevious())c.unshift(m);let f=new E;for(const m of c)m.appendTo(f,l);return f}toString(){return L.format("%s bits=%d bytes=%d",xL[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}hi.INITIAL_STATE=new hi(pL,zo,0,0);function yL(q){const l=L.getCharCode(" "),c=L.getCharCode("."),f=L.getCharCode(",");q[zo][l]=1;const m=L.getCharCode("Z"),g=L.getCharCode("A");for(let Q=g;Q<=m;Q++)q[zo][Q]=Q-g+2;q[tx][l]=1;const y=L.getCharCode("z"),w=L.getCharCode("a");for(let Q=w;Q<=y;Q++)q[tx][Q]=Q-w+2;q[oa][l]=1;const O=L.getCharCode("9"),P=L.getCharCode("0");for(let Q=P;Q<=O;Q++)q[oa][Q]=Q-P+2;q[oa][f]=12,q[oa][c]=13;const B=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<B.length;Q++)q[z_][L.getCharCode(B[Q])]=Q;const H=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<H.length;Q++)L.getCharCode(H[Q])>0&&(q[ui][L.getCharCode(H[Q])]=Q);return q}const _b=yL(C.createInt32Array(5,256));class c0{constructor(l){this.text=l}encode(){const l=L.getCharCode(" "),c=L.getCharCode(`
`);let f=U_.singletonList(hi.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let y,w=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case L.getCharCode("\r"):y=w===c?2:0;break;case L.getCharCode("."):y=w===l?3:0;break;case L.getCharCode(","):y=w===l?4:0;break;case L.getCharCode(":"):y=w===l?5:0;break;default:y=0}y>0?(f=c0.updateStateListForPair(f,g,y),g++):f=this.updateStateListForChar(f,g)}return U_.min(f,(g,y)=>g.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,c){const f=[];for(let m of l)this.updateStateForChar(m,c,f);return c0.simplifyStates(f)}updateStateForChar(l,c,f){let m=this.text[c]&255,g=_b[l.getMode()][m]>0,y=null;for(let w=0;w<=ui;w++){let O=_b[w][m];if(O>0){if(y==null&&(y=l.endBinaryShift(c)),!g||w===l.getMode()||w===oa){const P=y.latchAndAppend(w,O);f.push(P)}if(!g&&V_[l.getMode()][w]>=0){const P=y.shiftAndAppend(w,O);f.push(P)}}}if(l.getBinaryShiftByteCount()>0||_b[l.getMode()][m]===0){let w=l.addBinaryShiftChar(c);f.push(w)}}static updateStateListForPair(l,c,f){const m=[];for(let g of l)this.updateStateForPair(g,c,f,m);return this.simplifyStates(m)}static updateStateForPair(l,c,f,m){let g=l.endBinaryShift(c);if(m.push(g.latchAndAppend(ui,f)),l.getMode()!==ui&&m.push(g.shiftAndAppend(ui,f)),f===3||f===4){let y=g.latchAndAppend(oa,16-f).latchAndAppend(oa,1);m.push(y)}if(l.getBinaryShiftByteCount()>0){let y=l.addBinaryShiftChar(c).addBinaryShiftChar(c+1);m.push(y)}}static simplifyStates(l){let c=[];for(const f of l){let m=!0;for(const g of c){if(g.isBetterThanOrEqualTo(f)){m=!1;break}f.isBetterThanOrEqualTo(g)&&(c=c.filter(y=>y!==g))}m&&c.push(f)}return c}}class Ft{constructor(){}static encodeBytes(l){return Ft.encode(l,Ft.DEFAULT_EC_PERCENT,Ft.DEFAULT_AZTEC_LAYERS)}static encode(l,c,f){let m=new c0(l).encode(),g=A.truncDivision(m.getSize()*c,100)+11,y=m.getSize()+g,w,O,P,B,H;if(f!==Ft.DEFAULT_AZTEC_LAYERS){if(w=f<0,O=Math.abs(f),O>(w?Ft.MAX_NB_BITS_COMPACT:Ft.MAX_NB_BITS))throw new p(L.format("Illegal value %s for layers",f));P=Ft.totalBitsInLayer(O,w),B=Ft.WORD_SIZE[O];let Ue=P-P%B;if(H=Ft.stuffBits(m,B),H.getSize()+g>Ue)throw new p("Data to large for user specified layer");if(w&&H.getSize()>B*64)throw new p("Data to large for user specified layer")}else{B=0,H=null;for(let Ue=0;;Ue++){if(Ue>Ft.MAX_NB_BITS)throw new p("Data too large for an Aztec code");if(w=Ue<=3,O=w?Ue+1:Ue,P=Ft.totalBitsInLayer(O,w),y>P)continue;(H==null||B!==Ft.WORD_SIZE[O])&&(B=Ft.WORD_SIZE[O],H=Ft.stuffBits(m,B));let Rt=P-P%B;if(!(w&&H.getSize()>B*64)&&H.getSize()+g<=Rt)break}}let Q=Ft.generateCheckWords(H,P,B),te=H.getSize()/B,de=Ft.generateModeMessage(w,O,te),ue=(w?11:14)+O*4,ve=new Int32Array(ue),Se;if(w){Se=ue;for(let Ue=0;Ue<ve.length;Ue++)ve[Ue]=Ue}else{Se=ue+1+2*A.truncDivision(A.truncDivision(ue,2)-1,15);let Ue=A.truncDivision(ue,2),Rt=A.truncDivision(Se,2);for(let St=0;St<Ue;St++){let fs=St+A.truncDivision(St,15);ve[Ue-St-1]=Rt-fs-1,ve[Ue+St]=Rt+fs+1}}let He=new W(Se);for(let Ue=0,Rt=0;Ue<O;Ue++){let St=(O-Ue)*4+(w?9:12);for(let fs=0;fs<St;fs++){let Ia=fs*2;for(let ms=0;ms<2;ms++)Q.get(Rt+Ia+ms)&&He.set(ve[Ue*2+ms],ve[Ue*2+fs]),Q.get(Rt+St*2+Ia+ms)&&He.set(ve[Ue*2+fs],ve[ue-1-Ue*2-ms]),Q.get(Rt+St*4+Ia+ms)&&He.set(ve[ue-1-Ue*2-ms],ve[ue-1-Ue*2-fs]),Q.get(Rt+St*6+Ia+ms)&&He.set(ve[ue-1-Ue*2-fs],ve[Ue*2+ms])}Rt+=St*8}if(Ft.drawModeMessage(He,w,Se,de),w)Ft.drawBullsEye(He,A.truncDivision(Se,2),5);else{Ft.drawBullsEye(He,A.truncDivision(Se,2),7);for(let Ue=0,Rt=0;Ue<A.truncDivision(ue,2)-1;Ue+=15,Rt+=16)for(let St=A.truncDivision(Se,2)&1;St<Se;St+=2)He.set(A.truncDivision(Se,2)-Rt,St),He.set(A.truncDivision(Se,2)+Rt,St),He.set(St,A.truncDivision(Se,2)-Rt),He.set(St,A.truncDivision(Se,2)+Rt)}let We=new B_;return We.setCompact(w),We.setSize(Se),We.setLayers(O),We.setCodeWords(te),We.setMatrix(He),We}static drawBullsEye(l,c,f){for(let m=0;m<f;m+=2)for(let g=c-m;g<=c+m;g++)l.set(g,c-m),l.set(g,c+m),l.set(c-m,g),l.set(c+m,g);l.set(c-f,c-f),l.set(c-f+1,c-f),l.set(c-f,c-f+1),l.set(c+f,c-f),l.set(c+f,c-f+1),l.set(c+f,c+f-1)}static generateModeMessage(l,c,f){let m=new E;return l?(m.appendBits(c-1,2),m.appendBits(f-1,6),m=Ft.generateCheckWords(m,28,4)):(m.appendBits(c-1,5),m.appendBits(f-1,11),m=Ft.generateCheckWords(m,40,4)),m}static drawModeMessage(l,c,f,m){let g=A.truncDivision(f,2);if(c)for(let y=0;y<7;y++){let w=g-3+y;m.get(y)&&l.set(w,g-5),m.get(y+7)&&l.set(g+5,w),m.get(20-y)&&l.set(w,g+5),m.get(27-y)&&l.set(g-5,w)}else for(let y=0;y<10;y++){let w=g-5+y+A.truncDivision(y,5);m.get(y)&&l.set(w,g-7),m.get(y+10)&&l.set(g+7,w),m.get(29-y)&&l.set(w,g+7),m.get(39-y)&&l.set(g-7,w)}}static generateCheckWords(l,c,f){let m=l.getSize()/f,g=new bb(Ft.getGF(f)),y=A.truncDivision(c,f),w=Ft.bitsToWords(l,f,y);g.encode(w,y-m);let O=c%f,P=new E;P.appendBits(0,O);for(const B of Array.from(w))P.appendBits(B,f);return P}static bitsToWords(l,c,f){let m=new Int32Array(f),g,y;for(g=0,y=l.getSize()/c;g<y;g++){let w=0;for(let O=0;O<c;O++)w|=l.get(g*c+O)?1<<c-O-1:0;m[g]=w}return m}static getGF(l){switch(l){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new p("Unsupported word size "+l)}}static stuffBits(l,c){let f=new E,m=l.getSize(),g=(1<<c)-2;for(let y=0;y<m;y+=c){let w=0;for(let O=0;O<c;O++)(y+O>=m||l.get(y+O))&&(w|=1<<c-1-O);(w&g)===g?(f.appendBits(w&g,c),y--):w&g?f.appendBits(w,c):(f.appendBits(w|1,c),y--)}return f}static totalBitsInLayer(l,c){return((c?88:112)+16*l)*l}}Ft.DEFAULT_EC_PERCENT=33,Ft.DEFAULT_AZTEC_LAYERS=0,Ft.MAX_NB_BITS=32,Ft.MAX_NB_BITS_COMPACT=4,Ft.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class rx{encode(l,c,f,m){return this.encodeWithHints(l,c,f,m,null)}encodeWithHints(l,c,f,m,g){let y=jb.ISO_8859_1,w=Ft.DEFAULT_EC_PERCENT,O=Ft.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Jr.CHARACTER_SET)&&(y=F_.forName(g.get(Jr.CHARACTER_SET).toString())),g.has(Jr.ERROR_CORRECTION)&&(w=A.parseInt(g.get(Jr.ERROR_CORRECTION).toString())),g.has(Jr.AZTEC_LAYERS)&&(O=A.parseInt(g.get(Jr.AZTEC_LAYERS).toString()))),rx.encodeLayers(l,c,f,m,y,w,O)}static encodeLayers(l,c,f,m,g,y,w){if(c!==ge.AZTEC)throw new p("Can only encode AZTEC, but got "+c);let O=Ft.encode(L.getBytes(l,g),y,w);return rx.renderResult(O,f,m)}static renderResult(l,c,f){let m=l.getMatrix();if(m==null)throw new vt;let g=m.getWidth(),y=m.getHeight(),w=Math.max(c,g),O=Math.max(f,y),P=Math.min(w/g,O/y),B=(w-g*P)/2,H=(O-y*P)/2,Q=new W(w,O);for(let te=0,de=H;te<y;te++,de+=P)for(let ue=0,ve=B;ue<g;ue++,ve+=P)m.get(ue,te)&&Q.setRegion(ve,de,P,P);return Q}}n.AbstractExpandedDecoder=Wi,n.ArgumentException=x,n.ArithmeticException=Pe,n.AztecCode=B_,n.AztecCodeReader=Et,n.AztecCodeWriter=rx,n.AztecDecoder=ut,n.AztecDetector=gt,n.AztecDetectorResult=Le,n.AztecEncoder=Ft,n.AztecHighLevelEncoder=c0,n.AztecPoint=Be,n.BarcodeFormat=ge,n.Binarizer=v,n.BinaryBitmap=b,n.BitArray=E,n.BitMatrix=W,n.BitSource=fb,n.BrowserAztecCodeReader=Or,n.BrowserBarcodeReader=YR,n.BrowserCodeReader=ie,n.BrowserDatamatrixCodeReader=KR,n.BrowserMultiFormatReader=lL,n.BrowserPDF417Reader=cL,n.BrowserQRCodeReader=dL,n.BrowserQRCodeSvgWriter=oc,n.CharacterSetECI=M,n.ChecksumException=_,n.Code128Reader=Ie,n.Code39Reader=se,n.DataMatrixDecodedBitStreamParser=$o,n.DataMatrixReader=Fo,n.DecodeHintType=D,n.DecoderResult=Ne,n.DefaultGridSampler=wt,n.DetectorResult=pe,n.EAN13Reader=re,n.EncodeHintType=Jr,n.Exception=u,n.FormatException=R,n.GenericGF=Ke,n.GenericGFPoly=Re,n.GlobalHistogramBinarizer=Y,n.GridSampler=$e,n.GridSamplerInstance=be,n.HTMLCanvasElementLuminanceSource=ne,n.HybridBinarizer=X,n.ITFReader=we,n.IllegalArgumentException=p,n.IllegalStateException=vt,n.InvertedLuminanceSource=G,n.LuminanceSource=V,n.MathUtils=oe,n.MultiFormatOneDReader=kd,n.MultiFormatReader=$_,n.MultiFormatWriter=hL,n.NotFoundException=U,n.OneDReader=It,n.PDF417DecodedBitStreamParser=_e,n.PDF417DecoderErrorCorrection=P_,n.PDF417Reader=wn,n.PDF417ResultMetadata=D_,n.PerspectiveTransform=Xe,n.PlanarYUVLuminanceSource=di,n.QRCodeByteMatrix=ex,n.QRCodeDataMask=aa,n.QRCodeDecodedBitStreamParser=Er,n.QRCodeDecoderErrorCorrectionLevel=cr,n.QRCodeDecoderFormatInformation=Tn,n.QRCodeEncoder=xr,n.QRCodeEncoderQRCode=ic,n.QRCodeMaskUtil=Mr,n.QRCodeMatrixUtil=mt,n.QRCodeMode=ht,n.QRCodeReader=Bo,n.QRCodeVersion=ct,n.QRCodeWriter=Pd,n.RGBLuminanceSource=vb,n.RSS14Reader=Dr,n.RSSExpandedReader=Fe,n.ReaderException=Jm,n.ReedSolomonDecoder=Ot,n.ReedSolomonEncoder=bb,n.ReedSolomonException=lt,n.Result=fe,n.ResultMetadataType=Ae,n.ResultPoint=ee,n.StringUtils=L,n.UnsupportedOperationException=z,n.VideoInputDevice=ae,n.WhiteRectangleDetector=Ee,n.WriterException=ar,n.ZXingArrays=C,n.ZXingCharset=F_,n.ZXingInteger=A,n.ZXingStandardCharsets=jb,n.ZXingStringBuilder=$,n.ZXingStringEncoding=I,n.ZXingSystem=N,n.createAbstractExpandedDecoder=k_,Object.defineProperty(n,"__esModule",{value:!0})})})(Sj,Sj.exports);var gr=Sj.exports;const MW=Vt(gr),RW=R8({__proto__:null,default:MW},[gr]);var eC=function(){function e(t,n,s){if(this.formatMap=new Map([[rt.QR_CODE,gr.BarcodeFormat.QR_CODE],[rt.AZTEC,gr.BarcodeFormat.AZTEC],[rt.CODABAR,gr.BarcodeFormat.CODABAR],[rt.CODE_39,gr.BarcodeFormat.CODE_39],[rt.CODE_93,gr.BarcodeFormat.CODE_93],[rt.CODE_128,gr.BarcodeFormat.CODE_128],[rt.DATA_MATRIX,gr.BarcodeFormat.DATA_MATRIX],[rt.MAXICODE,gr.BarcodeFormat.MAXICODE],[rt.ITF,gr.BarcodeFormat.ITF],[rt.EAN_13,gr.BarcodeFormat.EAN_13],[rt.EAN_8,gr.BarcodeFormat.EAN_8],[rt.PDF_417,gr.BarcodeFormat.PDF_417],[rt.RSS_14,gr.BarcodeFormat.RSS_14],[rt.RSS_EXPANDED,gr.BarcodeFormat.RSS_EXPANDED],[rt.UPC_A,gr.BarcodeFormat.UPC_A],[rt.UPC_E,gr.BarcodeFormat.UPC_E],[rt.UPC_EAN_EXTENSION,gr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!RW)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var a=this.createZXingFormats(t),i=new Map;i.set(gr.DecodeHintType.POSSIBLE_FORMATS,a),i.set(gr.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(s,a){try{s(n.decode(t))}catch(i){a(i)}})},e.prototype.decode=function(t){var n=new gr.MultiFormatReader(this.verbose,this.hints),s=new gr.HTMLCanvasElementLuminanceSource(t),a=new gr.BinaryBitmap(new gr.HybridBinarizer(s)),i=n.decode(a);return{text:i.text,format:A7.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var i=a[s];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),LW=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},$W=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},tC=function(){function e(t,n,s){if(this.formatMap=new Map([[rt.QR_CODE,"qr_code"],[rt.AZTEC,"aztec"],[rt.CODABAR,"codabar"],[rt.CODE_39,"code_39"],[rt.CODE_93,"code_93"],[rt.CODE_128,"code_128"],[rt.DATA_MATRIX,"data_matrix"],[rt.ITF,"itf"],[rt.EAN_13,"ean_13"],[rt.EAN_8,"ean_8"],[rt.PDF_417,"pdf417"],[rt.UPC_A,"upc_a"],[rt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return LW(this,void 0,void 0,function(){var n,s;return $W(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:A7.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,s=0,a=0,i=t;a<i.length;a++){var o=i[a],d=o.boundingBox.width*o.boundingBox.height;d>s&&(s=d,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],s=0,a=t;s<a.length;s++){var i=a[s];this.formatMap.has(i)?n.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,a){t.set(n,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),rC=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},nC=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},FW=function(){function e(t,n,s,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&tC.isSupported()?(this.primaryDecoder=new tC(t,s,a),this.secondaryDecoder=new eC(t,s,a)):this.primaryDecoder=new eC(t,s,a)}return e.prototype.decodeAsync=function(t){return rC(this,void 0,void 0,function(){var n;return nC(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return rC(this,void 0,void 0,function(){var n,s;return nC(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(s=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,s=this.executionResults;n<s.length;n++){var a=s[n];t+=a}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),k4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),rg=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},ng=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},T7=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),BW=function(e){k4(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var a={advanced:[s]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(T7),UW=function(e){k4(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(BW),zW=function(e){k4(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(T7),VW=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new UW(this.track)},e.prototype.torchFeature=function(){return new zW(this.track)},e}(),qW=function(){function e(t,n,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,s,a){return rg(this,void 0,void 0,function(){var i,o;return ng(this,function(d){switch(d.label){case 0:return i=new e(t,n,a),s.aspectRatio?(o={aspectRatio:s.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:d.sent(),d.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,s=function(){setTimeout(t,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return rg(this,void 0,void 0,function(){return ng(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,s){var a=t.mediaStream.getVideoTracks(),i=a.length,o=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new VW(this.getFirstTrackOrFail())},e}(),HW=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,s){return rg(this,void 0,void 0,function(){return ng(this,function(a){return[2,qW.create(t,this.mediaStream,n,s)]})})},e.create=function(t){return rg(this,void 0,void 0,function(){var n,s;return ng(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=a.sent(),[2,new e(s)]}})})},e}(),sC=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},aC=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},WW=function(){function e(){}return e.failIfNotSupported=function(){return sC(this,void 0,void 0,function(){return aC(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return sC(this,void 0,void 0,function(){return aC(this,function(n){return[2,HW.create(t)]})})},e}(),GW=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},QW=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},YW=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=du.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=du.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return GW(this,void 0,void 0,function(){var t,n,s,a,i,o,d;return QW(this,function(h){switch(h.label){case 0:return t=function(u){for(var x=u.getVideoTracks(),p=0,b=x;p<b.length;p++){var _=b[p];_.enabled=!1,_.stop(),u.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=h.sent(),a=[],i=0,o=s;i<o.length;i++)d=o[i],d.kind==="videoinput"&&a.push({id:d.deviceId,label:d.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var s=function(i){for(var o=[],d=0,h=i;d<h.length;d++){var u=h[d];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},a=MediaStreamTrack;a.getSources(s)})},e}(),Lr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Lr||(Lr={}));var XW=function(){function e(){this.state=Lr.NOT_STARTED,this.onGoingTransactionNewState=Lr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Lr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Lr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Lr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Lr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Lr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Lr.UNKNOWN:throw"Transition from unknown is not allowed";case Lr.NOT_STARTED:this.failIfNewStateIs(t,[Lr.PAUSED]);break;case Lr.SCANNING:break;case Lr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var s=0,a=n;s<a.length;s++){var i=a[s];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),KW=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Lr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Lr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Lr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Lr.PAUSED},e}(),ZW=function(){function e(){}return e.create=function(){return new KW(new XW)},e}(),JW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),$s=function(e){JW(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ua),eG=function(){function e(t,n){this.logger=n,this.fps=$s.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=$s.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?k7.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!pi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),iC=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new E7(this.verbose),this.qrcode=new FW(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ZW.create()}return e.prototype.start=function(t,n,s,a){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;a?o=a:o=this.verbose?this.logger.log:function(){};var d=eG.create(n,this.logger);this.clearElement();var h=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=h,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:$s.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var p=this,b=this.stateManagerProxy.startTransition(Lr.SCANNING);return new Promise(function(_,v){var N=u?d.videoConstraints:p.createVideoConstraints(t);if(!N){b.cancel(),v("videoConstraints should be defined");return}var j={};(!u||d.aspectRatio)&&(j.aspectRatio=d.aspectRatio);var S={onRenderSurfaceReady:function(C,A){p.setupUi(C,A,d),p.isScanning=!0,p.foreverScan(d,s,o)}};WW.failIfNotSupported().then(function(C){C.create(N).then(function(A){return A.render(i.element,j,S).then(function(E){p.renderedCamera=E,b.execute(),_(null)}).catch(function(E){b.cancel(),v(E)})}).catch(function(A){b.cancel(),v(du.errorGettingUserMedia(A))})}).catch(function(C){b.cancel(),v(du.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Lr.PAUSED),this.showPausedState(),(pi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Lr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Lr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var i=document.getElementById($s.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),s(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,n){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(pi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,i){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var d=o.width,h=o.height,u=document.getElementById(s.elementId),x=u.clientWidth?u.clientWidth:$s.DEFAULT_WIDTH,p=Math.max(u.clientHeight?u.clientHeight:h,$s.FILE_SCAN_MIN_HEIGHT),b=s.computeCanvasDrawConfig(d,h,x,p);if(n){var _=s.createCanvasElement(x,p,"qr-canvas-visible");_.style.display="inline-block",u.appendChild(_);var v=_.getContext("2d");if(!v)throw"Unable to get 2d context from canvas";v.canvas.width=x,v.canvas.height=p,v.drawImage(o,0,0,d,h,b.x,b.y,b.width,b.height)}var N=$s.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(o.width,b.width),S=Math.max(o.height,b.height),C=j+2*N,A=S+2*N,E=s.createCanvasElement(C,A);u.appendChild(E);var k=E.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=C,k.canvas.height=A,k.drawImage(o,0,0,d,h,N,N,j,S);try{s.qrcode.decodeRobustlyAsync(E).then(function(D){a(Z6.createFromQrcodeResult(D))}).catch(i)}catch(D){i("QR code parse error, error = ".concat(D))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return YW.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!k7.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[rt.QR_CODE,rt.AZTEC,rt.CODABAR,rt.CODE_39,rt.CODE_93,rt.CODE_128,rt.DATA_MATRIX,rt.MAXICODE,rt.ITF,rt.EAN_13,rt.EAN_8,rt.PDF_417,rt.RSS_14,rt.RSS_EXPANDED,rt.UPC_A,rt.UPC_E,rt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],a=0,i=t.formatsToSupport;a<i.length;a++){var o=i[a];IW(o)?s.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(pi(t))return!0;if(!pi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(pi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return pi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,s){var a=this,i=s.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i),d=function(u){if(u<$s.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($s.MIN_QR_BOX_SIZE,"px.")},h=function(u){return u>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};d(o.width),d(o.height),o.width=h(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return s},e.prototype.setupUi=function(t,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,s);var a=pi(s.qrbox)?{width:t,height:n}:s.qrbox;this.validateQrboxConfig(a);var i=this.toQrdimensions(t,n,a);i.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=s.isShadedBoxEnabled()&&i.height<=n,d={x:0,y:0,width:t,height:n},h=o?this.getShadedRegionBounds(t,n,i):d,u=this.createCanvasElement(h.width,h.height),x={willReadFrequently:!0},p=u.getContext("2d",x);p.canvas.width=h.width,p.canvas.height=h.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,n,i),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=p,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=du.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,Z6.createFromQrcodeResult(a)),s.possiblyUpdateShaders(!0),!0}).catch(function(a){s.possiblyUpdateShaders(!1);var i=du.codeParseError(a);return n(i,O7.createFrom(i)),!1})},e.prototype.foreverScan=function(t,n,s){var a=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,d=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*o,u=this.qrRegion.height*d,x=this.qrRegion.x*o,p=this.qrRegion.y*d;this.context.drawImage(i,x,p,h,u,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,s)},a.getTimeoutFps(t.fps))};this.scanContext(n,s).then(function(_){!_&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,s).finally(function(){b()})):b()}).catch(function(_){a.logger.logError("Error happend while scanning context",_),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",s="deviceId",a={user:!0,environment:!0},i="exact",o=function(v){if(v in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(v,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var h=Object.keys(t)[0];if(h!==n&&h!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(i in u){if(o(u["".concat(i)]))return{facingMode:{exact:u["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var x=typeof u;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var p=t.deviceId;if(typeof p=="string")return{deviceId:p};if(typeof p=="object"){if(i in p)return{deviceId:{exact:p["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var b=typeof p;throw"Invalid type of 'deviceId' = ".concat(b)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,s,a){if(t<=s&&n<=a){var i=(s-t)/2,o=(a-n)/2;return{x:i,y:o,width:t,height:n}}else{var d=t,h=n;return t>s&&(n=s/t*n,t=s),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(h)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,s,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?$s.BORDER_SHADER_MATCH_COLOR:$s.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,s){var a=t,i=n,o=document.createElement("canvas");return o.style.width="".concat(a,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=pi(s)?"qr-canvas":s,o},e.prototype.getShadedRegionBounds=function(t,n,s){if(s.width>t||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,n,s,a){if(!(n-a.width<1||s-a.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(n-a.width)/2,d=(s-a.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat($s.SHADED_REGION_ELEMENT_ID),n-a.width<11||s-a.height<11)this.hasBorderShaders=!1;else{var h=5,u=40;this.insertShaderBorders(i,u,h,-h,null,0,!0),this.insertShaderBorders(i,u,h,-h,null,0,!1),this.insertShaderBorders(i,u,h,null,-h,0,!0),this.insertShaderBorders(i,u,h,null,-h,0,!1),this.insertShaderBorders(i,h,u+h,-h,null,-h,!0),this.insertShaderBorders(i,h,u+h,null,-h,-h,!0),this.insertShaderBorders(i,h,u+h,-h,null,-h,!1),this.insertShaderBorders(i,h,u+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,n,s,a,i,o,d){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=$s.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(s,"px"),a!==null&&(h.style.top="".concat(a,"px")),i!==null&&(h.style.bottom="".concat(i,"px")),d?h.style.left="".concat(o,"px"):h.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),T4="data:image/svg+xml;base64,",tG=T4+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",rG=T4+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",oC=T4+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",nG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",lC=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),sG=function(){function e(){this.data=lC.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=lC.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),aG=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=J6.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var s=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(a);var i=document.createElement("a");i.innerText=J6.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),iG=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=oC,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return n.onHoverIn()},this.infoIcon.onmouseout=function(s){return n.onHoverOut()},this.infoIcon.onclick=function(s){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=nG,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=oC,this.infoIcon.style.opacity="0.6")},e}(),oG=function(){function e(){var t=this;this.infoDiv=new aG,this.infoIcon=new iG(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),lG=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},cG=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cC=function(){function e(){}return e.hasPermissions=function(){return lG(this,void 0,void 0,function(){var t,n,s,a;return cG(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),n=0,s=t;n<s.length;n++)if(a=s[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}(),qo=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var s=n[t];if(e.isCameraScanType(s))return!0}return!1},e.isCameraScanType=function(t){return t===Vl.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Vl.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ua.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ua.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var s=0,a=t;s<a.length;s++){var i=a[s];if(!Ua.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e}(),qs=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ho=function(){function e(){}return e.createElement=function(t,n){var s=document.createElement(t);return s.id=n,s.classList.add(qs.ALL_ELEMENT_CLASS),t==="button"&&s.setAttribute("type","button"),s},e}(),P7=function(e,t,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function d(x){try{u(s.next(x))}catch(p){o(p)}}function h(x){try{u(s.throw(x))}catch(p){o(p)}}function u(x){x.done?i(x.value):a(x.value).then(d,h)}u((s=s.apply(e,t||[])).next())})},I7=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(u){return function(x){return h([u,x])}}function h(u){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(s=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(x){u=[6,x],a=0}finally{s=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dC=function(){function e(t,n,s){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=s}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return P7(this,void 0,void 0,function(){var t,n;return I7(this,function(s){switch(s.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=s.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Kt.torchOffButton():Kt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var s=t?Kt.torchOnFailedMessage():Kt.torchOffFailedMessage();n&&(s+="; Error = "+n),this.onTorchActionFailureCallback(s)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),dG=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ho.createElement("button",qs.TORCH_BUTTON_ID),this.torchController=new dC(t,this,n)}return e.prototype.render=function(t,n){var s=this;this.torchButton.innerText=Kt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(i){return P7(s,void 0,void 0,function(){return I7(this,function(o){switch(o.label){case 0:return[4,a.torchController.flipState()];case 1:return o.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(qs.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(qs.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(qs.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(qs.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new dC(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Kt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,s,a){var i=new e(n,a);return i.render(t,s),i},e}(),uG=function(){function e(t,n,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=ho.createElement("button",qs.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=ho.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var h=d.target;if(!(h.files&&h.files.length===0)){var u=h.files,x=u[0],p=x.name;i.setImageNameToButton(p),s(x)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(d){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var h=d.dataTransfer;if(h){var u=h.files;if(!u||u.length===0)return;for(var x=!1,p=0;p<u.length;++p){var b=u.item(p);if(b){var _=/image.*/;if(b.type.match(_)){x=!0;var v=b.name;i.setImageNameToButton(v),s(b),o.innerText=Kt.dragAndDropMessage();break}}}x||(o.innerText=Kt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Kt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var s=t.substring(0,8),a=t.length,i=t.substring(a-8,a);t="".concat(s,"....").concat(i)}var o=Kt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Kt.fileSelectionChooseImage()+" - "+Kt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,s){var a=new e(t,n,s);return a},e}(),hG=function(){function e(t){this.selectElement=ho.createElement("select",qs.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var s=this.cameras.length;if(s===0)throw new Error("No cameras found");if(s===1)n.style.display="none";else{var a=Kt.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,d=this.cameras;o<d.length;o++){var h=d[o],u=h.id,x=h.label==null?u:h.label;(!x||x==="")&&(x=[Kt.anonymousCameraPrefix(),i++].join(" "));var p=document.createElement("option");p.value=u,p.innerText=x,this.options.push(p),this.selectElement.appendChild(p)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,s=this.options;n<s.length;n++){var a=s[n];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var s=new e(n);return s.render(t),s},e}(),fG=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ho.createElement("input",qs.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=Kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,s,a){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var s=new e;return s.render(t,n),s},e}(),Fs;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Fs||(Fs={}));function mG(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function xG(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var D7=function(){function e(t,n,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=s===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new qo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new E7(this.verbose),this.persistedDataManager=new sG,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,o){if(t)t(i,o);else{if(s.lastMatchFound===i)return;s.lastMatchFound=i,s.setHeaderMessage(Kt.lastMatch(i),Fs.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,o){n&&n(i,o)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new iC(this.getScanRegionId(),xG(this.config,this.verbose))},e.prototype.pause=function(t){(pi(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var s=document.getElementById(t.elementId);s&&(s.innerHTML="",t.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,a){if(!t.html5Qrcode){s();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){s();return}t.html5Qrcode.clear(),n(),s()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),a(i)}):(t.html5Qrcode.clear(),n(),s())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ua.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ua.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ua.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ua.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ua.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ua.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ua.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),s=this.getScanRegionId();n.id=s,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),qo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),i=this.getDashboardId();a.id=i,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var s=new oG;s.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,s){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Kt.cameraPermissionRequesting());var i=function(){s||a.createPermissionButton(t,n)};iC.getCameras().then(function(o){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),a.renderCameraSelection(o)):(a.setHeaderMessage(Kt.noCameraFound(),Fs.STATUS_WARNING),i())}).catch(function(o){a.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:i(),a.setHeaderMessage(o,Fs.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var s=this,a=ho.createElement("button",this.getCameraPermissionButtonId());a.innerText=Kt.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,s.createCameraListUi(t,n,a)}),n.appendChild(a)},e.prototype.createPermissionsUi=function(t,n){var s=this;if(qo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){cC.hasPermissions().then(function(a){a?s.createCameraListUi(t,n):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,n))}).catch(function(a){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=qo.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(s);var a=document.createElement("div");a.style.textAlign="center",s.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,a),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=qo.isFileScanType(this.currentScanType),s=this,a=function(i){if(!s.html5Qrcode)throw"html5Qrcode not defined";qo.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(Kt.loadingImage()),s.html5Qrcode.scanFileV2(i,!0).then(function(o){s.resetHeaderMessage(),s.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){s.setHeaderMessage(o,Fs.STATUS_WARNING),s.qrCodeErrorCallback(o,O7.createFrom(o))}))};this.fileSelectionUi=uG.create(t,n,a)},e.prototype.renderCameraSelection=function(t){var n=this,s=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var i=fG.create(a,!1),o=function(N){var j=N.zoomFeature();if(j.isSupported()){i.setOnCameraZoomValueChangeCallback(function(C){j.apply(C)});var S=1;n.config.defaultZoomValueIfSupported&&(S=n.config.defaultZoomValueIfSupported),S=DW(S,j.min(),j.max()),i.setValues(j.min(),j.max(),S,j.step()),i.show()}},d=hG.create(a,t),h=document.createElement("span"),u=ho.createElement("button",qs.CAMERA_START_BUTTON_ID);u.innerText=Kt.scanButtonStartScanningText(),h.appendChild(u);var x=ho.createElement("button",qs.CAMERA_STOP_BUTTON_ID);x.innerText=Kt.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,h.appendChild(x);var p,b=function(N){if(!N.torchFeature().isSupported()){p&&p.hide();return}p?p.updateTorchCapability(N.torchFeature()):p=dG.create(h,N.torchFeature(),{display:"none",marginLeft:"5px"},function(j){s.setHeaderMessage(j,Fs.STATUS_WARNING)}),p.show()};a.appendChild(h);var _=function(N){N||(u.style.display="none"),u.innerText=Kt.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,N&&(u.style.display="inline-block")};if(u.addEventListener("click",function(N){u.innerText=Kt.scanButtonScanningStarting(),d.disable(),u.disabled=!0,u.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var j=d.getValue();s.persistedDataManager.setLastUsedCameraId(j),s.html5Qrcode.start(j,mG(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(S){x.disabled=!1,x.style.display="inline-block",_(!1);var C=s.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&b(C),n.config.showZoomSliderIfSupported===!0&&o(C)}).catch(function(S){s.showHideScanTypeSwapLink(!0),d.enable(),_(!0),s.setHeaderMessage(S,Fs.STATUS_WARNING)})}),d.hasSingleItem()&&u.click(),x.addEventListener("click",function(N){if(!s.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,s.html5Qrcode.stop().then(function(j){n.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),d.enable(),u.disabled=!1,x.style.display="none",u.style.display="inline-block",p&&(p.reset(),p.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(j){x.disabled=!1,s.setHeaderMessage(j,Fs.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var v=s.persistedDataManager.getLastUsedCameraId();d.hasValue(v)?(d.setValue(v),u.click()):s.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Kt.textIfCameraScanSelected(),s=Kt.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=ho.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=qo.isCameraScanType(this.currentScanType)?n:s,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,qo.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=s,t.currentScanType=Vl.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=Vl.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(o),a.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){cC.hasPermissions().then(function(s){if(s){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(s){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Fs.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=t,s.style.display="block",n){case Fs.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case Fs.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;case Fs.STATUS_DEFAULT:default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=tG,this.cameraScanImage.alt=Kt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(s){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=rG,this.fileScanImage.alt=Kt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return qs.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return qs.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Cj=({onClose:e,onScanSuccess:t,embedded:n=!1})=>{var C,A,E,k,D,R;const[s,a]=T.useState(!1),[i,o]=T.useState(null),[d,h]=T.useState(!1),[u,x]=T.useState(null),p=T.useRef(null);T.useEffect(()=>()=>{u&&u.clear()},[u]);const b=()=>{a(!0),o(null);const F=new D7("qr-scanner",{fps:10,qrbox:{width:300,height:300},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0},!1);F.render(async M=>{try{h(!0);const z=JSON.parse(M);if(o(z),z.order_id&&z.production_progress)try{const I=await he.get(`/sales/orders/${z.order_id}`);I.data.order&&o(L=>({...L,...I.data.order,qrData:z}))}catch(I){console.warn("Could not fetch order details:",I)}a(!1),F.clear(),ye.success("QR Code scanned successfully!")}catch(z){console.error("Error parsing QR code:",z),ye.error("Invalid QR code format")}finally{h(!1)}},M=>{M.includes("NotFoundException")}),x(F)},_=()=>{a(!1),u&&(u.clear(),x(null))},v=()=>{o(null),a(!1),u&&(u.clear(),x(null))},N=()=>{t&&i&&(t(i),e())},j=F=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",on_hold:"bg-orange-100 text-orange-800",paused:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[F]||"bg-gray-100 text-gray-800";return r.jsx("div",{className:`${n?"":"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"}`,children:r.jsxs("div",{className:`${n?"w-full":"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden"}`,children:[!n&&r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(nd,{className:"h-6 w-6 mr-2 text-blue-600"}),"QR Code Scanner"]}),r.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-100",children:r.jsx(sd,{className:"h-6 w-6 text-gray-400"})})]}),r.jsxs("div",{className:`${n?"p-0":"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"}`,children:[!s&&!i&&r.jsxs("div",{className:`text-center ${n?"py-8":"py-12"}`,children:[r.jsx(d7,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Scan Production QR Code"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Scan QR codes from production orders, challans, or materials to track progress and verify details."}),r.jsxs("button",{onClick:b,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[r.jsx(nd,{className:"h-5 w-5 mr-2"}),"Start Scanning"]})]}),s&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Scanning..."}),r.jsx("p",{className:"text-gray-600",children:"Position the QR code within the camera view"})]}),r.jsx("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden",children:r.jsx("div",{id:"qr-scanner",className:"w-full",ref:p})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{onClick:_,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx(sd,{className:"h-4 w-4 mr-2"}),"Stop Scanning"]})})]}),d&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(is,{className:"mx-auto h-8 w-8 text-blue-600 animate-spin mb-2"}),r.jsx("p",{className:"text-gray-600",children:"Processing scanned data..."})]}),i&&!d&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Ut,{className:"mx-auto h-12 w-12 text-green-600 mb-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"QR Code Scanned Successfully!"})]}),i.order_id&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Wt,{className:"h-5 w-5 mr-2"}),"Order Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Order Number"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.order_id})]}),i.customer&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer"}),r.jsx("p",{className:"text-gray-900",children:i.customer})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ml-2 ${j(i.status)}`,children:(C=i.status)==null?void 0:C.replace("_"," ").toUpperCase()})]}),i.delivery_date&&r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center",children:[r.jsx(Oa,{className:"h-4 w-4 mr-1"}),"Delivery Date"]}),r.jsx("p",{className:"text-gray-900",children:new Date(i.delivery_date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"space-y-3",children:[i.total_quantity&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Quantity"}),r.jsx("p",{className:"text-gray-900",children:i.total_quantity})]}),((A=i.qrData)==null?void 0:A.current_stage)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Stage"}),r.jsx("p",{className:"text-gray-900",children:i.qrData.current_stage})]}),i.last_updated&&r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium text-gray-600 flex items-center",children:[r.jsx(Cn,{className:"h-4 w-4 mr-1"}),"Last Updated"]}),r.jsx("p",{className:"text-gray-900",children:new Date(i.last_updated).toLocaleString()})]})]})]})]}),((E=i.qrData)==null?void 0:E.production_progress)&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Cr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Production Progress"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.qrData.production_progress.produced_quantity||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Produced"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.qrData.production_progress.approved_quantity||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.qrData.production_progress.rejected_quantity||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[i.qrData.production_progress.completed_stages||0," / ",i.qrData.production_progress.total_stages||0," stages"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${i.qrData.production_progress.total_stages?(i.qrData.production_progress.completed_stages||0)/i.qrData.production_progress.total_stages*100:0}%`}})})]}),i.qrData.production_progress.stages&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:"Production Stages"}),r.jsx("div",{className:"space-y-2",children:i.qrData.production_progress.stages.map((F,M)=>{var z;return r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mr-2 ${j(F.status)}`,children:(z=F.status)==null?void 0:z.replace("_"," ")}),r.jsx("span",{className:"text-sm font-medium",children:F.name})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[F.quantity_processed||0," processed"]})]},M)})})]})]}),i.challan_number&&r.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Wt,{className:"h-5 w-5 mr-2 text-green-600"}),"Challan Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Challan Number"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.challan_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Type"}),r.jsx("p",{className:"text-gray-900",children:(k=i.type)==null?void 0:k.toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Quantity"}),r.jsx("p",{className:"text-gray-900",children:i.total_quantity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),r.jsxs("p",{className:"text-gray-900",children:["₹",(D=i.total_amount)==null?void 0:D.toFixed(2)]})]})]})]}),((R=i.qrData)==null?void 0:R.materials)&&i.qrData.materials.length>0&&r.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Materials Required"}),r.jsx("div",{className:"space-y-2",children:i.qrData.materials.map((F,M)=>r.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[r.jsx("span",{className:"font-medium",children:F.name}),r.jsxs("span",{className:"text-gray-600",children:[F.quantity," ",F.unit]})]},M))})]}),!n&&r.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Scan Another"]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Close"}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Use This Data"})]})]}),n&&i&&r.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:r.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx(is,{className:"h-4 w-4 mr-2"}),"Scan Another Code"]})})]})]})]})})},pG=({open:e,mode:t,initialValues:n,linkedSalesOrder:s,vendorOptions:a=[],customerOptions:i=[],productOptions:o=[],onClose:d,onSubmit:h})=>{const[u,x]=T.useState(0),[p,b]=T.useState({}),[_,v]=T.useState({project_name:"",customer_id:"",client_name:"",vendor_id:"",po_date:new Date().toISOString().split("T")[0],expected_delivery_date:"",priority:"medium",status:"draft",items:[{product_id:"",description:"",hsn:"",uom:"",quantity:"",rate:"",total:0}],payment_terms:"",delivery_address:"",special_instructions:"",terms_conditions:"",internal_notes:"",discount_percentage:0,tax_percentage:12,freight:0});T.useEffect(()=>{var Y,X,V;e&&(t==="create"&&!n?(v({project_name:((Y=s==null?void 0:s.customer)==null?void 0:Y.name)||"",customer_id:(s==null?void 0:s.customer_id)||"",client_name:((X=s==null?void 0:s.customer)==null?void 0:X.name)||"",vendor_id:"",po_date:new Date().toISOString().split("T")[0],expected_delivery_date:(s==null?void 0:s.delivery_date)||"",priority:"medium",status:"draft",items:[{product_id:"",description:"",hsn:"",uom:"",quantity:"",rate:"",total:0}],payment_terms:"",delivery_address:"",special_instructions:"",terms_conditions:"",internal_notes:"",discount_percentage:0,tax_percentage:12,freight:0}),x(0),b({})):n&&(v({project_name:n.project_name||"",customer_id:n.customer_id||"",client_name:n.client_name||"",vendor_id:n.vendor_id||"",po_date:n.po_date?new Date(n.po_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expected_delivery_date:n.expected_delivery_date?new Date(n.expected_delivery_date).toISOString().split("T")[0]:"",priority:n.priority||"medium",status:n.status||"draft",items:((V=n.items)==null?void 0:V.length)>0?n.items:[{product_id:"",description:"",hsn:"",uom:"",quantity:"",rate:"",total:0}],payment_terms:n.payment_terms||"",delivery_address:n.delivery_address||"",special_instructions:n.special_instructions||"",terms_conditions:n.terms_conditions||"",internal_notes:n.internal_notes||"",discount_percentage:n.discount_percentage||0,tax_percentage:n.tax_percentage||12,freight:n.freight||0}),x(0)))},[e,t,n,s]);const N=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],j=[{value:"draft",label:"Draft"},{value:"pending_approval",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"sent",label:"Sent to Vendor"}],S=["Meters","Kg","Yards","Pcs","Gross","Box","Cones","Rolls","Bales"],C=Y=>{const X=parseFloat(Y.quantity)||0,V=parseFloat(Y.rate)||0;return X*V},A=_.items.reduce((Y,X)=>Y+C(X),0),E=A*(parseFloat(_.discount_percentage)||0)/100,k=A-E,D=k*(parseFloat(_.tax_percentage)||0)/100,R=parseFloat(_.freight)||0,F=k+D+R,M=(Y,X)=>{v(V=>({...V,[Y]:X}))},z=(Y,X,V)=>{const G=[..._.items];G[Y][X]=V,(X==="quantity"||X==="rate")&&(G[Y].total=C(G[Y])),v(ne=>({...ne,items:G}))},I=()=>{v(Y=>({...Y,items:[...Y.items,{product_id:"",description:"",hsn:"",uom:"",quantity:"",rate:"",total:0}]}))},L=Y=>{_.items.length>1&&v(X=>({...X,items:X.items.filter((V,G)=>G!==Y)}))},$=async Y=>{if(Y.preventDefault(),!_.vendor_id)return;const X={..._,vendor_id:parseInt(_.vendor_id),customer_id:_.customer_id?parseInt(_.customer_id):null,items:_.items.filter(V=>V.product_id||V.description),final_amount:F};s&&(X.linked_sales_order_id=s.id),await h(X,d)},W=[{title:"Basic Information",description:"Order details and vendor information"},{title:"Items",description:"Add items and products"},{title:"Financial Details",description:"Payment terms and additional details"}],U=t==="view";return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 overflow-y-auto py-8",children:r.jsxs("div",{className:"w-full max-w-6xl bg-white rounded-lg shadow-xl my-8",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t==="create"?"Create Purchase Order":t==="edit"?"Edit Purchase Order":"View Purchase Order"}),s&&r.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Creating PO from Sales Order: ",s.order_number]}),(n==null?void 0:n.po_number)&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["PO Number: ",n.po_number]})]}),r.jsx("button",{onClick:d,className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:r.jsx(sd,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"px-6 py-4 max-h-[calc(100vh-16rem)] overflow-y-auto",children:[!U&&r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex items-center justify-between",children:W.map((Y,X)=>r.jsxs(K.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${X<=u?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:X+1}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:`text-sm font-medium ${X<=u?"text-blue-600":"text-gray-500"}`,children:Y.title}),r.jsx("div",{className:"text-xs text-gray-400",children:Y.description})]})]}),X<W.length-1&&r.jsx("div",{className:`w-12 h-0.5 mx-2 ${X<u?"bg-blue-600":"bg-gray-200"}`})]},X))})}),r.jsxs("form",{onSubmit:$,className:"space-y-6",children:[(u===0||U)&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Order Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),r.jsx("input",{type:"text",value:_.client_name,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100",disabled:!0})]}):r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Customer / Client ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:_.customer_id,onChange:Y=>{M("customer_id",Y.target.value);const X=i.find(V=>V.value===parseInt(Y.target.value));X&&M("client_name",X.label)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:U,children:[r.jsx("option",{value:"",children:"Select customer"}),i.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),r.jsx("input",{type:"text",value:_.project_name,onChange:Y=>M("project_name",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:U||!!s,placeholder:"Enter project name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:_.vendor_id,onChange:Y=>M("vendor_id",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:U,children:[r.jsx("option",{value:"",children:"Select vendor"}),a.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["PO Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:_.po_date,onChange:Y=>M("po_date",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:U})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Delivery ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:_.expected_delivery_date,onChange:Y=>M("expected_delivery_date",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsx("select",{value:_.priority,onChange:Y=>M("priority",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:U,children:N.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("select",{value:_.status,onChange:Y=>M("status",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:U,children:j.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]})]}),(u===1||U)&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items"}),r.jsx("div",{className:"space-y-4",children:_.items.map((Y,X)=>{var V;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Item ",X+1," of ",_.items.length]}),_.items.length>1&&!U&&r.jsx("button",{type:"button",onClick:()=>L(X),className:"text-red-600 hover:text-red-800",children:r.jsx(Zy,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product"}),r.jsx("input",{type:"text",value:p[X]||(Y.product_id?(V=o.find(G=>G.value===Y.product_id))==null?void 0:V.label:""),onChange:G=>{b(ae=>({...ae,[X]:G.target.value}));const ne=o.find(ae=>ae.label.toLowerCase()===G.target.value.toLowerCase());ne?z(X,"product_id",ne.value):z(X,"product_id","")},list:`products-list-${X}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:U,placeholder:"Type to search products..."}),r.jsx("datalist",{id:`products-list-${X}`,children:o.map(G=>r.jsx("option",{value:G.label},G.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:Y.description,onChange:G=>z(X,"description",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Item description",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HSN"}),r.jsx("input",{type:"text",value:Y.hsn,onChange:G=>z(X,"hsn",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"HSN code",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UOM"}),r.jsxs("select",{value:Y.uom,onChange:G=>z(X,"uom",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:U,children:[r.jsx("option",{value:"",children:"Select UOM"}),S.map(G=>r.jsx("option",{value:G,children:G},G))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",value:Y.quantity,onChange:G=>z(X,"quantity",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Qty",step:"0.01",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate (₹)"}),r.jsx("input",{type:"number",value:Y.rate,onChange:G=>z(X,"rate",G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rate",step:"0.01",disabled:U})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (₹)"}),r.jsx("input",{type:"number",value:Y.total.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]})]})]},X)})}),!U&&r.jsxs("button",{type:"button",onClick:I,className:"mt-4 flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(ln,{className:"w-4 h-4"}),"Add Item"]}),r.jsxs("div",{className:"mt-6 bg-gray-100 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Cost Summary"}),r.jsx("div",{className:"space-y-2 text-sm",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{className:"font-medium",children:["₹",A.toFixed(2)]})]})})]})]}),(u===2||U)&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms"}),r.jsx("input",{type:"text",value:_.payment_terms,onChange:Y=>M("payment_terms",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 30 days credit",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Address"}),r.jsx("textarea",{value:_.delivery_address,onChange:Y=>M("delivery_address",Y.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Delivery address",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),r.jsx("textarea",{value:_.special_instructions,onChange:Y=>M("special_instructions",Y.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Special instructions",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Terms & Conditions"}),r.jsx("textarea",{value:_.terms_conditions,onChange:Y=>M("terms_conditions",Y.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Terms and conditions",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Notes"}),r.jsx("textarea",{value:_.internal_notes,onChange:Y=>M("internal_notes",Y.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Internal notes",disabled:U})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount %"}),r.jsx("input",{type:"number",value:_.discount_percentage,onChange:Y=>M("discount_percentage",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0",max:"100",step:"0.01",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax %"}),r.jsx("input",{type:"number",value:_.tax_percentage,onChange:Y=>M("tax_percentage",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12",min:"0",max:"100",step:"0.01",disabled:U})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Freight (₹)"}),r.jsx("input",{type:"number",value:_.freight,onChange:Y=>M("freight",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",step:"0.01",disabled:U})]})]})]}),r.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Final Cost Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{className:"font-medium",children:["₹",A.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsxs("span",{children:["Discount (",_.discount_percentage,"%):"]}),r.jsxs("span",{className:"font-medium",children:["-₹",E.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Tax (",_.tax_percentage,"%):"]}),r.jsxs("span",{className:"font-medium",children:["₹",D.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Freight:"}),r.jsxs("span",{className:"font-medium",children:["₹",R.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsxs("span",{className:"text-blue-600",children:["₹",F.toFixed(2)]})]})]})]})]})]})]}),r.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:U?r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-slate-600 border border-slate-200 rounded shadow-sm hover:bg-slate-50",children:"Close"})}):r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{type:"button",onClick:()=>x(Math.max(0,u-1)),disabled:u===0,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx($h,{className:"w-4 h-4"}),"Back"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-slate-600 border border-slate-200 rounded shadow-sm hover:bg-slate-50",children:"Cancel"}),u===W.length-1?r.jsxs("button",{type:"button",onClick:$,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Ky,{className:"w-4 h-4"}),t==="create"?"Create":"Update"," Purchase Order"]}):r.jsxs("button",{type:"button",onClick:()=>x(Math.min(W.length-1,u+1)),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:["Next",r.jsx(Xy,{className:"w-4 h-4"})]})]})]})})]})}):null},uC=()=>{const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState("all"),[i,o]=T.useState({totalPOs:0,openPOs:0,vendorCount:0,pendingOrders:0}),[d,h]=T.useState([]),[u,x]=T.useState([]),[p,b]=T.useState([]),[_,v]=T.useState(!0),[N,j]=T.useState(!1),[S,C]=T.useState(null),[A,E]=T.useState(!1),[k,D]=T.useState([]),[R,F]=T.useState(!1);T.useEffect(()=>{M()},[]);const M=async()=>{var W,U;if(!R)try{F(!0),v(!0);const Y=await he.get("/procurement/dashboard/stats");o(ie=>({...ie,...Y.data}));const X=await he.get("/procurement/pos?limit=10");h(X.data.purchaseOrders||[]);const V=await he.get("/sales/orders?limit=50"),G=(V.data.orders||[]).filter(ie=>ie.ready_for_procurement===!0&&(ie.status==="draft"||ie.status==="confirmed"));x(G);const ne=await he.get("/procurement/pos?status=draft,pending_approval,sent&limit=20");b(ne.data.purchaseOrders||[]);const ae=(((W=V.data.orders)==null?void 0:W.length)||0)+(((U=ne.data.purchaseOrders)==null?void 0:U.length)||0);o(ie=>({...ie,pendingOrders:ae}));const le=await he.get("/procurement/vendors?limit=10");D(le.data.vendors||[])}catch(Y){console.error("Error fetching dashboard data:",Y),ye.error("Failed to load dashboard data"),o({totalPOs:0,openPOs:0,vendorCount:0,pendingOrders:0}),h([]),x([]),D([])}finally{v(!1),F(!1)}},z=W=>{C(W),E(!0),ye.success("Order details loaded from QR code")},I=W=>{e(`/procurement/purchase-orders/create?from_sales_order=${W.id}`)},L=async W=>{var U,Y,X,V;if(window.confirm(`Confirm order ${W.order_number}?

This will change the order status to 'Confirmed' and notify the Sales department.`))try{const G=await he.put(`/procurement/sales-orders/${W.id}/accept`);ye.success("Order confirmed successfully. Sales department has been notified."),M()}catch(G){console.error("Error confirming order:",G);const ne=((Y=(U=G.response)==null?void 0:U.data)==null?void 0:Y.message)||"Failed to confirm order",ae=(V=(X=G.response)==null?void 0:X.data)==null?void 0:V.currentStatus;ae?ye.error(`${ne}. Current status: ${ae}`):ye.error(ne)}},$=({title:W,value:U,icon:Y,color:X="primary",subtitle:V})=>r.jsx("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col justify-between h-full",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:W}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:U}),V&&r.jsx("div",{className:"text-sm text-gray-400",children:V})]}),r.jsx("div",{className:`rounded-full p-2 bg-${X}-100 flex items-center justify-center`,children:Y})]})});return s==="all"||d.filter(W=>W.status===s),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Procurement Dashboard"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"btn btn-outline flex items-center gap-2",onClick:()=>e("/procurement/vendor-management"),children:[r.jsx(Ka,{className:"w-5 h-5"})," Vendor Management"]}),r.jsxs("button",{className:"btn btn-primary flex items-center gap-2",onClick:()=>e("/procurement/purchase-orders"),children:[r.jsx(ln,{className:"w-5 h-5"})," Create Purchase Order"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx($,{title:"Total Purchase Orders",value:i.totalPOs,icon:r.jsx(nW,{className:"w-8 h-8 text-blue-500"}),color:"blue"}),r.jsx($,{title:"Pending Approval",value:i.pendingPOs,icon:r.jsx(Oa,{className:"w-8 h-8 text-yellow-500"}),color:"yellow"}),r.jsx($,{title:"Completed Orders",value:i.completedPOs,icon:r.jsx(Ut,{className:"w-8 h-8 text-green-500"}),color:"green"}),r.jsx($,{title:"Total Spend",value:`₹${(i.totalSpend/1e5).toFixed(1)}L`,icon:r.jsx(Fi,{className:"w-8 h-8 text-cyan-500"}),color:"cyan",subtitle:"This month"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsxs("select",{value:s,onChange:W=>a(W.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Orders"}),r.jsx("option",{value:"pending_approval",children:"Pending Approval"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"sent_to_vendor",children:"Sent to Vendor"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsx("button",{onClick:()=>e("/procurement/reports"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Reports"}),r.jsxs("button",{onClick:()=>e("/procurement/reports"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(On,{className:"w-4 h-4"})," Export Data"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("div",{className:"flex",children:[r.jsxs("button",{className:`px-6 py-3 text-sm font-medium border-b-2 ${t===0?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>n(0),children:["Incoming Orders (",u.length+p.length,")"]}),r.jsx("button",{className:`px-6 py-3 text-sm font-medium border-b-2 ${t===1?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>n(1),children:"Purchase Orders"}),r.jsx("button",{className:`px-6 py-3 text-sm font-medium border-b-2 ${t===2?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>n(2),children:"Vendor Management"}),r.jsx("button",{className:`px-6 py-3 text-sm font-medium border-b-2 ${t===3?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>n(3),children:"Goods Receipt"}),r.jsx("button",{className:`px-6 py-3 text-sm font-medium border-b-2 ${t===4?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>n(4),children:"Vendor Performance"})]})}),t===0&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Incoming Orders (Sales Orders & Purchase Orders)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(nd,{className:"w-4 h-4"})," Scan QR Code"]}),r.jsxs("button",{onClick:M,disabled:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[_?r.jsx(is,{className:"w-4 h-4 animate-spin"}):r.jsx(is,{className:"w-4 h-4"}),_?"Loading...":"Refresh"]})]})]}),u.length===0&&p.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No incoming orders"}),r.jsx("p",{className:"text-gray-500",children:"Sales orders and purchase orders will appear here"})]}):r.jsxs(r.Fragment,{children:[u.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Za,{className:"w-5 h-5"}),"Sales Orders Requiring Material Procurement (",u.length,")"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material Requirements"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(W=>{var U,Y,X,V,G,ne;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.order_number}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(W.created_at).toLocaleDateString()})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:typeof W.customer=="object"?(U=W.customer)==null?void 0:U.name:W.customer}),r.jsx("div",{className:"text-sm text-gray-500",children:typeof W.customer=="object"?(Y=W.customer)==null?void 0:Y.phone:W.customer_phone})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:W.product_name}),r.jsx("div",{className:"text-sm text-gray-500",children:(X=W.garment_specs)==null?void 0:X.fabric_type})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W.quantity}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[((V=W.garment_specs)==null?void 0:V.fabric_type)&&r.jsxs("div",{children:["Fabric: ",W.garment_specs.fabric_type]}),((G=W.garment_specs)==null?void 0:G.printing_required)&&r.jsx("div",{children:"Printing: Yes"}),((ne=W.garment_specs)==null?void 0:ne.embroidery_required)&&r.jsx("div",{children:"Embroidery: Yes"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W.status==="confirmed"?"bg-green-100 text-green-800":W.status==="draft"?"bg-yellow-100 text-yellow-800":W.status==="accepted_by_procurement"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:W.status==="draft"?"⏳ PENDING APPROVAL":W.status==="confirmed"?"✅ APPROVED":W.status.replace(/_/g," ").toUpperCase()})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{C(W),E(!0)},className:"text-blue-600 hover:text-blue-900",title:"View QR Code",children:r.jsx(nd,{className:"w-4 h-4"})}),W.status==="draft"&&r.jsxs("button",{onClick:()=>L(W),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 flex items-center gap-1",title:"Accept Order Request",children:[r.jsx(Ut,{className:"w-3 h-3"}),"Accept"]}),W.status==="confirmed"&&r.jsxs("button",{onClick:()=>I(W),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 flex items-center gap-1",title:"Create Purchase Order from this Sales Order",children:[r.jsx(ln,{className:"w-3 h-3"}),"Create PO"]})]})})]},W.id)})})]})})]}),p.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ji,{className:"w-5 h-5"}),"Incoming Purchase Orders (",p.length,")"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expected Delivery"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(W=>{var U,Y;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.po_number}),W.linked_sales_order_id&&r.jsxs("div",{className:"text-xs text-blue-600",children:["Linked to SO-",W.linked_sales_order_id]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:((U=W.vendor)==null?void 0:U.name)||"N/A"}),r.jsx("div",{className:"text-xs text-gray-500",children:((Y=W.vendor)==null?void 0:Y.vendor_code)||""})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W.po_date?new Date(W.po_date).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W.expected_delivery_date?new Date(W.expected_delivery_date).toLocaleDateString():"N/A"}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",W.total_amount?parseFloat(W.total_amount).toLocaleString():"0"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W.status==="draft"?"bg-gray-100 text-gray-800":W.status==="pending_approval"?"bg-yellow-100 text-yellow-800":W.status==="sent"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:(W.status||"").replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>e(`/procurement/purchase-orders/${W.id}`),className:"text-blue-600 hover:text-blue-900",title:"View PO",children:r.jsx(Kr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>e(`/procurement/purchase-orders/${W.id}`),className:"text-indigo-600 hover:text-indigo-900",title:"Edit PO",children:r.jsx(Bi,{className:"w-4 h-4"})})]})})]},W.id)})})]})})]})]})]}),t===1&&r.jsx("div",{className:"p-6",children:r.jsx(pG,{vendors:k,projects:u.map(W=>({id:W.id,name:W.project_title||W.order_number})),clients:u.map(W=>({id:W.customer_id||W.id,name:W.customer}))})}),t===2&&r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Vendor Management"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Manage your vendors, view performance metrics, and maintain supplier relationships."}),r.jsx("button",{onClick:()=>e("/procurement/vendors"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Vendor Management"})]})}),t===3&&r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Goods Receipt"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Receive and inspect incoming materials from vendors."}),r.jsx("button",{onClick:()=>e("/procurement/goods-receipt"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Goods Receipt"})]})}),t===4&&r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(tg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Vendor Performance"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Analyze vendor performance metrics and delivery statistics."}),r.jsx("button",{onClick:()=>e("/procurement/vendor-performance"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Vendor Performance"})]})})]}),A&&S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order QR Code"}),r.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Mi,{data:JSON.stringify({orderId:S.id,orderNumber:S.order_number,customer:S.customer,status:S.status,department:"procurement",timestamp:new Date().toISOString(),materials:S.garment_specs,quantity:S.quantity}),size:200}),r.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Order: ",S.order_number]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Scan this QR code to access procurement details"})]})]})}),N&&r.jsx(Cj,{onScanSuccess:z,onClose:()=>j(!1)})]})},hC=()=>{const e=_t(),t={totalChallans:342,pendingApproval:15,approved:298,rejected:8},n=[{id:1,challanNumber:"CHN-20241201-0001",type:"inward",vendor:"ABC Textiles",amount:25e3,status:"approved",createdDate:"2024-12-01"},{id:2,challanNumber:"CHN-20241201-0002",type:"outward",customer:"XYZ School",amount:18e3,status:"pending",createdDate:"2024-12-01"},{id:3,challanNumber:"CHN-20241201-0003",type:"internal_transfer",department:"Manufacturing",amount:12e3,status:"approved",createdDate:"2024-12-01"}],s=o=>({draft:"bg-gray-100 text-gray-700",pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700"})[o]||"bg-gray-100 text-gray-700",a=o=>({inward:"bg-green-100 text-green-700",outward:"bg-blue-100 text-blue-700",internal_transfer:"bg-cyan-100 text-cyan-700",sample_outward:"bg-purple-100 text-purple-700",sample_inward:"bg-purple-100 text-purple-700"})[o]||"bg-gray-100 text-gray-700",i=({title:o,value:d,icon:h,color:u="primary"})=>r.jsxs("div",{className:"p-6 bg-white rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500 mb-1 tracking-wide",children:o}),r.jsx("div",{className:"text-lg font-bold text-gray-900",children:d})]}),r.jsx("div",{className:`rounded-xl p-3 flex items-center justify-center w-14 h-14 ${u==="primary"?"bg-blue-100":u==="warning"?"bg-yellow-100":u==="success"?"bg-green-100":u==="error"?"bg-red-100":"bg-blue-100"}`,children:h})]});return r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Challan Management"}),r.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",onClick:()=>e("/challans/create"),children:[r.jsx(Br,{}),"Create Challan"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(i,{title:"Total Challans",value:t.totalChallans,icon:r.jsx(uq,{}),color:"primary"}),r.jsx(i,{title:"Pending Approval",value:t.pendingApproval,icon:r.jsx(as,{}),color:"warning"}),r.jsx(i,{title:"Approved",value:t.approved,icon:r.jsx(or,{}),color:"success"}),r.jsx(i,{title:"Rejected",value:t.rejected,icon:r.jsx(s7,{}),color:"error"})]}),r.jsxs("div",{className:"p-6 bg-white rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Search"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[r.jsx("div",{className:"md:col-span-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full border border-gray-300 rounded px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by challan number, vendor, customer..."}),r.jsx(Ps,{className:"absolute left-3 top-3 text-gray-400"})]})}),r.jsx("div",{className:"md:col-span-3",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",onClick:()=>e("/challans/register"),children:"Advanced Search"})}),r.jsx("div",{className:"md:col-span-3",children:r.jsxs("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[r.jsx(ri,{}),"Export Report"]})})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.jsxs("div",{className:"p-6 bg-white rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)]",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Challans"}),r.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",onClick:()=>e("/challans/register"),children:"View All"})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan Number"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Party"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(o=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.challanNumber})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a(o.type)}`,children:o.type.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:o.vendor||o.customer||o.department}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:["₹",o.amount.toLocaleString()]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s(o.status)}`,children:o.status.toUpperCase()})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:o.createdDate}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-2",children:r.jsx(cs,{})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:r.jsx(ri,{})})]})]},o.id))})]})})]})})]})},fC=()=>{var ae,le,ie,fe;const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState({totalItems:0,lowStockItems:0,outOfStock:0,totalValue:0}),[i,o]=T.useState(!0),[d,h]=T.useState([]),[u,x]=T.useState([]),[p,b]=T.useState([]),[_,v]=T.useState(""),[N,j]=T.useState([]),[S,C]=T.useState(!1),[A,E]=T.useState(null),[k,D]=T.useState(!1),[R,F]=T.useState(!1);T.useEffect(()=>{z(),M()},[]);const M=async()=>{try{const xe=await he.get("/inventory/orders/incoming?status=ready_for_inventory");j(xe.data.orders||[])}catch(xe){console.error("Error fetching incoming orders:",xe)}},z=async()=>{try{o(!0);const xe=await he.get("/inventory/stats");a(xe.data);const ge=await he.get("/inventory/alerts/low-stock");h(ge.data.lowStockItems.slice(0,3));const ke=await he.get("/inventory/movements/recent");x(ke.data.movements);const Ae=await he.get("/inventory/categories");b(Ae.data.categories)}catch(xe){console.error("Error fetching dashboard data:",xe),ye.error("Failed to load dashboard data")}finally{o(!1)}},I=()=>{_.trim()&&(/^\d+$/.test(_.trim())?e(`/inventory/barcode-lookup?barcode=${encodeURIComponent(_.trim())}`):e(`/inventory/products?search=${encodeURIComponent(_.trim())}`))},L=xe=>{E(xe),C(!0)},$=()=>{F(!0)},W=xe=>{E(xe),D(!0)},U=async()=>{if(A)try{await he.put(`/orders/${A.id}/status`,{status:"inventory_received",department:"inventory",action:"stock_received",notes:"Stock received and stored in inventory"}),await he.put(`/orders/${A.id}/qr-code`,{department:"inventory",status:"inventory_received",timestamp:new Date().toISOString(),materials:A.material_requirements,customer:A.customer}),ye.success("Stock received successfully"),D(!1),E(null),M()}catch{ye.error("Failed to receive stock")}},Y=async xe=>{try{await he.put(`/orders/${xe.id}/status`,{status:"manufacturing",department:"manufacturing",action:"sent_to_manufacturing",notes:"Order sent to manufacturing department"}),await he.put(`/orders/${xe.id}/qr-code`,{department:"manufacturing",status:"ready_for_production",timestamp:new Date().toISOString(),materials:xe.material_requirements,customer:xe.customer}),ye.success("Order sent to manufacturing"),M()}catch{ye.error("Failed to send order to manufacturing")}},X=(xe,ge)=>{const ke=xe/ge*100;return ke<=25?{level:"critical",color:"bg-red-200 text-red-700"}:ke<=50?{level:"low",color:"bg-yellow-200 text-yellow-700"}:ke<=75?{level:"medium",color:"bg-blue-200 text-blue-700"}:{level:"good",color:"bg-green-200 text-green-700"}},V=xe=>xe==="inward"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700",G=({title:xe,value:ge,icon:ke,color:Ae="primary",subtitle:Ne})=>r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500 mb-1 tracking-wide",children:xe}),r.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:ge}),Ne&&r.jsx("div",{className:"text-xs text-gray-500",children:Ne})]}),r.jsx("div",{className:`rounded-full p-3 flex items-center justify-center w-12 h-12 ${Ae==="primary"?"bg-blue-100":Ae==="success"?"bg-green-100":Ae==="warning"?"bg-yellow-100":Ae==="error"?"bg-red-100":"bg-blue-100"}`,children:ke})]})}),ne=({children:xe,value:ge,index:ke})=>r.jsx("div",{className:ge!==ke?"hidden":"",children:ge===ke&&r.jsx("div",{className:"p-4",children:xe})});return i?r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("p",{children:"Loading inventory dashboard..."})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Management"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 flex items-center gap-2",onClick:()=>e("/inventory/stock"),children:[r.jsx(Xs,{})," Stock Management"]}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>e("/inventory/products"),children:[r.jsx(Br,{})," Add Product"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(G,{title:"Total Items",value:s.totalItems,icon:r.jsx(Bl,{className:"text-blue-600 text-xl"}),color:"primary"}),r.jsx(G,{title:"Low Stock Items",value:s.lowStockItems,icon:r.jsx(wa,{className:"text-yellow-600 text-xl"}),color:"warning"}),r.jsx(G,{title:"Out of Stock",value:s.outOfStock,icon:r.jsx(Nc,{className:"text-red-600 text-xl"}),color:"error"}),r.jsx(G,{title:"Total Value",value:`₹${(s.totalValue/1e5).toFixed(1)}L`,icon:r.jsx(Zp,{className:"text-green-600 text-xl"}),color:"success",subtitle:"Current inventory value"})]}),(s.lowStockItems>0||s.outOfStock>0)&&r.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 flex justify-between items-center",children:[r.jsxs("span",{children:[s.lowStockItems," items are running low on stock. ",s.outOfStock," items are out of stock."]}),r.jsx("button",{className:"px-3 py-1 rounded bg-yellow-600 text-white text-sm font-semibold hover:bg-yellow-600",onClick:()=>n(1),children:"View Details"})]}),r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full border rounded px-3 py-2 pl-9 bg-gray-50",placeholder:"Search by item code, name, or barcode...",value:_,onChange:xe=>v(xe.target.value),onKeyPress:xe=>xe.key==="Enter"&&I()}),r.jsx(Ps,{className:"absolute left-3 top-3 text-gray-400"})]})}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:()=>e("/inventory/stock"),children:"Stock Management"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:()=>e("/inventory/alerts"),children:"Stock Alerts"}),r.jsxs("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 flex items-center gap-2",onClick:()=>e("/inventory/lifecycle"),children:[r.jsx(Xs,{})," Lifecycle Tracking"]}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-green-600 border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-green-600 hover:text-success hover:bg-transparent flex gap-2 items-center w-fit",onClick:()=>e("/inventory/reports"),children:[r.jsx(ri,{})," Export Report"]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200",children:[r.jsx("div",{className:"border-b bg-gray-50",children:r.jsx("div",{className:"flex gap-2",children:["Incoming Orders","Recent Movements","Low Stock Items","Categories"].map((xe,ge)=>r.jsxs("button",{className:`px-4 py-2 font-medium text-sm border-b-2 transition-all ${t===ge?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,onClick:()=>n(ge),children:[xe,ge===0&&N.length>0&&r.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:N.length})]},xe))})}),r.jsx(ne,{value:t,index:0,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Incoming Orders from Procurement"}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{className:"px-4 py-2 rounded border border-blue-600 text-blue-600 hover:bg-blue-50 flex items-center gap-2",onClick:$,children:[r.jsx(Xs,{})," Scan QR"]})})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Order No."}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Customer"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Product"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Materials"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Quantity"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Date"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-center",children:"Actions"})]})}),r.jsxs("tbody",{children:[N.map(xe=>{var ge,ke,Ae,Ne;return r.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[r.jsx("td",{className:"p-2 font-semibold text-gray-900",children:xe.order_number}),r.jsx("td",{className:"p-2",children:(ge=xe.customer)==null?void 0:ge.name}),r.jsx("td",{className:"p-2",children:(ke=xe.garment_specs)==null?void 0:ke.product_type}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"text-xs",children:[(Ae=xe.material_requirements)==null?void 0:Ae.slice(0,2).map((Me,Re)=>r.jsxs("div",{children:[Me.item,": ",Me.quantity," ",Me.unit]},Re)),((Ne=xe.material_requirements)==null?void 0:Ne.length)>2&&r.jsxs("div",{children:["+",xe.material_requirements.length-2," more"]})]})}),r.jsx("td",{className:"p-2",children:xe.quantity}),r.jsx("td",{className:"p-2",children:new Date(xe.created_at).toLocaleDateString()}),r.jsxs("td",{className:"p-2 text-center",children:[r.jsx("button",{className:"p-2 rounded bg-blue-100 text-blue-600 hover:bg-blue-200 mr-1",onClick:()=>L(xe),title:"View QR Code",children:r.jsx(Xs,{})}),r.jsx("button",{className:"p-2 rounded bg-green-100 text-green-600 hover:bg-green-200 mr-1",onClick:()=>W(xe),title:"Receive Stock",children:r.jsx(or,{})}),r.jsx("button",{className:"p-2 rounded bg-purple-100 text-purple-600 hover:bg-purple-200",onClick:()=>Y(xe),title:"Send to Manufacturing",children:r.jsx(Yy,{})})]})]},xe.id)}),N.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500",children:"No incoming orders from procurement"})})]})]})})]})}),r.jsx(ne,{value:t,index:1,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Recent Stock Movements"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:()=>e("/challans/register"),children:"View All Movements"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Item Code"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Item Name"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Type"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-right",children:"Quantity"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Challan No."}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Reference"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Date"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-center",children:"Actions"})]})}),r.jsx("tbody",{children:u.map(xe=>{var ge;return r.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[r.jsx("td",{className:"p-2 font-semibold text-gray-900",children:xe.itemCode}),r.jsx("td",{className:"p-2",children:xe.itemName}),r.jsx("td",{className:"p-2",children:r.jsxs("span",{className:`px-2 py-1 rounded text-xs font-semibold flex items-center gap-1 ${V(xe.type)}`,children:[xe.type==="inward"?r.jsx(Bn,{}):r.jsx(Nc,{})," ",(ge=xe.type)==null?void 0:ge.toUpperCase()]})}),r.jsxs("td",{className:"p-2 text-right",children:[xe.quantity," ",xe.unit]}),r.jsx("td",{className:"p-2",children:xe.location}),r.jsx("td",{className:"p-2",children:"-"}),r.jsx("td",{className:"p-2",children:new Date(xe.date).toLocaleDateString()}),r.jsx("td",{className:"p-2 text-center",children:r.jsx("button",{className:"p-2 rounded bg-blue-100 text-blue-600 hover:bg-blue-200",onClick:()=>e("/inventory/stock"),title:"View Stock",children:r.jsx(cs,{})})})]},xe.id)})})]})})]})}),r.jsx(ne,{value:t,index:2,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Low Stock Items"}),r.jsx("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>e("/procurement/purchase-orders"),children:"Create Purchase Order"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Item Code"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Item Name"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Category"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-right",children:"Current Stock"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-right",children:"Min Stock"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Stock Level"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Location"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-center",children:"Actions"})]})}),r.jsx("tbody",{children:d.map(xe=>{var Ne,Me,Re,Pe,Ke;const ge=xe.minimum_level||xe.reorder_level||0,ke=X(xe.current_stock,ge),Ae=ge>0?xe.current_stock/ge*100:0;return r.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[r.jsx("td",{className:"p-2 font-semibold text-gray-900",children:(Ne=xe.product)==null?void 0:Ne.product_code}),r.jsx("td",{className:"p-2",children:(Me=xe.product)==null?void 0:Me.name}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:"px-2 py-1 border rounded text-xs bg-gray-50",children:(Re=xe.product)==null?void 0:Re.category})}),r.jsxs("td",{className:"p-2 text-right",children:[xe.current_stock," ",(Pe=xe.product)==null?void 0:Pe.unit_of_measurement]}),r.jsxs("td",{className:"p-2 text-right",children:[ge," ",(Ke=xe.product)==null?void 0:Ke.unit_of_measurement]}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:`flex items-center gap-2 ${ke.color}`,children:[r.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded",children:r.jsx("div",{className:`h-2 rounded ${ke.color}`,style:{width:`${Math.min(Ae,100)}%`}})}),r.jsxs("span",{className:"text-xs font-semibold",children:[Ae.toFixed(0),"%"]})]})}),r.jsx("td",{className:"p-2",children:xe.location}),r.jsxs("td",{className:"p-2 text-center",children:[r.jsx("button",{className:"p-2 rounded bg-blue-100 text-blue-600 hover:bg-blue-200",onClick:()=>e("/inventory/products"),title:"Edit Item",children:r.jsx(Aa,{})}),r.jsx("button",{className:"p-2 rounded bg-purple-100 text-purple-600 hover:bg-purple-200",onClick:()=>e("/procurement/purchase-orders"),title:"Create Purchase Order",children:r.jsx(Br,{})})]})]},xe.id)})})]})})]})}),r.jsx(ne,{value:t,index:3,children:r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900 mb-4",children:"Inventory Categories"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:p.length>0?p.map(xe=>r.jsxs("div",{className:"border rounded-xl bg-white shadow p-4 text-center cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>e("/inventory/products"),children:[r.jsx(mq,{className:"text-blue-600 text-3xl mx-auto mb-2"}),r.jsx("div",{className:"font-semibold text-lg text-gray-900 mb-1",children:xe.category}),r.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[xe.itemCount," items"]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["₹",(xe.totalValue/1e5).toFixed(1),"L value"]})]},xe.category)):r.jsx("div",{className:"col-span-full text-center text-gray-500 py-8",children:"No categories found. Add products to see categories here."})})]})})]}),S&&A&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md",children:[r.jsx("div",{className:"px-6 py-4 border-b font-bold text-lg",children:"Order QR Code"}),r.jsxs("div",{className:"px-6 py-4 text-center",children:[r.jsx("div",{className:"bg-gray-100 p-4 rounded-lg inline-block",children:r.jsxs("div",{className:"w-48 h-48 bg-gray-300 flex items-center justify-center text-gray-600",children:["QR Code for Order ",A.order_number]})}),r.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Order:"})," ",A.order_number]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Customer:"})," ",(ae=A.customer)==null?void 0:ae.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," ",A.status]})]})]}),r.jsx("div",{className:"px-6 py-4 border-t flex justify-end",children:r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>C(!1),children:"Close"})})]})}),k&&A&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b font-bold text-lg",children:"Confirm Stock Receipt"}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-semibold",children:"Order Details"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Order:"})," ",A.order_number]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Customer:"})," ",(le=A.customer)==null?void 0:le.name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Product:"})," ",(ie=A.garment_specs)==null?void 0:ie.product_type]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Quantity:"})," ",A.quantity]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Material Requirements"}),r.jsx("div",{className:"bg-gray-50 p-3 rounded max-h-32 overflow-y-auto",children:(fe=A.material_requirements)==null?void 0:fe.map((xe,ge)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:xe.item}),r.jsxs("span",{children:[xe.quantity," ",xe.unit]})]},ge))})]}),r.jsx("div",{className:"text-sm text-gray-600",children:r.jsx("p",{children:"By confirming, you acknowledge that all materials have been received and stored in inventory."})})]}),r.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>D(!1),children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",onClick:U,children:"Confirm Receipt"})]})]})}),R&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md",children:[r.jsx("div",{className:"px-6 py-4 border-b font-bold text-lg",children:"Scan QR Code"}),r.jsx("div",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[r.jsx("div",{className:"w-full h-64 bg-gray-300 flex items-center justify-center text-gray-600 mb-4",children:"Camera Scanner Placeholder"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Point your camera at the QR code to scan"})]})}),r.jsx("div",{className:"px-6 py-4 border-t flex justify-end",children:r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>F(!1),children:"Close"})})]})})]})};var P4={},Jy={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});function gG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yG=function e(t,n){gG(this,e),this.data=t,this.text=n.text||t,this.options=n};ds.default=yG;Object.defineProperty(Jy,"__esModule",{value:!0});Jy.CODE39=void 0;var bG=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),vG=ds,jG=wG(vG);function wG(e){return e&&e.__esModule?e:{default:e}}function NG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function SG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var CG=function(e){SG(t,e);function t(n,s){return NG(this,t),n=n.toUpperCase(),s.mod43&&(n+=EG(kG(n))),_G(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return bG(t,[{key:"encode",value:function(){for(var s=iv("*"),a=0;a<this.data.length;a++)s+=iv(this.data[a])+"0";return s+=iv("*"),{data:s,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(jG.default),M7=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],AG=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function iv(e){return OG(R7(e))}function OG(e){return AG[e].toString(2)}function EG(e){return M7[e]}function R7(e){return M7.indexOf(e)}function kG(e){for(var t=0,n=0;n<e.length;n++)t+=R7(e[n]);return t=t%43,t}Jy.CODE39=CG;var Si={},I4={},Fh={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});var b0;function ov(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L7=Nr.SET_A=0,$7=Nr.SET_B=1,F7=Nr.SET_C=2;Nr.SHIFT=98;var TG=Nr.START_A=103,PG=Nr.START_B=104,IG=Nr.START_C=105;Nr.MODULO=103;Nr.STOP=106;Nr.FNC1=207;Nr.SET_BY_CODE=(b0={},ov(b0,TG,L7),ov(b0,PG,$7),ov(b0,IG,F7),b0);Nr.SWAP={101:L7,100:$7,99:F7};Nr.A_START_CHAR="Ð";Nr.B_START_CHAR="Ñ";Nr.C_START_CHAR="Ò";Nr.A_CHARS="[\0-_È-Ï]";Nr.B_CHARS="[ -È-Ï]";Nr.C_CHARS="(Ï*[0-9]{2}Ï*)";Nr.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Fh,"__esModule",{value:!0});var DG=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),MG=ds,RG=LG(MG),Rs=Nr;function LG(e){return e&&e.__esModule?e:{default:e}}function $G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FG(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function BG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var UG=function(e){BG(t,e);function t(n,s){$G(this,t);var a=FG(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.substring(1),s));return a.bytes=n.split("").map(function(i){return i.charCodeAt(0)}),a}return DG(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var s=this.bytes,a=s.shift()-105,i=Rs.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&s.unshift(Rs.FNC1);var o=t.next(s,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(a)+o.result+t.getBar((o.checksum+a)%Rs.MODULO)+t.getBar(Rs.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var s=this.options.ean128||!1;return typeof s=="string"&&(s=s.toLowerCase()==="true"),s}}],[{key:"getBar",value:function(s){return Rs.BARS[s]?Rs.BARS[s].toString():""}},{key:"correctIndex",value:function(s,a){if(a===Rs.SET_A){var i=s.shift();return i<32?i+64:i-32}else return a===Rs.SET_B?s.shift()-32:(s.shift()-48)*10+s.shift()-48}},{key:"next",value:function(s,a,i){if(!s.length)return{result:"",checksum:0};var o=void 0,d=void 0;if(s[0]>=200){d=s.shift()-105;var h=Rs.SWAP[d];h!==void 0?o=t.next(s,a+1,h):((i===Rs.SET_A||i===Rs.SET_B)&&d===Rs.SHIFT&&(s[0]=i===Rs.SET_A?s[0]>95?s[0]-96:s[0]:s[0]<32?s[0]+96:s[0]),o=t.next(s,a+1,i))}else d=t.correctIndex(s,i),o=t.next(s,a+1,i);var u=t.getBar(d),x=d*a;return{result:u+o.result,checksum:x+o.checksum}}}]),t}(RG.default);Fh.default=UG;var D4={};Object.defineProperty(D4,"__esModule",{value:!0});var Dl=Nr,B7=function(t){return t.match(new RegExp("^"+Dl.A_CHARS+"*"))[0].length},U7=function(t){return t.match(new RegExp("^"+Dl.B_CHARS+"*"))[0].length},z7=function(t){return t.match(new RegExp("^"+Dl.C_CHARS+"*"))[0]};function M4(e,t){var n=t?Dl.A_CHARS:Dl.B_CHARS,s=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(s)return s[1]+"Ì"+V7(e.substring(s[1].length));var a=e.match(new RegExp("^"+n+"+"))[0];return a.length===e.length?e:a+String.fromCharCode(t?205:206)+M4(e.substring(a.length),!t)}function V7(e){var t=z7(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var s=B7(e)>=U7(e);return t+String.fromCharCode(s?206:205)+M4(e,s)}D4.default=function(e){var t=void 0,n=z7(e).length;if(n>=2)t=Dl.C_START_CHAR+V7(e);else{var s=B7(e)>U7(e);t=(s?Dl.A_START_CHAR:Dl.B_START_CHAR)+M4(e,s)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return"Ë"+i})};Object.defineProperty(I4,"__esModule",{value:!0});var zG=Fh,VG=q7(zG),qG=D4,HG=q7(qG);function q7(e){return e&&e.__esModule?e:{default:e}}function WG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function GG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var QG=function(e){GG(t,e);function t(n,s){if(WG(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=lv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,HG.default)(n),s));else var a=lv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));return lv(a)}return t}(VG.default);I4.default=QG;var R4={};Object.defineProperty(R4,"__esModule",{value:!0});var YG=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),XG=Fh,KG=ZG(XG),mC=Nr;function ZG(e){return e&&e.__esModule?e:{default:e}}function JG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function tQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var rQ=function(e){tQ(t,e);function t(n,s){return JG(this,t),eQ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,mC.A_START_CHAR+n,s))}return YG(t,[{key:"valid",value:function(){return new RegExp("^"+mC.A_CHARS+"+$").test(this.data)}}]),t}(KG.default);R4.default=rQ;var L4={};Object.defineProperty(L4,"__esModule",{value:!0});var nQ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),sQ=Fh,aQ=iQ(sQ),xC=Nr;function iQ(e){return e&&e.__esModule?e:{default:e}}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dQ=function(e){cQ(t,e);function t(n,s){return oQ(this,t),lQ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,xC.B_START_CHAR+n,s))}return nQ(t,[{key:"valid",value:function(){return new RegExp("^"+xC.B_CHARS+"+$").test(this.data)}}]),t}(aQ.default);L4.default=dQ;var $4={};Object.defineProperty($4,"__esModule",{value:!0});var uQ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),hQ=Fh,fQ=mQ(hQ),pC=Nr;function mQ(e){return e&&e.__esModule?e:{default:e}}function xQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function gQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yQ=function(e){gQ(t,e);function t(n,s){return xQ(this,t),pQ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,pC.C_START_CHAR+n,s))}return uQ(t,[{key:"valid",value:function(){return new RegExp("^"+pC.C_CHARS+"+$").test(this.data)}}]),t}(fQ.default);$4.default=yQ;Object.defineProperty(Si,"__esModule",{value:!0});Si.CODE128C=Si.CODE128B=Si.CODE128A=Si.CODE128=void 0;var bQ=I4,vQ=e1(bQ),jQ=R4,wQ=e1(jQ),NQ=L4,_Q=e1(NQ),SQ=$4,CQ=e1(SQ);function e1(e){return e&&e.__esModule?e:{default:e}}Si.CODE128=vQ.default;Si.CODE128A=wQ.default;Si.CODE128B=_Q.default;Si.CODE128C=CQ.default;var vs={},F4={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.SIDE_BIN="101";ka.MIDDLE_BIN="01010";ka.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};ka.EAN2_STRUCTURE=["LL","LG","GL","GG"];ka.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];ka.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var t1={},xd={};Object.defineProperty(xd,"__esModule",{value:!0});var AQ=ka,OQ=function(t,n,s){var a=t.split("").map(function(o,d){return AQ.BINARIES[n[d]]}).map(function(o,d){return o?o[t[d]]:""});if(s){var i=t.length-1;a=a.map(function(o,d){return d<i?o+s:o})}return a.join("")};xd.default=OQ;Object.defineProperty(t1,"__esModule",{value:!0});var EQ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Ld=ka,kQ=xd,gC=H7(kQ),TQ=ds,PQ=H7(TQ);function H7(e){return e&&e.__esModule?e:{default:e}}function IQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var RQ=function(e){MQ(t,e);function t(n,s){IQ(this,t);var a=DQ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));return a.fontSize=!s.flat&&s.fontSize>s.width*10?s.width*10:s.fontSize,a.guardHeight=s.height+a.fontSize/2+s.textMargin,a}return EQ(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(s,a){return this.text.substr(s,a)}},{key:"leftEncode",value:function(s,a){return(0,gC.default)(s,a)}},{key:"rightText",value:function(s,a){return this.text.substr(s,a)}},{key:"rightEncode",value:function(s,a){return(0,gC.default)(s,a)}},{key:"encodeGuarded",value:function(){var s={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Ld.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:s},{data:Ld.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:s},{data:Ld.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var s=[Ld.SIDE_BIN,this.leftEncode(),Ld.MIDDLE_BIN,this.rightEncode(),Ld.SIDE_BIN];return{data:s.join(""),text:this.text}}}]),t}(PQ.default);t1.default=RQ;Object.defineProperty(F4,"__esModule",{value:!0});var LQ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),v0=function e(t,n,s){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,n,s)}else{if("value"in a)return a.value;var o=a.get;return o===void 0?void 0:o.call(s)}},$Q=ka,FQ=t1,BQ=UQ(FQ);function UQ(e){return e&&e.__esModule?e:{default:e}}function zQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yC=function(t){var n=t.substr(0,12).split("").map(function(s){return+s}).reduce(function(s,a,i){return i%2?s+a*3:s+a},0);return(10-n%10)%10},HQ=function(e){qQ(t,e);function t(n,s){zQ(this,t),n.search(/^[0-9]{12}$/)!==-1&&(n+=yC(n));var a=VQ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));return a.lastChar=s.lastChar,a}return LQ(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===yC(this.data)}},{key:"leftText",value:function(){return v0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var s=this.data.substr(1,6),a=$Q.EAN13_STRUCTURE[this.data[0]];return v0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,s,a)}},{key:"rightText",value:function(){return v0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var s=this.data.substr(7,6);return v0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,s,"RRRRRR")}},{key:"encodeGuarded",value:function(){var s=v0(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(s.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(s.push({data:"00"}),s.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),s}}]),t}(BQ.default);F4.default=HQ;var B4={};Object.defineProperty(B4,"__esModule",{value:!0});var WQ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Sx=function e(t,n,s){t===null&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var i=Object.getPrototypeOf(t);return i===null?void 0:e(i,n,s)}else{if("value"in a)return a.value;var o=a.get;return o===void 0?void 0:o.call(s)}},GQ=t1,QQ=YQ(GQ);function YQ(e){return e&&e.__esModule?e:{default:e}}function XQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bC=function(t){var n=t.substr(0,7).split("").map(function(s){return+s}).reduce(function(s,a,i){return i%2?s+a:s+a*3},0);return(10-n%10)%10},JQ=function(e){ZQ(t,e);function t(n,s){return XQ(this,t),n.search(/^[0-9]{7}$/)!==-1&&(n+=bC(n)),KQ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return WQ(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===bC(this.data)}},{key:"leftText",value:function(){return Sx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var s=this.data.substr(0,4);return Sx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,s,"LLLL")}},{key:"rightText",value:function(){return Sx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var s=this.data.substr(4,4);return Sx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,s,"RRRR")}}]),t}(QQ.default);B4.default=JQ;var U4={};Object.defineProperty(U4,"__esModule",{value:!0});var eY=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),tY=ka,rY=xd,nY=W7(rY),sY=ds,aY=W7(sY);function W7(e){return e&&e.__esModule?e:{default:e}}function iY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var cY=function(t){var n=t.split("").map(function(s){return+s}).reduce(function(s,a,i){return i%2?s+a*9:s+a*3},0);return n%10},dY=function(e){lY(t,e);function t(n,s){return iY(this,t),oY(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return eY(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var s=tY.EAN5_STRUCTURE[cY(this.data)];return{data:"1011"+(0,nY.default)(this.data,s,"01"),text:this.text}}}]),t}(aY.default);U4.default=dY;var z4={};Object.defineProperty(z4,"__esModule",{value:!0});var uY=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),hY=ka,fY=xd,mY=G7(fY),xY=ds,pY=G7(xY);function G7(e){return e&&e.__esModule?e:{default:e}}function gY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vY=function(e){bY(t,e);function t(n,s){return gY(this,t),yY(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return uY(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var s=hY.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,mY.default)(this.data,s,"01"),text:this.text}}}]),t}(pY.default);z4.default=vY;var Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});var jY=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Pm.checksum=Aj;var wY=xd,$d=Q7(wY),NY=ds,_Y=Q7(NY);function Q7(e){return e&&e.__esModule?e:{default:e}}function SY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function AY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var OY=function(e){AY(t,e);function t(n,s){SY(this,t),n.search(/^[0-9]{11}$/)!==-1&&(n+=Aj(n));var a=CY(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));return a.displayValue=s.displayValue,s.fontSize>s.width*10?a.fontSize=s.width*10:a.fontSize=s.fontSize,a.guardHeight=s.height+a.fontSize/2+s.textMargin,a}return jY(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Aj(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var s="";return s+="101",s+=(0,$d.default)(this.data.substr(0,6),"LLLLLL"),s+="01010",s+=(0,$d.default)(this.data.substr(6,6),"RRRRRR"),s+="101",{data:s,text:this.text}}},{key:"guardedEncoding",value:function(){var s=[];return this.displayValue&&s.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),s.push({data:"101"+(0,$d.default)(this.data[0],"L"),options:{height:this.guardHeight}}),s.push({data:(0,$d.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),s.push({data:"01010",options:{height:this.guardHeight}}),s.push({data:(0,$d.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),s.push({data:(0,$d.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&s.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),s}}]),t}(_Y.default);function Aj(e){var t=0,n;for(n=1;n<11;n+=2)t+=parseInt(e[n]);for(n=0;n<11;n+=2)t+=parseInt(e[n])*3;return(10-t%10)%10}Pm.default=OY;var V4={};Object.defineProperty(V4,"__esModule",{value:!0});var EY=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),kY=xd,TY=Y7(kY),PY=ds,IY=Y7(PY),DY=Pm;function Y7(e){return e&&e.__esModule?e:{default:e}}function MY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LY=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],$Y=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],FY=function(e){RY(t,e);function t(n,s){MY(this,t);var a=cv(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));if(a.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)a.middleDigits=n,a.upcA=vC(n,"0"),a.text=s.text||""+a.upcA[0]+n+a.upcA[a.upcA.length-1],a.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=n.substring(1,n.length-1),a.upcA=vC(a.middleDigits,n[0]),a.upcA[a.upcA.length-1]===n[n.length-1])a.isValid=!0;else return cv(a);else return cv(a);return a.displayValue=s.displayValue,s.fontSize>s.width*10?a.fontSize=s.width*10:a.fontSize=s.fontSize,a.guardHeight=s.height+a.fontSize/2+s.textMargin,a}return EY(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var s="";return s+="101",s+=this.encodeMiddleDigits(),s+="010101",{data:s,text:this.text}}},{key:"guardedEncoding",value:function(){var s=[];return this.displayValue&&s.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),s.push({data:"101",options:{height:this.guardHeight}}),s.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),s.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&s.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),s}},{key:"encodeMiddleDigits",value:function(){var s=this.upcA[0],a=this.upcA[this.upcA.length-1],i=$Y[parseInt(a)][parseInt(s)];return(0,TY.default)(this.middleDigits,i)}}]),t}(IY.default);function vC(e,t){for(var n=parseInt(e[e.length-1]),s=LY[n],a="",i=0,o=0;o<s.length;o++){var d=s[o];d==="X"?a+=e[i++]:a+=d}return a=""+t+a,""+a+(0,DY.checksum)(a)}V4.default=FY;Object.defineProperty(vs,"__esModule",{value:!0});vs.UPCE=vs.UPC=vs.EAN2=vs.EAN5=vs.EAN8=vs.EAN13=void 0;var BY=F4,UY=Bh(BY),zY=B4,VY=Bh(zY),qY=U4,HY=Bh(qY),WY=z4,GY=Bh(WY),QY=Pm,YY=Bh(QY),XY=V4,KY=Bh(XY);function Bh(e){return e&&e.__esModule?e:{default:e}}vs.EAN13=UY.default;vs.EAN8=VY.default;vs.EAN5=HY.default;vs.EAN2=GY.default;vs.UPC=YY.default;vs.UPCE=KY.default;var Ju={},r1={},Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.START_BIN="1010";Im.END_BIN="11101";Im.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(r1,"__esModule",{value:!0});var ZY=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Cx=Im,JY=ds,eX=tX(JY);function tX(e){return e&&e.__esModule?e:{default:e}}function rX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function sX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aX=function(e){sX(t,e);function t(){return rX(this,t),nX(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ZY(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var s=this,a=this.data.match(/.{2}/g).map(function(i){return s.encodePair(i)}).join("");return{data:Cx.START_BIN+a+Cx.END_BIN,text:this.text}}},{key:"encodePair",value:function(s){var a=Cx.BINARIES[s[1]];return Cx.BINARIES[s[0]].split("").map(function(i,o){return(i==="1"?"111":"1")+(a[o]==="1"?"000":"0")}).join("")}}]),t}(eX.default);r1.default=aX;var q4={};Object.defineProperty(q4,"__esModule",{value:!0});var iX=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),oX=r1,lX=cX(oX);function cX(e){return e&&e.__esModule?e:{default:e}}function dX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jC=function(t){var n=t.substr(0,13).split("").map(function(s){return parseInt(s,10)}).reduce(function(s,a,i){return s+a*(3-i%2*2)},0);return Math.ceil(n/10)*10-n},fX=function(e){hX(t,e);function t(n,s){return dX(this,t),n.search(/^[0-9]{13}$/)!==-1&&(n+=jC(n)),uX(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return iX(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===jC(this.data)}}]),t}(lX.default);q4.default=fX;Object.defineProperty(Ju,"__esModule",{value:!0});Ju.ITF14=Ju.ITF=void 0;var mX=r1,xX=X7(mX),pX=q4,gX=X7(pX);function X7(e){return e&&e.__esModule?e:{default:e}}Ju.ITF=xX.default;Ju.ITF14=gX.default;var pa={},pd={};Object.defineProperty(pd,"__esModule",{value:!0});var yX=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),bX=ds,vX=jX(bX);function jX(e){return e&&e.__esModule?e:{default:e}}function wX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _X(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var SX=function(e){_X(t,e);function t(n,s){return wX(this,t),NX(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return yX(t,[{key:"encode",value:function(){for(var s="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),o=i.toString(2);o=CX(o,4-o.length);for(var d=0;d<o.length;d++)s+=o[d]=="0"?"100":"110"}return s+="1001",{data:s,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(vX.default);function CX(e,t){for(var n=0;n<t;n++)e="0"+e;return e}pd.default=SX;var H4={},gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.mod10=AX;gd.mod11=OX;function AX(e){for(var t=0,n=0;n<e.length;n++){var s=parseInt(e[n]);(n+e.length)%2===0?t+=s:t+=s*2%10+Math.floor(s*2/10)}return(10-t%10)%10}function OX(e){for(var t=0,n=[2,3,4,5,6,7],s=0;s<e.length;s++){var a=parseInt(e[e.length-1-s]);t+=n[s%n.length]*a}return(11-t%11)%11}Object.defineProperty(H4,"__esModule",{value:!0});var EX=pd,kX=PX(EX),TX=gd;function PX(e){return e&&e.__esModule?e:{default:e}}function IX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var RX=function(e){MX(t,e);function t(n,s){return IX(this,t),DX(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,TX.mod10)(n),s))}return t}(kX.default);H4.default=RX;var W4={};Object.defineProperty(W4,"__esModule",{value:!0});var LX=pd,$X=BX(LX),FX=gd;function BX(e){return e&&e.__esModule?e:{default:e}}function UX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qX=function(e){VX(t,e);function t(n,s){return UX(this,t),zX(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n+(0,FX.mod11)(n),s))}return t}($X.default);W4.default=qX;var G4={};Object.defineProperty(G4,"__esModule",{value:!0});var HX=pd,WX=GX(HX),wC=gd;function GX(e){return e&&e.__esModule?e:{default:e}}function QX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KX=function(e){XX(t,e);function t(n,s){return QX(this,t),n+=(0,wC.mod10)(n),n+=(0,wC.mod10)(n),YX(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return t}(WX.default);G4.default=KX;var Q4={};Object.defineProperty(Q4,"__esModule",{value:!0});var ZX=pd,JX=eK(ZX),NC=gd;function eK(e){return e&&e.__esModule?e:{default:e}}function tK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sK=function(e){nK(t,e);function t(n,s){return tK(this,t),n+=(0,NC.mod11)(n),n+=(0,NC.mod10)(n),rK(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return t}(JX.default);Q4.default=sK;Object.defineProperty(pa,"__esModule",{value:!0});pa.MSI1110=pa.MSI1010=pa.MSI11=pa.MSI10=pa.MSI=void 0;var aK=pd,iK=Dm(aK),oK=H4,lK=Dm(oK),cK=W4,dK=Dm(cK),uK=G4,hK=Dm(uK),fK=Q4,mK=Dm(fK);function Dm(e){return e&&e.__esModule?e:{default:e}}pa.MSI=iK.default;pa.MSI10=lK.default;pa.MSI11=dK.default;pa.MSI1010=hK.default;pa.MSI1110=mK.default;var n1={};Object.defineProperty(n1,"__esModule",{value:!0});n1.pharmacode=void 0;var xK=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),pK=ds,gK=yK(pK);function yK(e){return e&&e.__esModule?e:{default:e}}function bK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wK=function(e){jK(t,e);function t(n,s){bK(this,t);var a=vK(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s));return a.number=parseInt(n,10),a}return xK(t,[{key:"encode",value:function(){for(var s=this.number,a="";!isNaN(s)&&s!=0;)s%2===0?(a="11100"+a,s=(s-2)/2):(a="100"+a,s=(s-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(gK.default);n1.pharmacode=wK;var s1={};Object.defineProperty(s1,"__esModule",{value:!0});s1.codabar=void 0;var NK=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),_K=ds,SK=CK(_K);function CK(e){return e&&e.__esModule?e:{default:e}}function AK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function EK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var kK=function(e){EK(t,e);function t(n,s){AK(this,t),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var a=OK(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.toUpperCase(),s));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return NK(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var s=[],a=this.getEncodings(),i=0;i<this.data.length;i++)s.push(a[this.data.charAt(i)]),i!==this.data.length-1&&s.push("0");return{text:this.text,data:s.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(SK.default);s1.codabar=kK;var eh={},a1={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"];Mm.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Mm.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(a1,"__esModule",{value:!0});var TK=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Ax=Mm,PK=ds,IK=DK(PK);function DK(e){return e&&e.__esModule?e:{default:e}}function MK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function LK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $K=function(e){LK(t,e);function t(n,s){return MK(this,t),RK(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return TK(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var s=this.data.split("").flatMap(function(d){return Ax.MULTI_SYMBOLS[d]||d}),a=s.map(function(d){return t.getEncoding(d)}).join(""),i=t.checksum(s,20),o=t.checksum(s.concat(i),15);return{text:this.text,data:t.getEncoding("ÿ")+a+t.getEncoding(i)+t.getEncoding(o)+t.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(s){return Ax.BINARIES[t.symbolValue(s)]}},{key:"getSymbol",value:function(s){return Ax.SYMBOLS[s]}},{key:"symbolValue",value:function(s){return Ax.SYMBOLS.indexOf(s)}},{key:"checksum",value:function(s,a){var i=s.slice().reverse().reduce(function(o,d,h){var u=h%a+1;return o+t.symbolValue(d)*u},0);return t.getSymbol(i%47)}}]),t}(IK.default);a1.default=$K;var Y4={};Object.defineProperty(Y4,"__esModule",{value:!0});var FK=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),BK=a1,UK=zK(BK);function zK(e){return e&&e.__esModule?e:{default:e}}function VK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qK(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function HK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var WK=function(e){HK(t,e);function t(n,s){return VK(this,t),qK(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return FK(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(UK.default);Y4.default=WK;Object.defineProperty(eh,"__esModule",{value:!0});eh.CODE93FullASCII=eh.CODE93=void 0;var GK=a1,QK=K7(GK),YK=Y4,XK=K7(YK);function K7(e){return e&&e.__esModule?e:{default:e}}eh.CODE93=QK.default;eh.CODE93FullASCII=XK.default;var i1={};Object.defineProperty(i1,"__esModule",{value:!0});i1.GenericBarcode=void 0;var KK=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),ZK=ds,JK=eZ(ZK);function eZ(e){return e&&e.__esModule?e:{default:e}}function tZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rZ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function nZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sZ=function(e){nZ(t,e);function t(n,s){return tZ(this,t),rZ(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,s))}return KK(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(JK.default);i1.GenericBarcode=sZ;Object.defineProperty(P4,"__esModule",{value:!0});var aZ=Jy,Ox=Si,Fd=vs,_C=Ju,j0=pa,iZ=n1,oZ=s1,SC=eh,lZ=i1;P4.default={CODE39:aZ.CODE39,CODE128:Ox.CODE128,CODE128A:Ox.CODE128A,CODE128B:Ox.CODE128B,CODE128C:Ox.CODE128C,EAN13:Fd.EAN13,EAN8:Fd.EAN8,EAN5:Fd.EAN5,EAN2:Fd.EAN2,UPC:Fd.UPC,UPCE:Fd.UPCE,ITF14:_C.ITF14,ITF:_C.ITF,MSI:j0.MSI,MSI10:j0.MSI10,MSI11:j0.MSI11,MSI1010:j0.MSI1010,MSI1110:j0.MSI1110,pharmacode:iZ.pharmacode,codabar:oZ.codabar,CODE93:SC.CODE93,CODE93FullASCII:SC.CODE93FullASCII,GenericBarcode:lZ.GenericBarcode};var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});var cZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e};Uh.default=function(e,t){return cZ({},e,t)};var X4={};Object.defineProperty(X4,"__esModule",{value:!0});X4.default=dZ;function dZ(e){var t=[];function n(s){if(Array.isArray(s))for(var a=0;a<s.length;a++)n(s[a]);else s.text=s.text||"",s.data=s.data||"",t.push(s)}return n(e),t}var K4={};Object.defineProperty(K4,"__esModule",{value:!0});K4.default=uZ;function uZ(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var Z4={},J4={},o1={};Object.defineProperty(o1,"__esModule",{value:!0});o1.default=hZ;function hZ(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&(n=t[n],typeof e[n]=="string"&&(e[n]=parseInt(e[n],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var l1={};Object.defineProperty(l1,"__esModule",{value:!0});var fZ={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};l1.default=fZ;Object.defineProperty(J4,"__esModule",{value:!0});var mZ=o1,xZ=Z7(mZ),pZ=l1,CC=Z7(pZ);function Z7(e){return e&&e.__esModule?e:{default:e}}function gZ(e){var t={};for(var n in CC.default)CC.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,xZ.default)(t),t}J4.default=gZ;var e3={},t3={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.getTotalWidthOfEncodings=Hs.calculateEncodingAttributes=Hs.getBarcodePadding=Hs.getEncodingHeight=Hs.getMaximumHeightOfEncodings=void 0;var yZ=Uh,bZ=vZ(yZ);function vZ(e){return e&&e.__esModule?e:{default:e}}function J7(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function eI(e,t,n){if(n.displayValue&&t<e){if(n.textAlign=="center")return Math.floor((e-t)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(e-t)}return 0}function jZ(e,t,n){for(var s=0;s<e.length;s++){var a=e[s],i=(0,bZ.default)(t,a.options),o;i.displayValue?o=_Z(a.text,i,n):o=0;var d=a.data.length*i.width;a.width=Math.ceil(Math.max(o,d)),a.height=J7(a,i),a.barcodePadding=eI(o,d,i)}}function wZ(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}function NZ(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t}function _Z(e,t,n){var s;if(n)s=n;else if(typeof document<"u")s=document.createElement("canvas").getContext("2d");else return 0;s.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var a=s.measureText(e);if(!a)return 0;var i=a.width;return i}Hs.getMaximumHeightOfEncodings=NZ;Hs.getEncodingHeight=J7;Hs.getBarcodePadding=eI;Hs.calculateEncodingAttributes=jZ;Hs.getTotalWidthOfEncodings=wZ;Object.defineProperty(t3,"__esModule",{value:!0});var SZ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),CZ=Uh,AZ=OZ(CZ),dv=Hs;function OZ(e){return e&&e.__esModule?e:{default:e}}function EZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var kZ=function(){function e(t,n,s){EZ(this,e),this.canvas=t,this.encodings=n,this.options=s}return SZ(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var s=(0,AZ.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(s,this.encodings[n]),this.drawCanvasText(s,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,dv.calculateEncodingAttributes)(this.encodings,this.options,n);var s=(0,dv.getTotalWidthOfEncodings)(this.encodings),a=(0,dv.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=s+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,s){var a=this.canvas.getContext("2d"),i=s.data,o;n.textPosition=="top"?o=n.marginTop+n.fontSize+n.textMargin:o=n.marginTop,a.fillStyle=n.lineColor;for(var d=0;d<i.length;d++){var h=d*n.width+s.barcodePadding;i[d]==="1"?a.fillRect(h,o,n.width,n.height):i[d]&&a.fillRect(h,o,n.width,n.height*i[d])}}},{key:"drawCanvasText",value:function(n,s){var a=this.canvas.getContext("2d"),i=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var o,d;n.textPosition=="top"?d=n.marginTop+n.fontSize-n.textMargin:d=n.height+n.textMargin+n.marginTop+n.fontSize,a.font=i,n.textAlign=="left"||s.barcodePadding>0?(o=0,a.textAlign="left"):n.textAlign=="right"?(o=s.width-1,a.textAlign="right"):(o=s.width/2,a.textAlign="center"),a.fillText(s.text,o,d)}}},{key:"moveCanvasDrawing",value:function(n){var s=this.canvas.getContext("2d");s.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),e}();t3.default=kZ;var r3={};Object.defineProperty(r3,"__esModule",{value:!0});var TZ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),PZ=Uh,IZ=DZ(PZ),uv=Hs;function DZ(e){return e&&e.__esModule?e:{default:e}}function MZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ex="http://www.w3.org/2000/svg",RZ=function(){function e(t,n,s){MZ(this,e),this.svg=t,this.encodings=n,this.options=s,this.document=s.xmlDocument||document}return TZ(e,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var s=0;s<this.encodings.length;s++){var a=this.encodings[s],i=(0,IZ.default)(this.options,a.options),o=this.createGroup(n,i.marginTop,this.svg);this.setGroupOptions(o,i),this.drawSvgBarcode(o,i,a),this.drawSVGText(o,i,a),n+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,uv.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,uv.getTotalWidthOfEncodings)(this.encodings),s=(0,uv.getMaximumHeightOfEncodings)(this.encodings),a=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,s),this.options.background&&this.drawRect(0,0,a,s,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,s,a){var i=a.data,o;s.textPosition=="top"?o=s.fontSize+s.textMargin:o=0;for(var d=0,h=0,u=0;u<i.length;u++)h=u*s.width+a.barcodePadding,i[u]==="1"?d++:d>0&&(this.drawRect(h-s.width*d,o,s.width*d,s.height,n),d=0);d>0&&this.drawRect(h-s.width*(d-1),o,s.width*d,s.height,n)}},{key:"drawSVGText",value:function(n,s,a){var i=this.document.createElementNS(Ex,"text");if(s.displayValue){var o,d;i.setAttribute("style","font:"+s.fontOptions+" "+s.fontSize+"px "+s.font),s.textPosition=="top"?d=s.fontSize-s.textMargin:d=s.height+s.textMargin+s.fontSize,s.textAlign=="left"||a.barcodePadding>0?(o=0,i.setAttribute("text-anchor","start")):s.textAlign=="right"?(o=a.width-1,i.setAttribute("text-anchor","end")):(o=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",o),i.setAttribute("y",d),i.appendChild(this.document.createTextNode(a.text)),n.appendChild(i)}}},{key:"setSvgAttributes",value:function(n,s){var a=this.svg;a.setAttribute("width",n+"px"),a.setAttribute("height",s+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+n+" "+s),a.setAttribute("xmlns",Ex),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,s,a){var i=this.document.createElementNS(Ex,"g");return i.setAttribute("transform","translate("+n+", "+s+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(n,s){n.setAttribute("style","fill:"+s.lineColor+";")}},{key:"drawRect",value:function(n,s,a,i,o){var d=this.document.createElementNS(Ex,"rect");return d.setAttribute("x",n),d.setAttribute("y",s),d.setAttribute("width",a),d.setAttribute("height",i),o.appendChild(d),d}}]),e}();r3.default=RZ;var n3={};Object.defineProperty(n3,"__esModule",{value:!0});var LZ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function $Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var FZ=function(){function e(t,n,s){$Z(this,e),this.object=t,this.encodings=n,this.options=s}return LZ(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();n3.default=FZ;Object.defineProperty(e3,"__esModule",{value:!0});var BZ=t3,UZ=s3(BZ),zZ=r3,VZ=s3(zZ),qZ=n3,HZ=s3(qZ);function s3(e){return e&&e.__esModule?e:{default:e}}e3.default={CanvasRenderer:UZ.default,SVGRenderer:VZ.default,ObjectRenderer:HZ.default};var zh={};Object.defineProperty(zh,"__esModule",{value:!0});function a3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function o3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var WZ=function(e){o3(t,e);function t(n,s){a3(this,t);var a=i3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="InvalidInputException",a.symbology=n,a.input=s,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return t}(Error),GZ=function(e){o3(t,e);function t(){a3(this,t);var n=i3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return t}(Error),QZ=function(e){o3(t,e);function t(){a3(this,t);var n=i3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return t}(Error);zh.InvalidInputException=WZ;zh.InvalidElementException=GZ;zh.NoElementException=QZ;Object.defineProperty(Z4,"__esModule",{value:!0});var YZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XZ=J4,Oj=tI(XZ),KZ=e3,V0=tI(KZ),ZZ=zh;function tI(e){return e&&e.__esModule?e:{default:e}}function l3(e){if(typeof e=="string")return JZ(e);if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t.push(l3(e[n]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return eJ(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,Oj.default)(e),renderer:V0.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,Oj.default)(e),renderer:V0.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:V0.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":YZ(e))==="object"&&!e.nodeName)return{element:e,renderer:V0.default.ObjectRenderer};throw new ZZ.InvalidElementException}}function JZ(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var n=[],s=0;s<t.length;s++)n.push(l3(t[s]));return n}}function eJ(e){var t=document.createElement("canvas");return{element:t,options:(0,Oj.default)(e),renderer:V0.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}Z4.default=l3;var c3={};Object.defineProperty(c3,"__esModule",{value:!0});var tJ=function(){function e(t,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function rJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var nJ=function(){function e(t){rJ(this,e),this.api=t}return tJ(e,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var s=n.apply(void 0,arguments);return this.api._options.valid(!0),s}catch(a){return this.handleCatch(a),this.api}}}]),e}();c3.default=nJ;var sJ=P4,qc=Kl(sJ),aJ=Uh,Rm=Kl(aJ),iJ=X4,rI=Kl(iJ),oJ=K4,AC=Kl(oJ),lJ=Z4,cJ=Kl(lJ),dJ=o1,uJ=Kl(dJ),hJ=c3,fJ=Kl(hJ),nI=zh,mJ=l1,sI=Kl(mJ);function Kl(e){return e&&e.__esModule?e:{default:e}}var yo=function(){},c1=function(t,n,s){var a=new yo;if(typeof t>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,cJ.default)(t),a._encodings=[],a._options=sI.default,a._errorHandler=new fJ.default(a),typeof n<"u"&&(s=s||{},s.format||(s.format=iI()),a.options(s)[s.format](n,s).render()),a};c1.getModule=function(e){return qc.default[e]};for(var OC in qc.default)qc.default.hasOwnProperty(OC)&&xJ(qc.default,OC);function xJ(e,t){yo.prototype[t]=yo.prototype[t.toUpperCase()]=yo.prototype[t.toLowerCase()]=function(n,s){var a=this;return a._errorHandler.wrapBarcodeCall(function(){s.text=typeof s.text>"u"?void 0:""+s.text;var i=(0,Rm.default)(a._options,s);i=(0,uJ.default)(i);var o=e[t],d=aI(n,o,i);return a._encodings.push(d),a})}}function aI(e,t,n){e=""+e;var s=new t(e,n);if(!s.valid())throw new nI.InvalidInputException(s.constructor.name,e);var a=s.encode();a=(0,rI.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,Rm.default)(n,a[i].options);return a}function iI(){return qc.default.CODE128?"CODE128":Object.keys(qc.default)[0]}yo.prototype.options=function(e){return this._options=(0,Rm.default)(this._options,e),this};yo.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};yo.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var n=(0,Rm.default)(this._options,e.options);n.format=="auto"&&(n.format=iI()),this._errorHandler.wrapBarcodeCall(function(){var s=n.value,a=qc.default[n.format.toUpperCase()],i=aI(s,a,n);Ej(e,i,n)})}}};yo.prototype.render=function(){if(!this._renderProperties)throw new nI.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)Ej(this._renderProperties[e],this._encodings,this._options);else Ej(this._renderProperties,this._encodings,this._options);return this};yo.prototype._defaults=sI.default;function Ej(e,t,n){t=(0,rI.default)(t);for(var s=0;s<t.length;s++)t[s].options=(0,Rm.default)(n,t[s].options),(0,AC.default)(t[s].options);(0,AC.default)(n);var a=e.renderer,i=new a(e.element,t,n);i.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=c1);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each(function(){n.push(this)}),c1(n,e,t)});var pJ=c1;const gJ=Vt(pJ),d1=({value:e,format:t="CODE128",width:n=2,height:s=40,displayValue:a=!0})=>{const i=T.useRef(null);return T.useEffect(()=>{if(i.current&&e)try{gJ(i.current,e,{format:t,width:n,height:s,displayValue:a,margin:0,background:"#ffffff",lineColor:"#000000",fontSize:12})}catch(o){console.error("Barcode generation error:",o)}},[e,t,n,s,a]),e?r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("svg",{ref:i}),a&&r.jsx("span",{className:"text-xs text-gray-600 font-mono",children:e})]}):r.jsx("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded",children:r.jsx("span",{className:"text-gray-500 text-sm",children:"No barcode available"})})},oI=({onScanSuccess:e,onScanError:t,isScanning:n,setIsScanning:s})=>{T.useRef(null);const[a,i]=T.useState(null);T.useEffect(()=>{if(n&&!a){const h=new D7("barcode-scanner",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0},!1);h.render((u,x)=>{e(u,x),s(!1),h.clear()},u=>{t&&u.includes("NotFoundException")&&t(u)}),i(h)}else!n&&a&&(a.clear(),i(null));return()=>{a&&a.clear()}},[n,a,e,t,s]);const o=()=>{s(!0)},d=()=>{s(!1)};return r.jsx("div",{className:"space-y-4",children:n?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Scanning..."}),r.jsxs("button",{onClick:d,className:"inline-flex items-center px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx(eg,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),r.jsx("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden",children:r.jsx("div",{id:"barcode-scanner",className:"w-full"})}),r.jsx("div",{className:"text-center text-sm text-gray-500",children:"Position barcode within the scanning area"})]}):r.jsx("div",{className:"flex flex-col items-center space-y-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(d7,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Click to start barcode scanning"}),r.jsxs("button",{onClick:o,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx(A4,{className:"h-5 w-5 mr-2"}),"Start Scanning"]})]})})})},Ho=({title:e,value:t,icon:n,subtitle:s})=>r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 uppercase",children:e}),r.jsx("span",{children:n})]}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:t}),s&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s})]})}),EC=()=>{const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState(!1),[i,o]=T.useState(!1),[d,h]=T.useState(null),[u,x]=T.useState({totalOrders:0,activeOrders:0,completedOrders:0,delayedOrders:0,efficiency:0}),[p,b]=T.useState([]),[_,v]=T.useState([]),[N,j]=T.useState([]),[S,C]=T.useState([]),[A,E]=T.useState([]),[k,D]=T.useState(!0),[R,F]=T.useState(!1),[M,z]=T.useState(!1),[I,L]=T.useState(!1),[$,W]=T.useState(null),[U,Y]=T.useState([]),[X,V]=T.useState(!1),[G,ne]=T.useState(null),[ae,le]=T.useState(!1),[ie,fe]=T.useState(!1),[xe,ge]=T.useState(!1),[ke,Ae]=T.useState(!1);T.useEffect(()=>{Me(),Re(),Pe(),Ke(),lt(),vt(),Ne()},[]);const Ne=async()=>{try{const re=await he.get("/manufacturing/orders/incoming?status=ready_for_production");Y(re.data.orders||[])}catch(re){console.error("Error fetching incoming orders:",re)}},Me=async()=>{try{F(!0);const Oe=(await he.get("/manufacturing/dashboard/stats")).data,ze=Oe.totalOrders>0?Math.round(Oe.completedOrders/Oe.totalOrders*100):0;x({totalOrders:Oe.totalOrders,activeOrders:Oe.activeOrders,completedOrders:Oe.completedOrders,delayedOrders:Oe.delayedOrders,efficiency:ze})}catch(re){console.error("Failed to fetch dashboard stats:",re),ye.error("Failed to load dashboard statistics")}finally{F(!1),D(!1)}},Re=async()=>{try{const ze=((await he.get("/manufacturing/orders?status=cutting,embroidery,stitching,finishing,quality_check")).data.productionOrders||[]).map(Ze=>{var kn,sc,ii,Od,vn,oi,qn,et,Hi;const er=((kn=Ze.stages)==null?void 0:kn.filter(Wi=>Wi.status==="completed").length)||0,Nt=((sc=Ze.stages)==null?void 0:sc.length)||1,mr=Math.round(er/Nt*100),Ds=((Od=(ii=Ze.stages)==null?void 0:ii.find(Wi=>Wi.status==="in_progress"))==null?void 0:Od.stage_name)||((oi=(vn=Ze.stages)==null?void 0:vn.find(Wi=>Wi.status==="pending"))==null?void 0:oi.stage_name)||"Not Started";return{id:Ze.id,orderNo:Ze.production_number,productName:((qn=Ze.product)==null?void 0:qn.name)||"Unknown Product",quantity:Ze.quantity,currentStage:Ds.replace("_"," ").toUpperCase(),progress:mr,assignedWorker:((et=Ze.assignedUser)==null?void 0:et.name)||"Unassigned",status:Ze.status,expectedCompletion:Ze.planned_end_date?new Date(Ze.planned_end_date).toLocaleDateString():"TBD",productCode:(Hi=Ze.product)==null?void 0:Hi.product_code,priority:Ze.priority}});b(ze)}catch(re){console.error("Failed to fetch active orders:",re),ye.error("Failed to load active orders")}},Pe=async()=>{try{const re=await he.get("/products");v(re.data.products||[])}catch(re){console.error("Failed to fetch products:",re)}},Ke=async()=>{try{const re=[{name:"Cutting",key:"cutting",icon:Wt,color:"bg-blue-100 text-blue-800"},{name:"Embroidery",key:"embroidery",icon:ji,color:"bg-purple-100 text-purple-800"},{name:"Stitching",key:"stitching",icon:ji,color:"bg-green-100 text-green-800"},{name:"Finishing",key:"finishing",icon:Ut,color:"bg-yellow-100 text-yellow-800"},{name:"Quality Check",key:"quality_check",icon:pn,color:"bg-red-100 text-red-800"},{name:"Packaging",key:"packaging",icon:Wt,color:"bg-gray-100 text-gray-800"}],Oe=await Promise.all(re.map(async ze=>{var Ze;try{const Nt=((Ze=(await he.get(`/manufacturing/orders?status=${ze.key}`)).data.productionOrders)==null?void 0:Ze.length)||0;return{...ze,count:Nt}}catch{return{...ze,count:0}}}));j(Oe)}catch(re){console.error("Failed to fetch production stages:",re)}},lt=async()=>{try{C([{id:1,name:"John Doe",efficiency:95,tasksCompleted:12,currentTask:"Cutting Order #123"},{id:2,name:"Jane Smith",efficiency:88,tasksCompleted:10,currentTask:"Stitching Order #124"},{id:3,name:"Mike Johnson",efficiency:92,tasksCompleted:11,currentTask:"Quality Check Order #125"}])}catch(re){console.error("Failed to fetch worker performance:",re)}},vt=async()=>{var re;try{const ze=(await he.get("/manufacturing/dashboard/stats")).data.rejectionStats||[],Ze=ze.reduce((Nt,mr)=>Nt+mr.total_quantity,0),er=Ze>0?Math.max(0,100-Ze/100):100;E([{label:"Quality Rate",value:`${er.toFixed(1)}%`,color:"text-green-600"},{label:"Total Rejections",value:Ze,color:"text-red-600"},{label:"Top Rejection Reason",value:((re=ze[0])==null?void 0:re.reason)||"None",color:"text-yellow-600"}])}catch(Oe){console.error("Failed to fetch quality metrics:",Oe)}},Ot=async re=>{var Oe,ze;try{await he.post(`/manufacturing/orders/${re}/start`),ye.success("Production started successfully"),Re(),Me()}catch(Ze){ye.error(((ze=(Oe=Ze.response)==null?void 0:Oe.data)==null?void 0:ze.message)||"Failed to start production")}},ft=async re=>{var Oe,ze;try{await he.post(`/manufacturing/orders/${re}/pause`),ye.success("Production paused successfully"),Re(),Me()}catch(Ze){ye.error(((ze=(Oe=Ze.response)==null?void 0:Oe.data)==null?void 0:ze.message)||"Failed to pause production")}},ut=async re=>{var Oe,ze;try{await he.post(`/manufacturing/orders/${re}/stop`),ye.success("Production stopped successfully"),Re(),Me()}catch(Ze){ye.error(((ze=(Oe=Ze.response)==null?void 0:Oe.data)==null?void 0:ze.message)||"Failed to stop production")}},oe=re=>{h(re),a(!0)},Z=re=>{e(`/manufacturing/orders/${re.id}`)},ee=re=>{W(re),z(!0)},pe=async re=>{try{const ze=(await he.get(`/products/scan/${re}`)).data.product;if(ze){const Ze=p.filter(er=>er.productCode===ze.product_code);Ze.length>0?ye.success(`Found ${Ze.length} order(s) for ${ze.name}`):ye.info(`Product ${ze.name} found, but no active orders`)}}catch{ye.error("Product not found with this barcode")}L(!1)},Le=re=>{console.log("Scan error:",re)},Ee=async re=>{var Oe,ze;if(window.confirm("Are you sure you want to delete this production order? This action cannot be undone."))try{await he.delete(`/manufacturing/orders/${re}`),ye.success("Production order deleted successfully"),Re(),Me()}catch(Ze){ye.error(((ze=(Oe=Ze.response)==null?void 0:Oe.data)==null?void 0:ze.message)||"Failed to delete production order")}},$e=()=>{Me(),Re(),Ke(),lt(),vt(),Ne()},Xe=async re=>{try{await he.post("/manufacturing/orders",{order_id:re.id,product_id:re.product_id,quantity:re.quantity,priority:"medium",planned_start_date:new Date().toISOString().split("T")[0],planned_end_date:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],special_instructions:re.special_instructions}),await he.put(`/orders/${re.id}/status`,{status:"manufacturing_started",department:"manufacturing",action:"production_started",notes:"Production order created and started"}),await he.put(`/orders/${re.id}/qr-code`,{department:"manufacturing",status:"production_started",timestamp:new Date().toISOString(),materials:re.material_requirements,customer:re.customer,stage:"material_review"}),ye.success("Production started successfully"),Ne(),Re()}catch{ye.error("Failed to start production")}},wt=re=>{ne(re),V(!0)},be=re=>{ne(re),le(!0)},Be=async()=>{if(G)try{await he.put(`/manufacturing/orders/${G.id}/stages`,{stage:"material_review",status:"completed",notes:"Materials verified and available"}),await he.put(`/manufacturing/orders/${G.id}/stages`,{stage:"cutting",status:"in_progress"}),await he.put(`/orders/${G.order_id}/qr-code`,{department:"manufacturing",status:"material_verified",timestamp:new Date().toISOString(),stage:"cutting",materials_verified:!0}),ye.success("Material verification completed"),le(!1),ne(null),Re()}catch{ye.error("Failed to verify materials")}},gt=async(re,Oe,ze,Ze="")=>{try{await he.put(`/manufacturing/orders/${re}/stages`,{stage:Oe,status:ze,notes:Ze});const er={department:"manufacturing",status:`${Oe}_${ze}`,timestamp:new Date().toISOString(),stage:Oe,stage_status:ze},Nt=p.find(mr=>mr.id===re);Nt&&await he.put(`/orders/${Nt.order_id||re}/qr-code`,er),ye.success(`Stage ${Oe} ${ze}`),Re()}catch{ye.error(`Failed to update ${Oe} stage`)}},Et=async re=>{try{await he.put(`/orders/${re.order_id}/status`,{status:"ready_for_shipment",department:"shipment",action:"sent_to_shipment",notes:"Order ready for shipment"}),await he.put(`/orders/${re.order_id}/qr-code`,{department:"shipment",status:"ready_for_shipment",timestamp:new Date().toISOString(),stage:"ready_for_dispatch"}),ye.success("Order sent to shipment department"),Re()}catch{ye.error("Failed to send to shipment")}},Or=()=>{Ae(!0)},It=async re=>{try{const Oe=JSON.parse(re);if(Oe.orderId){const ze=[...U,...p].find(Ze=>Ze.id===Oe.orderId||Ze.order_id===Oe.orderId);ze?(ne(ze),Ae(!1),ye.success(`Order ${ze.orderNo||ze.production_number} scanned`)):ye.error("Order not found")}}catch{ye.error("Invalid QR code")}},[Ie,se]=T.useState({product_id:"",quantity:"",priority:"medium",planned_start_date:"",planned_end_date:"",special_instructions:"",outsourced_stages:[]}),we=async()=>{var re,Oe;try{if(!Ie.product_id||!Ie.quantity||!Ie.planned_start_date||!Ie.planned_end_date){ye.error("Please fill in all required fields");return}await he.post("/manufacturing/orders",Ie),ye.success("Production order created successfully"),o(!1),se({product_id:"",quantity:"",priority:"medium",planned_start_date:"",planned_end_date:"",special_instructions:"",outsourced_stages:[]}),Re(),Me()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to create production order")}},[De,tt]=T.useState({status:"",priority:"",planned_end_date:"",special_instructions:""}),Gt=async()=>{var re,Oe;try{if(!d)return;await he.put(`/manufacturing/orders/${d.id}`,De),ye.success("Production order updated successfully"),a(!1),h(null),tt({status:"",priority:"",planned_end_date:"",special_instructions:""}),Re(),Me()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to update production order")}},sr=()=>(K.useEffect(()=>{d&&s&&tt({status:d.status||"",priority:d.priority||"",planned_end_date:d.expectedCompletion?new Date(d.expectedCompletion).toISOString().split("T")[0]:"",special_instructions:""})},[d,s]),r.jsxs("div",{className:`fixed inset-0 z-50 ${s?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>a(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Update Order - ",d==null?void 0:d.orderNo]})}),r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:De.status,onChange:re=>tt({...De,status:re.target.value}),children:[r.jsx("option",{value:"",children:"Select Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"cutting",children:"Cutting"}),r.jsx("option",{value:"embroidery",children:"Embroidery"}),r.jsx("option",{value:"stitching",children:"Stitching"}),r.jsx("option",{value:"finishing",children:"Finishing"}),r.jsx("option",{value:"quality_check",children:"Quality Check"}),r.jsx("option",{value:"packaging",children:"Packaging"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"on_hold",children:"On Hold"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:De.priority,onChange:re=>tt({...De,priority:re.target.value}),children:[r.jsx("option",{value:"",children:"Select Priority"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"urgent",children:"Urgent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Planned End Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:De.planned_end_date,onChange:re=>tt({...De,planned_end_date:re.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),r.jsx("textarea",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",value:De.special_instructions,onChange:re=>tt({...De,special_instructions:re.target.value}),placeholder:"Enter any special instructions..."})]}),d&&r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Order Details"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Product:"})," ",d.productName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Quantity:"})," ",d.quantity]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Current Stage:"})," ",d.currentStage]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Progress:"})," ",d.progress,"%"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Assigned Worker:"})," ",d.assignedWorker]})]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),r.jsx("button",{onClick:Gt,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Update Order"})]})]})})]})),me=()=>r.jsxs("div",{className:`fixed inset-0 z-50 ${i?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>o(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Production Order"})}),r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product *"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Ie.product_id,onChange:re=>se({...Ie,product_id:re.target.value}),children:[r.jsx("option",{value:"",children:"Select Product"}),_.map(re=>r.jsxs("option",{value:re.id,children:[re.name," (",re.product_code,")"]},re.id))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Ie.quantity,onChange:re=>se({...Ie,quantity:re.target.value}),placeholder:"Enter quantity"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Ie.priority,onChange:re=>se({...Ie,priority:re.target.value}),children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Planned Start Date *"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Ie.planned_start_date,onChange:re=>se({...Ie,planned_start_date:re.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Planned End Date *"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:Ie.planned_end_date,onChange:re=>se({...Ie,planned_end_date:re.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),r.jsx("textarea",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",value:Ie.special_instructions,onChange:re=>se({...Ie,special_instructions:re.target.value}),placeholder:"Enter any special instructions..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outsource Stages (Optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select specific production stages to outsource to vendors"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"embroidery",label:"Embroidery"},{key:"stitching",label:"Stitching"},{key:"finishing",label:"Finishing"},{key:"quality_check",label:"Quality Check"}].map(re=>r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:Ie.outsourced_stages.includes(re.key),onChange:Oe=>{const ze=Oe.target.checked?[...Ie.outsourced_stages,re.key]:Ie.outsourced_stages.filter(Ze=>Ze!==re.key);se({...Ie,outsourced_stages:ze})},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:re.label})]},re.key))}),Ie.outsourced_stages.length>0&&r.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["✓ ",Ie.outsourced_stages.length," stage(s) will be outsourced"]})]})]})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),r.jsx("button",{onClick:we,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Create Order"})]})]})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manufacturing Dashboard"}),r.jsxs("button",{onClick:$e,disabled:R,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:[r.jsx(is,{className:`w-4 h-4 ${R?"animate-spin":""}`}),"Refresh"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-md hover:bg-purple-700 transition",children:[r.jsx(A4,{className:"w-4 h-4"}),"Scan Product"]}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition",children:[r.jsx(ln,{className:"w-4 h-4"}),"Create Order"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",onClick:()=>e("/manufacturing/orders/new"),children:[r.jsx(ji,{className:"w-5 h-5"}),"Production Wizard"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",onClick:()=>n(4),children:[r.jsx($n,{className:"w-5 h-5"}),"Outsourcing"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(Ho,{title:"Total Orders",value:u.totalOrders,icon:r.jsx(ji,{className:"w-6 h-6 text-blue-600"}),subtitle:"All production orders"}),r.jsx(Ho,{title:"Active Orders",value:u.activeOrders,icon:r.jsx(nf,{className:"w-6 h-6 text-green-600"}),subtitle:"Currently in production"}),r.jsx(Ho,{title:"Completed Orders",value:u.completedOrders,icon:r.jsx(Ut,{className:"w-6 h-6 text-green-600"}),subtitle:"Successfully completed"}),r.jsx(Ho,{title:"Delayed Orders",value:u.delayedOrders,icon:r.jsx(pn,{className:"w-6 h-6 text-red-600"}),subtitle:"Behind schedule"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[r.jsx("nav",{className:"flex space-x-8 px-6 border-b border-gray-200",children:["Incoming Orders","Active Orders","Production Stages","Worker Performance","Quality Control","Outsourcing","QR Code Scanner"].map((re,Oe)=>r.jsxs("button",{onClick:()=>n(Oe),className:`py-4 px-1 border-b-2 font-medium text-sm ${t===Oe?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[re,Oe===0&&U.length>0&&r.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:U.length})]},re))}),r.jsx("div",{className:t===0?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Incoming Orders from Inventory"}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{className:"px-4 py-2 rounded border border-blue-600 text-blue-600 hover:bg-blue-50 flex items-center gap-2",onClick:Or,children:[r.jsx(nd,{className:"w-4 h-4"})," Scan QR"]})})]}),r.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order No."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Materials"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[U.map(re=>{var Oe,ze,Ze,er;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:re.order_number}),r.jsx("td",{className:"px-6 py-4",children:(Oe=re.customer)==null?void 0:Oe.name}),r.jsx("td",{className:"px-6 py-4",children:(ze=re.garment_specs)==null?void 0:ze.product_type}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-xs",children:[(Ze=re.material_requirements)==null?void 0:Ze.slice(0,2).map((Nt,mr)=>r.jsxs("div",{children:[Nt.item,": ",Nt.quantity," ",Nt.unit]},mr)),((er=re.material_requirements)==null?void 0:er.length)>2&&r.jsxs("div",{children:["+",re.material_requirements.length-2," more"]})]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:re.quantity}),r.jsx("td",{className:"px-6 py-4",children:new Date(re.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("button",{onClick:()=>Xe(re),className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded transition-colors",title:"Start Production",children:r.jsx(nf,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>be(re),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"Material Verification",children:r.jsx(av,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>wt(re),className:"p-2 text-purple-600 hover:text-purple-900 hover:bg-purple-50 rounded transition-colors",title:"Production Stages",children:r.jsx(ji,{className:"w-4 h-4"})})]})})]},re.id)}),U.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"No incoming orders from inventory"})})]})]})})]})}),r.jsx("div",{className:t===1?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Orders in Production"}),r.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order No."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Current Stage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Progress"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned Worker"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expected Completion"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(re=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:re.orderNo}),r.jsx("td",{className:"px-6 py-4",children:re.productName}),r.jsx("td",{className:"px-6 py-4 text-right",children:re.quantity}),r.jsx("td",{className:"px-6 py-4",children:re.currentStage}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${re.progress}%`}})}),r.jsxs("span",{className:"text-xs text-gray-900",children:[re.progress,"%"]})]})}),r.jsx("td",{className:"px-6 py-4",children:re.assignedWorker}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:re.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-6 py-4",children:re.expectedCompletion}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("button",{onClick:()=>Ot(re.id),className:"p-1 text-green-600 hover:text-green-900 hover:bg-green-50 rounded transition-colors",title:"Start Production",children:r.jsx(nf,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ft(re.id),className:"p-1 text-yellow-600 hover:text-yellow-900 hover:bg-yellow-50 rounded transition-colors",title:"Pause Production",children:r.jsx(hp,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ut(re.id),className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Stop Production",children:r.jsx(eg,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>oe(re),className:"p-1 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"Edit Order",children:r.jsx(Bi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Z(re),className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded transition-colors",title:"View Details",children:r.jsx(Kr,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ee(re),className:"p-1 text-purple-600 hover:text-purple-900 hover:bg-purple-50 rounded transition-colors",title:"Show Barcode",children:r.jsx(nd,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Ee(re.id),className:"p-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Delete Order",children:r.jsx(Zy,{className:"w-4 h-4"})})]})})]},re.id))})]})})]})}),r.jsx("div",{className:t===1?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Production Stages Overview"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:N.map(re=>{const Oe=re.icon;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(`/manufacturing/orders?status=${re.key}`),children:[r.jsx(Oe,{className:"w-8 h-8 mx-auto mb-3 text-blue-600"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:re.name}),r.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:re.count}),r.jsx("p",{className:"text-sm text-gray-500",children:"Active orders"}),r.jsx("div",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full mt-2 ${re.color}`,children:re.key.replace("_"," ").toUpperCase()})]},re.key)})})]})}),r.jsx("div",{className:t===2?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Worker Performance"}),S.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(re=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx($n,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:re.name}),r.jsx("p",{className:"text-xs text-gray-500",children:"Production Worker"})]})]}),r.jsxs("div",{className:`text-sm font-medium ${re.efficiency>=90?"text-green-600":re.efficiency>=80?"text-yellow-600":"text-red-600"}`,children:[re.efficiency,"%"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Tasks Completed:"}),r.jsx("span",{className:"font-medium",children:re.tasksCompleted})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Current Task:"}),r.jsx("span",{className:"font-medium text-blue-600",children:re.currentTask})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${re.efficiency}%`}})})]})]},re.id))}):r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[r.jsx($n,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No worker performance data available."})]})]})}),r.jsx("div",{className:t===3?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Control Metrics"}),A.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:A.map((re,Oe)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:re.label}),r.jsx("div",{className:`text-2xl font-bold ${re.color}`,children:re.value})]},Oe))}):null,r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>e("/manufacturing/quality"),className:"flex items-center justify-center gap-2 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(_u,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Quality Reports"})]}),r.jsxs("button",{onClick:()=>e("/manufacturing/orders?tab=rejections"),className:"flex items-center justify-center gap-2 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(pn,{className:"w-5 h-5 text-red-600"}),r.jsx("span",{className:"font-medium",children:"Rejection Analysis"})]})]})]})]})}),r.jsx("div",{className:t===5?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Outsourcing Management"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>e("/outsourcing/vendors"),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-md hover:bg-purple-700 transition",children:[r.jsx($n,{className:"w-4 h-4"}),"Manage Vendors"]}),r.jsxs("button",{onClick:()=>e("/outsourcing/create-order"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition",children:[r.jsx(ln,{className:"w-4 h-4"}),"Create Outsource Order"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx(Ho,{title:"Active Outsource Orders",value:12,icon:r.jsx(Wt,{className:"w-6 h-6 text-blue-600"}),subtitle:"Currently with vendors"}),r.jsx(Ho,{title:"Completed Orders",value:45,icon:r.jsx(Ut,{className:"w-6 h-6 text-green-600"}),subtitle:"Successfully completed"}),r.jsx(Ho,{title:"Total Vendors",value:8,icon:r.jsx($n,{className:"w-6 h-6 text-purple-600"}),subtitle:"Active partnerships"}),r.jsx(Ho,{title:"Avg Delivery Time",value:"6.2",icon:r.jsx(Cn,{className:"w-6 h-6 text-orange-600"}),subtitle:"Days from vendor"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Recent Outsource Orders"}),r.jsx("button",{onClick:()=>e("/outsourcing/orders"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),r.jsx("div",{className:"space-y-3",children:[{id:1,orderNo:"OUT-2024-001",vendor:"Precision Embroidery",product:"Logo Embroidery",status:"in_progress",progress:65},{id:2,orderNo:"OUT-2024-002",vendor:"Elite Stitching",product:"Trouser Stitching",status:"completed",progress:100},{id:3,orderNo:"OUT-2024-003",vendor:"Quick Print",product:"Screen Printing",status:"delayed",progress:40}].map(re=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:re.orderNo}),r.jsxs("div",{className:"text-sm text-gray-600",children:[re.vendor," - ",re.product]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${re.status==="completed"?"bg-green-100 text-green-800":re.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:re.status.replace("_"," ").toUpperCase()}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[re.progress,"%"]})]}),r.jsx("button",{onClick:()=>e(`/outsourcing/orders/${re.id}`),className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded transition-colors",children:r.jsx(Kr,{className:"w-4 h-4"})})]})]},re.id))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Vendors"}),r.jsx("button",{onClick:()=>e("/outsourcing/performance"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View All"})]}),r.jsx("div",{className:"space-y-3",children:[{name:"Precision Embroidery",rating:4.8,orders:25,onTime:96},{name:"Elite Stitching Services",rating:4.6,orders:18,onTime:92},{name:"Quick Print Solutions",rating:4.2,orders:12,onTime:88}].map((re,Oe)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:re.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:[re.orders," orders completed"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-sm font-medium",children:re.rating}),r.jsx("span",{className:"text-yellow-500",children:"★"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[re.onTime,"% on-time"]})]})]},Oe))})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mt-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Outsourcing Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:()=>e("/outsourcing/performance"),className:"flex items-center justify-center gap-2 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Cr,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium",children:"Vendor Performance"})]}),r.jsxs("button",{onClick:()=>e("/outsourcing/quality"),className:"flex items-center justify-center gap-2 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Ut,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"Quality Reports"})]}),r.jsxs("button",{onClick:()=>e("/outsourcing/reports"),className:"flex items-center justify-center gap-2 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(_u,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"font-medium",children:"Outsource Reports"})]}),r.jsxs("button",{onClick:()=>e("/outsourcing/reports/export"),className:"flex items-center justify-center gap-2 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Wt,{className:"w-5 h-5 text-orange-600"}),r.jsx("span",{className:"font-medium",children:"Export Data"})]})]})]})]})}),r.jsx("div",{className:t===6?"block":"hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"QR Code Scanner"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Scan QR codes from production orders, challans, and materials to view detailed information"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scan QR Code"}),r.jsx(Cj,{embedded:!0})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>e("/manufacturing/orders"),className:"flex items-center justify-center gap-2 w-full p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(ji,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-medium",children:"View All Orders"})]}),r.jsxs("button",{onClick:()=>e("/manufacturing/challans"),className:"flex items-center justify-center gap-2 w-full p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(Wt,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium",children:"View Challans"})]}),r.jsxs("button",{onClick:()=>e("/inventory"),className:"flex items-center justify-center gap-2 w-full p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(_u,{className:"w-5 h-5 text-purple-600"}),r.jsx("span",{className:"font-medium",children:"Inventory Management"})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-semibold text-blue-900 mb-2",children:"QR Code Features"}),r.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Scan production order QR codes to view progress"}),r.jsx("li",{children:"• Track challan details and delivery status"}),r.jsx("li",{children:"• Monitor material usage and quality metrics"}),r.jsx("li",{children:"• Verify vendor work with external partners"})]})]})]})]})]})})]}),r.jsx(sr,{}),r.jsx(me,{}),r.jsxs("div",{className:`fixed inset-0 z-50 ${ke?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>Ae(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scan QR Code"})}),r.jsx("div",{className:"px-6 py-6",children:r.jsx(Cj,{onScanSuccess:It,onScanError:re=>ye.error("Scan failed: "+re),isScanning:ke,setIsScanning:Ae})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>Ae(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"})})]})})]}),r.jsxs("div",{className:`fixed inset-0 z-50 ${ae?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>le(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Material Verification - ",G==null?void 0:G.order_number]})}),r.jsx("div",{className:"px-6 py-6",children:(G==null?void 0:G.material_requirements)&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.material_requirements.map((re,Oe)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:re.item}),r.jsxs("span",{className:"text-sm text-gray-600",children:[re.quantity," ",re.unit]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Required: ",re.quantity*G.quantity," ",re.unit]}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:`material-${Oe}`,className:"rounded border-gray-300"}),r.jsx("label",{htmlFor:`material-${Oe}`,className:"text-sm",children:"Available"})]})]},Oe))}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),r.jsx("button",{onClick:Be,className:"px-4 py-2 bg-green-600 text-white hover:bg-green-700 rounded-md",children:"Confirm Verification"})]})]})})]})})]}),r.jsxs("div",{className:`fixed inset-0 z-50 ${X?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>V(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Production Stages - ",G==null?void 0:G.order_number]})}),r.jsx("div",{className:"px-6 py-6",children:G&&r.jsxs("div",{className:"space-y-6",children:[[{name:"Material Review",status:"completed",icon:av},{name:"Measurement & Cutting",status:"in_progress",icon:HH},{name:"Printing/Embroidery",status:"pending",icon:CH},{name:"Stitching",status:"pending",icon:tW},{name:"Finishing",status:"pending",icon:av},{name:"Quality Check",status:"pending",icon:Ut}].map((re,Oe)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(re.icon,{className:`w-5 h-5 ${re.status==="completed"?"text-green-600":re.status==="in_progress"?"text-blue-600":"text-gray-400"}`}),r.jsx("span",{className:"font-medium",children:re.name})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${re.status==="completed"?"bg-green-100 text-green-800":re.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:re.status.replace("_"," ").toUpperCase()}),re.status==="in_progress"&&r.jsx("button",{onClick:()=>gt(G.id,re.name.toLowerCase().replace(" & ","_").replace(" ","_"),"completed"),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"Complete"})]})]},Oe)),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Close"}),r.jsx("button",{onClick:()=>Et(G),className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-md",children:"Send to Shipment"})]})]})})]})})]}),r.jsxs("div",{className:`fixed inset-0 z-50 ${M?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>z(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Product Barcode - ",$==null?void 0:$.orderNo]})}),r.jsx("div",{className:"px-6 py-6",children:$!=null&&$.productCode?r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(d1,{value:$.productCode}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Product:"})," ",$.productName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Order:"})," ",$.orderNo]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Quantity:"})," ",$.quantity]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Stage:"})," ",$.currentStage]})]})]}):r.jsx("div",{className:"text-center text-gray-500",children:"No barcode available for this product"})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Close"})})]})})]}),r.jsxs("div",{className:`fixed inset-0 z-50 ${I?"block":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>L(!1)}),r.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scan Product Barcode"})}),r.jsx("div",{className:"px-6 py-6",children:r.jsx(oI,{onScanSuccess:pe,onScanError:Le,isScanning:I,setIsScanning:L})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:r.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"})})]})})]})]})},yJ="modulepreload",bJ=function(e){return"/"+e},kC={},Ml=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(h=>{if(h=bJ(h),h in kC)return;kC[h]=!0;const u=h.endsWith(".css"),x=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":yJ,u||(p.as="script"),p.crossOrigin="",p.href=h,d&&p.setAttribute("nonce",d),document.head.appendChild(p),u)return new Promise((b,_)=>{p.addEventListener("load",b),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return a.then(o=>{for(const d of o||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})},TC=()=>{const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState({totalChallans:0,openChallans:0}),[i,o]=T.useState(!0);K.useEffect(()=>{d()},[]);const d=async()=>{try{o(!0);const b=await Ml(()=>Promise.resolve().then(()=>Pl),void 0).then(_=>_.default.get("/outsourcing/dashboard/stats"));a(b.data)}catch{a({totalChallans:0,openChallans:0})}finally{o(!1)}},h=[{id:1,orderNo:"OUT-2024-001",vendorName:"Precision Embroidery Works",productName:"School Logo Embroidery",quantity:500,orderDate:"2024-11-20",expectedReturn:"2024-12-05",actualReturn:null,status:"in_progress",progress:65,outwardChallan:"CHN-20241120-0001",inwardChallan:null,qualityRating:null},{id:2,orderNo:"OUT-2024-002",vendorName:"Elite Stitching Services",productName:"Trouser Stitching",quantity:300,orderDate:"2024-11-22",expectedReturn:"2024-12-08",actualReturn:"2024-12-06",status:"completed",progress:100,outwardChallan:"CHN-20241122-0001",inwardChallan:"CHN-20241206-0001",qualityRating:4.5},{id:3,orderNo:"OUT-2024-003",vendorName:"Quick Print Solutions",productName:"Screen Printing",quantity:200,orderDate:"2024-11-25",expectedReturn:"2024-12-10",actualReturn:null,status:"delayed",progress:40,outwardChallan:"CHN-20241125-0001",inwardChallan:null,qualityRating:null}],u=[{id:1,name:"Precision Embroidery Works",specialization:"Embroidery",contact:"+91 9876543210",email:"contact@precisionembroidery.com",location:"Mumbai, Maharashtra",rating:4.5,activeOrders:3,completedOrders:25,onTimeDelivery:92,avgDeliveryTime:7,qualityScore:4.3,paymentTerms:"30 Days"},{id:2,name:"Elite Stitching Services",specialization:"Stitching",contact:"+91 9876543211",email:"info@elitestitching.com",location:"Bangalore, Karnataka",rating:4.2,activeOrders:2,completedOrders:18,onTimeDelivery:88,avgDeliveryTime:8,qualityScore:4.1,paymentTerms:"45 Days"},{id:3,name:"Quick Print Solutions",specialization:"Printing",contact:"+91 9876543212",email:"sales@quickprint.com",location:"Delhi, NCR",rating:3.8,activeOrders:1,completedOrders:12,onTimeDelivery:75,avgDeliveryTime:10,qualityScore:3.9,paymentTerms:"60 Days"}],x=b=>({pending:"warning",in_progress:"primary",quality_check:"info",completed:"success",delayed:"error",rejected:"error"})[b]||"default",p=({title:b,value:_,icon:v,color:N="primary",subtitle:j,unit:S})=>{const C={primary:"bg-blue-100",success:"bg-green-100",info:"bg-cyan-100",warning:"bg-yellow-100",secondary:"bg-purple-100"};return r.jsx("div",{className:"bg-white p-6 rounded-lg shadow h-full",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500 mb-1 tracking-wide",children:b}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[_,S&&r.jsx("span",{className:"text-sm text-gray-500",children:S})]}),j&&r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:j})]}),r.jsx("div",{className:`rounded-full p-3 flex items-center justify-center ${C[N]||"bg-blue-100"}`,children:v})]})})};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Outsourcing Dashboard"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>e("/outsourcing/vendors"),children:[r.jsx(Ka,{className:"w-4 h-4"}),"Manage Vendors"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>e("/outsourcing/create-order"),children:[r.jsx(ln,{className:"w-4 h-4"}),"Create Outsource Order"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-6 mb-6",children:[r.jsx("div",{children:r.jsx(p,{title:"Active Orders",value:s.activeOrders,icon:r.jsx(kr,{}),color:"primary"})}),r.jsx("div",{children:r.jsx(p,{title:"Completed Orders",value:s.completedOrders,icon:r.jsx(Ut,{}),color:"success"})}),r.jsx("div",{children:r.jsx(p,{title:"Total Vendors",value:s.totalVendors,icon:r.jsx(Ka,{}),color:"info"})}),r.jsx("div",{children:r.jsx(p,{title:"Avg Delivery",value:s.avgDeliveryTime,unit:" days",icon:r.jsx(Oa,{}),color:"warning"})}),r.jsx("div",{children:r.jsx(p,{title:"Quality Score",value:s.qualityScore,unit:"/5",icon:r.jsx(Cr,{}),color:"success"})}),r.jsx("div",{children:r.jsx(p,{title:"On-Time Delivery",value:s.onTimeDelivery,unit:"%",icon:r.jsx(ks,{}),color:"secondary"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quick Search & Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by order no, vendor name...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r.jsx("div",{children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>e("/outsourcing/performance"),children:"Vendor Performance"})}),r.jsx("div",{children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>e("/outsourcing/quality"),children:"Quality Reports"})}),r.jsx("div",{children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>e("/outsourcing/reports"),children:"Outsource Reports"})}),r.jsx("div",{children:r.jsxs("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",onClick:()=>e("/outsourcing/reports/export"),children:[r.jsx(On,{className:"w-4 h-4"}),"Export Data"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("div",{className:"flex",children:[{label:"Outsource Orders",index:0},{label:"Vendor Directory",index:1},{label:"Quality Control",index:2},{label:"Performance Analytics",index:3}].map(b=>r.jsx("button",{className:`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${t===b.index?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>n(b.index),children:b.label},b.index))})}),r.jsx("div",{children:(()=>{switch(t){case 0:return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold",children:["Outsource Orders (",h.length,")"]}),r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",onClick:()=>e("/outsourcing/orders"),children:"View All Orders"})]}),r.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order No."}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product/Service"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expected Return"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality Rating"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(b=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.orderNo})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:b.vendorName}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:b.productName}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:b.quantity}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:b.expectedReturn}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(b.status)}`,children:b.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${b.progress}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[b.progress,"%"]})]})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:b.qualityRating?r.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((_,v)=>r.jsx("span",{className:`text-sm ${v<Math.floor(b.qualityRating)?"text-yellow-400":"text-gray-300"}`,children:"★"},v)),r.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",b.qualityRating,")"]})]}):r.jsx("span",{className:"text-xs text-gray-500",children:"Pending"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1",onClick:()=>e(`/outsourcing/orders/${b.id}`),children:r.jsx(Kr,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1",onClick:()=>e(`/outsourcing/orders/edit/${b.id}`),children:r.jsx(Bi,{className:"w-4 h-4"})})]})})]},b.id))})]})})]});case 1:return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Vendor Directory"}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",onClick:()=>e("/outsourcing/add-vendor"),children:[r.jsx(Ka,{className:"w-4 h-4"}),"Add Vendor"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(b=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 h-full",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center mr-3",children:b.name.charAt(0)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold",children:b.name}),r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:b.specialization})]})]}),r.jsxs("div",{className:"mb-4 space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(C4,{className:"w-4 h-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:b.contact})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(x7,{className:"w-4 h-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:b.email})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ul,{className:"w-4 h-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:b.location})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-blue-600",children:b.activeOrders}),r.jsx("div",{className:"text-xs text-gray-500",children:"Active Orders"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[b.onTimeDelivery,"%"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"On-Time Delivery"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((_,v)=>r.jsx("span",{className:`text-sm ${v<Math.floor(b.rating)?"text-yellow-400":"text-gray-300"}`,children:"★"},v))}),r.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:["(",b.rating,")"]})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[b.avgDeliveryTime," days avg"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"flex-1 px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50",onClick:()=>e(`/outsourcing/vendors/${b.id}`),children:"View Details"}),r.jsx("button",{className:"flex-1 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",onClick:()=>e(`/outsourcing/create-order?vendor=${b.id}`),children:"Create Order"})]})]},b.id))})]});case 2:return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quality Control Metrics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx(Ut,{className:"w-10 h-10 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.qualityScore+"/5"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Average Quality Score"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx(pn,{className:"w-10 h-10 text-yellow-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold",children:"3"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Quality Issues This Month"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[r.jsx(Cr,{className:"w-10 h-10 text-blue-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold",children:"95%"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Acceptance Rate"})]})]})]});case 3:return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Performance Analytics"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Comprehensive vendor performance analytics and trends will be displayed here."})]});default:return null}})()})]})]})},vJ=[{key:"orders",label:"Sample Orders"},{key:"tracking",label:"Sample Tracking"},{key:"conversion",label:"Conversion Analysis"},{key:"cost",label:"Cost Analysis"}],kj={pending_approval:"border-amber-200 bg-amber-100 text-amber-700",approved:"border-blue-200 bg-blue-100 text-blue-700",in_production:"border-indigo-200 bg-indigo-100 text-indigo-700",ready_to_ship:"border-cyan-200 bg-cyan-100 text-cyan-700",delivered:"border-emerald-200 bg-emerald-100 text-emerald-700",rejected:"border-rose-200 bg-rose-100 text-rose-700",completed:"border-emerald-200 bg-emerald-100 text-emerald-700",in_progress:"border-indigo-200 bg-indigo-100 text-indigo-700",waiting:"border-amber-200 bg-amber-100 text-amber-700"},lI={approved:"border-emerald-200 bg-emerald-50 text-emerald-700",rejected:"border-rose-200 bg-rose-50 text-rose-700",modifications_requested:"border-amber-200 bg-amber-50 text-amber-700"},sg={converted:"border-emerald-200 bg-emerald-50 text-emerald-700",rejected:"border-rose-200 bg-rose-50 text-rose-700",in_discussion:"border-amber-200 bg-amber-50 text-amber-700",pending:"border-blue-200 bg-blue-50 text-blue-700"},cI={paid:"border-blue-200 bg-blue-50 text-blue-700",free:"border-purple-200 bg-purple-50 text-purple-700"},Au={totalSamples:156,pendingSamples:23,conversionRate:68.5,totalRevenue:285e3},Jn=[{id:1,sampleNo:"SMP-2024-001",customerName:"ABC School",productName:"School Uniform - Shirt",sampleType:"paid",quantity:5,cost:2500,requestDate:"2024-11-20",deliveryDate:"2024-11-25",status:"delivered",feedback:"approved",conversionStatus:"converted",orderValue:425e3,outwardChallan:"CHN-20241125-0001",inwardChallan:null},{id:2,sampleNo:"SMP-2024-002",customerName:"XYZ College",productName:"Sports Jersey",sampleType:"free",quantity:3,cost:0,requestDate:"2024-11-22",deliveryDate:"2024-11-28",status:"in_production",feedback:null,conversionStatus:"pending",orderValue:null,outwardChallan:null,inwardChallan:null},{id:3,sampleNo:"SMP-2024-003",customerName:"PQR Academy",productName:"Winter Jacket",sampleType:"paid",quantity:2,cost:3600,requestDate:"2024-11-25",deliveryDate:"2024-12-02",status:"delivered",feedback:"modifications_requested",conversionStatus:"in_discussion",orderValue:null,outwardChallan:"CHN-20241202-0001",inwardChallan:null},{id:4,sampleNo:"SMP-2024-004",customerName:"LMN School",productName:"Formal Blazer",sampleType:"free",quantity:1,cost:0,requestDate:"2024-11-28",deliveryDate:"2024-12-05",status:"pending_approval",feedback:null,conversionStatus:"pending",orderValue:null,outwardChallan:null,inwardChallan:null}],dI=[{id:1,sampleNo:"SMP-2024-001",stage:"Delivered",status:"completed",startDate:"2024-11-20",endDate:"2024-11-25",duration:5,assignedTo:"Rajesh Kumar"},{id:2,sampleNo:"SMP-2024-002",stage:"Production",status:"in_progress",startDate:"2024-11-22",endDate:null,duration:null,assignedTo:"Priya Singh"},{id:3,sampleNo:"SMP-2024-003",stage:"Customer Review",status:"waiting",startDate:"2024-12-02",endDate:null,duration:null,assignedTo:"Customer"}],Tj=Jn.map(e=>({id:e.id,sampleNo:e.sampleNo,customerName:e.customerName,productName:e.productName,conversionStatus:e.conversionStatus,orderValue:e.orderValue})),jJ=[{label:"Average Sample Cost",value:"₹3,150"},{label:"Total Paid Samples",value:"82"},{label:"Total Free Samples",value:"74"},{label:"Conversion ROI",value:"4.8x"}],PC={sampleType:[{label:"Paid Samples",value:"52%"},{label:"Free Samples",value:"48%"}],costBreakdown:[{label:"Production Costs",value:"₹1.8L"},{label:"Logistics & Delivery",value:"₹1.2L"}]},Fn=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),uI=e=>e.split(" ").map(t=>t[0]).join("").slice(0,2).toUpperCase(),ag=e=>e?`₹${e.toLocaleString()}`:"Free",Ha=(e,t)=>e[t]||"border-gray-200 bg-gray-100 text-gray-600",Bd=({title:e,value:t,Icon:n,iconClasses:s,subtitle:a})=>r.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:e}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:t}),a&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]}),r.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${s}`,children:r.jsx(n,{className:"h-5 w-5","aria-hidden":!0})})]})}),IC=()=>{const e=_t(),[t,n]=T.useState("orders"),[s,a]=T.useState({totalSamples:0,pendingSamples:0,approvedSamples:0}),[i,o]=T.useState(!0);K.useEffect(()=>{d()},[]);const d=async()=>{try{o(!0);const h=await Ml(()=>Promise.resolve().then(()=>Pl),void 0).then(u=>u.default.get("/samples/dashboard/stats"));a(h.data)}catch{a({totalSamples:0,pendingSamples:0,approvedSamples:0})}finally{o(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Samples Dashboard"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Track sample orders, monitor production progress, and analyse conversions."})]}),r.jsxs("button",{type:"button",onClick:()=>e("/samples/create-request"),className:"inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-blue-700",children:[r.jsx(ln,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Create Sample Request"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-6",children:[r.jsx(Bd,{title:"Total Samples",value:s.totalSamples,Icon:Nj,iconClasses:"bg-blue-50 text-blue-600"}),r.jsx(Bd,{title:"Pending Samples",value:s.pendingSamples,Icon:jj,iconClasses:"bg-amber-50 text-amber-600"}),r.jsx(Bd,{title:"Approved Samples",value:s.approvedSamples,Icon:Ut,iconClasses:"bg-emerald-50 text-emerald-600"}),r.jsx(Bd,{title:"Rejected Samples",value:s.rejectedSamples,Icon:Su,iconClasses:"bg-rose-50 text-rose-600"}),r.jsx(Bd,{title:"Conversion Rate",value:`${s.conversionRate}%`,Icon:Cr,iconClasses:"bg-indigo-50 text-indigo-600"}),r.jsx(Bd,{title:"Sample Revenue",value:`₹${(s.totalRevenue/1e3).toFixed(0)}K`,Icon:Cu,iconClasses:"bg-emerald-50 text-emerald-600",subtitle:"This month"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Search & Actions"}),r.jsxs("div",{className:"mt-4 grid gap-4 lg:grid-cols-5",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400","aria-hidden":!0}),r.jsx("input",{type:"text",placeholder:"Search by sample no, customer name...",className:"w-full rounded-md border border-gray-200 bg-white py-2.5 pl-10 pr-3 text-sm text-gray-700 placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}),r.jsx("button",{type:"button",onClick:()=>e("/samples/tracking"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"Tracking Overview"}),r.jsx("button",{type:"button",onClick:()=>e("/samples/conversion"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"Conversion Analysis"}),r.jsx("button",{type:"button",onClick:()=>e("/samples/reports"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"Sample Reports"}),r.jsxs("button",{type:"button",onClick:()=>e("/samples/orders/export"),className:"inline-flex items-center justify-center rounded-md bg-gray-900 px-4 py-2 text-sm font-medium text-white transition hover:bg-gray-800",children:[r.jsx(On,{className:"mr-2 h-4 w-4","aria-hidden":!0})," Export Data"]})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm",children:[r.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:vJ.map(h=>{const u=t===h.key;return r.jsx("button",{type:"button",onClick:()=>n(h.key),className:`relative px-5 py-3 text-sm font-medium transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 ${u?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:h.label},h.key)})}),r.jsxs("div",{className:"p-6",children:[t==="orders"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sample Orders (",Jn.length,")"]}),r.jsx("button",{type:"button",onClick:()=>e("/samples/orders"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"View All Orders"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Sample No."}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Customer"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Product"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Type"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Qty"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Cost"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Status"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Feedback"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Conversion"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:Jn.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:h.sampleNo}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.customerName}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.productName}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Ha(cI,h.sampleType)}`,children:h.sampleType.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-700",children:h.quantity}),r.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-700",children:ag(h.cost)}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Ha(kj,h.status)}`,children:Fn(h.status)})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:h.feedback?r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Ha(lI,h.feedback)}`,children:Fn(h.feedback)}):r.jsx("span",{className:"text-xs font-medium uppercase text-gray-400",children:"Pending"})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Ha(sg,h.conversionStatus)}`,children:Fn(h.conversionStatus)})}),r.jsx("td",{className:"px-4 py-3 text-center text-sm",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-blue-600 transition hover:bg-blue-50",children:[r.jsx(Kr,{className:"h-4 w-4","aria-hidden":!0}),r.jsx("span",{className:"sr-only",children:"View sample"})]}),r.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-gray-600 transition hover:bg-gray-100",children:[r.jsx(y7,{className:"h-4 w-4","aria-hidden":!0}),r.jsx("span",{className:"sr-only",children:"Edit sample"})]})]})})]},h.id))})]})})]}),t==="tracking"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sample Production Tracking"}),r.jsx("button",{type:"button",onClick:()=>e("/samples/tracking"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"View Detailed Tracking"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Sample No."}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Current Stage"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Status"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Start Date"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"End Date"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Duration (Days)"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Assigned To"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:dI.map(h=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:h.sampleNo}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.stage}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Ha(kj,h.status)}`,children:Fn(h.status)})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.startDate}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:h.endDate||"In Progress"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:h.duration?`${h.duration} days`:"Ongoing"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-xs font-semibold uppercase text-blue-600",children:uI(h.assignedTo)}),r.jsx("span",{children:h.assignedTo})]})}),r.jsx("td",{className:"px-4 py-3 text-center text-sm",children:r.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-blue-600 transition hover:bg-blue-50",children:[r.jsx(Kr,{className:"h-4 w-4","aria-hidden":!0}),r.jsx("span",{className:"sr-only",children:"View tracking"})]})})]},h.id))})]})})]}),t==="conversion"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sample to Order Conversion Analysis"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Understand how samples are translating into confirmed production orders."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:r.jsx(Ut,{className:"h-6 w-6","aria-hidden":!0})}),r.jsxs("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:[s.conversionRate,"%"]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Overall Conversion Rate"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-indigo-50 text-indigo-600",children:r.jsx(Cr,{className:"h-6 w-6","aria-hidden":!0})}),r.jsx("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:"67"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Converted Orders"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:r.jsx(Cu,{className:"h-6 w-6","aria-hidden":!0})}),r.jsx("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:"₹42.5L"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Revenue from Conversions"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-amber-50 text-amber-600",children:r.jsx(jj,{className:"h-6 w-6","aria-hidden":!0})}),r.jsx("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:"7.5"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Avg Days to Convert"})]})]})]}),t==="cost"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sample Cost Analysis"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor investment in sample creation against realised revenue."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-indigo-50 text-indigo-600",children:r.jsx(Cu,{className:"h-6 w-6","aria-hidden":!0})}),r.jsxs("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:["₹",(s.totalRevenue/1e3).toFixed(0),"K"]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Total Sample Revenue"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-blue-50 text-blue-600",children:r.jsx(Nj,{className:"h-6 w-6","aria-hidden":!0})}),r.jsx("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:"₹1,825"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Average Sample Cost"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 text-center shadow-sm",children:[r.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:r.jsx(Cr,{className:"h-6 w-6","aria-hidden":!0})}),r.jsx("p",{className:"mt-3 text-3xl font-semibold text-gray-900",children:"15.2x"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ROI on Paid Samples"})]})]})]})]})]})]})},wJ=({isOpen:e,onClose:t,shipment:n})=>{var s,a,i,o,d,h;return!e||!n?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Shipment Details"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(sd,{size:24})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipment Number"}),r.jsx("p",{className:"text-sm text-gray-900 font-mono",children:n.shipment_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),r.jsx("p",{className:"text-sm text-gray-900",children:((s=n.salesOrder)==null?void 0:s.order_number)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${NJ(n.status)}`,children:n.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking Number"}),r.jsx("p",{className:"text-sm text-gray-900 font-mono",children:n.tracking_number||"Not assigned"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Wt,{size:20}),"Customer Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:((i=(a=n.salesOrder)==null?void 0:a.customer)==null?void 0:i.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient Name"}),r.jsx("p",{className:"text-sm text-gray-900",children:n.recipient_name||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),r.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-1",children:[r.jsx(C4,{size:14}),n.recipient_phone||"N/A"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-1",children:[r.jsx(x7,{size:14}),((d=(o=n.salesOrder)==null?void 0:o.customer)==null?void 0:d.email)||"N/A"]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ks,{size:20}),"Shipping Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Courier Partner"}),r.jsx("p",{className:"text-sm text-gray-900",children:((h=n.courierPartner)==null?void 0:h.name)||n.courier_company||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Method"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:n.shipping_method||"Standard"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipment Date"}),r.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-1",children:[r.jsx(Oa,{size:14}),new Date(n.shipment_date).toLocaleDateString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Delivery"}),r.jsxs("p",{className:"text-sm text-gray-900 flex items-center gap-1",children:[r.jsx(Oa,{size:14}),new Date(n.expected_delivery_date).toLocaleDateString()]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ul,{size:20}),"Delivery Address"]}),r.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:n.shipping_address})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Package Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Quantity"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[n.total_quantity," items"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Weight"}),r.jsxs("p",{className:"text-sm text-gray-900",children:[n.total_weight||"N/A"," kg"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),r.jsxs("p",{className:"text-sm text-gray-900",children:["₹",n.shipping_cost||0]})]})]})]}),n.special_instructions&&r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Special Instructions"}),r.jsx("p",{className:"text-sm text-gray-900 bg-yellow-50 p-3 rounded-md border border-yellow-200",children:n.special_instructions})]})]}),r.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:r.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Close"})})]})})},NJ=e=>({preparing:"bg-amber-100 text-amber-700",packed:"bg-blue-100 text-blue-700",ready_to_ship:"bg-indigo-100 text-indigo-700",shipped:"bg-sky-100 text-sky-700",in_transit:"bg-blue-100 text-blue-700",out_for_delivery:"bg-indigo-100 text-indigo-700",delivered:"bg-emerald-100 text-emerald-700",failed_delivery:"bg-rose-100 text-rose-700",returned:"bg-rose-100 text-rose-700",cancelled:"bg-gray-100 text-gray-700"})[e]||"bg-gray-100 text-gray-700",DC=()=>{const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState(!0),[i,o]=T.useState(!1),[d,h]=T.useState({totalShipments:0,inTransit:0,delivered:0,delayed:0,onTimeDeliveryRate:0,avgDeliveryTime:0}),[u,x]=T.useState([]),[p,b]=T.useState([]),[_,v]=T.useState([]),[N,j]=T.useState([]),[S,C]=T.useState(null),[A,E]=T.useState(!1),[k,D]=T.useState(!1),[R,F]=T.useState(!1),[M,z]=T.useState(!1),[I,L]=T.useState(null),[$,W]=T.useState(""),[U,Y]=T.useState(""),[X,V]=T.useState(""),G=async()=>{try{const oe=await he.get("/shipments/dashboard/stats");h(oe.data)}catch(oe){console.error("Failed to fetch dashboard stats:",oe),it.error("Failed to load dashboard statistics")}},ne=async()=>{try{const oe=new URLSearchParams;$&&oe.append("search",$),U&&oe.append("status",U),X&&oe.append("courier_partner_id",X),oe.append("limit","20");const Z=await he.get(`/shipments?${oe.toString()}`);x(Z.data.shipments)}catch(oe){console.error("Failed to fetch shipments:",oe),it.error("Failed to load shipments")}},ae=async()=>{try{const oe=await he.get("/courier-partners?is_active=true");b(oe.data.courierPartners)}catch(oe){console.error("Failed to fetch courier partners:",oe),it.error("Failed to load courier partners")}},le=async()=>{try{const Z=(await he.get("/shipments?status=in_transit,out_for_delivery&limit=10")).data.shipments.map(ee=>{var pe,Le,Ee,$e,Xe,wt;return{shipmentNo:ee.shipment_number,status:ee.status,location:((Le=(pe=ee.trackingUpdates)==null?void 0:pe[0])==null?void 0:Le.location)||"Unknown",timestamp:(($e=(Ee=ee.trackingUpdates)==null?void 0:Ee[0])==null?void 0:$e.timestamp)||ee.last_status_update,remarks:((wt=(Xe=ee.trackingUpdates)==null?void 0:Xe[0])==null?void 0:wt.description)||"No updates available"}});v(Z)}catch(oe){console.error("Failed to fetch delivery tracking:",oe),it.error("Failed to load delivery tracking")}},ie=async()=>{try{const oe=await he.get("/shipments/orders/incoming?status=ready_for_shipment");j(oe.data.orders||[])}catch(oe){console.error("Error fetching incoming orders:",oe)}};T.useEffect(()=>{(async()=>{a(!0),await Promise.all([G(),ne(),ae(),le(),ie()]),a(!1)})()},[]),T.useEffect(()=>{s||ne()},[$,U,X]);const fe=async()=>{o(!0),await Promise.all([G(),ne(),ae(),le(),ie()]),o(!1),it.success("Data refreshed successfully")},xe=async()=>{try{const oe=new URLSearchParams;U&&oe.append("status",U),$&&oe.append("search",$),oe.append("format","csv");const Z=await he.get(`/shipments/export/data?${oe.toString()}`,{responseType:"blob"}),ee=new Blob([Z.data],{type:"text/csv"}),pe=window.URL.createObjectURL(ee),Le=document.createElement("a");Le.href=pe,Le.download=`shipments_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),window.URL.revokeObjectURL(pe),it.success("Shipments data exported successfully")}catch(oe){console.error("Export failed:",oe),it.error("Failed to export shipments data")}},ge=oe=>{e(`/shipment/tracking/${oe.tracking_number||oe.shipment_number}`)},ke=oe=>{C(oe),E(!0)},Ae=oe=>{C(oe),D(!0)},Ne=async oe=>{var Z,ee;if(window.confirm("Are you sure you want to delete this shipment? This action cannot be undone."))try{await he.delete(`/shipments/${oe}`),it.success("Shipment deleted successfully"),ne(),G()}catch(pe){it.error(((ee=(Z=pe.response)==null?void 0:Z.data)==null?void 0:ee.message)||"Failed to delete shipment")}},Me=oe=>{oe?e(`/shipment/tracking/${oe}`):it.error("No tracking number available")},Re=oe=>{C(oe),F(!0)},Pe=oe=>{L(oe),z(!0)},Ke=oe=>{e("/shipment/create",{state:{selectedCourier:oe}})},lt=oe=>{e("/shipment/create",{state:{orderFromManufacturing:oe}})},vt=oe=>{C(oe),E(!0)},Ot=oe=>({preparing:"bg-amber-100 text-amber-700",packed:"bg-blue-100 text-blue-700",ready_to_ship:"bg-indigo-100 text-indigo-700",shipped:"bg-sky-100 text-sky-700",in_transit:"bg-blue-100 text-blue-700",out_for_delivery:"bg-indigo-100 text-indigo-700",delivered:"bg-emerald-100 text-emerald-700",failed_delivery:"bg-rose-100 text-rose-700",returned:"bg-rose-100 text-rose-700",cancelled:"bg-gray-100 text-gray-700"})[oe]||"bg-gray-100 text-gray-700",ft=({title:oe,value:Z,icon:ee,color:pe="bg-blue-100 text-blue-600",subtitle:Le,unit:Ee})=>r.jsx("div",{className:"bg-white shadow-sm border border-gray-200 p-4 h-full",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted uppercase tracking-wide mb-1",children:oe}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Z,Ee&&r.jsx("span",{className:"text-sm font-semibold text-gray-600",children:Ee})]}),Le&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Le})]}),r.jsx("div",{className:`rounded-full p-3 flex items-center justify-center ${pe}`,children:ee})]})}),ut=({children:oe,value:Z,index:ee})=>Z!==ee?null:r.jsx("div",{className:"p-6",children:oe});return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipment & Delivery Dashboard"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>e("/shipment/tracking"),children:[r.jsx(Cr,{size:18}),"Track Shipment"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",onClick:()=>e("/shipment/create"),children:[r.jsx(ln,{size:18}),"Create Shipment"]}),r.jsx("button",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:fe,disabled:i,children:r.jsx(is,{size:18,className:i?"animate-spin":""})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4",children:[r.jsx(ft,{title:"Total Shipments",value:d.totalShipments,icon:r.jsx(ks,{size:24}),color:"bg-primary-100 text-primary-600"}),r.jsx(ft,{title:"In Transit",value:d.inTransit,icon:r.jsx(Oa,{size:24}),color:"bg-blue-100 text-blue-600"}),r.jsx(ft,{title:"Delivered",value:d.delivered,icon:r.jsx(Ut,{size:24}),color:"bg-emerald-100 text-emerald-600"}),r.jsx(ft,{title:"Delayed",value:d.delayed,icon:r.jsx(pn,{size:24}),color:"bg-rose-100 text-rose-600"}),r.jsx(ft,{title:"On-Time Delivery",value:d.onTimeDeliveryRate,unit:"%",icon:r.jsx(Cr,{size:24}),color:"bg-emerald-100 text-emerald-600"}),r.jsx(ft,{title:"Avg Delivery Time",value:d.avgDeliveryTime,unit:" days",icon:r.jsx(Cn,{size:24}),color:"bg-sky-100 text-sky-600"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Quick Search & Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[r.jsx("div",{className:"md:col-span-5",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by shipment no, tracking no, customer...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:$,onChange:oe=>W(oe.target.value)})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>e("/shipment/bulk-tracking"),children:"Bulk Tracking"})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>e("/shipment/performance"),children:"Delivery Performance"})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>e("/shipment/reports"),children:"Shipment Reports"})}),r.jsx("div",{className:"md:col-span-1",children:r.jsxs("button",{className:"w-full px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors flex items-center justify-center gap-2",onClick:xe,children:[r.jsx(On,{size:18}),"Export"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex flex-wrap",children:["Incoming Orders","Active Shipments","Delivery Tracking","Courier Partners","Performance Analytics"].map((oe,Z)=>r.jsx("button",{className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${t===Z?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>n(Z),children:oe},oe))})}),r.jsx(ut,{value:t,index:0,children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Incoming Orders from Manufacturing"})}),r.jsx("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order No."}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[N.map(oe=>{var Z,ee;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:oe.order_number}),r.jsx("td",{className:"px-6 py-4",children:(Z=oe.customer)==null?void 0:Z.name}),r.jsx("td",{className:"px-6 py-4",children:(ee=oe.garment_specs)==null?void 0:ee.product_type}),r.jsx("td",{className:"px-6 py-4 text-right",children:oe.quantity}),r.jsx("td",{className:"px-6 py-4",children:new Date(oe.updated_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx("button",{onClick:()=>lt(oe),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"Create Shipment",children:r.jsx(ks,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>vt(oe),className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded transition-colors",title:"View Details",children:r.jsx(Kr,{className:"w-4 h-4"})})]})})]},oe.id)}),N.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"No incoming orders from manufacturing"})})]})]})})]})}),r.jsx(ut,{value:t,index:1,children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold",children:["Active Shipments (",u.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm",value:U,onChange:oe=>Y(oe.target.value),children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"preparing",children:"Preparing"}),r.jsx("option",{value:"packed",children:"Packed"}),r.jsx("option",{value:"shipped",children:"Shipped"}),r.jsx("option",{value:"in_transit",children:"In Transit"}),r.jsx("option",{value:"delivered",children:"Delivered"})]}),r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>e("/shipment/all"),children:"View All Shipments"})]})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-left",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Shipment No."}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Order No."}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Address"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Courier"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Tracking No."}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Expected Delivery"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider text-center",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(oe=>{var Z,ee,pe,Le;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:oe.shipment_number}),r.jsx("td",{className:"px-4 py-3",children:((Z=oe.salesOrder)==null?void 0:Z.order_number)||"N/A"}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:((pe=(ee=oe.salesOrder)==null?void 0:ee.customer)==null?void 0:pe.name)||"N/A"}),r.jsx("span",{className:"text-xs text-gray-500",children:oe.recipient_phone||"N/A"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ul,{size:16,className:"text-gray-400"}),oe.shipping_address]})}),r.jsx("td",{className:"px-4 py-3",children:((Le=oe.courierPartner)==null?void 0:Le.name)||oe.courier_company||"N/A"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{className:"text-primary-600 hover:text-primary-800 underline",onClick:()=>Me(oe.tracking_number),children:oe.tracking_number||"Not assigned"})}),r.jsx("td",{className:"px-4 py-3",children:new Date(oe.expected_delivery_date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ot(oe.status)}`,children:oe.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex justify-center gap-2 text-gray-500",children:[r.jsx("button",{className:"hover:text-primary-600","aria-label":"View tracking",onClick:()=>ge(oe),children:r.jsx(Cr,{size:16})}),r.jsx("button",{className:"hover:text-secondary-600","aria-label":"View details",onClick:()=>ke(oe),children:r.jsx(Kr,{size:16})}),r.jsx("button",{className:"hover:text-gray-700","aria-label":"Edit shipment",onClick:()=>Ae(oe),children:r.jsx(Bi,{size:16})}),r.jsx("button",{className:"hover:text-red-600","aria-label":"Delete shipment",onClick:()=>Ne(oe.id),children:r.jsx(Zy,{size:16})})]})})]},oe.id)})})]})})]})}),r.jsx(ut,{value:t,index:2,children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Real-time Delivery Tracking"}),r.jsx("button",{className:"self-start md:self-auto px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>e("/shipment/live-tracking"),children:"Live Tracking Map"})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-left",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Shipment No."}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Current Status"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Last Update"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"}),r.jsx("th",{className:"px-4 py-3 font-medium text-gray-500 uppercase tracking-wider text-center",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:_.map(oe=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:oe.shipmentNo}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ot(oe.status.toLowerCase().replace(/\s+/g,"_"))}`,children:oe.status.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Ul,{size:16,className:"text-gray-400"}),oe.location]})}),r.jsx("td",{className:"px-4 py-3",children:new Date(oe.timestamp).toLocaleString()}),r.jsx("td",{className:"px-4 py-3",children:oe.remarks}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("button",{className:"inline-flex items-center justify-center gap-1 text-primary-600 hover:text-primary-700",onClick:()=>Re({shipment_number:oe.shipmentNo}),children:[r.jsx(o7,{size:16}),"Timeline"]})})]},oe.shipmentNo))})]})})]})}),r.jsx(ut,{value:t,index:3,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Courier Partners"}),r.jsxs("button",{className:"self-start md:self-auto px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors flex items-center gap-2",onClick:()=>e("/shipment/add-courier"),children:[r.jsx(Ka,{size:16}),"Add Courier Partner"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(oe=>{var Z;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-full bg-primary-100 text-primary-600",children:r.jsx(ks,{size:28})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:oe.name}),r.jsx("p",{className:"text-xs text-gray-500",children:((Z=oe.service_areas)==null?void 0:Z.join(", "))||"Service areas not specified"})]})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(C4,{size:16,className:"text-gray-400"}),r.jsx("span",{children:oe.phone})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_J,{}),r.jsx("span",{children:oe.email})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-semibold text-primary-600",children:oe.activeShipments||0}),r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Active Shipments"})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-xl font-semibold text-emerald-600",children:[oe.on_time_delivery_rate||0,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"On-Time Delivery"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Services"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(oe.services_offered||["Standard"]).map(ee=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-700 border border-primary-200",children:ee},ee))})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsxs("span",{children:["Avg: ",oe.average_delivery_time||0," days"]}),r.jsxs("span",{children:["Rating: ",oe.rating||0,"/5"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm",onClick:()=>Pe(oe),children:"View Details"}),r.jsx("button",{className:"flex-1 px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors text-sm",onClick:()=>Ke(oe),children:"Create Shipment"})]})]},oe.id)})})]})}),r.jsx(ut,{value:t,index:4,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/shipment/performance"),children:[r.jsx(Cr,{size:40,className:"text-emerald-500 mx-auto mb-3"}),r.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[d.onTimeDeliveryRate,"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"On-Time Delivery Rate"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/shipment/analytics"),children:[r.jsx(Cn,{size:40,className:"text-primary-500 mx-auto mb-3"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.avgDeliveryTime}),r.jsx("p",{className:"text-sm text-gray-600",children:"Average Delivery Time (Days)"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/shipment/issues"),children:[r.jsx(pn,{size:40,className:"text-rose-500 mx-auto mb-3"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.delayed}),r.jsx("p",{className:"text-sm text-gray-600",children:"Delayed Shipments"})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 text-center cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/shipment/reports"),children:[r.jsx(kr,{size:40,className:"text-blue-500 mx-auto mb-3"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"98.5%"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Successful Delivery Rate"})]})]})})]}),r.jsx(wJ,{isOpen:A,onClose:()=>E(!1),shipment:S})]})},_J=()=>r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),SJ=()=>{const[e,t]=T.useState([]),[n,s]=T.useState(!0),[a,i]=T.useState(""),[o,d]=T.useState(""),[h,u]=T.useState(""),[x,p]=T.useState(""),[b,_]=T.useState([]),[v,N]=T.useState(!1),[j,S]=T.useState(null),[C,A]=T.useState([]),[E,k]=T.useState({pending:0,dispatched:0,inTransit:0,delivered:0});T.useEffect(()=>{D(),R(),F()},[a,o,h,x]);const D=async()=>{try{s(!0);const U=new URLSearchParams;a&&U.append("search",a),o&&U.append("status",o),h&&U.append("courier_partner_id",h),x&&U.append("start_date",x);const Y=await fetch(`/api/shipments?${U}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Y.ok){const X=await Y.json();t(X.shipments||[])}else throw new Error("Failed to fetch shipments")}catch(U){console.error("Error fetching shipments:",U),it.error("Failed to load shipments")}finally{s(!1)}},R=async()=>{try{const U=await fetch("/api/courier-partners",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const Y=await U.json();A(Y.courierPartners||[])}}catch(U){console.error("Error fetching courier partners:",U)}},F=async()=>{try{const U=await fetch("/api/shipments/dashboard/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(U.ok){const Y=await U.json();k(Y)}}catch(U){console.error("Error fetching stats:",U)}},M=async(U,Y)=>{try{if((await fetch(`/api/shipments/${U}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"dispatched",location:Y.location,notes:Y.notes,courier_partner_id:Y.courier_partner_id,tracking_number:Y.tracking_number})})).ok)it.success("Shipment dispatched successfully"),D(),F(),N(!1),S(null);else throw new Error("Failed to dispatch shipment")}catch(X){console.error("Error dispatching shipment:",X),it.error("Failed to dispatch shipment")}},z=async()=>{if(b.length===0){it.error("Please select shipments to dispatch");return}try{const U=b.map(Y=>fetch(`/api/shipments/${Y}/status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"dispatched",location:"Warehouse",notes:"Bulk dispatch"})}));await Promise.all(U),it.success(`${b.length} shipments dispatched successfully`),_([]),D(),F()}catch(U){console.error("Error in bulk dispatch:",U),it.error("Failed to dispatch some shipments")}},I=U=>{const Y=window.open("","_blank");Y.document.write(`
      <html>
        <head>
          <title>Shipping Labels</title>
          <style>
            body { font-family: Arial, sans-serif; }
            .label { page-break-after: always; padding: 20px; border: 1px solid #000; margin: 10px; }
            .header { font-size: 18px; font-weight: bold; margin-bottom: 10px; }
            .address { margin: 10px 0; }
            .barcode { font-family: 'Courier New', monospace; font-size: 24px; text-align: center; margin: 20px 0; }
          </style>
        </head>
        <body>
          ${U.map(X=>{var G,ne;const V=e.find(ae=>ae.id===X);return`
              <div class="label">
                <div class="header">Pashion Clothing Factory</div>
                <div class="address">
                  <strong>To:</strong><br>
                  ${((ne=(G=V==null?void 0:V.salesOrder)==null?void 0:G.customer)==null?void 0:ne.name)||"N/A"}<br>
                  ${(V==null?void 0:V.delivery_address)||"N/A"}
                </div>
                <div class="barcode">||||| ${(V==null?void 0:V.shipment_number)||""} |||||</div>
                <div>Tracking: ${(V==null?void 0:V.tracking_number)||"N/A"}</div>
              </div>
            `}).join("")}
        </body>
      </html>
    `),Y.document.close(),Y.print()},L=U=>{switch(U){case"pending":return r.jsx(Cn,{className:"w-4 h-4 text-yellow-500"});case"dispatched":return r.jsx(z0,{className:"w-4 h-4 text-blue-500"});case"in_transit":return r.jsx(ks,{className:"w-4 h-4 text-purple-500"});case"delivered":return r.jsx(Ut,{className:"w-4 h-4 text-green-500"});default:return r.jsx(Tm,{className:"w-4 h-4 text-gray-500"})}},$=U=>{switch(U){case"pending":return"bg-yellow-100 text-yellow-800";case"dispatched":return"bg-blue-100 text-blue-800";case"in_transit":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},W=({shipment:U,onClose:Y,onDispatch:X})=>{const[V,G]=T.useState({courier_partner_id:"",tracking_number:"",location:"Warehouse",notes:""}),ne=ae=>{ae.preventDefault(),X(U.id,V)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dispatch Shipment"}),r.jsxs("form",{onSubmit:ne,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Courier Partner"}),r.jsxs("select",{value:V.courier_partner_id,onChange:ae=>G({...V,courier_partner_id:ae.target.value}),className:"w-full p-2 border rounded-lg",required:!0,children:[r.jsx("option",{value:"",children:"Select Courier"}),C.map(ae=>r.jsx("option",{value:ae.id,children:ae.company_name},ae.id))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tracking Number"}),r.jsx("input",{type:"text",value:V.tracking_number,onChange:ae=>G({...V,tracking_number:ae.target.value}),className:"w-full p-2 border rounded-lg",placeholder:"Enter tracking number",required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Dispatch Location"}),r.jsx("input",{type:"text",value:V.location,onChange:ae=>G({...V,location:ae.target.value}),className:"w-full p-2 border rounded-lg",placeholder:"Dispatch location"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),r.jsx("textarea",{value:V.notes,onChange:ae=>G({...V,notes:ae.target.value}),className:"w-full p-2 border rounded-lg",rows:"3",placeholder:"Additional notes"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 text-gray-600 border rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Dispatch"})]})]})]})})};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dispatch Orders"}),r.jsx("p",{className:"text-gray-600",children:"Manage and dispatch shipment orders"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>I(b),disabled:b.length===0,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:[r.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Print Labels"]}),r.jsxs("button",{onClick:z,disabled:b.length===0,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(z0,{className:"w-4 h-4 mr-2"}),"Bulk Dispatch"]}),r.jsxs("button",{onClick:D,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(is,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Dispatch"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:E.pending})]}),r.jsx(Cn,{className:"w-8 h-8 text-yellow-500"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dispatched"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E.dispatched})]}),r.jsx(z0,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Transit"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:E.inTransit})]}),r.jsx(ks,{className:"w-8 h-8 text-purple-500"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Delivered"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.delivered})]}),r.jsx(Ut,{className:"w-8 h-8 text-green-500"})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search shipments...",value:a,onChange:U=>i(U.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:o,onChange:U=>d(U.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"in_transit",children:"In Transit"}),r.jsx("option",{value:"delivered",children:"Delivered"})]}),r.jsxs("select",{value:h,onChange:U=>u(U.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Couriers"}),C.map(U=>r.jsx("option",{value:U.id,children:U.company_name},U.id))]}),r.jsx("input",{type:"date",value:x,onChange:U=>p(U.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.jsx("input",{type:"checkbox",onChange:U=>{U.target.checked?_(e.map(Y=>Y.id)):_([])},checked:b.length===e.length&&e.length>0})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipment"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Courier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(is,{className:"w-6 h-6 animate-spin text-blue-500"})})})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No shipments found"})}):e.map(U=>{var Y,X,V,G,ne,ae;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",checked:b.includes(U.id),onChange:le=>{le.target.checked?_([...b,U.id]):_(b.filter(ie=>ie!==U.id))}})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.shipment_number}),r.jsx("div",{className:"text-sm text-gray-500",children:U.tracking_number||"No tracking"})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(zl,{className:"w-4 h-4 text-gray-400 mr-2"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:((X=(Y=U.salesOrder)==null?void 0:Y.customer)==null?void 0:X.name)||"N/A"}),r.jsx("div",{className:"text-sm text-gray-500",children:((G=(V=U.salesOrder)==null?void 0:V.customer)==null?void 0:G.email)||""})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(U.status)}`,children:[L(U.status),r.jsx("span",{className:"ml-1 capitalize",children:(ne=U.status)==null?void 0:ne.replace("_"," ")})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:((ae=U.courierPartner)==null?void 0:ae.company_name)||U.courier_company||"Not assigned"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>{S(U),N(!0)},disabled:U.status!=="pending",className:"text-blue-600 hover:text-blue-900 disabled:opacity-50",children:r.jsx(z0,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>I([U.id]),className:"text-gray-600 hover:text-gray-900",children:r.jsx(Jp,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900",children:r.jsx(Kr,{className:"w-4 h-4"})})]})})]},U.id)})})]})})}),v&&j&&r.jsx(W,{shipment:j,onClose:()=>{N(!1),S(null)},onDispatch:M})]})},CJ=()=>{var k,D,R,F;const[e,t]=T.useState(""),[n,s]=T.useState(null),[a,i]=T.useState([]),[o,d]=T.useState(!1),[h,u]=T.useState([]),[x,p]=T.useState(!1);T.useEffect(()=>{b()},[]);const b=async()=>{try{const M=await fetch("/api/shipments?limit=10&status=in_transit,dispatched",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(M.ok){const z=await M.json();u(z.shipments||[])}}catch(M){console.error("Error fetching recent shipments:",M)}},_=async(M=e)=>{if(!M.trim()){it.error("Please enter a tracking number");return}try{d(!0);const z=await fetch(`/api/shipments/track/${M}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(z.ok){const I=await z.json();s(I.shipment),i(I.tracking||[]),I.shipment||it.error("Shipment not found")}else{const I=await z.json();it.error(I.message||"Shipment not found"),s(null),i([])}}catch(z){console.error("Error tracking shipment:",z),it.error("Failed to track shipment"),s(null),i([])}finally{d(!1)}},v=M=>{navigator.clipboard.writeText(M),it.success("Tracking number copied to clipboard")},N=M=>{switch(M){case"pending":return r.jsx(Cn,{className:"w-5 h-5 text-yellow-500"});case"dispatched":return r.jsx(Wt,{className:"w-5 h-5 text-blue-500"});case"in_transit":return r.jsx(ks,{className:"w-5 h-5 text-purple-500"});case"delivered":return r.jsx(Ut,{className:"w-5 h-5 text-green-500"});case"exception":return r.jsx(Tm,{className:"w-5 h-5 text-red-500"});default:return r.jsx(f7,{className:"w-5 h-5 text-gray-500"})}},j=M=>{switch(M){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"dispatched":return"bg-blue-100 text-blue-800 border-blue-200";case"in_transit":return"bg-purple-100 text-purple-800 border-purple-200";case"delivered":return"bg-green-100 text-green-800 border-green-200";case"exception":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=M=>{switch(M){case"pending":return 10;case"dispatched":return 30;case"in_transit":return 70;case"delivered":return 100;default:return 0}},C=({history:M})=>r.jsx("div",{className:"space-y-4",children:M.map((z,I)=>{var L;return r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${j(z.status)}`,children:N(z.status)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:(L=z.status)==null?void 0:L.replace("_"," ")}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(z.timestamp).toLocaleString()})]}),r.jsx("p",{className:"text-sm text-gray-600",children:z.location}),z.notes&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z.notes})]})]},I)})}),A=({shipment:M})=>{var I,L,$,W;const z=((L=(I=M.trackingUpdates)==null?void 0:I[0])==null?void 0:L.status)||M.status;return r.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Wt,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:M.shipment_number})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(z)}`,children:z==null?void 0:z.replace("_"," ")})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zl,{className:"w-4 h-4"}),r.jsx("span",{children:((W=($=M.salesOrder)==null?void 0:$.customer)==null?void 0:W.name)||"N/A"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ul,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:M.delivery_address||"N/A"})]}),M.tracking_number&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(UH,{className:"w-4 h-4"}),r.jsx("span",{className:"font-mono text-xs",children:M.tracking_number}),r.jsx("button",{onClick:()=>v(M.tracking_number),className:"text-blue-500 hover:text-blue-700",children:r.jsx(H6,{className:"w-3 h-3"})})]})]}),r.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:new Date(M.created_at).toLocaleDateString()}),r.jsx("button",{onClick:()=>_(M.tracking_number||M.shipment_number),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Track"})]})]})},E=({trackingNumber:M,onClose:z})=>{const I=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(M)}`;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-sm",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"QR Code"}),r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("img",{src:I,alt:"QR Code",className:"border rounded"})}),r.jsxs("p",{className:"text-sm text-gray-600 text-center mb-4",children:["Scan this QR code to track: ",M]}),r.jsx("button",{onClick:z,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})]})})};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shipment Tracking"}),r.jsx("p",{className:"text-gray-600",children:"Track your shipments in real-time"})]}),r.jsxs("button",{onClick:b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(is,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Track a Shipment"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ts,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Enter tracking number or shipment number...",value:e,onChange:M=>t(M.target.value),onKeyPress:M=>M.key==="Enter"&&_(),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("button",{onClick:()=>_(),disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[o?r.jsx(is,{className:"w-4 h-4 animate-spin mr-2"}):r.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Track"]}),e&&r.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:r.jsx(nd,{className:"w-4 h-4"})})]})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Shipment Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Shipment Number"}),r.jsx("p",{className:"text-gray-900",children:n.shipment_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tracking Number"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-gray-900 font-mono",children:n.tracking_number||"N/A"}),n.tracking_number&&r.jsx("button",{onClick:()=>v(n.tracking_number),className:"text-blue-500 hover:text-blue-700",children:r.jsx(H6,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[N(n.status),r.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${j(n.status)}`,children:(k=n.status)==null?void 0:k.replace("_"," ")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Customer"}),r.jsx("p",{className:"text-gray-900",children:((R=(D=n.salesOrder)==null?void 0:D.customer)==null?void 0:R.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Delivery Address"}),r.jsx("p",{className:"text-gray-900",children:n.delivery_address||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Courier Partner"}),r.jsx("p",{className:"text-gray-900",children:((F=n.courierPartner)==null?void 0:F.company_name)||n.courier_company||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created Date"}),r.jsx("p",{className:"text-gray-900",children:new Date(n.created_at).toLocaleDateString()})]}),n.estimated_delivery&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Estimated Delivery"}),r.jsx("p",{className:"text-gray-900",children:new Date(n.estimated_delivery).toLocaleDateString()})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Progress"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S(n.status)}%`}})}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[S(n.status),"% Complete"]})]})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tracking History"}),a.length>0?r.jsx(C,{history:a}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No tracking history available"})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Active Shipments"}),h.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(M=>r.jsx(A,{shipment:M},M.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No active shipments found"})]})]}),x&&e&&r.jsx(E,{trackingNumber:e,onClose:()=>p(!1)})]})};function hI(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=hI(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function bt(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=hI(e))&&(s&&(s+=" "),s+=t);return s}var AJ=Array.isArray,Is=AJ,OJ=typeof oo=="object"&&oo&&oo.Object===Object&&oo,fI=OJ,EJ=fI,kJ=typeof self=="object"&&self&&self.Object===Object&&self,TJ=EJ||kJ||Function("return this")(),Ui=TJ,PJ=Ui,IJ=PJ.Symbol,Lm=IJ,MC=Lm,mI=Object.prototype,DJ=mI.hasOwnProperty,MJ=mI.toString,w0=MC?MC.toStringTag:void 0;function RJ(e){var t=DJ.call(e,w0),n=e[w0];try{e[w0]=void 0;var s=!0}catch{}var a=MJ.call(e);return s&&(t?e[w0]=n:delete e[w0]),a}var LJ=RJ,$J=Object.prototype,FJ=$J.toString;function BJ(e){return FJ.call(e)}var UJ=BJ,RC=Lm,zJ=LJ,VJ=UJ,qJ="[object Null]",HJ="[object Undefined]",LC=RC?RC.toStringTag:void 0;function WJ(e){return e==null?e===void 0?HJ:qJ:LC&&LC in Object(e)?zJ(e):VJ(e)}var Do=WJ;function GJ(e){return e!=null&&typeof e=="object"}var Mo=GJ,QJ=Do,YJ=Mo,XJ="[object Symbol]";function KJ(e){return typeof e=="symbol"||YJ(e)&&QJ(e)==XJ}var Vh=KJ,ZJ=Is,JJ=Vh,eee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tee=/^\w*$/;function ree(e,t){if(ZJ(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||JJ(e)?!0:tee.test(e)||!eee.test(e)||t!=null&&e in Object(t)}var d3=ree;function nee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zl=nee;const qh=Vt(Zl);var see=Do,aee=Zl,iee="[object AsyncFunction]",oee="[object Function]",lee="[object GeneratorFunction]",cee="[object Proxy]";function dee(e){if(!aee(e))return!1;var t=see(e);return t==oee||t==lee||t==iee||t==cee}var u3=dee;const pt=Vt(u3);var uee=Ui,hee=uee["__core-js_shared__"],fee=hee,hv=fee,$C=function(){var e=/[^.]+$/.exec(hv&&hv.keys&&hv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mee(e){return!!$C&&$C in e}var xee=mee,pee=Function.prototype,gee=pee.toString;function yee(e){if(e!=null){try{return gee.call(e)}catch{}try{return e+""}catch{}}return""}var xI=yee,bee=u3,vee=xee,jee=Zl,wee=xI,Nee=/[\\^$.*+?()[\]{}|]/g,_ee=/^\[object .+?Constructor\]$/,See=Function.prototype,Cee=Object.prototype,Aee=See.toString,Oee=Cee.hasOwnProperty,Eee=RegExp("^"+Aee.call(Oee).replace(Nee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kee(e){if(!jee(e)||vee(e))return!1;var t=bee(e)?Eee:_ee;return t.test(wee(e))}var Tee=kee;function Pee(e,t){return e==null?void 0:e[t]}var Iee=Pee,Dee=Tee,Mee=Iee;function Ree(e,t){var n=Mee(e,t);return Dee(n)?n:void 0}var yd=Ree,Lee=yd,$ee=Lee(Object,"create"),u1=$ee,FC=u1;function Fee(){this.__data__=FC?FC(null):{},this.size=0}var Bee=Fee;function Uee(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zee=Uee,Vee=u1,qee="__lodash_hash_undefined__",Hee=Object.prototype,Wee=Hee.hasOwnProperty;function Gee(e){var t=this.__data__;if(Vee){var n=t[e];return n===qee?void 0:n}return Wee.call(t,e)?t[e]:void 0}var Qee=Gee,Yee=u1,Xee=Object.prototype,Kee=Xee.hasOwnProperty;function Zee(e){var t=this.__data__;return Yee?t[e]!==void 0:Kee.call(t,e)}var Jee=Zee,ete=u1,tte="__lodash_hash_undefined__";function rte(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ete&&t===void 0?tte:t,this}var nte=rte,ste=Bee,ate=zee,ite=Qee,ote=Jee,lte=nte;function Hh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Hh.prototype.clear=ste;Hh.prototype.delete=ate;Hh.prototype.get=ite;Hh.prototype.has=ote;Hh.prototype.set=lte;var cte=Hh;function dte(){this.__data__=[],this.size=0}var ute=dte;function hte(e,t){return e===t||e!==e&&t!==t}var h3=hte,fte=h3;function mte(e,t){for(var n=e.length;n--;)if(fte(e[n][0],t))return n;return-1}var h1=mte,xte=h1,pte=Array.prototype,gte=pte.splice;function yte(e){var t=this.__data__,n=xte(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():gte.call(t,n,1),--this.size,!0}var bte=yte,vte=h1;function jte(e){var t=this.__data__,n=vte(t,e);return n<0?void 0:t[n][1]}var wte=jte,Nte=h1;function _te(e){return Nte(this.__data__,e)>-1}var Ste=_te,Cte=h1;function Ate(e,t){var n=this.__data__,s=Cte(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var Ote=Ate,Ete=ute,kte=bte,Tte=wte,Pte=Ste,Ite=Ote;function Wh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Wh.prototype.clear=Ete;Wh.prototype.delete=kte;Wh.prototype.get=Tte;Wh.prototype.has=Pte;Wh.prototype.set=Ite;var f1=Wh,Dte=yd,Mte=Ui,Rte=Dte(Mte,"Map"),f3=Rte,BC=cte,Lte=f1,$te=f3;function Fte(){this.size=0,this.__data__={hash:new BC,map:new($te||Lte),string:new BC}}var Bte=Fte;function Ute(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var zte=Ute,Vte=zte;function qte(e,t){var n=e.__data__;return Vte(t)?n[typeof t=="string"?"string":"hash"]:n.map}var m1=qte,Hte=m1;function Wte(e){var t=Hte(this,e).delete(e);return this.size-=t?1:0,t}var Gte=Wte,Qte=m1;function Yte(e){return Qte(this,e).get(e)}var Xte=Yte,Kte=m1;function Zte(e){return Kte(this,e).has(e)}var Jte=Zte,ere=m1;function tre(e,t){var n=ere(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var rre=tre,nre=Bte,sre=Gte,are=Xte,ire=Jte,ore=rre;function Gh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Gh.prototype.clear=nre;Gh.prototype.delete=sre;Gh.prototype.get=are;Gh.prototype.has=ire;Gh.prototype.set=ore;var m3=Gh,pI=m3,lre="Expected a function";function x3(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lre);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return n.cache=i.set(a,o)||i,o};return n.cache=new(x3.Cache||pI),n}x3.Cache=pI;var gI=x3;const cre=Vt(gI);var dre=gI,ure=500;function hre(e){var t=dre(e,function(s){return n.size===ure&&n.clear(),s}),n=t.cache;return t}var fre=hre,mre=fre,xre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pre=/\\(\\)?/g,gre=mre(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xre,function(n,s,a,i){t.push(a?i.replace(pre,"$1"):s||n)}),t}),yre=gre;function bre(e,t){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=t(e[n],n,e);return a}var p3=bre,UC=Lm,vre=p3,jre=Is,wre=Vh,zC=UC?UC.prototype:void 0,VC=zC?zC.toString:void 0;function yI(e){if(typeof e=="string")return e;if(jre(e))return vre(e,yI)+"";if(wre(e))return VC?VC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Nre=yI,_re=Nre;function Sre(e){return e==null?"":_re(e)}var bI=Sre,Cre=Is,Are=d3,Ore=yre,Ere=bI;function kre(e,t){return Cre(e)?e:Are(e,t)?[e]:Ore(Ere(e))}var vI=kre,Tre=Vh;function Pre(e){if(typeof e=="string"||Tre(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var x1=Pre,Ire=vI,Dre=x1;function Mre(e,t){t=Ire(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Dre(t[n++])];return n&&n==s?e:void 0}var g3=Mre,Rre=g3;function Lre(e,t,n){var s=e==null?void 0:Rre(e,t);return s===void 0?n:s}var jI=Lre;const Js=Vt(jI);function $re(e){return e==null}var Fre=$re;const jt=Vt(Fre);var Bre=Do,Ure=Is,zre=Mo,Vre="[object String]";function qre(e){return typeof e=="string"||!Ure(e)&&zre(e)&&Bre(e)==Vre}var Hre=qre;const ad=Vt(Hre);var wI={exports:{}},Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3=Symbol.for("react.element"),b3=Symbol.for("react.portal"),p1=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),y1=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),v1=Symbol.for("react.context"),Wre=Symbol.for("react.server_context"),j1=Symbol.for("react.forward_ref"),w1=Symbol.for("react.suspense"),N1=Symbol.for("react.suspense_list"),_1=Symbol.for("react.memo"),S1=Symbol.for("react.lazy"),Gre=Symbol.for("react.offscreen"),NI;NI=Symbol.for("react.module.reference");function Ta(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case y3:switch(e=e.type,e){case p1:case y1:case g1:case w1:case N1:return e;default:switch(e=e&&e.$$typeof,e){case Wre:case v1:case j1:case S1:case _1:case b1:return e;default:return t}}case b3:return t}}}Jt.ContextConsumer=v1;Jt.ContextProvider=b1;Jt.Element=y3;Jt.ForwardRef=j1;Jt.Fragment=p1;Jt.Lazy=S1;Jt.Memo=_1;Jt.Portal=b3;Jt.Profiler=y1;Jt.StrictMode=g1;Jt.Suspense=w1;Jt.SuspenseList=N1;Jt.isAsyncMode=function(){return!1};Jt.isConcurrentMode=function(){return!1};Jt.isContextConsumer=function(e){return Ta(e)===v1};Jt.isContextProvider=function(e){return Ta(e)===b1};Jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===y3};Jt.isForwardRef=function(e){return Ta(e)===j1};Jt.isFragment=function(e){return Ta(e)===p1};Jt.isLazy=function(e){return Ta(e)===S1};Jt.isMemo=function(e){return Ta(e)===_1};Jt.isPortal=function(e){return Ta(e)===b3};Jt.isProfiler=function(e){return Ta(e)===y1};Jt.isStrictMode=function(e){return Ta(e)===g1};Jt.isSuspense=function(e){return Ta(e)===w1};Jt.isSuspenseList=function(e){return Ta(e)===N1};Jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===p1||e===y1||e===g1||e===w1||e===N1||e===Gre||typeof e=="object"&&e!==null&&(e.$$typeof===S1||e.$$typeof===_1||e.$$typeof===b1||e.$$typeof===v1||e.$$typeof===j1||e.$$typeof===NI||e.getModuleId!==void 0)};Jt.typeOf=Ta;wI.exports=Jt;var Qre=wI.exports,Yre=Do,Xre=Mo,Kre="[object Number]";function Zre(e){return typeof e=="number"||Xre(e)&&Yre(e)==Kre}var _I=Zre;const Jre=Vt(_I);var ene=_I;function tne(e){return ene(e)&&e!=+e}var rne=tne;const Qh=Vt(rne);var es=function(t){return t===0?0:t>0?1:-1},Sc=function(t){return ad(t)&&t.indexOf("%")===t.length-1},Ve=function(t){return Jre(t)&&!Qh(t)},nne=function(t){return jt(t)},on=function(t){return Ve(t)||ad(t)},sne=0,bd=function(t){var n=++sne;return"".concat(t||"").concat(n)},ts=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(t)&&!ad(t))return s;var i;if(Sc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Qh(i)&&(i=s),a&&i>n&&(i=n),i},il=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},ane=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,s={},a=0;a<n;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},sn=function(t,n){return Ve(t)&&Ve(n)?function(s){return t+s*(n-t)}:function(){return n}};function ig(e,t,n){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Js(s,t))===n})}var ine=function(t,n){return Ve(t)&&Ve(n)?t-n:ad(t)&&ad(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Ou(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function Pj(e){"@babel/helpers - typeof";return Pj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pj(e)}var one=["viewBox","children"],lne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qC=["points","pathLength"],fv={svg:one,polygon:qC,polyline:qC},v3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],og=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(T.isValidElement(t)&&(s=t.props),!qh(s))return null;var a={};return Object.keys(s).forEach(function(i){v3.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},cne=function(t,n,s){return function(a){return t(n,s,a),null}},id=function(t,n,s){if(!qh(t)||Pj(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];v3.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=cne(o,n,s))}),a},dne=["children"],une=["children"];function HC(e,t){if(e==null)return{};var n=hne(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function hne(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ij(e){"@babel/helpers - typeof";return Ij=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ij(e)}var WC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GC=null,mv=null,j3=function e(t){if(t===GC&&Array.isArray(mv))return mv;var n=[];return T.Children.forEach(t,function(s){jt(s)||(Qre.isFragment(s)?n=n.concat(e(s.props.children)):n.push(s))}),mv=n,GC=t,n};function ea(e,t){var n=[],s=[];return Array.isArray(t)?s=t.map(function(a){return bo(a)}):s=[bo(t)],j3(e).forEach(function(a){var i=Js(a,"type.displayName")||Js(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function zs(e,t){var n=ea(e,t);return n&&n[0]}var QC=function(t){if(!t||!t.props)return!1;var n=t.props,s=n.width,a=n.height;return!(!Ve(s)||s<=0||!Ve(a)||a<=0)},fne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mne=function(t){return t&&t.type&&ad(t.type)&&fne.indexOf(t.type)>=0},SI=function(t){return t&&Ij(t)==="object"&&"clipDot"in t},xne=function(t,n,s,a){var i,o=(i=fv==null?void 0:fv[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!pt(t)&&(a&&o.includes(n)||lne.includes(n))||s&&v3.includes(n)},ot=function(t,n,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(T.isValidElement(t)&&(a=t.props),!qh(a))return null;var i={};return Object.keys(a).forEach(function(o){var d;xne((d=a)===null||d===void 0?void 0:d[o],o,n,s)&&(i[o]=a[o])}),i},Dj=function e(t,n){if(t===n)return!0;var s=T.Children.count(t);if(s!==T.Children.count(n))return!1;if(s===0)return!0;if(s===1)return YC(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!YC(i,o))return!1}return!0},YC=function(t,n){if(jt(t)&&jt(n))return!0;if(!jt(t)&&!jt(n)){var s=t.props||{},a=s.children,i=HC(s,dne),o=n.props||{},d=o.children,h=HC(o,une);return a&&d?Ou(i,h)&&Dj(a,d):!a&&!d?Ou(i,h):!1}return!1},XC=function(t,n){var s=[],a={};return j3(t).forEach(function(i,o){if(mne(i))s.push(i);else if(i){var d=bo(i.type),h=n[d]||{},u=h.handler,x=h.once;if(u&&(!x||!a[d])){var p=u(i,d,o);s.push(p),a[d]=!0}}}),s},pne=function(t){var n=t&&t.type;return n&&WC[n]?WC[n]:null},gne=function(t,n){return j3(n).indexOf(t)},yne=["children","width","height","viewBox","className","style","title","desc"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mj.apply(this,arguments)}function bne(e,t){if(e==null)return{};var n=vne(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function vne(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Rj(e){var t=e.children,n=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,d=e.title,h=e.desc,u=bne(e,yne),x=a||{width:n,height:s,x:0,y:0},p=bt("recharts-surface",i);return K.createElement("svg",Mj({},ot(u,!0,"svg"),{className:p,width:n,height:s,style:o,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height)}),K.createElement("title",null,d),K.createElement("desc",null,h),t)}var jne=["children","className"];function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lj.apply(this,arguments)}function wne(e,t){if(e==null)return{};var n=Nne(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nne(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Dt=K.forwardRef(function(e,t){var n=e.children,s=e.className,a=wne(e,jne),i=bt("recharts-layer",s);return K.createElement("g",Lj({className:i},ot(a,!0),{ref:t}),n)}),Ja=function(t,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function _ne(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var Sne=_ne,Cne=Sne;function Ane(e,t,n){var s=e.length;return n=n===void 0?s:n,!t&&n>=s?e:Cne(e,t,n)}var One=Ane,Ene="\\ud800-\\udfff",kne="\\u0300-\\u036f",Tne="\\ufe20-\\ufe2f",Pne="\\u20d0-\\u20ff",Ine=kne+Tne+Pne,Dne="\\ufe0e\\ufe0f",Mne="\\u200d",Rne=RegExp("["+Mne+Ene+Ine+Dne+"]");function Lne(e){return Rne.test(e)}var CI=Lne;function $ne(e){return e.split("")}var Fne=$ne,AI="\\ud800-\\udfff",Bne="\\u0300-\\u036f",Une="\\ufe20-\\ufe2f",zne="\\u20d0-\\u20ff",Vne=Bne+Une+zne,qne="\\ufe0e\\ufe0f",Hne="["+AI+"]",$j="["+Vne+"]",Fj="\\ud83c[\\udffb-\\udfff]",Wne="(?:"+$j+"|"+Fj+")",OI="[^"+AI+"]",EI="(?:\\ud83c[\\udde6-\\uddff]){2}",kI="[\\ud800-\\udbff][\\udc00-\\udfff]",Gne="\\u200d",TI=Wne+"?",PI="["+qne+"]?",Qne="(?:"+Gne+"(?:"+[OI,EI,kI].join("|")+")"+PI+TI+")*",Yne=PI+TI+Qne,Xne="(?:"+[OI+$j+"?",$j,EI,kI,Hne].join("|")+")",Kne=RegExp(Fj+"(?="+Fj+")|"+Xne+Yne,"g");function Zne(e){return e.match(Kne)||[]}var Jne=Zne,ese=Fne,tse=CI,rse=Jne;function nse(e){return tse(e)?rse(e):ese(e)}var sse=nse,ase=One,ise=CI,ose=sse,lse=bI;function cse(e){return function(t){t=lse(t);var n=ise(t)?ose(t):void 0,s=n?n[0]:t.charAt(0),a=n?ase(n,1).join(""):t.slice(1);return s[e]()+a}}var dse=cse,use=dse,hse=use("toUpperCase"),fse=hse;const C1=Vt(fse);function ur(e){return function(){return e}}const II=Math.cos,lg=Math.sin,ai=Math.sqrt,cg=Math.PI,A1=2*cg,Bj=Math.PI,Uj=2*Bj,fc=1e-6,mse=Uj-fc;function DI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DI;const n=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class pse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DI:xse(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,s,a){this._append`Q${+t},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,n,s,a,i,o){this._append`C${+t},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,s,a,i){if(t=+t,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,d=this._y1,h=s-t,u=a-n,x=o-t,p=d-n,b=x*x+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>fc)if(!(Math.abs(p*h-u*x)>fc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let _=s-o,v=a-d,N=h*h+u*u,j=_*_+v*v,S=Math.sqrt(N),C=Math.sqrt(b),A=i*Math.tan((Bj-Math.acos((N+b-j)/(2*S*C)))/2),E=A/C,k=A/S;Math.abs(E-1)>fc&&this._append`L${t+E*x},${n+E*p}`,this._append`A${i},${i},0,0,${+(p*_>x*v)},${this._x1=t+k*h},${this._y1=n+k*u}`}}arc(t,n,s,a,i,o){if(t=+t,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let d=s*Math.cos(a),h=s*Math.sin(a),u=t+d,x=n+h,p=1^o,b=o?a-i:i-a;this._x1===null?this._append`M${u},${x}`:(Math.abs(this._x1-u)>fc||Math.abs(this._y1-x)>fc)&&this._append`L${u},${x}`,s&&(b<0&&(b=b%Uj+Uj),b>mse?this._append`A${s},${s},0,1,${p},${t-d},${n-h}A${s},${s},0,1,${p},${this._x1=u},${this._y1=x}`:b>fc&&this._append`A${s},${s},0,${+(b>=Bj)},${p},${this._x1=t+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(t,n,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function w3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);t=s}return e},()=>new pse(t)}function N3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MI(e){this._context=e}MI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function O1(e){return new MI(e)}function RI(e){return e[0]}function LI(e){return e[1]}function $I(e,t){var n=ur(!0),s=null,a=O1,i=null,o=w3(d);e=typeof e=="function"?e:e===void 0?RI:ur(e),t=typeof t=="function"?t:t===void 0?LI:ur(t);function d(h){var u,x=(h=N3(h)).length,p,b=!1,_;for(s==null&&(i=a(_=o())),u=0;u<=x;++u)!(u<x&&n(p=h[u],u,h))===b&&((b=!b)?i.lineStart():i.lineEnd()),b&&i.point(+e(p,u,h),+t(p,u,h));if(_)return i=null,_+""||null}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:ur(+h),d):e},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:ur(+h),d):t},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:ur(!!h),d):n},d.curve=function(h){return arguments.length?(a=h,s!=null&&(i=a(s)),d):a},d.context=function(h){return arguments.length?(h==null?s=i=null:i=a(s=h),d):s},d}function kx(e,t,n){var s=null,a=ur(!0),i=null,o=O1,d=null,h=w3(u);e=typeof e=="function"?e:e===void 0?RI:ur(+e),t=typeof t=="function"?t:ur(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?LI:ur(+n);function u(p){var b,_,v,N=(p=N3(p)).length,j,S=!1,C,A=new Array(N),E=new Array(N);for(i==null&&(d=o(C=h())),b=0;b<=N;++b){if(!(b<N&&a(j=p[b],b,p))===S)if(S=!S)_=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),v=b-1;v>=_;--v)d.point(A[v],E[v]);d.lineEnd(),d.areaEnd()}S&&(A[b]=+e(j,b,p),E[b]=+t(j,b,p),d.point(s?+s(j,b,p):A[b],n?+n(j,b,p):E[b]))}if(C)return d=null,C+""||null}function x(){return $I().defined(a).curve(o).context(i)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:ur(+p),s=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:ur(+p),u):e},u.x1=function(p){return arguments.length?(s=p==null?null:typeof p=="function"?p:ur(+p),u):s},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:ur(+p),n=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:ur(+p),u):t},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ur(+p),u):n},u.lineX0=u.lineY0=function(){return x().x(e).y(t)},u.lineY1=function(){return x().x(e).y(n)},u.lineX1=function(){return x().x(s).y(t)},u.defined=function(p){return arguments.length?(a=typeof p=="function"?p:ur(!!p),u):a},u.curve=function(p){return arguments.length?(o=p,i!=null&&(d=o(i)),u):o},u.context=function(p){return arguments.length?(p==null?i=d=null:d=o(i=p),u):i},u}class FI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function gse(e){return new FI(e,!0)}function yse(e){return new FI(e,!1)}const _3={draw(e,t){const n=ai(t/cg);e.moveTo(n,0),e.arc(0,0,n,0,A1)}},bse={draw(e,t){const n=ai(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},BI=ai(1/3),vse=BI*2,jse={draw(e,t){const n=ai(t/vse),s=n*BI;e.moveTo(0,-n),e.lineTo(s,0),e.lineTo(0,n),e.lineTo(-s,0),e.closePath()}},wse={draw(e,t){const n=ai(t),s=-n/2;e.rect(s,s,n,n)}},Nse=.8908130915292852,UI=lg(cg/10)/lg(7*cg/10),_se=lg(A1/10)*UI,Sse=-II(A1/10)*UI,Cse={draw(e,t){const n=ai(t*Nse),s=_se*n,a=Sse*n;e.moveTo(0,-n),e.lineTo(s,a);for(let i=1;i<5;++i){const o=A1*i/5,d=II(o),h=lg(o);e.lineTo(h*n,-d*n),e.lineTo(d*s-h*a,h*s+d*a)}e.closePath()}},xv=ai(3),Ase={draw(e,t){const n=-ai(t/(xv*3));e.moveTo(0,n*2),e.lineTo(-xv*n,-n),e.lineTo(xv*n,-n),e.closePath()}},la=-.5,ca=ai(3)/2,zj=1/ai(12),Ose=(zj/2+1)*3,Ese={draw(e,t){const n=ai(t/Ose),s=n/2,a=n*zj,i=s,o=n*zj+n,d=-i,h=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(d,h),e.lineTo(la*s-ca*a,ca*s+la*a),e.lineTo(la*i-ca*o,ca*i+la*o),e.lineTo(la*d-ca*h,ca*d+la*h),e.lineTo(la*s+ca*a,la*a-ca*s),e.lineTo(la*i+ca*o,la*o-ca*i),e.lineTo(la*d+ca*h,la*h-ca*d),e.closePath()}};function kse(e,t){let n=null,s=w3(a);e=typeof e=="function"?e:ur(e||_3),t=typeof t=="function"?t:ur(t===void 0?64:+t);function a(){let i;if(n||(n=i=s()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ur(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ur(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function dg(){}function ug(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function zI(e){this._context=e}zI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ug(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tse(e){return new zI(e)}function VI(e){this._context=e}VI.prototype={areaStart:dg,areaEnd:dg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pse(e){return new VI(e)}function qI(e){this._context=e}qI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:ug(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ise(e){return new qI(e)}function HI(e){this._context=e}HI.prototype={areaStart:dg,areaEnd:dg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Dse(e){return new HI(e)}function KC(e){return e<0?-1:1}function ZC(e,t,n){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(n-e._y1)/(a||s<0&&-0),d=(i*a+o*s)/(s+a);return(KC(i)+KC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(d))||0}function JC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pv(e,t,n){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,d=(i-s)/3;e._context.bezierCurveTo(s+d,a+d*t,i-d,o-d*n,i,o)}function hg(e){this._context=e}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pv(this,this._t0,JC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pv(this,JC(this,n=ZC(this,e,t)),n);break;default:pv(this,this._t0,n=ZC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function WI(e){this._context=new GI(e)}(WI.prototype=Object.create(hg.prototype)).point=function(e,t){hg.prototype.point.call(this,t,e)};function GI(e){this._context=e}GI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,a,i){this._context.bezierCurveTo(t,e,s,n,i,a)}};function Mse(e){return new hg(e)}function Rse(e){return new WI(e)}function QI(e){this._context=e}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=e5(e),a=e5(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e5(e){var t,n=e.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Lse(e){return new QI(e)}function E1(e,t){this._context=e,this._t=t}E1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $se(e){return new E1(e,.5)}function Fse(e){return new E1(e,0)}function Bse(e){return new E1(e,1)}function th(e,t){if((o=e.length)>1)for(var n=1,s,a,i=e[t[0]],o,d=i.length;n<o;++n)for(a=i,i=e[t[n]],s=0;s<d;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Vj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Use(e,t){return e[t]}function zse(e){const t=[];return t.key=e,t}function Vse(){var e=ur([]),t=Vj,n=th,s=Use;function a(i){var o=Array.from(e.apply(this,arguments),zse),d,h=o.length,u=-1,x;for(const p of i)for(d=0,++u;d<h;++d)(o[d][u]=[0,+s(p,o[d].key,u,i)]).data=p;for(d=0,x=N3(t(o));d<h;++d)o[x[d]].index=d;return n(o,x),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ur(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:ur(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?Vj:typeof i=="function"?i:ur(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??th,a):n},a}function qse(e,t){if((s=e.length)>0){for(var n,s,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<s;++n)e[n][a][1]/=o}th(e,t)}}function Hse(e,t){if((a=e.length)>0){for(var n=0,s=e[t[0]],a,i=s.length;n<i;++n){for(var o=0,d=0;o<a;++o)d+=e[o][n][1]||0;s[n][1]+=s[n][0]=-d/2}th(e,t)}}function Wse(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var d=0,h=0,u=0;d<o;++d){for(var x=e[t[d]],p=x[s][1]||0,b=x[s-1][1]||0,_=(p-b)/2,v=0;v<d;++v){var N=e[t[v]],j=N[s][1]||0,S=N[s-1][1]||0;_+=j-S}h+=p,u+=_*p}a[s-1][1]+=a[s-1][0]=n,h&&(n-=u/h)}a[s-1][1]+=a[s-1][0]=n,th(e,t)}}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}var Gse=["type","size","sizeType"];function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qj.apply(this,arguments)}function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function r5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(s){Qse(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Qse(e,t,n){return t=Yse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yse(e){var t=Xse(e,"string");return Df(t)=="symbol"?t:t+""}function Xse(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kse(e,t){if(e==null)return{};var n=Zse(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zse(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var YI={symbolCircle:_3,symbolCross:bse,symbolDiamond:jse,symbolSquare:wse,symbolStar:Cse,symbolTriangle:Ase,symbolWye:Ese},Jse=Math.PI/180,eae=function(t){var n="symbol".concat(C1(t));return YI[n]||_3},tae=function(t,n,s){if(n==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Jse;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rae=function(t,n){YI["symbol".concat(C1(t))]=n},S3=function(t){var n=t.type,s=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,d=o===void 0?"area":o,h=Kse(t,Gse),u=r5(r5({},h),{},{type:s,size:i,sizeType:d}),x=function(){var j=eae(s),S=kse().type(j).size(tae(i,d,s));return S()},p=u.className,b=u.cx,_=u.cy,v=ot(u,!0);return b===+b&&_===+_&&i===+i?K.createElement("path",qj({},v,{className:bt("recharts-symbols",p),transform:"translate(".concat(b,", ").concat(_,")"),d:x()})):null};S3.registerSymbol=rae;function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hj.apply(this,arguments)}function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(n),!0).forEach(function(s){Mf(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aae(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KI(s.key),s)}}function iae(e,t,n){return t&&aae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oae(e,t,n){return t=fg(t),lae(e,XI()?Reflect.construct(t,n||[],fg(e).constructor):t.apply(e,n))}function lae(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(e)}function cae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XI=function(){return!!e})()}function fg(e){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(e)}function dae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Wj(e,t)}function Mf(e,t,n){return t=KI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KI(e){var t=uae(e,"string");return rh(t)=="symbol"?t:t+""}function uae(e,t){if(rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(rh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var da=32,C3=function(e){function t(){return sae(this,t),oae(this,t,arguments)}return dae(t,e),iae(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=da/2,o=da/6,d=da/3,h=s.inactive?a:s.color;if(s.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:da,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(i,"h").concat(d,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*d,",").concat(i,`
            H`).concat(da,"M").concat(2*d,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(d,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return K.createElement("path",{stroke:"none",fill:h,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(K.isValidElement(s.legendIcon)){var u=nae({},s);return delete u.legendIcon,K.cloneElement(s.legendIcon,u)}return K.createElement(S3,{fill:h,cx:i,cy:i,size:da,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,d=a.layout,h=a.formatter,u=a.inactiveColor,x={x:0,y:0,width:da,height:da},p={display:d==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(_,v){var N=_.formatter||h,j=bt(Mf(Mf({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",_.inactive));if(_.type==="none")return null;var S=pt(_.value)?null:_.value;Ja(!pt(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=_.inactive?u:_.color;return K.createElement("li",Hj({className:j,style:p,key:"legend-item-".concat(v)},id(s.props,_,v)),K.createElement(Rj,{width:o,height:o,viewBox:x,style:b},s.renderIcon(_)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},N?N(S,_,v):S))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var d={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])}(T.PureComponent);Mf(C3,"displayName","Legend");Mf(C3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hae=f1;function fae(){this.__data__=new hae,this.size=0}var mae=fae;function xae(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var pae=xae;function gae(e){return this.__data__.get(e)}var yae=gae;function bae(e){return this.__data__.has(e)}var vae=bae,jae=f1,wae=f3,Nae=m3,_ae=200;function Sae(e,t){var n=this.__data__;if(n instanceof jae){var s=n.__data__;if(!wae||s.length<_ae-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nae(s)}return n.set(e,t),this.size=n.size,this}var Cae=Sae,Aae=f1,Oae=mae,Eae=pae,kae=yae,Tae=vae,Pae=Cae;function Yh(e){var t=this.__data__=new Aae(e);this.size=t.size}Yh.prototype.clear=Oae;Yh.prototype.delete=Eae;Yh.prototype.get=kae;Yh.prototype.has=Tae;Yh.prototype.set=Pae;var ZI=Yh,Iae="__lodash_hash_undefined__";function Dae(e){return this.__data__.set(e,Iae),this}var Mae=Dae;function Rae(e){return this.__data__.has(e)}var Lae=Rae,$ae=m3,Fae=Mae,Bae=Lae;function mg(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new $ae;++t<n;)this.add(e[t])}mg.prototype.add=mg.prototype.push=Fae;mg.prototype.has=Bae;var JI=mg;function Uae(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var eD=Uae;function zae(e,t){return e.has(t)}var tD=zae,Vae=JI,qae=eD,Hae=tD,Wae=1,Gae=2;function Qae(e,t,n,s,a,i){var o=n&Wae,d=e.length,h=t.length;if(d!=h&&!(o&&h>d))return!1;var u=i.get(e),x=i.get(t);if(u&&x)return u==t&&x==e;var p=-1,b=!0,_=n&Gae?new Vae:void 0;for(i.set(e,t),i.set(t,e);++p<d;){var v=e[p],N=t[p];if(s)var j=o?s(N,v,p,t,e,i):s(v,N,p,e,t,i);if(j!==void 0){if(j)continue;b=!1;break}if(_){if(!qae(t,function(S,C){if(!Hae(_,C)&&(v===S||a(v,S,n,s,i)))return _.push(C)})){b=!1;break}}else if(!(v===N||a(v,N,n,s,i))){b=!1;break}}return i.delete(e),i.delete(t),b}var rD=Qae,Yae=Ui,Xae=Yae.Uint8Array,Kae=Xae;function Zae(e){var t=-1,n=Array(e.size);return e.forEach(function(s,a){n[++t]=[a,s]}),n}var Jae=Zae;function eie(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var A3=eie,s5=Lm,a5=Kae,tie=h3,rie=rD,nie=Jae,sie=A3,aie=1,iie=2,oie="[object Boolean]",lie="[object Date]",cie="[object Error]",die="[object Map]",uie="[object Number]",hie="[object RegExp]",fie="[object Set]",mie="[object String]",xie="[object Symbol]",pie="[object ArrayBuffer]",gie="[object DataView]",i5=s5?s5.prototype:void 0,gv=i5?i5.valueOf:void 0;function yie(e,t,n,s,a,i,o){switch(n){case gie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pie:return!(e.byteLength!=t.byteLength||!i(new a5(e),new a5(t)));case oie:case lie:case uie:return tie(+e,+t);case cie:return e.name==t.name&&e.message==t.message;case hie:case mie:return e==t+"";case die:var d=nie;case fie:var h=s&aie;if(d||(d=sie),e.size!=t.size&&!h)return!1;var u=o.get(e);if(u)return u==t;s|=iie,o.set(e,t);var x=rie(d(e),d(t),s,a,i,o);return o.delete(e),x;case xie:if(gv)return gv.call(e)==gv.call(t)}return!1}var bie=yie;function vie(e,t){for(var n=-1,s=t.length,a=e.length;++n<s;)e[a+n]=t[n];return e}var nD=vie,jie=nD,wie=Is;function Nie(e,t,n){var s=t(e);return wie(e)?s:jie(s,n(e))}var _ie=Nie;function Sie(e,t){for(var n=-1,s=e==null?0:e.length,a=0,i=[];++n<s;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var Cie=Sie;function Aie(){return[]}var Oie=Aie,Eie=Cie,kie=Oie,Tie=Object.prototype,Pie=Tie.propertyIsEnumerable,o5=Object.getOwnPropertySymbols,Iie=o5?function(e){return e==null?[]:(e=Object(e),Eie(o5(e),function(t){return Pie.call(e,t)}))}:kie,Die=Iie;function Mie(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var Rie=Mie,Lie=Do,$ie=Mo,Fie="[object Arguments]";function Bie(e){return $ie(e)&&Lie(e)==Fie}var Uie=Bie,l5=Uie,zie=Mo,sD=Object.prototype,Vie=sD.hasOwnProperty,qie=sD.propertyIsEnumerable,Hie=l5(function(){return arguments}())?l5:function(e){return zie(e)&&Vie.call(e,"callee")&&!qie.call(e,"callee")},O3=Hie,xg={exports:{}};function Wie(){return!1}var Gie=Wie;xg.exports;(function(e,t){var n=Ui,s=Gie,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,d=o?n.Buffer:void 0,h=d?d.isBuffer:void 0,u=h||s;e.exports=u})(xg,xg.exports);var aD=xg.exports,Qie=9007199254740991,Yie=/^(?:0|[1-9]\d*)$/;function Xie(e,t){var n=typeof e;return t=t??Qie,!!t&&(n=="number"||n!="symbol"&&Yie.test(e))&&e>-1&&e%1==0&&e<t}var E3=Xie,Kie=9007199254740991;function Zie(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kie}var k3=Zie,Jie=Do,eoe=k3,toe=Mo,roe="[object Arguments]",noe="[object Array]",soe="[object Boolean]",aoe="[object Date]",ioe="[object Error]",ooe="[object Function]",loe="[object Map]",coe="[object Number]",doe="[object Object]",uoe="[object RegExp]",hoe="[object Set]",foe="[object String]",moe="[object WeakMap]",xoe="[object ArrayBuffer]",poe="[object DataView]",goe="[object Float32Array]",yoe="[object Float64Array]",boe="[object Int8Array]",voe="[object Int16Array]",joe="[object Int32Array]",woe="[object Uint8Array]",Noe="[object Uint8ClampedArray]",_oe="[object Uint16Array]",Soe="[object Uint32Array]",br={};br[goe]=br[yoe]=br[boe]=br[voe]=br[joe]=br[woe]=br[Noe]=br[_oe]=br[Soe]=!0;br[roe]=br[noe]=br[xoe]=br[soe]=br[poe]=br[aoe]=br[ioe]=br[ooe]=br[loe]=br[coe]=br[doe]=br[uoe]=br[hoe]=br[foe]=br[moe]=!1;function Coe(e){return toe(e)&&eoe(e.length)&&!!br[Jie(e)]}var Aoe=Coe;function Ooe(e){return function(t){return e(t)}}var iD=Ooe,pg={exports:{}};pg.exports;(function(e,t){var n=fI,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&n.process,d=function(){try{var h=a&&a.require&&a.require("util").types;return h||o&&o.binding&&o.binding("util")}catch{}}();e.exports=d})(pg,pg.exports);var Eoe=pg.exports,koe=Aoe,Toe=iD,c5=Eoe,d5=c5&&c5.isTypedArray,Poe=d5?Toe(d5):koe,oD=Poe,Ioe=Rie,Doe=O3,Moe=Is,Roe=aD,Loe=E3,$oe=oD,Foe=Object.prototype,Boe=Foe.hasOwnProperty;function Uoe(e,t){var n=Moe(e),s=!n&&Doe(e),a=!n&&!s&&Roe(e),i=!n&&!s&&!a&&$oe(e),o=n||s||a||i,d=o?Ioe(e.length,String):[],h=d.length;for(var u in e)(t||Boe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Loe(u,h)))&&d.push(u);return d}var zoe=Uoe,Voe=Object.prototype;function qoe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Voe;return e===n}var Hoe=qoe;function Woe(e,t){return function(n){return e(t(n))}}var lD=Woe,Goe=lD,Qoe=Goe(Object.keys,Object),Yoe=Qoe,Xoe=Hoe,Koe=Yoe,Zoe=Object.prototype,Joe=Zoe.hasOwnProperty;function ele(e){if(!Xoe(e))return Koe(e);var t=[];for(var n in Object(e))Joe.call(e,n)&&n!="constructor"&&t.push(n);return t}var tle=ele,rle=u3,nle=k3;function sle(e){return e!=null&&nle(e.length)&&!rle(e)}var $m=sle,ale=zoe,ile=tle,ole=$m;function lle(e){return ole(e)?ale(e):ile(e)}var k1=lle,cle=_ie,dle=Die,ule=k1;function hle(e){return cle(e,ule,dle)}var fle=hle,u5=fle,mle=1,xle=Object.prototype,ple=xle.hasOwnProperty;function gle(e,t,n,s,a,i){var o=n&mle,d=u5(e),h=d.length,u=u5(t),x=u.length;if(h!=x&&!o)return!1;for(var p=h;p--;){var b=d[p];if(!(o?b in t:ple.call(t,b)))return!1}var _=i.get(e),v=i.get(t);if(_&&v)return _==t&&v==e;var N=!0;i.set(e,t),i.set(t,e);for(var j=o;++p<h;){b=d[p];var S=e[b],C=t[b];if(s)var A=o?s(C,S,b,t,e,i):s(S,C,b,e,t,i);if(!(A===void 0?S===C||a(S,C,n,s,i):A)){N=!1;break}j||(j=b=="constructor")}if(N&&!j){var E=e.constructor,k=t.constructor;E!=k&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(N=!1)}return i.delete(e),i.delete(t),N}var yle=gle,ble=yd,vle=Ui,jle=ble(vle,"DataView"),wle=jle,Nle=yd,_le=Ui,Sle=Nle(_le,"Promise"),Cle=Sle,Ale=yd,Ole=Ui,Ele=Ale(Ole,"Set"),cD=Ele,kle=yd,Tle=Ui,Ple=kle(Tle,"WeakMap"),Ile=Ple,Gj=wle,Qj=f3,Yj=Cle,Xj=cD,Kj=Ile,dD=Do,Xh=xI,h5="[object Map]",Dle="[object Object]",f5="[object Promise]",m5="[object Set]",x5="[object WeakMap]",p5="[object DataView]",Mle=Xh(Gj),Rle=Xh(Qj),Lle=Xh(Yj),$le=Xh(Xj),Fle=Xh(Kj),mc=dD;(Gj&&mc(new Gj(new ArrayBuffer(1)))!=p5||Qj&&mc(new Qj)!=h5||Yj&&mc(Yj.resolve())!=f5||Xj&&mc(new Xj)!=m5||Kj&&mc(new Kj)!=x5)&&(mc=function(e){var t=dD(e),n=t==Dle?e.constructor:void 0,s=n?Xh(n):"";if(s)switch(s){case Mle:return p5;case Rle:return h5;case Lle:return f5;case $le:return m5;case Fle:return x5}return t});var Ble=mc,yv=ZI,Ule=rD,zle=bie,Vle=yle,g5=Ble,y5=Is,b5=aD,qle=oD,Hle=1,v5="[object Arguments]",j5="[object Array]",Tx="[object Object]",Wle=Object.prototype,w5=Wle.hasOwnProperty;function Gle(e,t,n,s,a,i){var o=y5(e),d=y5(t),h=o?j5:g5(e),u=d?j5:g5(t);h=h==v5?Tx:h,u=u==v5?Tx:u;var x=h==Tx,p=u==Tx,b=h==u;if(b&&b5(e)){if(!b5(t))return!1;o=!0,x=!1}if(b&&!x)return i||(i=new yv),o||qle(e)?Ule(e,t,n,s,a,i):zle(e,t,h,n,s,a,i);if(!(n&Hle)){var _=x&&w5.call(e,"__wrapped__"),v=p&&w5.call(t,"__wrapped__");if(_||v){var N=_?e.value():e,j=v?t.value():t;return i||(i=new yv),a(N,j,n,s,i)}}return b?(i||(i=new yv),Vle(e,t,n,s,a,i)):!1}var Qle=Gle,Yle=Qle,N5=Mo;function uD(e,t,n,s,a){return e===t?!0:e==null||t==null||!N5(e)&&!N5(t)?e!==e&&t!==t:Yle(e,t,n,s,uD,a)}var T3=uD,Xle=ZI,Kle=T3,Zle=1,Jle=2;function ece(e,t,n,s){var a=n.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var d=n[a];if(o&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++a<i;){d=n[a];var h=d[0],u=e[h],x=d[1];if(o&&d[2]){if(u===void 0&&!(h in e))return!1}else{var p=new Xle;if(s)var b=s(u,x,h,e,t,p);if(!(b===void 0?Kle(x,u,Zle|Jle,s,p):b))return!1}}return!0}var tce=ece,rce=Zl;function nce(e){return e===e&&!rce(e)}var hD=nce,sce=hD,ace=k1;function ice(e){for(var t=ace(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,sce(a)]}return t}var oce=ice;function lce(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var fD=lce,cce=tce,dce=oce,uce=fD;function hce(e){var t=dce(e);return t.length==1&&t[0][2]?uce(t[0][0],t[0][1]):function(n){return n===e||cce(n,e,t)}}var fce=hce;function mce(e,t){return e!=null&&t in Object(e)}var xce=mce,pce=vI,gce=O3,yce=Is,bce=E3,vce=k3,jce=x1;function wce(e,t,n){t=pce(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=jce(t[s]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&vce(a)&&bce(o,a)&&(yce(e)||gce(e)))}var Nce=wce,_ce=xce,Sce=Nce;function Cce(e,t){return e!=null&&Sce(e,t,_ce)}var Ace=Cce,Oce=T3,Ece=jI,kce=Ace,Tce=d3,Pce=hD,Ice=fD,Dce=x1,Mce=1,Rce=2;function Lce(e,t){return Tce(e)&&Pce(t)?Ice(Dce(e),t):function(n){var s=Ece(n,e);return s===void 0&&s===t?kce(n,e):Oce(t,s,Mce|Rce)}}var $ce=Lce;function Fce(e){return e}var Kh=Fce;function Bce(e){return function(t){return t==null?void 0:t[e]}}var Uce=Bce,zce=g3;function Vce(e){return function(t){return zce(t,e)}}var qce=Vce,Hce=Uce,Wce=qce,Gce=d3,Qce=x1;function Yce(e){return Gce(e)?Hce(Qce(e)):Wce(e)}var Xce=Yce,Kce=fce,Zce=$ce,Jce=Kh,ede=Is,tde=Xce;function rde(e){return typeof e=="function"?e:e==null?Jce:typeof e=="object"?ede(e)?Zce(e[0],e[1]):Kce(e):tde(e)}var zi=rde;function nde(e,t,n,s){for(var a=e.length,i=n+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var mD=nde;function sde(e){return e!==e}var ade=sde;function ide(e,t,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var ode=ide,lde=mD,cde=ade,dde=ode;function ude(e,t,n){return t===t?dde(e,t,n):lde(e,cde,n)}var hde=ude,fde=hde;function mde(e,t){var n=e==null?0:e.length;return!!n&&fde(e,t,0)>-1}var xde=mde;function pde(e,t,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(t,e[s]))return!0;return!1}var gde=pde;function yde(){}var bde=yde,bv=cD,vde=bde,jde=A3,wde=1/0,Nde=bv&&1/jde(new bv([,-0]))[1]==wde?function(e){return new bv(e)}:vde,_de=Nde,Sde=JI,Cde=xde,Ade=gde,Ode=tD,Ede=_de,kde=A3,Tde=200;function Pde(e,t,n){var s=-1,a=Cde,i=e.length,o=!0,d=[],h=d;if(n)o=!1,a=Ade;else if(i>=Tde){var u=t?null:Ede(e);if(u)return kde(u);o=!1,a=Ode,h=new Sde}else h=t?[]:d;e:for(;++s<i;){var x=e[s],p=t?t(x):x;if(x=n||x!==0?x:0,o&&p===p){for(var b=h.length;b--;)if(h[b]===p)continue e;t&&h.push(p),d.push(x)}else a(h,p,n)||(h!==d&&h.push(p),d.push(x))}return d}var Ide=Pde,Dde=zi,Mde=Ide;function Rde(e,t){return e&&e.length?Mde(e,Dde(t)):[]}var Lde=Rde;const _5=Vt(Lde);function xD(e,t,n){return t===!0?_5(e,n):pt(t)?_5(e,t):e}function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}var $de=["ref"];function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(s){T1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Fde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C5(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gD(s.key),s)}}function Bde(e,t,n){return t&&C5(e.prototype,t),n&&C5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ude(e,t,n){return t=gg(t),zde(e,pD()?Reflect.construct(t,n||[],gg(e).constructor):t.apply(e,n))}function zde(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vde(e)}function Vde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(e)}function qde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zj(e,t)}function Zj(e,t){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Zj(e,t)}function T1(e,t,n){return t=gD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gD(e){var t=Hde(e,"string");return nh(t)=="symbol"?t:t+""}function Hde(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(nh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Wde(e,t){if(e==null)return{};var n=Gde(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gde(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Qde(e){return e.value}function Yde(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var n=Wde(t,$de);return K.createElement(C3,n)}var A5=1,ei=function(e){function t(){var n;Fde(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Ude(this,t,[].concat(a)),T1(n,"lastBoundingBox",{width:-1,height:-1}),n}return qde(t,e),Bde(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>A5||Math.abs(a.height-this.lastBoundingBox.height)>A5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,d=a.verticalAlign,h=a.margin,u=a.chartWidth,x=a.chartHeight,p,b;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var _=this.getBBoxSnapshot();p={left:((u||0)-_.width)/2}}else p=o==="right"?{right:h&&h.right||0}:{left:h&&h.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(d==="middle"){var v=this.getBBoxSnapshot();b={top:((x||0)-v.height)/2}}else b=d==="bottom"?{bottom:h&&h.bottom||0}:{top:h&&h.top||0};return Qi(Qi({},p),b)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,d=a.height,h=a.wrapperStyle,u=a.payloadUniqBy,x=a.payload,p=Qi(Qi({position:"absolute",width:o||"auto",height:d||"auto"},this.getDefaultPosition(h)),h);return K.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){s.wrapperNode=_}},Yde(i,Qi(Qi({},this.props),{},{payload:xD(x,u,Qde)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Qi(Qi({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Ve(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(T.PureComponent);T1(ei,"displayName","Legend");T1(ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var O5=Lm,Xde=O3,Kde=Is,E5=O5?O5.isConcatSpreadable:void 0;function Zde(e){return Kde(e)||Xde(e)||!!(E5&&e&&e[E5])}var Jde=Zde,eue=nD,tue=Jde;function yD(e,t,n,s,a){var i=-1,o=e.length;for(n||(n=tue),a||(a=[]);++i<o;){var d=e[i];t>0&&n(d)?t>1?yD(d,t-1,n,s,a):eue(a,d):s||(a[a.length]=d)}return a}var bD=yD;function rue(e){return function(t,n,s){for(var a=-1,i=Object(t),o=s(t),d=o.length;d--;){var h=o[e?d:++a];if(n(i[h],h,i)===!1)break}return t}}var nue=rue,sue=nue,aue=sue(),iue=aue,oue=iue,lue=k1;function cue(e,t){return e&&oue(e,t,lue)}var vD=cue,due=$m;function uue(e,t){return function(n,s){if(n==null)return n;if(!due(n))return e(n,s);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return n}}var hue=uue,fue=vD,mue=hue,xue=mue(fue),P3=xue,pue=P3,gue=$m;function yue(e,t){var n=-1,s=gue(e)?Array(e.length):[];return pue(e,function(a,i,o){s[++n]=t(a,i,o)}),s}var jD=yue;function bue(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var vue=bue,k5=Vh;function jue(e,t){if(e!==t){var n=e!==void 0,s=e===null,a=e===e,i=k5(e),o=t!==void 0,d=t===null,h=t===t,u=k5(t);if(!d&&!u&&!i&&e>t||i&&o&&h&&!d&&!u||s&&o&&h||!n&&h||!a)return 1;if(!s&&!i&&!u&&e<t||u&&n&&a&&!s&&!i||d&&n&&a||!o&&a||!h)return-1}return 0}var wue=jue,Nue=wue;function _ue(e,t,n){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,d=n.length;++s<o;){var h=Nue(a[s],i[s]);if(h){if(s>=d)return h;var u=n[s];return h*(u=="desc"?-1:1)}}return e.index-t.index}var Sue=_ue,vv=p3,Cue=g3,Aue=zi,Oue=jD,Eue=vue,kue=iD,Tue=Sue,Pue=Kh,Iue=Is;function Due(e,t,n){t.length?t=vv(t,function(i){return Iue(i)?function(o){return Cue(o,i.length===1?i[0]:i)}:i}):t=[Pue];var s=-1;t=vv(t,kue(Aue));var a=Oue(e,function(i,o,d){var h=vv(t,function(u){return u(i)});return{criteria:h,index:++s,value:i}});return Eue(a,function(i,o){return Tue(i,o,n)})}var Mue=Due;function Rue(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Lue=Rue,$ue=Lue,T5=Math.max;function Fue(e,t,n){return t=T5(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=T5(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var d=Array(t+1);++a<t;)d[a]=s[a];return d[t]=n(o),$ue(e,this,d)}}var Bue=Fue;function Uue(e){return function(){return e}}var zue=Uue,Vue=yd,que=function(){try{var e=Vue(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wD=que,Hue=zue,P5=wD,Wue=Kh,Gue=P5?function(e,t){return P5(e,"toString",{configurable:!0,enumerable:!1,value:Hue(t),writable:!0})}:Wue,Que=Gue,Yue=800,Xue=16,Kue=Date.now;function Zue(e){var t=0,n=0;return function(){var s=Kue(),a=Xue-(s-n);if(n=s,a>0){if(++t>=Yue)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Jue=Zue,ehe=Que,the=Jue,rhe=the(ehe),nhe=rhe,she=Kh,ahe=Bue,ihe=nhe;function ohe(e,t){return ihe(ahe(e,t,she),e+"")}var lhe=ohe,che=h3,dhe=$m,uhe=E3,hhe=Zl;function fhe(e,t,n){if(!hhe(n))return!1;var s=typeof t;return(s=="number"?dhe(n)&&uhe(t,n.length):s=="string"&&t in n)?che(n[t],e):!1}var P1=fhe,mhe=bD,xhe=Mue,phe=lhe,I5=P1,ghe=phe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&I5(e,t[0],t[1])?t=[]:n>2&&I5(t[0],t[1],t[2])&&(t=[t[0]]),xhe(e,mhe(t,1),[])}),yhe=ghe;const I3=Vt(yhe);function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jj.apply(this,arguments)}function bhe(e,t){return Nhe(e)||whe(e,t)||jhe(e,t)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jhe(e,t){if(e){if(typeof e=="string")return D5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D5(e,t)}}function D5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function whe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function Nhe(e){if(Array.isArray(e))return e}function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(s){_he(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function _he(e,t,n){return t=She(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function She(e){var t=Che(e,"string");return Rf(t)=="symbol"?t:t+""}function Che(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Rf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ahe(e){return Array.isArray(e)&&on(e[0])&&on(e[1])?e.join(" ~ "):e}var Ohe=function(t){var n=t.separator,s=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,d=o===void 0?{}:o,h=t.labelStyle,u=h===void 0?{}:h,x=t.payload,p=t.formatter,b=t.itemSorter,_=t.wrapperClassName,v=t.labelClassName,N=t.label,j=t.labelFormatter,S=t.accessibilityLayer,C=S===void 0?!1:S,A=function(){if(x&&x.length){var L={padding:0,margin:0},$=(b?I3(x,b):x).map(function(W,U){if(W.type==="none")return null;var Y=jv({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},d),X=W.formatter||p||Ahe,V=W.value,G=W.name,ne=V,ae=G;if(X&&ne!=null&&ae!=null){var le=X(V,G,W,U,x);if(Array.isArray(le)){var ie=bhe(le,2);ne=ie[0],ae=ie[1]}else ne=le}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Y},on(ae)?K.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,on(ae)?K.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,K.createElement("span",{className:"recharts-tooltip-item-value"},ne),K.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:L},$)}return null},E=jv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),k=jv({margin:0},u),D=!jt(N),R=D?N:"",F=bt("recharts-default-tooltip",_),M=bt("recharts-tooltip-label",v);D&&j&&x!==void 0&&x!==null&&(R=j(N,x));var z=C?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",Jj({className:F,style:E},z),K.createElement("p",{className:M,style:k},K.isValidElement(R)?R:"".concat(R)),A())};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function Px(e,t,n){return t=Ehe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ehe(e){var t=khe(e,"string");return Lf(t)=="symbol"?t:t+""}function khe(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Lf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0="recharts-tooltip-wrapper",The={visibility:"hidden"};function Phe(e){var t=e.coordinate,n=e.translateX,s=e.translateY;return bt(N0,Px(Px(Px(Px({},"".concat(N0,"-right"),Ve(n)&&t&&Ve(t.x)&&n>=t.x),"".concat(N0,"-left"),Ve(n)&&t&&Ve(t.x)&&n<t.x),"".concat(N0,"-bottom"),Ve(s)&&t&&Ve(t.y)&&s>=t.y),"".concat(N0,"-top"),Ve(s)&&t&&Ve(t.y)&&s<t.y))}function R5(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,d=e.tooltipDimension,h=e.viewBox,u=e.viewBoxDimension;if(i&&Ve(i[s]))return i[s];var x=n[s]-d-a,p=n[s]+a;if(t[s])return o[s]?x:p;if(o[s]){var b=x,_=h[s];return b<_?Math.max(p,h[s]):Math.max(x,h[s])}var v=p+d,N=h[s]+u;return v>N?Math.max(x,h[s]):Math.max(p,h[s])}function Ihe(e){var t=e.translateX,n=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Dhe(e){var t=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,d=e.useTranslate3d,h=e.viewBox,u,x,p;return o.height>0&&o.width>0&&n?(x=R5({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:h,viewBoxDimension:h.width}),p=R5({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:h,viewBoxDimension:h.height}),u=Ihe({translateX:x,translateY:p,useTranslate3d:d})):u=The,{cssProperties:u,cssClasses:Phe({translateX:x,translateY:p,coordinate:n})}}function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function $5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(n),!0).forEach(function(s){tw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rhe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_D(s.key),s)}}function Lhe(e,t,n){return t&&Rhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $he(e,t,n){return t=yg(t),Fhe(e,ND()?Reflect.construct(t,n||[],yg(e).constructor):t.apply(e,n))}function Fhe(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(e)}function Bhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!e})()}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(e)}function Uhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ew(e,t)}function tw(e,t,n){return t=_D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=zhe(e,"string");return sh(t)=="symbol"?t:t+""}function zhe(e,t){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(sh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F5=1,Vhe=function(e){function t(){var n;Mhe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=$he(this,t,[].concat(a)),tw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var d,h,u,x;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.x)!==null&&d!==void 0?d:0,y:(u=(x=n.props.coordinate)===null||x===void 0?void 0:x.y)!==null&&u!==void 0?u:0}})}}),n}return Uhe(t,e),Lhe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>F5||Math.abs(s.height-this.state.lastBoundingBox.height)>F5)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,d=a.animationDuration,h=a.animationEasing,u=a.children,x=a.coordinate,p=a.hasPayload,b=a.isAnimationActive,_=a.offset,v=a.position,N=a.reverseDirection,j=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,A=Dhe({allowEscapeViewBox:o,coordinate:x,offsetTopLeft:_,position:v,reverseDirection:N,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:S}),E=A.cssClasses,k=A.cssProperties,D=$5($5({transition:b&&i?"transform ".concat(d,"ms ").concat(h):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},C);return K.createElement("div",{tabIndex:-1,className:E,style:D,ref:function(F){s.wrapperNode=F}},u)}}])}(T.PureComponent),qhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Jl={isSsr:qhe()};function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function B5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function U5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(n),!0).forEach(function(s){D3(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Whe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,CD(s.key),s)}}function Ghe(e,t,n){return t&&Whe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qhe(e,t,n){return t=bg(t),Yhe(e,SD()?Reflect.construct(t,n||[],bg(e).constructor):t.apply(e,n))}function Yhe(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xhe(e)}function Xhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(e)}function Khe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rw(e,t)}function rw(e,t){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},rw(e,t)}function D3(e,t,n){return t=CD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CD(e){var t=Zhe(e,"string");return ah(t)=="symbol"?t:t+""}function Zhe(e,t){if(ah(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ah(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jhe(e){return e.dataKey}function e0e(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(Ohe,t)}var xn=function(e){function t(){return Hhe(this,t),Qhe(this,t,arguments)}return Khe(t,e),Ghe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,d=a.animationDuration,h=a.animationEasing,u=a.content,x=a.coordinate,p=a.filterNull,b=a.isAnimationActive,_=a.offset,v=a.payload,N=a.payloadUniqBy,j=a.position,S=a.reverseDirection,C=a.useTranslate3d,A=a.viewBox,E=a.wrapperStyle,k=v??[];p&&k.length&&(k=xD(v.filter(function(R){return R.value!=null&&(R.hide!==!0||s.props.includeHidden)}),N,Jhe));var D=k.length>0;return K.createElement(Vhe,{allowEscapeViewBox:o,animationDuration:d,animationEasing:h,isAnimationActive:b,active:i,coordinate:x,hasPayload:D,offset:_,position:j,reverseDirection:S,useTranslate3d:C,viewBox:A,wrapperStyle:E},e0e(u,U5(U5({},this.props),{},{payload:k})))}}])}(T.PureComponent);D3(xn,"displayName","Tooltip");D3(xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var t0e=Ui,r0e=function(){return t0e.Date.now()},n0e=r0e,s0e=/\s/;function a0e(e){for(var t=e.length;t--&&s0e.test(e.charAt(t)););return t}var i0e=a0e,o0e=i0e,l0e=/^\s+/;function c0e(e){return e&&e.slice(0,o0e(e)+1).replace(l0e,"")}var d0e=c0e,u0e=d0e,z5=Zl,h0e=Vh,V5=NaN,f0e=/^[-+]0x[0-9a-f]+$/i,m0e=/^0b[01]+$/i,x0e=/^0o[0-7]+$/i,p0e=parseInt;function g0e(e){if(typeof e=="number")return e;if(h0e(e))return V5;if(z5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=z5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=u0e(e);var n=m0e.test(e);return n||x0e.test(e)?p0e(e.slice(2),n?2:8):f0e.test(e)?V5:+e}var AD=g0e,y0e=Zl,wv=n0e,q5=AD,b0e="Expected a function",v0e=Math.max,j0e=Math.min;function w0e(e,t,n){var s,a,i,o,d,h,u=0,x=!1,p=!1,b=!0;if(typeof e!="function")throw new TypeError(b0e);t=q5(t)||0,y0e(n)&&(x=!!n.leading,p="maxWait"in n,i=p?v0e(q5(n.maxWait)||0,t):i,b="trailing"in n?!!n.trailing:b);function _(D){var R=s,F=a;return s=a=void 0,u=D,o=e.apply(F,R),o}function v(D){return u=D,d=setTimeout(S,t),x?_(D):o}function N(D){var R=D-h,F=D-u,M=t-R;return p?j0e(M,i-F):M}function j(D){var R=D-h,F=D-u;return h===void 0||R>=t||R<0||p&&F>=i}function S(){var D=wv();if(j(D))return C(D);d=setTimeout(S,N(D))}function C(D){return d=void 0,b&&s?_(D):(s=a=void 0,o)}function A(){d!==void 0&&clearTimeout(d),u=0,s=h=a=d=void 0}function E(){return d===void 0?o:C(wv())}function k(){var D=wv(),R=j(D);if(s=arguments,a=this,h=D,R){if(d===void 0)return v(h);if(p)return clearTimeout(d),d=setTimeout(S,t),_(h)}return d===void 0&&(d=setTimeout(S,t)),o}return k.cancel=A,k.flush=E,k}var N0e=w0e,_0e=N0e,S0e=Zl,C0e="Expected a function";function A0e(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(C0e);return S0e(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),_0e(e,t,{leading:s,maxWait:t,trailing:a})}var O0e=A0e;const OD=Vt(O0e);function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(s){E0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function E0e(e,t,n){return t=k0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k0e(e){var t=T0e(e,"string");return $f(t)=="symbol"?t:t+""}function T0e(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if($f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0e(e,t){return R0e(e)||M0e(e,t)||D0e(e,t)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0e(e,t){if(e){if(typeof e=="string")return W5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W5(e,t)}}function W5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function M0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function R0e(e){if(Array.isArray(e))return e}var ro=T.forwardRef(function(e,t){var n=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,d=e.height,h=d===void 0?"100%":d,u=e.minWidth,x=u===void 0?0:u,p=e.minHeight,b=e.maxHeight,_=e.children,v=e.debounce,N=v===void 0?0:v,j=e.id,S=e.className,C=e.onResize,A=e.style,E=A===void 0?{}:A,k=T.useRef(null),D=T.useRef();D.current=C,T.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var R=T.useState({containerWidth:a.width,containerHeight:a.height}),F=P0e(R,2),M=F[0],z=F[1],I=T.useCallback(function($,W){z(function(U){var Y=Math.round($),X=Math.round(W);return U.containerWidth===Y&&U.containerHeight===X?U:{containerWidth:Y,containerHeight:X}})},[]);T.useEffect(function(){var $=function(G){var ne,ae=G[0].contentRect,le=ae.width,ie=ae.height;I(le,ie),(ne=D.current)===null||ne===void 0||ne.call(D,le,ie)};N>0&&($=OD($,N,{trailing:!0,leading:!1}));var W=new ResizeObserver($),U=k.current.getBoundingClientRect(),Y=U.width,X=U.height;return I(Y,X),W.observe(k.current),function(){W.disconnect()}},[I,N]);var L=T.useMemo(function(){var $=M.containerWidth,W=M.containerHeight;if($<0||W<0)return null;Ja(Sc(o)||Sc(h),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,h),Ja(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Sc(o)?$:o,Y=Sc(h)?W:h;n&&n>0&&(U?Y=U/n:Y&&(U=Y*n),b&&Y>b&&(Y=b)),Ja(U>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,Y,o,h,x,p,n);var X=!Array.isArray(_)&&bo(_.type).endsWith("Chart");return K.Children.map(_,function(V){return K.isValidElement(V)?T.cloneElement(V,Ix({width:U,height:Y},X?{style:Ix({height:"100%",width:"100%",maxHeight:Y,maxWidth:U},V.props.style)}:{})):V})},[n,_,h,b,p,x,M,o]);return K.createElement("div",{id:j?"".concat(j):void 0,className:bt("recharts-responsive-container",S),style:Ix(Ix({},E),{},{width:o,height:h,minWidth:x,minHeight:p,maxHeight:b}),ref:k},L)}),Fm=function(t){return null};Fm.displayName="Cell";function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function G5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(n),!0).forEach(function(s){L0e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function L0e(e,t,n){return t=$0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $0e(e){var t=F0e(e,"string");return Ff(t)=="symbol"?t:t+""}function F0e(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud={widthCache:{},cacheCount:0},B0e=2e3,U0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q5="recharts_measurement_span";function z0e(e){var t=nw({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var sf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jl.isSsr)return{width:0,height:0};var s=z0e(n),a=JSON.stringify({text:t,copyStyle:s});if(Ud.widthCache[a])return Ud.widthCache[a];try{var i=document.getElementById(Q5);i||(i=document.createElement("span"),i.setAttribute("id",Q5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=nw(nw({},U0e),s);Object.assign(i.style,o),i.textContent="".concat(t);var d=i.getBoundingClientRect(),h={width:d.width,height:d.height};return Ud.widthCache[a]=h,++Ud.cacheCount>B0e&&(Ud.cacheCount=0,Ud.widthCache={}),h}catch{return{width:0,height:0}}},V0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function vg(e,t){return G0e(e)||W0e(e,t)||H0e(e,t)||q0e()}function q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(e,t){if(e){if(typeof e=="string")return Y5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y5(e,t)}}function Y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function W0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function G0e(e){if(Array.isArray(e))return e}function Q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X5(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,X0e(s.key),s)}}function Y0e(e,t,n){return t&&X5(e.prototype,t),n&&X5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function X0e(e){var t=K0e(e,"string");return Bf(t)=="symbol"?t:t+""}function K0e(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var K5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ED={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},efe=Object.keys(ED),uu="NaN";function tfe(e,t){return e*ED[t]}var Dx=function(){function e(t,n){Q0e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Z0e.test(n)&&(this.num=NaN,this.unit=""),efe.includes(n)&&(this.num=tfe(t,n),this.unit="px")}return Y0e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=J0e.exec(n))!==null&&s!==void 0?s:[],i=vg(a,3),o=i[1],d=i[2];return new e(parseFloat(o),d??"")}}])}();function kD(e){if(e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var n,s=(n=K5.exec(t))!==null&&n!==void 0?n:[],a=vg(s,4),i=a[1],o=a[2],d=a[3],h=Dx.parse(i??""),u=Dx.parse(d??""),x=o==="*"?h.multiply(u):h.divide(u);if(x.isNaN())return uu;t=t.replace(K5,x.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,b=(p=Z5.exec(t))!==null&&p!==void 0?p:[],_=vg(b,4),v=_[1],N=_[2],j=_[3],S=Dx.parse(v??""),C=Dx.parse(j??""),A=N==="+"?S.add(C):S.subtract(C);if(A.isNaN())return uu;t=t.replace(Z5,A.toString())}return t}var J5=/\(([^()]*)\)/;function rfe(e){for(var t=e;t.includes("(");){var n=J5.exec(t),s=vg(n,2),a=s[1];t=t.replace(J5,kD(a))}return t}function nfe(e){var t=e.replace(/\s+/g,"");return t=rfe(t),t=kD(t),t}function sfe(e){try{return nfe(e)}catch{return uu}}function Nv(e){var t=sfe(e.slice(5,-1));return t===uu?"":t}var afe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ife=["dx","dy","angle","className","breakAll"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},sw.apply(this,arguments)}function eA(e,t){if(e==null)return{};var n=ofe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ofe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function tA(e,t){return ufe(e)||dfe(e,t)||cfe(e,t)||lfe()}function lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(e,t){if(e){if(typeof e=="string")return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(e,t)}}function rA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function dfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;h=!1}else for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function ufe(e){if(Array.isArray(e))return e}var TD=/[ \f\n\r\t\v\u2028\u2029]+/,PD=function(t){var n=t.children,s=t.breakAll,a=t.style;try{var i=[];jt(n)||(s?i=n.toString().split(""):i=n.toString().split(TD));var o=i.map(function(h){return{word:h,width:sf(h,a).width}}),d=s?0:sf(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:d}}catch{return null}},hfe=function(t,n,s,a,i){var o=t.maxLines,d=t.children,h=t.style,u=t.breakAll,x=Ve(o),p=d,b=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(Y,X){var V=X.word,G=X.width,ne=Y[Y.length-1];if(ne&&(a==null||i||ne.width+G+s<Number(a)))ne.words.push(V),ne.width+=G+s;else{var ae={words:[V],width:G};Y.push(ae)}return Y},[])},_=b(n),v=function(U){return U.reduce(function(Y,X){return Y.width>X.width?Y:X})};if(!x)return _;for(var N="…",j=function(U){var Y=p.slice(0,U),X=PD({breakAll:u,style:h,children:Y+N}).wordsWithComputedWidth,V=b(X),G=V.length>o||v(V).width>Number(a);return[G,V]},S=0,C=p.length-1,A=0,E;S<=C&&A<=p.length-1;){var k=Math.floor((S+C)/2),D=k-1,R=j(D),F=tA(R,2),M=F[0],z=F[1],I=j(k),L=tA(I,1),$=L[0];if(!M&&!$&&(S=k+1),M&&$&&(C=k-1),!M&&$){E=z;break}A++}return E||_},nA=function(t){var n=jt(t)?[]:t.toString().split(TD);return[{words:n}]},ffe=function(t){var n=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,d=t.maxLines;if((n||s)&&!Jl.isSsr){var h,u,x=PD({breakAll:o,children:a,style:i});if(x){var p=x.wordsWithComputedWidth,b=x.spaceWidth;h=p,u=b}else return nA(a);return hfe({breakAll:o,children:a,maxLines:d,style:i},h,u,n,s)}return nA(a)},sA="#808080",od=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,d=o===void 0?"1em":o,h=t.capHeight,u=h===void 0?"0.71em":h,x=t.scaleToFit,p=x===void 0?!1:x,b=t.textAnchor,_=b===void 0?"start":b,v=t.verticalAnchor,N=v===void 0?"end":v,j=t.fill,S=j===void 0?sA:j,C=eA(t,afe),A=T.useMemo(function(){return ffe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),E=C.dx,k=C.dy,D=C.angle,R=C.className,F=C.breakAll,M=eA(C,ife);if(!on(s)||!on(i))return null;var z=s+(Ve(E)?E:0),I=i+(Ve(k)?k:0),L;switch(N){case"start":L=Nv("calc(".concat(u,")"));break;case"middle":L=Nv("calc(".concat((A.length-1)/2," * -").concat(d," + (").concat(u," / 2))"));break;default:L=Nv("calc(".concat(A.length-1," * -").concat(d,")"));break}var $=[];if(p){var W=A[0].width,U=C.width;$.push("scale(".concat((Ve(U)?U/W:1)/W,")"))}return D&&$.push("rotate(".concat(D,", ").concat(z,", ").concat(I,")")),$.length&&(M.transform=$.join(" ")),K.createElement("text",sw({},ot(M,!0),{x:z,y:I,className:bt("recharts-text",R),textAnchor:_,fill:S.includes("url")?sA:S}),A.map(function(Y,X){var V=Y.words.join(F?"":" ");return K.createElement("tspan",{x:z,dy:X===0?L:d,key:"".concat(V,"-").concat(X)},V)}))};function Rl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M3(e){let t,n,s;e.length!==2?(t=Rl,n=(d,h)=>Rl(e(d),h),s=(d,h)=>e(d)-h):(t=e===Rl||e===mfe?e:xfe,n=e,s=e);function a(d,h,u=0,x=d.length){if(u<x){if(t(h,h)!==0)return x;do{const p=u+x>>>1;n(d[p],h)<0?u=p+1:x=p}while(u<x)}return u}function i(d,h,u=0,x=d.length){if(u<x){if(t(h,h)!==0)return x;do{const p=u+x>>>1;n(d[p],h)<=0?u=p+1:x=p}while(u<x)}return u}function o(d,h,u=0,x=d.length){const p=a(d,h,u,x-1);return p>u&&s(d[p-1],h)>-s(d[p],h)?p-1:p}return{left:a,center:o,right:i}}function xfe(){return 0}function ID(e){return e===null?NaN:+e}function*pfe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const gfe=M3(Rl),Bm=gfe.right;M3(ID).center;class aA extends Map{constructor(t,n=vfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(iA(this,t))}has(t){return super.has(iA(this,t))}set(t,n){return super.set(yfe(this,t),n)}delete(t){return super.delete(bfe(this,t))}}function iA({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):n}function yfe({_intern:e,_key:t},n){const s=t(n);return e.has(s)?e.get(s):(e.set(s,n),n)}function bfe({_intern:e,_key:t},n){const s=t(n);return e.has(s)&&(n=e.get(s),e.delete(s)),n}function vfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jfe(e=Rl){if(e===Rl)return DD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const s=e(t,n);return s||s===0?s:(e(n,n)===0)-(e(t,t)===0)}}function DD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const wfe=Math.sqrt(50),Nfe=Math.sqrt(10),_fe=Math.sqrt(2);function jg(e,t,n){const s=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=wfe?10:i>=Nfe?5:i>=_fe?2:1;let d,h,u;return a<0?(u=Math.pow(10,-a)/o,d=Math.round(e*u),h=Math.round(t*u),d/u<e&&++d,h/u>t&&--h,u=-u):(u=Math.pow(10,a)*o,d=Math.round(e/u),h=Math.round(t/u),d*u<e&&++d,h*u>t&&--h),h<d&&.5<=n&&n<2?jg(e,t,n*2):[d,h,u]}function aw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?jg(t,e,n):jg(e,t,n);if(!(i>=a))return[];const d=i-a+1,h=new Array(d);if(s)if(o<0)for(let u=0;u<d;++u)h[u]=(i-u)/-o;else for(let u=0;u<d;++u)h[u]=(i-u)*o;else if(o<0)for(let u=0;u<d;++u)h[u]=(a+u)/-o;else for(let u=0;u<d;++u)h[u]=(a+u)*o;return h}function iw(e,t,n){return t=+t,e=+e,n=+n,jg(e,t,n)[2]}function ow(e,t,n){t=+t,e=+e,n=+n;const s=t<e,a=s?iw(t,e,n):iw(e,t,n);return(s?-1:1)*(a<0?1/-a:a)}function oA(e,t){let n;for(const s of e)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function lA(e,t){let n;for(const s of e)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function MD(e,t,n=0,s=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(e.length-1,s)),!(n<=t&&t<=s))return e;for(a=a===void 0?DD:jfe(a);s>n;){if(s-n>600){const h=s-n+1,u=t-n+1,x=Math.log(h),p=.5*Math.exp(2*x/3),b=.5*Math.sqrt(x*p*(h-p)/h)*(u-h/2<0?-1:1),_=Math.max(n,Math.floor(t-u*p/h+b)),v=Math.min(s,Math.floor(t+(h-u)*p/h+b));MD(e,t,_,v,a)}const i=e[t];let o=n,d=s;for(_0(e,n,t),a(e[s],i)>0&&_0(e,n,s);o<d;){for(_0(e,o,d),++o,--d;a(e[o],i)<0;)++o;for(;a(e[d],i)>0;)--d}a(e[n],i)===0?_0(e,n,d):(++d,_0(e,d,s)),d<=t&&(n=d+1),t<=d&&(s=d-1)}return e}function _0(e,t,n){const s=e[t];e[t]=e[n],e[n]=s}function Sfe(e,t,n){if(e=Float64Array.from(pfe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return lA(e);if(t>=1)return oA(e);var s,a=(s-1)*t,i=Math.floor(a),o=oA(MD(e,i).subarray(0,i+1)),d=lA(e.subarray(i+1));return o+(d-o)*(a-i)}}function Cfe(e,t,n=ID){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+n(e[0],0,e);if(t>=1)return+n(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+n(e[i],i,e),d=+n(e[i+1],i+1,e);return o+(d-o)*(a-i)}}function Afe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++s<a;)i[s]=e+s*n;return i}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ro(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lw=Symbol("implicit");function R3(){var e=new aA,t=[],n=[],s=lw;function a(i){let o=e.get(i);if(o===void 0){if(s!==lw)return s;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new aA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return R3(t,n).unknown(s)},Pa.apply(a,arguments),a}function Uf(){var e=R3().unknown(void 0),t=e.domain,n=e.range,s=0,a=1,i,o,d=!1,h=0,u=0,x=.5;delete e.unknown;function p(){var b=t().length,_=a<s,v=_?a:s,N=_?s:a;i=(N-v)/Math.max(1,b-h+u*2),d&&(i=Math.floor(i)),v+=(N-v-i*(b-h))*x,o=i*(1-h),d&&(v=Math.round(v),o=Math.round(o));var j=Afe(b).map(function(S){return v+i*S});return n(_?j.reverse():j)}return e.domain=function(b){return arguments.length?(t(b),p()):t()},e.range=function(b){return arguments.length?([s,a]=b,s=+s,a=+a,p()):[s,a]},e.rangeRound=function(b){return[s,a]=b,s=+s,a=+a,d=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(b){return arguments.length?(d=!!b,p()):d},e.padding=function(b){return arguments.length?(h=Math.min(1,u=+b),p()):h},e.paddingInner=function(b){return arguments.length?(h=Math.min(1,b),p()):h},e.paddingOuter=function(b){return arguments.length?(u=+b,p()):u},e.align=function(b){return arguments.length?(x=Math.max(0,Math.min(1,b)),p()):x},e.copy=function(){return Uf(t(),[s,a]).round(d).paddingInner(h).paddingOuter(u).align(x)},Pa.apply(p(),arguments)}function RD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RD(t())},e}function af(){return RD(Uf.apply(null,arguments).paddingInner(1))}function L3(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function LD(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Um(){}var zf=.7,wg=1/zf,Eu="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ofe=/^#([0-9a-f]{3,8})$/,Efe=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),kfe=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),Tfe=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${Vf}\\)$`),Pfe=new RegExp(`^rgba\\(${ki},${ki},${ki},${Vf}\\)$`),Ife=new RegExp(`^hsl\\(${Vf},${ki},${ki}\\)$`),Dfe=new RegExp(`^hsla\\(${Vf},${ki},${ki},${Vf}\\)$`),cA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L3(Um,qf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dA,formatHex:dA,formatHex8:Mfe,formatHsl:Rfe,formatRgb:uA,toString:uA});function dA(){return this.rgb().formatHex()}function Mfe(){return this.rgb().formatHex8()}function Rfe(){return $D(this).formatHsl()}function uA(){return this.rgb().formatRgb()}function qf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ofe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?hA(t):n===3?new ws(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Efe.exec(e))?new ws(t[1],t[2],t[3],1):(t=kfe.exec(e))?new ws(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tfe.exec(e))?Mx(t[1],t[2],t[3],t[4]):(t=Pfe.exec(e))?Mx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ife.exec(e))?xA(t[1],t[2]/100,t[3]/100,1):(t=Dfe.exec(e))?xA(t[1],t[2]/100,t[3]/100,t[4]):cA.hasOwnProperty(e)?hA(cA[e]):e==="transparent"?new ws(NaN,NaN,NaN,0):null}function hA(e){return new ws(e>>16&255,e>>8&255,e&255,1)}function Mx(e,t,n,s){return s<=0&&(e=t=n=NaN),new ws(e,t,n,s)}function Lfe(e){return e instanceof Um||(e=qf(e)),e?(e=e.rgb(),new ws(e.r,e.g,e.b,e.opacity)):new ws}function cw(e,t,n,s){return arguments.length===1?Lfe(e):new ws(e,t,n,s??1)}function ws(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}L3(ws,cw,LD(Um,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new ws(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zf:Math.pow(zf,e),new ws(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ws(Hc(this.r),Hc(this.g),Hc(this.b),Ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fA,formatHex:fA,formatHex8:$fe,formatRgb:mA,toString:mA}));function fA(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}`}function $fe(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}${Cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function mA(){const e=Ng(this.opacity);return`${e===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${e===1?")":`, ${e})`}`}function Ng(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cc(e){return e=Hc(e),(e<16?"0":"")+e.toString(16)}function xA(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wa(e,t,n,s)}function $D(e){if(e instanceof Wa)return new Wa(e.h,e.s,e.l,e.opacity);if(e instanceof Um||(e=qf(e)),!e)return new Wa;if(e instanceof Wa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,a=Math.min(t,n,s),i=Math.max(t,n,s),o=NaN,d=i-a,h=(i+a)/2;return d?(t===i?o=(n-s)/d+(n<s)*6:n===i?o=(s-t)/d+2:o=(t-n)/d+4,d/=h<.5?i+a:2-i-a,o*=60):d=h>0&&h<1?0:o,new Wa(o,d,h,e.opacity)}function Ffe(e,t,n,s){return arguments.length===1?$D(e):new Wa(e,t,n,s??1)}function Wa(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}L3(Wa,Ffe,LD(Um,{brighter(e){return e=e==null?wg:Math.pow(wg,e),new Wa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zf:Math.pow(zf,e),new Wa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,a=2*n-s;return new ws(_v(e>=240?e-240:e+120,a,s),_v(e,a,s),_v(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Wa(pA(this.h),Rx(this.s),Rx(this.l),Ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ng(this.opacity);return`${e===1?"hsl(":"hsla("}${pA(this.h)}, ${Rx(this.s)*100}%, ${Rx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pA(e){return e=(e||0)%360,e<0?e+360:e}function Rx(e){return Math.max(0,Math.min(1,e||0))}function _v(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $3=e=>()=>e;function Bfe(e,t){return function(n){return e+n*t}}function Ufe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function zfe(e){return(e=+e)==1?FD:function(t,n){return n-t?Ufe(t,n,e):$3(isNaN(t)?n:t)}}function FD(e,t){var n=t-e;return n?Bfe(e,n):$3(isNaN(e)?t:e)}const gA=function e(t){var n=zfe(t);function s(a,i){var o=n((a=cw(a)).r,(i=cw(i)).r),d=n(a.g,i.g),h=n(a.b,i.b),u=FD(a.opacity,i.opacity);return function(x){return a.r=o(x),a.g=d(x),a.b=h(x),a.opacity=u(x),a+""}}return s.gamma=e,s}(1);function Vfe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function qfe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Hfe(e,t){var n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=Zh(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(d){for(o=0;o<s;++o)i[o]=a[o](d);return i}}function Wfe(e,t){var n=new Date;return e=+e,t=+t,function(s){return n.setTime(e*(1-s)+t*s),n}}function _g(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gfe(e,t){var n={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zh(e[a],t[a]):s[a]=t[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var dw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sv=new RegExp(dw.source,"g");function Qfe(e){return function(){return e}}function Yfe(e){return function(t){return e(t)+""}}function Xfe(e,t){var n=dw.lastIndex=Sv.lastIndex=0,s,a,i,o=-1,d=[],h=[];for(e=e+"",t=t+"";(s=dw.exec(e))&&(a=Sv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),d[o]?d[o]+=i:d[++o]=i),(s=s[0])===(a=a[0])?d[o]?d[o]+=a:d[++o]=a:(d[++o]=null,h.push({i:o,x:_g(s,a)})),n=Sv.lastIndex;return n<t.length&&(i=t.slice(n),d[o]?d[o]+=i:d[++o]=i),d.length<2?h[0]?Yfe(h[0].x):Qfe(t):(t=h.length,function(u){for(var x=0,p;x<t;++x)d[(p=h[x]).i]=p.x(u);return d.join("")})}function Zh(e,t){var n=typeof t,s;return t==null||n==="boolean"?$3(t):(n==="number"?_g:n==="string"?(s=qf(t))?(t=s,gA):Xfe:t instanceof qf?gA:t instanceof Date?Wfe:qfe(t)?Vfe:Array.isArray(t)?Hfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gfe:_g)(e,t)}function F3(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Kfe(e,t){t===void 0&&(t=e,e=Zh);for(var n=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);n<s;)i[n]=e(a,a=t[++n]);return function(o){var d=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[d](o-d)}}function Zfe(e){return function(){return e}}function Sg(e){return+e}var yA=[0,1];function rs(e){return e}function uw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zfe(isNaN(t)?NaN:.5)}function Jfe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(s){return Math.max(e,Math.min(t,s))}}function eme(e,t,n){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=uw(a,s),i=n(o,i)):(s=uw(s,a),i=n(i,o)),function(d){return i(s(d))}}function tme(e,t,n){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=uw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(d){var h=Bm(e,d,1,s)-1;return i[h](a[h](d))}}function zm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function I1(){var e=yA,t=yA,n=Zh,s,a,i,o=rs,d,h,u;function x(){var b=Math.min(e.length,t.length);return o!==rs&&(o=Jfe(e[0],e[b-1])),d=b>2?tme:eme,h=u=null,p}function p(b){return b==null||isNaN(b=+b)?i:(h||(h=d(e.map(s),t,n)))(s(o(b)))}return p.invert=function(b){return o(a((u||(u=d(t,e.map(s),_g)))(b)))},p.domain=function(b){return arguments.length?(e=Array.from(b,Sg),x()):e.slice()},p.range=function(b){return arguments.length?(t=Array.from(b),x()):t.slice()},p.rangeRound=function(b){return t=Array.from(b),n=F3,x()},p.clamp=function(b){return arguments.length?(o=b?!0:rs,x()):o!==rs},p.interpolate=function(b){return arguments.length?(n=b,x()):n},p.unknown=function(b){return arguments.length?(i=b,p):i},function(b,_){return s=b,a=_,x()}}function B3(){return I1()(rs,rs)}function rme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cg(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}function ih(e){return e=Cg(Math.abs(e)),e?e[1]:NaN}function nme(e,t){return function(n,s){for(var a=n.length,i=[],o=0,d=e[0],h=0;a>0&&d>0&&(h+d+1>s&&(d=Math.max(1,s-h)),i.push(n.substring(a-=d,a+d)),!((h+=d+1)>s));)d=e[o=(o+1)%e.length];return i.reverse().join(t)}}function sme(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ame=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hf(e){if(!(t=ame.exec(e)))throw new Error("invalid format: "+e);var t;return new U3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hf.prototype=U3.prototype;function U3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}U3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ime(e){e:for(var t=e.length,n=1,s=-1,a;n<t;++n)switch(e[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+e[n])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var BD;function ome(e,t){var n=Cg(e,t);if(!n)return e+"";var s=n[0],a=n[1],i=a-(BD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Cg(e,Math.max(0,t+i-1))[0]}function bA(e,t){var n=Cg(e,t);if(!n)return e+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const vA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bA(e*100,t),r:bA,s:ome,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jA(e){return e}var wA=Array.prototype.map,NA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lme(e){var t=e.grouping===void 0||e.thousands===void 0?jA:nme(wA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jA:sme(wA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Hf(p);var b=p.fill,_=p.align,v=p.sign,N=p.symbol,j=p.zero,S=p.width,C=p.comma,A=p.precision,E=p.trim,k=p.type;k==="n"?(C=!0,k="g"):vA[k]||(A===void 0&&(A=12),E=!0,k="g"),(j||b==="0"&&_==="=")&&(j=!0,b="0",_="=");var D=N==="$"?n:N==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=N==="$"?s:/[%p]/.test(k)?o:"",F=vA[k],M=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function z(I){var L=D,$=R,W,U,Y;if(k==="c")$=F(I)+$,I="";else{I=+I;var X=I<0||1/I<0;if(I=isNaN(I)?h:F(Math.abs(I),A),E&&(I=ime(I)),X&&+I==0&&v!=="+"&&(X=!1),L=(X?v==="("?v:d:v==="-"||v==="("?"":v)+L,$=(k==="s"?NA[8+BD/3]:"")+$+(X&&v==="("?")":""),M){for(W=-1,U=I.length;++W<U;)if(Y=I.charCodeAt(W),48>Y||Y>57){$=(Y===46?a+I.slice(W+1):I.slice(W))+$,I=I.slice(0,W);break}}}C&&!j&&(I=t(I,1/0));var V=L.length+I.length+$.length,G=V<S?new Array(S-V+1).join(b):"";switch(C&&j&&(I=t(G+I,G.length?S-$.length:1/0),G=""),_){case"<":I=L+I+$+G;break;case"=":I=L+G+I+$;break;case"^":I=G.slice(0,V=G.length>>1)+L+I+$+G.slice(V);break;default:I=G+L+I+$;break}return i(I)}return z.toString=function(){return p+""},z}function x(p,b){var _=u((p=Hf(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(ih(b)/3)))*3,N=Math.pow(10,-v),j=NA[8+v/3];return function(S){return _(N*S)+j}}return{format:u,formatPrefix:x}}var Lx,z3,UD;cme({thousands:",",grouping:[3],currency:["$",""]});function cme(e){return Lx=lme(e),z3=Lx.format,UD=Lx.formatPrefix,Lx}function dme(e){return Math.max(0,-ih(Math.abs(e)))}function ume(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ih(t)/3)))*3-ih(Math.abs(e)))}function hme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ih(t)-ih(e))+1}function zD(e,t,n,s){var a=ow(e,t,n),i;switch(s=Hf(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=ume(a,o))&&(s.precision=i),UD(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=hme(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=dme(a))&&(s.precision=i-(s.type==="%")*2);break}}return z3(s)}function ec(e){var t=e.domain;return e.ticks=function(n){var s=t();return aw(s[0],s[s.length-1],n??10)},e.tickFormat=function(n,s){var a=t();return zD(a[0],a[a.length-1],n??10,s)},e.nice=function(n){n==null&&(n=10);var s=t(),a=0,i=s.length-1,o=s[a],d=s[i],h,u,x=10;for(d<o&&(u=o,o=d,d=u,u=a,a=i,i=u);x-- >0;){if(u=iw(o,d,n),u===h)return s[a]=o,s[i]=d,t(s);if(u>0)o=Math.floor(o/u)*u,d=Math.ceil(d/u)*u;else if(u<0)o=Math.ceil(o*u)/u,d=Math.floor(d*u)/u;else break;h=u}return e},e}function Ag(){var e=B3();return e.copy=function(){return zm(e,Ag())},Pa.apply(e,arguments),ec(e)}function VD(e){var t;function n(s){return s==null||isNaN(s=+s)?t:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(e=Array.from(s,Sg),n):e.slice()},n.unknown=function(s){return arguments.length?(t=s,n):t},n.copy=function(){return VD(e).unknown(t)},e=arguments.length?Array.from(e,Sg):[0,1],ec(n)}function qD(e,t){e=e.slice();var n=0,s=e.length-1,a=e[n],i=e[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),e[n]=t.floor(a),e[s]=t.ceil(i),e}function _A(e){return Math.log(e)}function SA(e){return Math.exp(e)}function fme(e){return-Math.log(-e)}function mme(e){return-Math.exp(-e)}function xme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pme(e){return e===10?xme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CA(e){return(t,n)=>-e(-t,n)}function V3(e){const t=e(_A,SA),n=t.domain;let s=10,a,i;function o(){return a=gme(s),i=pme(s),n()[0]<0?(a=CA(a),i=CA(i),e(fme,mme)):e(_A,SA),t}return t.base=function(d){return arguments.length?(s=+d,o()):s},t.domain=function(d){return arguments.length?(n(d),o()):n()},t.ticks=d=>{const h=n();let u=h[0],x=h[h.length-1];const p=x<u;p&&([u,x]=[x,u]);let b=a(u),_=a(x),v,N;const j=d==null?10:+d;let S=[];if(!(s%1)&&_-b<j){if(b=Math.floor(b),_=Math.ceil(_),u>0){for(;b<=_;++b)for(v=1;v<s;++v)if(N=b<0?v/i(-b):v*i(b),!(N<u)){if(N>x)break;S.push(N)}}else for(;b<=_;++b)for(v=s-1;v>=1;--v)if(N=b>0?v/i(-b):v*i(b),!(N<u)){if(N>x)break;S.push(N)}S.length*2<j&&(S=aw(u,x,j))}else S=aw(b,_,Math.min(_-b,j)).map(i);return p?S.reverse():S},t.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=s===10?"s":","),typeof h!="function"&&(!(s%1)&&(h=Hf(h)).precision==null&&(h.trim=!0),h=z3(h)),d===1/0)return h;const u=Math.max(1,s*d/t.ticks().length);return x=>{let p=x/i(Math.round(a(x)));return p*s<s-.5&&(p*=s),p<=u?h(x):""}},t.nice=()=>n(qD(n(),{floor:d=>i(Math.floor(a(d))),ceil:d=>i(Math.ceil(a(d)))})),t}function HD(){const e=V3(I1()).domain([1,10]);return e.copy=()=>zm(e,HD()).base(e.base()),Pa.apply(e,arguments),e}function AA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function OA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function q3(e){var t=1,n=e(AA(t),OA(t));return n.constant=function(s){return arguments.length?e(AA(t=+s),OA(t)):t},ec(n)}function WD(){var e=q3(I1());return e.copy=function(){return zm(e,WD()).constant(e.constant())},Pa.apply(e,arguments)}function EA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bme(e){return e<0?-e*e:e*e}function H3(e){var t=e(rs,rs),n=1;function s(){return n===1?e(rs,rs):n===.5?e(yme,bme):e(EA(n),EA(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,s()):n},ec(t)}function W3(){var e=H3(I1());return e.copy=function(){return zm(e,W3()).exponent(e.exponent())},Pa.apply(e,arguments),e}function vme(){return W3.apply(null,arguments).exponent(.5)}function kA(e){return Math.sign(e)*e*e}function jme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GD(){var e=B3(),t=[0,1],n=!1,s;function a(i){var o=jme(e(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return e.invert(kA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Sg)).map(kA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return GD(e.domain(),t).round(n).clamp(e.clamp()).unknown(s)},Pa.apply(a,arguments),ec(a)}function QD(){var e=[],t=[],n=[],s;function a(){var o=0,d=Math.max(1,t.length);for(n=new Array(d-1);++o<d;)n[o-1]=Cfe(e,o/d);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Bm(n,o)]}return i.invertExtent=function(o){var d=t.indexOf(o);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let d of o)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Rl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return QD().domain(e).range(t).unknown(s)},Pa.apply(i,arguments)}function YD(){var e=0,t=1,n=1,s=[.5],a=[0,1],i;function o(h){return h!=null&&h<=h?a[Bm(s,h,0,n)]:i}function d(){var h=-1;for(s=new Array(n);++h<n;)s[h]=((h+1)*t-(h-n)*e)/(n+1);return o}return o.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,d()):[e,t]},o.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,d()):a.slice()},o.invertExtent=function(h){var u=a.indexOf(h);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=n?[s[n-1],t]:[s[u-1],s[u]]},o.unknown=function(h){return arguments.length&&(i=h),o},o.thresholds=function(){return s.slice()},o.copy=function(){return YD().domain([e,t]).range(a).unknown(i)},Pa.apply(ec(o),arguments)}function XD(){var e=[.5],t=[0,1],n,s=1;function a(i){return i!=null&&i<=i?t[Bm(e,i,0,s)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return XD().domain(e).range(t).unknown(n)},Pa.apply(a,arguments)}const Cv=new Date,Av=new Date;function cn(e,t,n,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),d=a.ceil(i);return i-o<d-i?o:d},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,d)=>{const h=[];if(i=a.ceil(i),d=d==null?1:Math.floor(d),!(i<o)||!(d>0))return h;let u;do h.push(u=new Date(+i)),t(i,d),e(i);while(u<i&&i<o);return h},a.filter=i=>cn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,d)=>{if(o>=o)if(d<0)for(;++d<=0;)for(;t(o,-1),!i(o););else for(;--d>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Cv.setTime(+i),Av.setTime(+o),e(Cv),e(Av),Math.floor(n(Cv,Av))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Og=cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Og.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Og);Og.range;const fo=1e3,Na=fo*60,mo=Na*60,Eo=mo*24,G3=Eo*7,TA=Eo*30,Ov=Eo*365,Ac=cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getUTCSeconds());Ac.range;const Q3=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getMinutes());Q3.range;const Y3=cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCMinutes());Y3.range;const X3=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fo-e.getMinutes()*Na)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getHours());X3.range;const K3=cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getUTCHours());K3.range;const Vm=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Na)/Eo,e=>e.getDate()-1);Vm.range;const D1=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eo,e=>e.getUTCDate()-1);D1.range;const KD=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Eo,e=>Math.floor(e/Eo));KD.range;function vd(e){return cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Na)/G3)}const M1=vd(0),Eg=vd(1),wme=vd(2),Nme=vd(3),oh=vd(4),_me=vd(5),Sme=vd(6);M1.range;Eg.range;wme.range;Nme.range;oh.range;_me.range;Sme.range;function jd(e){return cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/G3)}const R1=jd(0),kg=jd(1),Cme=jd(2),Ame=jd(3),lh=jd(4),Ome=jd(5),Eme=jd(6);R1.range;kg.range;Cme.range;Ame.range;lh.range;Ome.range;Eme.range;const Z3=cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Z3.range;const J3=cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());J3.range;const ko=cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ko.range;const To=cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});To.range;function ZD(e,t,n,s,a,i){const o=[[Ac,1,fo],[Ac,5,5*fo],[Ac,15,15*fo],[Ac,30,30*fo],[i,1,Na],[i,5,5*Na],[i,15,15*Na],[i,30,30*Na],[a,1,mo],[a,3,3*mo],[a,6,6*mo],[a,12,12*mo],[s,1,Eo],[s,2,2*Eo],[n,1,G3],[t,1,TA],[t,3,3*TA],[e,1,Ov]];function d(u,x,p){const b=x<u;b&&([u,x]=[x,u]);const _=p&&typeof p.range=="function"?p:h(u,x,p),v=_?_.range(u,+x+1):[];return b?v.reverse():v}function h(u,x,p){const b=Math.abs(x-u)/p,_=M3(([,,j])=>j).right(o,b);if(_===o.length)return e.every(ow(u/Ov,x/Ov,p));if(_===0)return Og.every(Math.max(ow(u,x,p),1));const[v,N]=o[b/o[_-1][2]<o[_][2]/b?_-1:_];return v.every(N)}return[d,h]}const[kme,Tme]=ZD(To,J3,R1,KD,K3,Y3),[Pme,Ime]=ZD(ko,Z3,M1,Vm,X3,Q3);function Ev(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function S0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Dme(e){var t=e.dateTime,n=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,d=e.months,h=e.shortMonths,u=C0(a),x=A0(a),p=C0(i),b=A0(i),_=C0(o),v=A0(o),N=C0(d),j=A0(d),S=C0(h),C=A0(h),A={a:X,A:V,b:G,B:ne,c:null,d:LA,e:LA,f:nxe,g:fxe,G:xxe,H:exe,I:txe,j:rxe,L:JD,m:sxe,M:axe,p:ae,q:le,Q:BA,s:UA,S:ixe,u:oxe,U:lxe,V:cxe,w:dxe,W:uxe,x:null,X:null,y:hxe,Y:mxe,Z:pxe,"%":FA},E={a:ie,A:fe,b:xe,B:ge,c:null,d:$A,e:$A,f:vxe,g:kxe,G:Pxe,H:gxe,I:yxe,j:bxe,L:tM,m:jxe,M:wxe,p:ke,q:Ae,Q:BA,s:UA,S:Nxe,u:_xe,U:Sxe,V:Cxe,w:Axe,W:Oxe,x:null,X:null,y:Exe,Y:Txe,Z:Ixe,"%":FA},k={a:z,A:I,b:L,B:$,c:W,d:MA,e:MA,f:Xme,g:DA,G:IA,H:RA,I:RA,j:Wme,L:Yme,m:Hme,M:Gme,p:M,q:qme,Q:Zme,s:Jme,S:Qme,u:Fme,U:Bme,V:Ume,w:$me,W:zme,x:U,X:Y,y:DA,Y:IA,Z:Vme,"%":Kme};A.x=D(n,A),A.X=D(s,A),A.c=D(t,A),E.x=D(n,E),E.X=D(s,E),E.c=D(t,E);function D(Ne,Me){return function(Re){var Pe=[],Ke=-1,lt=0,vt=Ne.length,Ot,ft,ut;for(Re instanceof Date||(Re=new Date(+Re));++Ke<vt;)Ne.charCodeAt(Ke)===37&&(Pe.push(Ne.slice(lt,Ke)),(ft=PA[Ot=Ne.charAt(++Ke)])!=null?Ot=Ne.charAt(++Ke):ft=Ot==="e"?" ":"0",(ut=Me[Ot])&&(Ot=ut(Re,ft)),Pe.push(Ot),lt=Ke+1);return Pe.push(Ne.slice(lt,Ke)),Pe.join("")}}function R(Ne,Me){return function(Re){var Pe=S0(1900,void 0,1),Ke=F(Pe,Ne,Re+="",0),lt,vt;if(Ke!=Re.length)return null;if("Q"in Pe)return new Date(Pe.Q);if("s"in Pe)return new Date(Pe.s*1e3+("L"in Pe?Pe.L:0));if(Me&&!("Z"in Pe)&&(Pe.Z=0),"p"in Pe&&(Pe.H=Pe.H%12+Pe.p*12),Pe.m===void 0&&(Pe.m="q"in Pe?Pe.q:0),"V"in Pe){if(Pe.V<1||Pe.V>53)return null;"w"in Pe||(Pe.w=1),"Z"in Pe?(lt=kv(S0(Pe.y,0,1)),vt=lt.getUTCDay(),lt=vt>4||vt===0?kg.ceil(lt):kg(lt),lt=D1.offset(lt,(Pe.V-1)*7),Pe.y=lt.getUTCFullYear(),Pe.m=lt.getUTCMonth(),Pe.d=lt.getUTCDate()+(Pe.w+6)%7):(lt=Ev(S0(Pe.y,0,1)),vt=lt.getDay(),lt=vt>4||vt===0?Eg.ceil(lt):Eg(lt),lt=Vm.offset(lt,(Pe.V-1)*7),Pe.y=lt.getFullYear(),Pe.m=lt.getMonth(),Pe.d=lt.getDate()+(Pe.w+6)%7)}else("W"in Pe||"U"in Pe)&&("w"in Pe||(Pe.w="u"in Pe?Pe.u%7:"W"in Pe?1:0),vt="Z"in Pe?kv(S0(Pe.y,0,1)).getUTCDay():Ev(S0(Pe.y,0,1)).getDay(),Pe.m=0,Pe.d="W"in Pe?(Pe.w+6)%7+Pe.W*7-(vt+5)%7:Pe.w+Pe.U*7-(vt+6)%7);return"Z"in Pe?(Pe.H+=Pe.Z/100|0,Pe.M+=Pe.Z%100,kv(Pe)):Ev(Pe)}}function F(Ne,Me,Re,Pe){for(var Ke=0,lt=Me.length,vt=Re.length,Ot,ft;Ke<lt;){if(Pe>=vt)return-1;if(Ot=Me.charCodeAt(Ke++),Ot===37){if(Ot=Me.charAt(Ke++),ft=k[Ot in PA?Me.charAt(Ke++):Ot],!ft||(Pe=ft(Ne,Re,Pe))<0)return-1}else if(Ot!=Re.charCodeAt(Pe++))return-1}return Pe}function M(Ne,Me,Re){var Pe=u.exec(Me.slice(Re));return Pe?(Ne.p=x.get(Pe[0].toLowerCase()),Re+Pe[0].length):-1}function z(Ne,Me,Re){var Pe=_.exec(Me.slice(Re));return Pe?(Ne.w=v.get(Pe[0].toLowerCase()),Re+Pe[0].length):-1}function I(Ne,Me,Re){var Pe=p.exec(Me.slice(Re));return Pe?(Ne.w=b.get(Pe[0].toLowerCase()),Re+Pe[0].length):-1}function L(Ne,Me,Re){var Pe=S.exec(Me.slice(Re));return Pe?(Ne.m=C.get(Pe[0].toLowerCase()),Re+Pe[0].length):-1}function $(Ne,Me,Re){var Pe=N.exec(Me.slice(Re));return Pe?(Ne.m=j.get(Pe[0].toLowerCase()),Re+Pe[0].length):-1}function W(Ne,Me,Re){return F(Ne,t,Me,Re)}function U(Ne,Me,Re){return F(Ne,n,Me,Re)}function Y(Ne,Me,Re){return F(Ne,s,Me,Re)}function X(Ne){return o[Ne.getDay()]}function V(Ne){return i[Ne.getDay()]}function G(Ne){return h[Ne.getMonth()]}function ne(Ne){return d[Ne.getMonth()]}function ae(Ne){return a[+(Ne.getHours()>=12)]}function le(Ne){return 1+~~(Ne.getMonth()/3)}function ie(Ne){return o[Ne.getUTCDay()]}function fe(Ne){return i[Ne.getUTCDay()]}function xe(Ne){return h[Ne.getUTCMonth()]}function ge(Ne){return d[Ne.getUTCMonth()]}function ke(Ne){return a[+(Ne.getUTCHours()>=12)]}function Ae(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var Me=D(Ne+="",A);return Me.toString=function(){return Ne},Me},parse:function(Ne){var Me=R(Ne+="",!1);return Me.toString=function(){return Ne},Me},utcFormat:function(Ne){var Me=D(Ne+="",E);return Me.toString=function(){return Ne},Me},utcParse:function(Ne){var Me=R(Ne+="",!0);return Me.toString=function(){return Ne},Me}}}var PA={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,Mme=/^%/,Rme=/[\\^$*+?|[\]().{}]/g;function zt(e,t,n){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(t)+a:a)}function Lme(e){return e.replace(Rme,"\\$&")}function C0(e){return new RegExp("^(?:"+e.map(Lme).join("|")+")","i")}function A0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function $me(e,t,n){var s=bn.exec(t.slice(n,n+1));return s?(e.w=+s[0],n+s[0].length):-1}function Fme(e,t,n){var s=bn.exec(t.slice(n,n+1));return s?(e.u=+s[0],n+s[0].length):-1}function Bme(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.U=+s[0],n+s[0].length):-1}function Ume(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.V=+s[0],n+s[0].length):-1}function zme(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.W=+s[0],n+s[0].length):-1}function IA(e,t,n){var s=bn.exec(t.slice(n,n+4));return s?(e.y=+s[0],n+s[0].length):-1}function DA(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function Vme(e,t,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function qme(e,t,n){var s=bn.exec(t.slice(n,n+1));return s?(e.q=s[0]*3-3,n+s[0].length):-1}function Hme(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.m=s[0]-1,n+s[0].length):-1}function MA(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.d=+s[0],n+s[0].length):-1}function Wme(e,t,n){var s=bn.exec(t.slice(n,n+3));return s?(e.m=0,e.d=+s[0],n+s[0].length):-1}function RA(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.H=+s[0],n+s[0].length):-1}function Gme(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.M=+s[0],n+s[0].length):-1}function Qme(e,t,n){var s=bn.exec(t.slice(n,n+2));return s?(e.S=+s[0],n+s[0].length):-1}function Yme(e,t,n){var s=bn.exec(t.slice(n,n+3));return s?(e.L=+s[0],n+s[0].length):-1}function Xme(e,t,n){var s=bn.exec(t.slice(n,n+6));return s?(e.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function Kme(e,t,n){var s=Mme.exec(t.slice(n,n+1));return s?n+s[0].length:-1}function Zme(e,t,n){var s=bn.exec(t.slice(n));return s?(e.Q=+s[0],n+s[0].length):-1}function Jme(e,t,n){var s=bn.exec(t.slice(n));return s?(e.s=+s[0],n+s[0].length):-1}function LA(e,t){return zt(e.getDate(),t,2)}function exe(e,t){return zt(e.getHours(),t,2)}function txe(e,t){return zt(e.getHours()%12||12,t,2)}function rxe(e,t){return zt(1+Vm.count(ko(e),e),t,3)}function JD(e,t){return zt(e.getMilliseconds(),t,3)}function nxe(e,t){return JD(e,t)+"000"}function sxe(e,t){return zt(e.getMonth()+1,t,2)}function axe(e,t){return zt(e.getMinutes(),t,2)}function ixe(e,t){return zt(e.getSeconds(),t,2)}function oxe(e){var t=e.getDay();return t===0?7:t}function lxe(e,t){return zt(M1.count(ko(e)-1,e),t,2)}function eM(e){var t=e.getDay();return t>=4||t===0?oh(e):oh.ceil(e)}function cxe(e,t){return e=eM(e),zt(oh.count(ko(e),e)+(ko(e).getDay()===4),t,2)}function dxe(e){return e.getDay()}function uxe(e,t){return zt(Eg.count(ko(e)-1,e),t,2)}function hxe(e,t){return zt(e.getFullYear()%100,t,2)}function fxe(e,t){return e=eM(e),zt(e.getFullYear()%100,t,2)}function mxe(e,t){return zt(e.getFullYear()%1e4,t,4)}function xxe(e,t){var n=e.getDay();return e=n>=4||n===0?oh(e):oh.ceil(e),zt(e.getFullYear()%1e4,t,4)}function pxe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zt(t/60|0,"0",2)+zt(t%60,"0",2)}function $A(e,t){return zt(e.getUTCDate(),t,2)}function gxe(e,t){return zt(e.getUTCHours(),t,2)}function yxe(e,t){return zt(e.getUTCHours()%12||12,t,2)}function bxe(e,t){return zt(1+D1.count(To(e),e),t,3)}function tM(e,t){return zt(e.getUTCMilliseconds(),t,3)}function vxe(e,t){return tM(e,t)+"000"}function jxe(e,t){return zt(e.getUTCMonth()+1,t,2)}function wxe(e,t){return zt(e.getUTCMinutes(),t,2)}function Nxe(e,t){return zt(e.getUTCSeconds(),t,2)}function _xe(e){var t=e.getUTCDay();return t===0?7:t}function Sxe(e,t){return zt(R1.count(To(e)-1,e),t,2)}function rM(e){var t=e.getUTCDay();return t>=4||t===0?lh(e):lh.ceil(e)}function Cxe(e,t){return e=rM(e),zt(lh.count(To(e),e)+(To(e).getUTCDay()===4),t,2)}function Axe(e){return e.getUTCDay()}function Oxe(e,t){return zt(kg.count(To(e)-1,e),t,2)}function Exe(e,t){return zt(e.getUTCFullYear()%100,t,2)}function kxe(e,t){return e=rM(e),zt(e.getUTCFullYear()%100,t,2)}function Txe(e,t){return zt(e.getUTCFullYear()%1e4,t,4)}function Pxe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?lh(e):lh.ceil(e),zt(e.getUTCFullYear()%1e4,t,4)}function Ixe(){return"+0000"}function FA(){return"%"}function BA(e){return+e}function UA(e){return Math.floor(+e/1e3)}var zd,nM,sM;Dxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dxe(e){return zd=Dme(e),nM=zd.format,zd.parse,sM=zd.utcFormat,zd.utcParse,zd}function Mxe(e){return new Date(e)}function Rxe(e){return e instanceof Date?+e:+new Date(+e)}function e_(e,t,n,s,a,i,o,d,h,u){var x=B3(),p=x.invert,b=x.domain,_=u(".%L"),v=u(":%S"),N=u("%I:%M"),j=u("%I %p"),S=u("%a %d"),C=u("%b %d"),A=u("%B"),E=u("%Y");function k(D){return(h(D)<D?_:d(D)<D?v:o(D)<D?N:i(D)<D?j:s(D)<D?a(D)<D?S:C:n(D)<D?A:E)(D)}return x.invert=function(D){return new Date(p(D))},x.domain=function(D){return arguments.length?b(Array.from(D,Rxe)):b().map(Mxe)},x.ticks=function(D){var R=b();return e(R[0],R[R.length-1],D??10)},x.tickFormat=function(D,R){return R==null?k:u(R)},x.nice=function(D){var R=b();return(!D||typeof D.range!="function")&&(D=t(R[0],R[R.length-1],D??10)),D?b(qD(R,D)):x},x.copy=function(){return zm(x,e_(e,t,n,s,a,i,o,d,h,u))},x}function Lxe(){return Pa.apply(e_(Pme,Ime,ko,Z3,M1,Vm,X3,Q3,Ac,nM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $xe(){return Pa.apply(e_(kme,Tme,To,J3,R1,D1,K3,Y3,Ac,sM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L1(){var e=0,t=1,n,s,a,i,o=rs,d=!1,h;function u(p){return p==null||isNaN(p=+p)?h:o(a===0?.5:(p=(i(p)-n)*a,d?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=i(e=+e),s=i(t=+t),a=n===s?0:1/(s-n),u):[e,t]},u.clamp=function(p){return arguments.length?(d=!!p,u):d},u.interpolator=function(p){return arguments.length?(o=p,u):o};function x(p){return function(b){var _,v;return arguments.length?([_,v]=b,o=p(_,v),u):[o(0),o(1)]}}return u.range=x(Zh),u.rangeRound=x(F3),u.unknown=function(p){return arguments.length?(h=p,u):h},function(p){return i=p,n=p(e),s=p(t),a=n===s?0:1/(s-n),u}}function tc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aM(){var e=ec(L1()(rs));return e.copy=function(){return tc(e,aM())},Ro.apply(e,arguments)}function iM(){var e=V3(L1()).domain([1,10]);return e.copy=function(){return tc(e,iM()).base(e.base())},Ro.apply(e,arguments)}function oM(){var e=q3(L1());return e.copy=function(){return tc(e,oM()).constant(e.constant())},Ro.apply(e,arguments)}function t_(){var e=H3(L1());return e.copy=function(){return tc(e,t_()).exponent(e.exponent())},Ro.apply(e,arguments)}function Fxe(){return t_.apply(null,arguments).exponent(.5)}function lM(){var e=[],t=rs;function n(s){if(s!=null&&!isNaN(s=+s))return t((Bm(e,s,1)-1)/(e.length-1))}return n.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Rl),n},n.interpolator=function(s){return arguments.length?(t=s,n):t},n.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Sfe(e,i/s))},n.copy=function(){return lM(t).domain(e)},Ro.apply(n,arguments)}function $1(){var e=0,t=.5,n=1,s=1,a,i,o,d,h,u=rs,x,p=!1,b;function _(N){return isNaN(N=+N)?b:(N=.5+((N=+x(N))-i)*(s*N<s*i?d:h),u(p?Math.max(0,Math.min(1,N)):N))}_.domain=function(N){return arguments.length?([e,t,n]=N,a=x(e=+e),i=x(t=+t),o=x(n=+n),d=a===i?0:.5/(i-a),h=i===o?0:.5/(o-i),s=i<a?-1:1,_):[e,t,n]},_.clamp=function(N){return arguments.length?(p=!!N,_):p},_.interpolator=function(N){return arguments.length?(u=N,_):u};function v(N){return function(j){var S,C,A;return arguments.length?([S,C,A]=j,u=Kfe(N,[S,C,A]),_):[u(0),u(.5),u(1)]}}return _.range=v(Zh),_.rangeRound=v(F3),_.unknown=function(N){return arguments.length?(b=N,_):b},function(N){return x=N,a=N(e),i=N(t),o=N(n),d=a===i?0:.5/(i-a),h=i===o?0:.5/(o-i),s=i<a?-1:1,_}}function cM(){var e=ec($1()(rs));return e.copy=function(){return tc(e,cM())},Ro.apply(e,arguments)}function dM(){var e=V3($1()).domain([.1,1,10]);return e.copy=function(){return tc(e,dM()).base(e.base())},Ro.apply(e,arguments)}function uM(){var e=q3($1());return e.copy=function(){return tc(e,uM()).constant(e.constant())},Ro.apply(e,arguments)}function r_(){var e=H3($1());return e.copy=function(){return tc(e,r_()).exponent(e.exponent())},Ro.apply(e,arguments)}function Bxe(){return r_.apply(null,arguments).exponent(.5)}const zA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uf,scaleDiverging:cM,scaleDivergingLog:dM,scaleDivergingPow:r_,scaleDivergingSqrt:Bxe,scaleDivergingSymlog:uM,scaleIdentity:VD,scaleImplicit:lw,scaleLinear:Ag,scaleLog:HD,scaleOrdinal:R3,scalePoint:af,scalePow:W3,scaleQuantile:QD,scaleQuantize:YD,scaleRadial:GD,scaleSequential:aM,scaleSequentialLog:iM,scaleSequentialPow:t_,scaleSequentialQuantile:lM,scaleSequentialSqrt:Fxe,scaleSequentialSymlog:oM,scaleSqrt:vme,scaleSymlog:WD,scaleThreshold:XD,scaleTime:Lxe,scaleUtc:$xe,tickFormat:zD},Symbol.toStringTag,{value:"Module"}));var Uxe=Vh;function zxe(e,t,n){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(d===void 0?o===o&&!Uxe(o):n(o,d)))var d=o,h=i}return h}var F1=zxe;function Vxe(e,t){return e>t}var hM=Vxe,qxe=F1,Hxe=hM,Wxe=Kh;function Gxe(e){return e&&e.length?qxe(e,Wxe,Hxe):void 0}var Qxe=Gxe;const vl=Vt(Qxe);function Yxe(e,t){return e<t}var fM=Yxe,Xxe=F1,Kxe=fM,Zxe=Kh;function Jxe(e){return e&&e.length?Xxe(e,Zxe,Kxe):void 0}var epe=Jxe;const B1=Vt(epe);var tpe=p3,rpe=zi,npe=jD,spe=Is;function ape(e,t){var n=spe(e)?tpe:npe;return n(e,rpe(t))}var ipe=ape,ope=bD,lpe=ipe;function cpe(e,t){return ope(lpe(e,t),1)}var dpe=cpe;const upe=Vt(dpe);var hpe=T3;function fpe(e,t){return hpe(e,t)}var mpe=fpe;const ld=Vt(mpe);var Jh=1e9,xpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s_,Ar=!0,Ea="[DecimalError] ",Wc=Ea+"Invalid argument: ",n_=Ea+"Exponent out of range: ",e0=Math.floor,xc=Math.pow,ppe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ws,fn=1e7,vr=7,mM=9007199254740991,Tg=e0(mM/vr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,n=s<a?s:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*vr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return vo(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return lr(vo(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Yr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,s=n.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Ws))throw Error(Ea+"NaN");if(n.s<1)throw Error(Ea+(n.s?"NaN":"-Infinity"));return n.eq(Ws)?new s(0):(Ar=!1,t=vo(Wf(n,i),Wf(e,i),i),Ar=!0,lr(t,a))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gM(t,e):xM(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,s=n.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Ea+"NaN");return n.s?(Ar=!1,t=vo(n,e,0,1).times(e),Ar=!0,n.minus(t)):lr(new s(n),a)};st.naturalExponential=st.exp=function(){return pM(this)};st.naturalLogarithm=st.ln=function(){return Wf(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xM(t,e):gM(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wc+e);if(t=Yr(a)+1,s=a.d.length-1,n=s*vr+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,s,a,i,o,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(Ea+"NaN")}for(e=Yr(d),Ar=!1,a=Math.sqrt(+d),a==0||a==1/0?(t=Ci(d.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=e0((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new h(t)):s=new h(a.toString()),n=h.precision,a=o=n+3;;)if(i=s,s=i.plus(vo(d,i,o+2)).times(.5),Ci(i.d).slice(0,o)===(t=Ci(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(lr(i,n+1,0),i.times(i).eq(d)){s=i;break}}else if(t!="9999")break;o+=4}return Ar=!0,lr(s,n)};st.times=st.mul=function(e){var t,n,s,a,i,o,d,h,u,x=this,p=x.constructor,b=x.d,_=(e=new p(e)).d;if(!x.s||!e.s)return new p(0);for(e.s*=x.s,n=x.e+e.e,h=b.length,u=_.length,h<u&&(i=b,b=_,_=i,o=h,h=u,u=o),i=[],o=h+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=h+s;a>s;)d=i[a]+_[s]*b[a-s-1]+t,i[a--]=d%fn|0,t=d/fn|0;i[a]=(i[a]+t)%fn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Ar?lr(e,p.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,s=n.constructor;return n=new s(n),e===void 0?n:(Ri(e,0,Jh),t===void 0?t=s.rounding:Ri(t,0,8),lr(n,e+Yr(n)+1,t))};st.toExponential=function(e,t){var n,s=this,a=s.constructor;return e===void 0?n=cd(s,!0):(Ri(e,0,Jh),t===void 0?t=a.rounding:Ri(t,0,8),s=lr(new a(s),e+1,t),n=cd(s,!0,e+1)),n};st.toFixed=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?cd(a):(Ri(e,0,Jh),t===void 0?t=i.rounding:Ri(t,0,8),s=lr(new i(a),e+Yr(a)+1,t),n=cd(s.abs(),!1,e+Yr(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return lr(new t(e),Yr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,s,a,i,o,d=this,h=d.constructor,u=12,x=+(e=new h(e));if(!e.s)return new h(Ws);if(d=new h(d),!d.s){if(e.s<1)throw Error(Ea+"Infinity");return d}if(d.eq(Ws))return d;if(s=h.precision,e.eq(Ws))return lr(d,s);if(t=e.e,n=e.d.length-1,o=t>=n,i=d.s,o){if((n=x<0?-x:x)<=mM){for(a=new h(Ws),t=Math.ceil(s/vr+4),Ar=!1;n%2&&(a=a.times(d),qA(a.d,t)),n=e0(n/2),n!==0;)d=d.times(d),qA(d.d,t);return Ar=!0,e.s<0?new h(Ws).div(a):lr(a,s)}}else if(i<0)throw Error(Ea+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Ar=!1,a=e.times(Wf(d,s+u)),Ar=!0,a=pM(a),a.s=i,a};st.toPrecision=function(e,t){var n,s,a=this,i=a.constructor;return e===void 0?(n=Yr(a),s=cd(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ri(e,1,Jh),t===void 0?t=i.rounding:Ri(t,0,8),a=lr(new i(a),e,t),n=Yr(a),s=cd(a,e<=n||n<=i.toExpNeg,e)),s};st.toSignificantDigits=st.tosd=function(e,t){var n=this,s=n.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Ri(e,1,Jh),t===void 0?t=s.rounding:Ri(t,0,8)),lr(new s(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yr(e),n=e.constructor;return cd(e,t<=n.toExpNeg||t>=n.toExpPos)};function xM(e,t){var n,s,a,i,o,d,h,u,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s||(t=new x(e)),Ar?lr(t,p):t;if(h=e.d,u=t.d,o=e.e,a=t.e,h=h.slice(),i=o-a,i){for(i<0?(s=h,i=-i,d=u.length):(s=u,a=o,d=h.length),o=Math.ceil(p/vr),d=o>d?o+1:d+1,i>d&&(i=d,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(d=h.length,i=u.length,d-i<0&&(i=d,s=u,u=h,h=s),n=0;i;)n=(h[--i]=h[i]+u[i]+n)/fn|0,h[i]%=fn;for(n&&(h.unshift(n),++a),d=h.length;h[--d]==0;)h.pop();return t.d=h,t.e=a,Ar?lr(t,p):t}function Ri(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wc+e)}function Ci(e){var t,n,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",n=vr-s.length,n&&(i+=tl(n)),i+=s;o=e[t],s=o+"",n=vr-s.length,n&&(i+=tl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var vo=function(){function e(s,a){var i,o=0,d=s.length;for(s=s.slice();d--;)i=s[d]*a+o,s[d]=i%fn|0,o=i/fn|0;return o&&s.unshift(o),s}function t(s,a,i,o){var d,h;if(i!=o)h=i>o?1:-1;else for(d=h=0;d<i;d++)if(s[d]!=a[d]){h=s[d]>a[d]?1:-1;break}return h}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*fn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var d,h,u,x,p,b,_,v,N,j,S,C,A,E,k,D,R,F,M=s.constructor,z=s.s==a.s?1:-1,I=s.d,L=a.d;if(!s.s)return new M(s);if(!a.s)throw Error(Ea+"Division by zero");for(h=s.e-a.e,R=L.length,k=I.length,_=new M(z),v=_.d=[],u=0;L[u]==(I[u]||0);)++u;if(L[u]>(I[u]||0)&&--h,i==null?C=i=M.precision:o?C=i+(Yr(s)-Yr(a))+1:C=i,C<0)return new M(0);if(C=C/vr+2|0,u=0,R==1)for(x=0,L=L[0],C++;(u<k||x)&&C--;u++)A=x*fn+(I[u]||0),v[u]=A/L|0,x=A%L|0;else{for(x=fn/(L[0]+1)|0,x>1&&(L=e(L,x),I=e(I,x),R=L.length,k=I.length),E=R,N=I.slice(0,R),j=N.length;j<R;)N[j++]=0;F=L.slice(),F.unshift(0),D=L[0],L[1]>=fn/2&&++D;do x=0,d=t(L,N,R,j),d<0?(S=N[0],R!=j&&(S=S*fn+(N[1]||0)),x=S/D|0,x>1?(x>=fn&&(x=fn-1),p=e(L,x),b=p.length,j=N.length,d=t(p,N,b,j),d==1&&(x--,n(p,R<b?F:L,b))):(x==0&&(d=x=1),p=L.slice()),b=p.length,b<j&&p.unshift(0),n(N,p,j),d==-1&&(j=N.length,d=t(L,N,R,j),d<1&&(x++,n(N,R<j?F:L,j))),j=N.length):d===0&&(x++,N=[0]),v[u++]=x,d&&N[0]?N[j++]=I[E]||0:(N=[I[E]],j=1);while((E++<k||N[0]!==void 0)&&C--)}return v[0]||v.shift(),_.e=h,lr(_,o?i+Yr(_)+1:i)}}();function pM(e,t){var n,s,a,i,o,d,h=0,u=0,x=e.constructor,p=x.precision;if(Yr(e)>16)throw Error(n_+Yr(e));if(!e.s)return new x(Ws);for(Ar=!1,d=p,o=new x(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(xc(2,u))/Math.LN10*2+5|0,d+=s,n=a=i=new x(Ws),x.precision=d;;){if(a=lr(a.times(e),d),n=n.times(++h),o=i.plus(vo(a,n,d)),Ci(o.d).slice(0,d)===Ci(i.d).slice(0,d)){for(;u--;)i=lr(i.times(i),d);return x.precision=p,t==null?(Ar=!0,lr(i,p)):i}i=o}}function Yr(e){for(var t=e.e*vr,n=e.d[0];n>=10;n/=10)t++;return t}function Tv(e,t,n){if(t>e.LN10.sd())throw Ar=!0,n&&(e.precision=n),Error(Ea+"LN10 precision limit exceeded");return lr(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function Wf(e,t){var n,s,a,i,o,d,h,u,x,p=1,b=10,_=e,v=_.d,N=_.constructor,j=N.precision;if(_.s<1)throw Error(Ea+(_.s?"NaN":"-Infinity"));if(_.eq(Ws))return new N(0);if(t==null?(Ar=!1,u=j):u=t,_.eq(10))return t==null&&(Ar=!0),Tv(N,u);if(u+=b,N.precision=u,n=Ci(v),s=n.charAt(0),i=Yr(_),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)_=_.times(e),n=Ci(_.d),s=n.charAt(0),p++;i=Yr(_),s>1?(_=new N("0."+n),i++):_=new N(s+"."+n.slice(1))}else return h=Tv(N,u+2,j).times(i+""),_=Wf(new N(s+"."+n.slice(1)),u-b).plus(h),N.precision=j,t==null?(Ar=!0,lr(_,j)):_;for(d=o=_=vo(_.minus(Ws),_.plus(Ws),u),x=lr(_.times(_),u),a=3;;){if(o=lr(o.times(x),u),h=d.plus(vo(o,new N(a),u)),Ci(h.d).slice(0,u)===Ci(d.d).slice(0,u))return d=d.times(2),i!==0&&(d=d.plus(Tv(N,u+2,j).times(i+""))),d=vo(d,new N(p),u),N.precision=j,t==null?(Ar=!0,lr(d,j)):d;d=h,a+=2}}function VA(e,t){var n,s,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,n=n-s-1,e.e=e0(n/vr),e.d=[],s=(n+1)%vr,n<0&&(s+=vr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=vr;s<a;)e.d.push(+t.slice(s,s+=vr));t=t.slice(s),s=vr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),Ar&&(e.e>Tg||e.e<-Tg))throw Error(n_+n)}else e.s=0,e.e=0,e.d=[0];return e}function lr(e,t,n){var s,a,i,o,d,h,u,x,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=vr,a=t,u=p[x=0];else{if(x=Math.ceil((s+1)/vr),i=p.length,x>=i)return e;for(u=i=p[x],o=1;i>=10;i/=10)o++;s%=vr,a=s-vr+o}if(n!==void 0&&(i=xc(10,o-a-1),d=u/i%10|0,h=t<0||p[x+1]!==void 0||u%i,h=n<4?(d||h)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(s>0?a>0?u/xc(10,o-a):0:p[x-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return h?(i=Yr(e),p.length=1,t=t-i-1,p[0]=xc(10,(vr-t%vr)%vr),e.e=e0(-t/vr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(s==0?(p.length=x,i=1,x--):(p.length=x+1,i=xc(10,vr-s),p[x]=a>0?(u/xc(10,o-a)%xc(10,a)|0)*i:0),h)for(;;)if(x==0){(p[0]+=i)==fn&&(p[0]=1,++e.e);break}else{if(p[x]+=i,p[x]!=fn)break;p[x--]=0,i=1}for(s=p.length;p[--s]===0;)p.pop();if(Ar&&(e.e>Tg||e.e<-Tg))throw Error(n_+Yr(e));return e}function gM(e,t){var n,s,a,i,o,d,h,u,x,p,b=e.constructor,_=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),Ar?lr(t,_):t;if(h=e.d,p=t.d,s=t.e,u=e.e,h=h.slice(),o=u-s,o){for(x=o<0,x?(n=h,o=-o,d=p.length):(n=p,s=u,d=h.length),a=Math.max(Math.ceil(_/vr),d)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=h.length,d=p.length,x=a<d,x&&(d=a),a=0;a<d;a++)if(h[a]!=p[a]){x=h[a]<p[a];break}o=0}for(x&&(n=h,h=p,p=n,t.s=-t.s),d=h.length,a=p.length-d;a>0;--a)h[d++]=0;for(a=p.length;a>o;){if(h[--a]<p[a]){for(i=a;i&&h[--i]===0;)h[i]=fn-1;--h[i],h[a]+=fn}h[a]-=p[a]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--s;return h[0]?(t.d=h,t.e=s,Ar?lr(t,_):t):new b(0)}function cd(e,t,n){var s,a=Yr(e),i=Ci(e.d),o=i.length;return t?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+tl(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+tl(-a-1)+i,n&&(s=n-o)>0&&(i+=tl(s))):a>=o?(i+=tl(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+tl(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=tl(s))),e.s<0?"-"+i:i}function qA(e,t){if(e.length>t)return e.length=t,!0}function yM(e){var t,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return VA(o,i.toString())}else if(typeof i!="string")throw Error(Wc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ppe.test(i))VA(o,i);else throw Error(Wc+i)}if(a.prototype=st,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=yM,a.config=a.set=gpe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(n=s[t++])||(e[n]=this[n]);return a.config(e),a}function gpe(e){if(!e||typeof e!="object")throw Error(Ea+"Object expected");var t,n,s,a=["precision",1,Jh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[n=a[t]])!==void 0)if(e0(s)===s&&s>=a[t+1]&&s<=a[t+2])this[n]=s;else throw Error(Wc+n+": "+s);if((s=e[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(Wc+n+": "+s);return this}var s_=yM(xpe);Ws=new s_(1);const rr=s_;function ype(e){return wpe(e)||jpe(e)||vpe(e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(e,t){if(e){if(typeof e=="string")return hw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(e,t)}}function jpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wpe(e){if(Array.isArray(e))return hw(e)}function hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var Npe=function(t){return t},bM={},vM=function(t){return t===bM},HA=function(t){return function n(){return arguments.length===0||arguments.length===1&&vM(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},_pe=function e(t,n){return t===1?n:HA(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(d){return d!==bM}).length;return o>=t?n.apply(void 0,a):e(t-o,HA(function(){for(var d=arguments.length,h=new Array(d),u=0;u<d;u++)h[u]=arguments[u];var x=a.map(function(p){return vM(p)?h.shift():p});return n.apply(void 0,ype(x).concat(h))}))})},U1=function(t){return _pe(t.length,t)},fw=function(t,n){for(var s=[],a=t;a<n;++a)s[a-t]=a;return s},Spe=U1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Cpe=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];if(!n.length)return Npe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(d,h){return h(d)},i.apply(void 0,arguments))}},mw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jM=function(t){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(d,h){return d===n[h]})||(n=i,s=t.apply(void 0,i)),s}};function Ape(e){var t;return e===0?t=1:t=Math.floor(new rr(e).abs().log(10).toNumber())+1,t}function Ope(e,t,n){for(var s=new rr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var Epe=U1(function(e,t,n){var s=+e,a=+t;return s+n*(a-s)}),kpe=U1(function(e,t,n){var s=t-+e;return s=s||1/0,(n-e)/s}),Tpe=U1(function(e,t,n){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(n-e)/s))});const z1={rangeStep:Ope,getDigitCount:Ape,interpolateNumber:Epe,uninterpolateNumber:kpe,uninterpolateTruncation:Tpe};function xw(e){return Dpe(e)||Ipe(e)||wM(e)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dpe(e){if(Array.isArray(e))return pw(e)}function Gf(e,t){return Lpe(e)||Rpe(e,t)||wM(e,t)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wM(e,t){if(e){if(typeof e=="string")return pw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pw(e,t)}}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Rpe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),d;!(s=(d=o.next()).done)&&(n.push(d.value),!(t&&n.length===t));s=!0);}catch(h){a=!0,i=h}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Lpe(e){if(Array.isArray(e))return e}function NM(e){var t=Gf(e,2),n=t[0],s=t[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function _M(e,t,n){if(e.lte(0))return new rr(0);var s=z1.getDigitCount(e.toNumber()),a=new rr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,d=new rr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),h=d.mul(a);return t?h:new rr(Math.ceil(h))}function $pe(e,t,n){var s=1,a=new rr(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(s=new rr(10).pow(z1.getDigitCount(e)-1),a=new rr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new rr(Math.floor(e)))}else e===0?a=new rr(Math.floor((t-1)/2)):n||(a=new rr(Math.floor(e)));var o=Math.floor((t-1)/2),d=Cpe(Spe(function(h){return a.add(new rr(h-o).mul(s)).toNumber()}),fw);return d(0,t)}function SM(e,t,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new rr(0),tickMin:new rr(0),tickMax:new rr(0)};var i=_M(new rr(t).sub(e).div(n-1),s,a),o;e<=0&&t>=0?o=new rr(0):(o=new rr(e).add(t).div(2),o=o.sub(new rr(o).mod(i)));var d=Math.ceil(o.sub(e).div(i).toNumber()),h=Math.ceil(new rr(t).sub(o).div(i).toNumber()),u=d+h+1;return u>n?SM(e,t,n,s,a+1):(u<n&&(h=t>0?h+(n-u):h,d=t>0?d:d+(n-u)),{step:i,tickMin:o.sub(new rr(d).mul(i)),tickMax:o.add(new rr(h).mul(i))})}function Fpe(e){var t=Gf(e,2),n=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),d=NM([n,s]),h=Gf(d,2),u=h[0],x=h[1];if(u===-1/0||x===1/0){var p=x===1/0?[u].concat(xw(fw(0,a-1).map(function(){return 1/0}))):[].concat(xw(fw(0,a-1).map(function(){return-1/0})),[x]);return n>s?mw(p):p}if(u===x)return $pe(u,a,i);var b=SM(u,x,o,i),_=b.step,v=b.tickMin,N=b.tickMax,j=z1.rangeStep(v,N.add(new rr(.1).mul(_)),_);return n>s?mw(j):j}function Bpe(e,t){var n=Gf(e,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=NM([s,a]),d=Gf(o,2),h=d[0],u=d[1];if(h===-1/0||u===1/0)return[s,a];if(h===u)return[h];var x=Math.max(t,2),p=_M(new rr(u).sub(h).div(x-1),i,0),b=[].concat(xw(z1.rangeStep(new rr(h),new rr(u).sub(new rr(.99).mul(p)),p)),[u]);return s>a?mw(b):b}var Upe=jM(Fpe),zpe=jM(Bpe),Vpe="Invariant failed";function dd(e,t){throw new Error(Vpe)}var qpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pg.apply(this,arguments)}function Hpe(e,t){return Ype(e)||Qpe(e,t)||Gpe(e,t)||Wpe()}function Wpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gpe(e,t){if(e){if(typeof e=="string")return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Qpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function Ype(e){if(Array.isArray(e))return e}function Xpe(e,t){if(e==null)return{};var n=Kpe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kpe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Zpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jpe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OM(s.key),s)}}function ege(e,t,n){return t&&Jpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tge(e,t,n){return t=Ig(t),rge(e,CM()?Reflect.construct(t,n||[],Ig(e).constructor):t.apply(e,n))}function rge(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nge(e)}function nge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(e)}function sge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},gw(e,t)}function AM(e,t,n){return t=OM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OM(e){var t=age(e,"string");return ch(t)=="symbol"?t:t+""}function age(e,t){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ch(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qm=function(e){function t(){return Zpe(this,t),tge(this,t,arguments)}return sge(t,e),ege(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,d=s.dataKey,h=s.data,u=s.dataPointFormatter,x=s.xAxis,p=s.yAxis,b=Xpe(s,qpe),_=ot(b,!1);this.props.direction==="x"&&x.type!=="number"&&dd();var v=h.map(function(N){var j=u(N,d),S=j.x,C=j.y,A=j.value,E=j.errorVal;if(!E)return null;var k=[],D,R;if(Array.isArray(E)){var F=Hpe(E,2);D=F[0],R=F[1]}else D=R=E;if(i==="vertical"){var M=x.scale,z=C+a,I=z+o,L=z-o,$=M(A-D),W=M(A+R);k.push({x1:W,y1:I,x2:W,y2:L}),k.push({x1:$,y1:z,x2:W,y2:z}),k.push({x1:$,y1:I,x2:$,y2:L})}else if(i==="horizontal"){var U=p.scale,Y=S+a,X=Y-o,V=Y+o,G=U(A-D),ne=U(A+R);k.push({x1:X,y1:ne,x2:V,y2:ne}),k.push({x1:Y,y1:G,x2:Y,y2:ne}),k.push({x1:X,y1:G,x2:V,y2:G})}return K.createElement(Dt,Pg({className:"recharts-errorBar",key:"bar-".concat(k.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},_),k.map(function(ae){return K.createElement("line",Pg({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return K.createElement(Dt,{className:"recharts-errorBars"},v)}}])}(K.Component);AM(qm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AM(qm,"displayName","ErrorBar");function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(s){ige(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ige(e,t,n){return t=oge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oge(e){var t=lge(e,"string");return Qf(t)=="symbol"?t:t+""}function lge(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Qf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EM=function(t){var n=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=zs(n,ei);if(!o)return null;var d=ei.defaultProps,h=d!==void 0?lc(lc({},d),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(s||[]).reduce(function(x,p){var b=p.item,_=p.props,v=_.sectors||_.data||[];return x.concat(v.map(function(N){return{type:o.props.iconType||b.props.legendType,value:N.name,color:N.fill,payload:N}}))},[]):u=(s||[]).map(function(x){var p=x.item,b=p.type.defaultProps,_=b!==void 0?lc(lc({},b),p.props):{},v=_.dataKey,N=_.name,j=_.legendType,S=_.hide;return{inactive:S,dataKey:v,type:h.iconType||j||"square",color:a_(p),value:N||v,payload:_}}),lc(lc(lc({},h),ei.getWithHeight(o,a)),{},{payload:u,item:o})};function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function QA(e){return hge(e)||uge(e)||dge(e)||cge()}function cge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dge(e,t){if(e){if(typeof e=="string")return yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(e,t)}}function uge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hge(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(s){ku(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ku(e,t,n){return t=fge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fge(e){var t=mge(e,"string");return Yf(t)=="symbol"?t:t+""}function mge(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Yf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t,n){return jt(e)||jt(t)?n:on(t)?Js(e,t,n):pt(t)?t(e):n}function of(e,t,n,s){var a=upe(e,function(d){return qr(d,t)});if(n==="number"){var i=a.filter(function(d){return Ve(d)||parseFloat(d)});return i.length?[B1(i),vl(i)]:[1/0,-1/0]}var o=s?a.filter(function(d){return!jt(d)}):a;return o.map(function(d){return on(d)||d instanceof Date?d:""})}var xge=function(t){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,d=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(d<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var h=i.range,u=0;u<d;u++){var x=u>0?a[u-1].coordinate:a[d-1].coordinate,p=a[u].coordinate,b=u>=d-1?a[0].coordinate:a[u+1].coordinate,_=void 0;if(es(p-x)!==es(b-p)){var v=[];if(es(b-p)===es(h[1]-h[0])){_=b;var N=p+h[1]-h[0];v[0]=Math.min(N,(N+x)/2),v[1]=Math.max(N,(N+x)/2)}else{_=x;var j=b+h[1]-h[0];v[0]=Math.min(p,(j+p)/2),v[1]=Math.max(p,(j+p)/2)}var S=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(t>S[0]&&t<=S[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var C=Math.min(x,b),A=Math.max(x,b);if(t>(C+p)/2&&t<=(A+p)/2){o=a[u].index;break}}}else for(var E=0;E<d;E++)if(E===0&&t<=(s[E].coordinate+s[E+1].coordinate)/2||E>0&&E<d-1&&t>(s[E].coordinate+s[E-1].coordinate)/2&&t<=(s[E].coordinate+s[E+1].coordinate)/2||E===d-1&&t>(s[E].coordinate+s[E-1].coordinate)/2){o=s[E].index;break}return o},a_=function(t){var n,s=t,a=s.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,o=i.stroke,d=i.fill,h;switch(a){case"Line":h=o;break;case"Area":case"Radar":h=o&&o!=="none"?o:d;break;default:h=d;break}return h},pge=function(t){var n=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},d=Object.keys(i),h=0,u=d.length;h<u;h++)for(var x=i[d[h]].stackGroups,p=Object.keys(x),b=0,_=p.length;b<_;b++){var v=x[p[b]],N=v.items,j=v.cateAxisId,S=N.filter(function(R){return bo(R.type).indexOf("Bar")>=0});if(S&&S.length){var C=S[0].type.defaultProps,A=C!==void 0?Fr(Fr({},C),S[0].props):S[0].props,E=A.barSize,k=A[j];o[k]||(o[k]=[]);var D=jt(E)?n:E;o[k].push({item:S[0],stackList:S.slice(1),barSize:jt(D)?void 0:ts(D,s,0)})}}return o},gge=function(t){var n=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,d=t.maxBarSize,h=o.length;if(h<1)return null;var u=ts(n,a,0,!0),x,p=[];if(o[0].barSize===+o[0].barSize){var b=!1,_=a/h,v=o.reduce(function(E,k){return E+k.barSize||0},0);v+=(h-1)*u,v>=a&&(v-=(h-1)*u,u=0),v>=a&&_>0&&(b=!0,_*=.9,v=h*_);var N=(a-v)/2>>0,j={offset:N-u,size:0};x=o.reduce(function(E,k){var D={item:k.item,position:{offset:j.offset+j.size+u,size:b?_:k.barSize}},R=[].concat(QA(E),[D]);return j=R[R.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(F){R.push({item:F,position:j})}),R},p)}else{var S=ts(s,a,0,!0);a-2*S-(h-1)*u<=0&&(u=0);var C=(a-2*S-(h-1)*u)/h;C>1&&(C>>=0);var A=d===+d?Math.min(C,d):C;x=o.reduce(function(E,k,D){var R=[].concat(QA(E),[{item:k.item,position:{offset:S+(C+u)*D+(C-A)/2,size:A}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(F){R.push({item:F,position:R[R.length-1].position})}),R},p)}return x},yge=function(t,n,s,a){var i=s.children,o=s.width,d=s.margin,h=o-(d.left||0)-(d.right||0),u=EM({children:i,legendWidth:h});if(u){var x=a||{},p=x.width,b=x.height,_=u.align,v=u.verticalAlign,N=u.layout;if((N==="vertical"||N==="horizontal"&&v==="middle")&&_!=="center"&&Ve(t[_]))return Fr(Fr({},t),{},ku({},_,t[_]+(p||0)));if((N==="horizontal"||N==="vertical"&&_==="center")&&v!=="middle"&&Ve(t[v]))return Fr(Fr({},t),{},ku({},v,t[v]+(b||0)))}return t},bge=function(t,n,s){return jt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},kM=function(t,n,s,a,i){var o=n.props.children,d=ea(o,qm).filter(function(u){return bge(a,i,u.props.direction)});if(d&&d.length){var h=d.map(function(u){return u.props.dataKey});return t.reduce(function(u,x){var p=qr(x,s);if(jt(p))return u;var b=Array.isArray(p)?[B1(p),vl(p)]:[p,p],_=h.reduce(function(v,N){var j=qr(x,N,0),S=b[0]-Math.abs(Array.isArray(j)?j[0]:j),C=b[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(S,v[0]),Math.max(C,v[1])]},[1/0,-1/0]);return[Math.min(_[0],u[0]),Math.max(_[1],u[1])]},[1/0,-1/0])}return null},vge=function(t,n,s,a,i){var o=n.map(function(d){return kM(t,d,s,i,a)}).filter(function(d){return!jt(d)});return o&&o.length?o.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]):null},TM=function(t,n,s,a,i){var o=n.map(function(h){var u=h.props.dataKey;return s==="number"&&u&&kM(t,h,u,a)||of(t,u,s,i)});if(s==="number")return o.reduce(function(h,u){return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0]);var d={};return o.reduce(function(h,u){for(var x=0,p=u.length;x<p;x++)d[u[x]]||(d[u[x]]=!0,h.push(u[x]));return h},[])},PM=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},IM=function(t,n,s,a){if(a)return t.map(function(h){return h.coordinate});var i,o,d=t.map(function(h){return h.coordinate===n&&(i=!0),h.coordinate===s&&(o=!0),h.coordinate});return i||d.push(n),o||d.push(s),d},xo=function(t,n,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,d=t.range,h=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/h:0;if(u=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?es(d[0]-d[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var x=(t.ticks||t.niceTicks).map(function(p){var b=i?i.indexOf(p):p;return{coordinate:a(b)+u,value:p,offset:u}});return x.filter(function(p){return!Qh(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,b){return{coordinate:a(p)+u,value:p,index:b,offset:u}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(p){return{coordinate:a(p)+u,value:p,offset:u}}):a.domain().map(function(p,b){return{coordinate:a(p)+u,value:i?i[p]:p,index:b,offset:u}})},Pv=new WeakMap,$x=function(t,n){if(typeof n!="function")return t;Pv.has(t)||Pv.set(t,new WeakMap);var s=Pv.get(t);if(s.has(n))return s.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},DM=function(t,n,s){var a=t.scale,i=t.type,o=t.layout,d=t.axisType;if(a==="auto")return o==="radial"&&d==="radiusAxis"?{scale:Uf(),realScaleType:"band"}:o==="radial"&&d==="angleAxis"?{scale:Ag(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:af(),realScaleType:"point"}:i==="category"?{scale:Uf(),realScaleType:"band"}:{scale:Ag(),realScaleType:"linear"};if(ad(a)){var h="scale".concat(C1(a));return{scale:(zA[h]||af)(),realScaleType:zA[h]?h:"point"}}return pt(a)?{scale:a}:{scale:af(),realScaleType:"point"}},XA=1e-4,MM=function(t){var n=t.domain();if(!(!n||n.length<=2)){var s=n.length,a=t.range(),i=Math.min(a[0],a[1])-XA,o=Math.max(a[0],a[1])+XA,d=t(n[0]),h=t(n[s-1]);(d<i||d>o||h<i||h>o)&&t.domain([n[0],n[s-1]])}},jge=function(t,n){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===n)return t[s].position;return null},wge=function(t,n){if(!n||n.length!==2||!Ve(n[0])||!Ve(n[1]))return t;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ve(t[0])||t[0]<s)&&(i[0]=s),(!Ve(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},Nge=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,d=0;d<n;++d){var h=Qh(t[d][s][1])?t[d][s][0]:t[d][s][1];h>=0?(t[d][s][0]=i,t[d][s][1]=i+h,i=t[d][s][1]):(t[d][s][0]=o,t[d][s][1]=o+h,o=t[d][s][1])}},_ge=function(t){var n=t.length;if(!(n<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var d=Qh(t[o][s][1])?t[o][s][0]:t[o][s][1];d>=0?(t[o][s][0]=i,t[o][s][1]=i+d,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},Sge={sign:Nge,expand:qse,none:th,silhouette:Hse,wiggle:Wse,positive:_ge},Cge=function(t,n,s){var a=n.map(function(d){return d.props.dataKey}),i=Sge[s],o=Vse().keys(a).value(function(d,h){return+qr(d,h,0)}).order(Vj).offset(i);return o(t)},Age=function(t,n,s,a,i,o){if(!t)return null;var d=o?n.reverse():n,h={},u=d.reduce(function(p,b){var _,v=(_=b.type)!==null&&_!==void 0&&_.defaultProps?Fr(Fr({},b.type.defaultProps),b.props):b.props,N=v.stackId,j=v.hide;if(j)return p;var S=v[s],C=p[S]||{hasStack:!1,stackGroups:{}};if(on(N)){var A=C.stackGroups[N]||{numericAxisId:s,cateAxisId:a,items:[]};A.items.push(b),C.hasStack=!0,C.stackGroups[N]=A}else C.stackGroups[bd("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[b]};return Fr(Fr({},p),{},ku({},S,C))},h),x={};return Object.keys(u).reduce(function(p,b){var _=u[b];if(_.hasStack){var v={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(N,j){var S=_.stackGroups[j];return Fr(Fr({},N),{},ku({},j,{numericAxisId:s,cateAxisId:a,items:S.items,stackedData:Cge(t,S.items,i)}))},v)}return Fr(Fr({},p),{},ku({},b,_))},x)},RM=function(t,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,d=n.allowDecimals,h=s||n.scale;if(h!=="auto"&&h!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var x=Upe(u,i,d);return t.domain([B1(x),vl(x)]),{niceTicks:x}}if(i&&a==="number"){var p=t.domain(),b=zpe(p,i,d);return{niceTicks:b}}return null};function Dg(e){var t=e.axis,n=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jt(a[t.dataKey])){var d=ig(n,"value",a[t.dataKey]);if(d)return d.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var h=qr(a,jt(o)?t.dataKey:o);return jt(h)?null:t.scale(h)}var KA=function(t){var n=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,d=t.index;if(n.type==="category")return s[d]?s[d].coordinate+a:null;var h=qr(o,n.dataKey,n.domain[d]);return jt(h)?null:n.scale(h)-i/2+a},Oge=function(t){var n=t.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},Ege=function(t,n){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(on(i)){var o=n[i];if(o){var d=o.items.indexOf(t);return d>=0?o.stackedData[d]:null}}return null},kge=function(t){return t.reduce(function(n,s){return[B1(s.concat([n[0]]).filter(Ve)),vl(s.concat([n[1]]).filter(Ve))]},[1/0,-1/0])},LM=function(t,n,s){return Object.keys(t).reduce(function(a,i){var o=t[i],d=o.stackedData,h=d.reduce(function(u,x){var p=kge(x.slice(n,s+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(h[0],a[0]),Math.max(h[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ZA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bw=function(t,n,s){if(pt(t))return t(n,s);if(!Array.isArray(t))return n;var a=[];if(Ve(t[0]))a[0]=s?t[0]:Math.min(t[0],n[0]);else if(ZA.test(t[0])){var i=+ZA.exec(t[0])[1];a[0]=n[0]-i}else pt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ve(t[1]))a[1]=s?t[1]:Math.max(t[1],n[1]);else if(JA.test(t[1])){var o=+JA.exec(t[1])[1];a[1]=n[1]+o}else pt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Mg=function(t,n,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&n&&n.length>=2){for(var i=I3(n,function(p){return p.coordinate}),o=1/0,d=1,h=i.length;d<h;d++){var u=i[d],x=i[d-1];o=Math.min((u.coordinate||0)-(x.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},eO=function(t,n,s){return!t||!t.length||ld(t,Js(s,"type.defaultProps.domain"))?n:t},$M=function(t,n){var s=t.type.defaultProps?Fr(Fr({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,d=s.formatter,h=s.tooltipType,u=s.chartType,x=s.hide;return Fr(Fr({},ot(t,!1)),{},{dataKey:a,unit:o,formatter:d,name:i||a,color:a_(t),value:qr(n,a),type:h,payload:n,chartType:u,hide:x})};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(s){FM(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function FM(e,t,n){return t=Tge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tge(e){var t=Pge(e,"string");return Xf(t)=="symbol"?t:t+""}function Pge(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ige(e,t){return Lge(e)||Rge(e,t)||Mge(e,t)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(e,t){if(e){if(typeof e=="string")return rO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(e,t)}}function rO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Rge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function Lge(e){if(Array.isArray(e))return e}var Rg=Math.PI/180,$ge=function(t){return t*180/Math.PI},fr=function(t,n,s,a){return{x:t+Math.cos(-Rg*a)*s,y:n+Math.sin(-Rg*a)*s}},BM=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},Fge=function(t,n,s,a,i){var o=t.width,d=t.height,h=t.startAngle,u=t.endAngle,x=ts(t.cx,o,o/2),p=ts(t.cy,d,d/2),b=BM(o,d,s),_=ts(t.innerRadius,b,0),v=ts(t.outerRadius,b,b*.8),N=Object.keys(n);return N.reduce(function(j,S){var C=n[S],A=C.domain,E=C.reversed,k;if(jt(C.range))a==="angleAxis"?k=[h,u]:a==="radiusAxis"&&(k=[_,v]),E&&(k=[k[1],k[0]]);else{k=C.range;var D=k,R=Ige(D,2);h=R[0],u=R[1]}var F=DM(C,i),M=F.realScaleType,z=F.scale;z.domain(A).range(k),MM(z);var I=RM(z,eo(eo({},C),{},{realScaleType:M})),L=eo(eo(eo({},C),I),{},{range:k,radius:v,realScaleType:M,scale:z,cx:x,cy:p,innerRadius:_,outerRadius:v,startAngle:h,endAngle:u});return eo(eo({},j),{},FM({},S,L))},{})},Bge=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},Uge=function(t,n){var s=t.x,a=t.y,i=n.cx,o=n.cy,d=Bge({x:s,y:a},{x:i,y:o});if(d<=0)return{radius:d};var h=(s-i)/d,u=Math.acos(h);return a>o&&(u=2*Math.PI-u),{radius:d,angle:$ge(u),angleInRadian:u}},zge=function(t){var n=t.startAngle,s=t.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},Vge=function(t,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),d=Math.min(i,o);return t+d*360},nO=function(t,n){var s=t.x,a=t.y,i=Uge({x:s,y:a},n),o=i.radius,d=i.angle,h=n.innerRadius,u=n.outerRadius;if(o<h||o>u)return!1;if(o===0)return!0;var x=zge(n),p=x.startAngle,b=x.endAngle,_=d,v;if(p<=b){for(;_>b;)_-=360;for(;_<p;)_+=360;v=_>=p&&_<=b}else{for(;_>p;)_-=360;for(;_<b;)_+=360;v=_>=b&&_<=p}return v?eo(eo({},n),{},{radius:o,angle:Vge(_,n)}):null},UM=function(t){return!T.isValidElement(t)&&!pt(t)&&typeof t!="boolean"?t.className:""};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}var qge=["offset"];function Hge(e){return Yge(e)||Qge(e)||Gge(e)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gge(e,t){if(e){if(typeof e=="string")return vw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(e,t)}}function Qge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return vw(e)}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Xge(e,t){if(e==null)return{};var n=Kge(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kge(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(s){Zge(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Zge(e,t,n){return t=Jge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jge(e){var t=eye(e,"string");return Kf(t)=="symbol"?t:t+""}function eye(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Zf.apply(this,arguments)}var tye=function(t){var n=t.value,s=t.formatter,a=jt(t.children)?n:t.children;return pt(s)?s(a):a},rye=function(t,n){var s=es(n-t),a=Math.min(Math.abs(n-t),360);return s*a},nye=function(t,n,s){var a=t.position,i=t.viewBox,o=t.offset,d=t.className,h=i,u=h.cx,x=h.cy,p=h.innerRadius,b=h.outerRadius,_=h.startAngle,v=h.endAngle,N=h.clockWise,j=(p+b)/2,S=rye(_,v),C=S>=0?1:-1,A,E;a==="insideStart"?(A=_+C*o,E=N):a==="insideEnd"?(A=v-C*o,E=!N):a==="end"&&(A=v+C*o,E=N),E=S<=0?E:!E;var k=fr(u,x,j,A),D=fr(u,x,j,A+(E?1:-1)*359),R="M".concat(k.x,",").concat(k.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(E?0:1,`,
    `).concat(D.x,",").concat(D.y),F=jt(t.id)?bd("recharts-radial-line-"):t.id;return K.createElement("text",Zf({},s,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",d)}),K.createElement("defs",null,K.createElement("path",{id:F,d:R})),K.createElement("textPath",{xlinkHref:"#".concat(F)},n))},sye=function(t){var n=t.viewBox,s=t.offset,a=t.position,i=n,o=i.cx,d=i.cy,h=i.innerRadius,u=i.outerRadius,x=i.startAngle,p=i.endAngle,b=(x+p)/2;if(a==="outside"){var _=fr(o,d,u+s,b),v=_.x,N=_.y;return{x:v,y:N,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:d,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:d,textAnchor:"middle",verticalAnchor:"end"};var j=(h+u)/2,S=fr(o,d,j,b),C=S.x,A=S.y;return{x:C,y:A,textAnchor:"middle",verticalAnchor:"middle"}},aye=function(t){var n=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=n,d=o.x,h=o.y,u=o.width,x=o.height,p=x>=0?1:-1,b=p*a,_=p>0?"end":"start",v=p>0?"start":"end",N=u>=0?1:-1,j=N*a,S=N>0?"end":"start",C=N>0?"start":"end";if(i==="top"){var A={x:d+u/2,y:h-p*a,textAnchor:"middle",verticalAnchor:_};return tn(tn({},A),s?{height:Math.max(h-s.y,0),width:u}:{})}if(i==="bottom"){var E={x:d+u/2,y:h+x+b,textAnchor:"middle",verticalAnchor:v};return tn(tn({},E),s?{height:Math.max(s.y+s.height-(h+x),0),width:u}:{})}if(i==="left"){var k={x:d-j,y:h+x/2,textAnchor:S,verticalAnchor:"middle"};return tn(tn({},k),s?{width:Math.max(k.x-s.x,0),height:x}:{})}if(i==="right"){var D={x:d+u+j,y:h+x/2,textAnchor:C,verticalAnchor:"middle"};return tn(tn({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:x}:{})}var R=s?{width:u,height:x}:{};return i==="insideLeft"?tn({x:d+j,y:h+x/2,textAnchor:C,verticalAnchor:"middle"},R):i==="insideRight"?tn({x:d+u-j,y:h+x/2,textAnchor:S,verticalAnchor:"middle"},R):i==="insideTop"?tn({x:d+u/2,y:h+b,textAnchor:"middle",verticalAnchor:v},R):i==="insideBottom"?tn({x:d+u/2,y:h+x-b,textAnchor:"middle",verticalAnchor:_},R):i==="insideTopLeft"?tn({x:d+j,y:h+b,textAnchor:C,verticalAnchor:v},R):i==="insideTopRight"?tn({x:d+u-j,y:h+b,textAnchor:S,verticalAnchor:v},R):i==="insideBottomLeft"?tn({x:d+j,y:h+x-b,textAnchor:C,verticalAnchor:_},R):i==="insideBottomRight"?tn({x:d+u-j,y:h+x-b,textAnchor:S,verticalAnchor:_},R):qh(i)&&(Ve(i.x)||Sc(i.x))&&(Ve(i.y)||Sc(i.y))?tn({x:d+ts(i.x,u),y:h+ts(i.y,x),textAnchor:"end",verticalAnchor:"end"},R):tn({x:d+u/2,y:h+x/2,textAnchor:"middle",verticalAnchor:"middle"},R)},iye=function(t){return"cx"in t&&Ve(t.cx)};function gn(e){var t=e.offset,n=t===void 0?5:t,s=Xge(e,qge),a=tn({offset:n},s),i=a.viewBox,o=a.position,d=a.value,h=a.children,u=a.content,x=a.className,p=x===void 0?"":x,b=a.textBreakAll;if(!i||jt(d)&&jt(h)&&!T.isValidElement(u)&&!pt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,a);var _;if(pt(u)){if(_=T.createElement(u,a),T.isValidElement(_))return _}else _=tye(a);var v=iye(i),N=ot(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nye(a,_,N);var j=v?sye(a):aye(a);return K.createElement(od,Zf({className:bt("recharts-label",p)},N,j,{breakAll:b}),_)}gn.displayName="Label";var zM=function(t){var n=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,d=t.r,h=t.radius,u=t.innerRadius,x=t.outerRadius,p=t.x,b=t.y,_=t.top,v=t.left,N=t.width,j=t.height,S=t.clockWise,C=t.labelViewBox;if(C)return C;if(Ve(N)&&Ve(j)){if(Ve(p)&&Ve(b))return{x:p,y:b,width:N,height:j};if(Ve(_)&&Ve(v))return{x:_,y:v,width:N,height:j}}return Ve(p)&&Ve(b)?{x:p,y:b,width:0,height:0}:Ve(n)&&Ve(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:x||h||d||0,clockWise:S}:t.viewBox?t.viewBox:{}},oye=function(t,n){return t?t===!0?K.createElement(gn,{key:"label-implicit",viewBox:n}):on(t)?K.createElement(gn,{key:"label-implicit",viewBox:n,value:t}):T.isValidElement(t)?t.type===gn?T.cloneElement(t,{key:"label-implicit",viewBox:n}):K.createElement(gn,{key:"label-implicit",content:t,viewBox:n}):pt(t)?K.createElement(gn,{key:"label-implicit",content:t,viewBox:n}):qh(t)?K.createElement(gn,Zf({viewBox:n},t,{key:"label-implicit"})):null:null},lye=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=zM(t),o=ea(a,gn).map(function(h,u){return T.cloneElement(h,{viewBox:n||i,key:"label-".concat(u)})});if(!s)return o;var d=oye(t.label,n||i);return[d].concat(Hge(o))};gn.parseViewBox=zM;gn.renderCallByParent=lye;function cye(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dye=cye;const uye=Vt(dye);function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}var hye=["valueAccessor"],fye=["data","dataKey","clockWise","id","textBreakAll"];function mye(e){return yye(e)||gye(e)||pye(e)||xye()}function xye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pye(e,t){if(e){if(typeof e=="string")return jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(e,t)}}function gye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yye(e){if(Array.isArray(e))return jw(e)}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lg.apply(this,arguments)}function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(s){bye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bye(e,t,n){return t=vye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vye(e){var t=jye(e,"string");return Jf(t)=="symbol"?t:t+""}function jye(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oO(e,t){if(e==null)return{};var n=wye(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function wye(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Nye=function(t){return Array.isArray(t.value)?uye(t.value):t.value};function Ti(e){var t=e.valueAccessor,n=t===void 0?Nye:t,s=oO(e,hye),a=s.data,i=s.dataKey,o=s.clockWise,d=s.id,h=s.textBreakAll,u=oO(s,fye);return!a||!a.length?null:K.createElement(Dt,{className:"recharts-label-list"},a.map(function(x,p){var b=jt(i)?n(x,p):qr(x&&x.payload,i),_=jt(d)?{}:{id:"".concat(d,"-").concat(p)};return K.createElement(gn,Lg({},ot(x,!0),u,_,{parentViewBox:x.parentViewBox,value:b,textBreakAll:h,viewBox:gn.parseViewBox(jt(o)?x:iO(iO({},x),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Ti.displayName="LabelList";function _ye(e,t){return e?e===!0?K.createElement(Ti,{key:"labelList-implicit",data:t}):K.isValidElement(e)||pt(e)?K.createElement(Ti,{key:"labelList-implicit",data:t,content:e}):qh(e)?K.createElement(Ti,Lg({data:t},e,{key:"labelList-implicit"})):null:null}function Sye(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=ea(s,Ti).map(function(o,d){return T.cloneElement(o,{data:t,key:"labelList-".concat(d)})});if(!n)return a;var i=_ye(e.label,t);return[i].concat(mye(a))}Ti.renderCallByParent=Sye;function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ww.apply(this,arguments)}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(s){Cye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Cye(e,t,n){return t=Aye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aye(e){var t=Oye(e,"string");return em(t)=="symbol"?t:t+""}function Oye(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(em(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eye=function(t,n){var s=es(n-t),a=Math.min(Math.abs(n-t),359.999);return s*a},Fx=function(t){var n=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,d=t.isExternal,h=t.cornerRadius,u=t.cornerIsExternal,x=h*(d?1:-1)+a,p=Math.asin(h/x)/Rg,b=u?i:i+o*p,_=fr(n,s,x,b),v=fr(n,s,a,b),N=u?i-o*p:i,j=fr(n,s,x*Math.cos(p*Rg),N);return{center:_,circleTangency:v,lineTangency:j,theta:p}},VM=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,d=t.endAngle,h=Eye(o,d),u=o+h,x=fr(n,s,i,o),p=fr(n,s,i,u),b="M ".concat(x.x,",").concat(x.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(h)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var _=fr(n,s,a,o),v=fr(n,s,a,u);b+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(h)>180),",").concat(+(o<=u),`,
            `).concat(_.x,",").concat(_.y," Z")}else b+="L ".concat(n,",").concat(s," Z");return b},kye=function(t){var n=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,d=t.forceCornerRadius,h=t.cornerIsExternal,u=t.startAngle,x=t.endAngle,p=es(x-u),b=Fx({cx:n,cy:s,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:h}),_=b.circleTangency,v=b.lineTangency,N=b.theta,j=Fx({cx:n,cy:s,radius:i,angle:x,sign:-p,cornerRadius:o,cornerIsExternal:h}),S=j.circleTangency,C=j.lineTangency,A=j.theta,E=h?Math.abs(u-x):Math.abs(u-x)-N-A;if(E<0)return d?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VM({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:x});var k="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var D=Fx({cx:n,cy:s,radius:a,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:h}),R=D.circleTangency,F=D.lineTangency,M=D.theta,z=Fx({cx:n,cy:s,radius:a,angle:x,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:h}),I=z.circleTangency,L=z.lineTangency,$=z.theta,W=h?Math.abs(u-x):Math.abs(u-x)-M-$;if(W<0&&o===0)return"".concat(k,"L").concat(n,",").concat(s,"Z");k+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(W>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,"Z")}else k+="L".concat(n,",").concat(s,"Z");return k},Tye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qM=function(t){var n=cO(cO({},Tye),t),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,d=n.cornerRadius,h=n.forceCornerRadius,u=n.cornerIsExternal,x=n.startAngle,p=n.endAngle,b=n.className;if(o<i||x===p)return null;var _=bt("recharts-sector",b),v=o-i,N=ts(d,v,0,!0),j;return N>0&&Math.abs(x-p)<360?j=kye({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,v/2),forceCornerRadius:h,cornerIsExternal:u,startAngle:x,endAngle:p}):j=VM({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:x,endAngle:p}),K.createElement("path",ww({},ot(n,!0),{className:_,d:j,role:"img"}))};function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nw.apply(this,arguments)}function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function uO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(s){Pye(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Pye(e,t,n){return t=Iye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iye(e){var t=Dye(e,"string");return tm(t)=="symbol"?t:t+""}function Dye(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(tm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hO={curveBasisClosed:Pse,curveBasisOpen:Ise,curveBasis:Tse,curveBumpX:gse,curveBumpY:yse,curveLinearClosed:Dse,curveLinear:O1,curveMonotoneX:Mse,curveMonotoneY:Rse,curveNatural:Lse,curveStep:$se,curveStepAfter:Bse,curveStepBefore:Fse},Bx=function(t){return t.x===+t.x&&t.y===+t.y},O0=function(t){return t.x},E0=function(t){return t.y},Mye=function(t,n){if(pt(t))return t;var s="curve".concat(C1(t));return(s==="curveMonotone"||s==="curveBump")&&n?hO["".concat(s).concat(n==="vertical"?"Y":"X")]:hO[s]||O1},Rye=function(t){var n=t.type,s=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,d=t.layout,h=t.connectNulls,u=h===void 0?!1:h,x=Mye(s,d),p=u?i.filter(function(N){return Bx(N)}):i,b;if(Array.isArray(o)){var _=u?o.filter(function(N){return Bx(N)}):o,v=p.map(function(N,j){return uO(uO({},N),{},{base:_[j]})});return d==="vertical"?b=kx().y(E0).x1(O0).x0(function(N){return N.base.x}):b=kx().x(O0).y1(E0).y0(function(N){return N.base.y}),b.defined(Bx).curve(x),b(v)}return d==="vertical"&&Ve(o)?b=kx().y(E0).x1(O0).x0(o):Ve(o)?b=kx().x(O0).y1(E0).y0(o):b=$I().x(O0).y(E0),b.defined(Bx).curve(x),b(p)},Gc=function(t){var n=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Rye(t):a;return T.createElement("path",Nw({},ot(t,!1),og(t),{className:bt("recharts-curve",n),d:o,ref:i}))},Lye=Object.getOwnPropertyNames,$ye=Object.getOwnPropertySymbols,Fye=Object.prototype.hasOwnProperty;function fO(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Ux(e){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,a);var i=a.cache,o=i.get(n),d=i.get(s);if(o&&d)return o===s&&d===n;i.set(n,s),i.set(s,n);var h=e(n,s,a);return i.delete(n),i.delete(s),h}}function Bye(e){return e!=null?e[Symbol.toStringTag]:void 0}function mO(e){return Lye(e).concat($ye(e))}var Uye=Object.hasOwn||function(e,t){return Fye.call(e,t)};function wd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var zye="__v",Vye="__o",qye="_owner",xO=Object.getOwnPropertyDescriptor,pO=Object.keys;function Hye(e,t,n){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function Wye(e,t){return wd(e.getTime(),t.getTime())}function Gye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Qye(e,t){return e===t}function gO(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,d,h=0;(o=i.next())&&!o.done;){for(var u=t.entries(),x=!1,p=0;(d=u.next())&&!d.done;){if(a[p]){p++;continue}var b=o.value,_=d.value;if(n.equals(b[0],_[0],h,p,e,t,n)&&n.equals(b[1],_[1],b[0],_[0],e,t,n)){x=a[p]=!0;break}p++}if(!x)return!1;h++}return!0}var Yye=wd;function Xye(e,t,n){var s=pO(e),a=s.length;if(pO(t).length!==a)return!1;for(;a-- >0;)if(!HM(e,t,n,s[a]))return!1;return!0}function k0(e,t,n){var s=mO(e),a=s.length;if(mO(t).length!==a)return!1;for(var i,o,d;a-- >0;)if(i=s[a],!HM(e,t,n,i)||(o=xO(e,i),d=xO(t,i),(o||d)&&(!o||!d||o.configurable!==d.configurable||o.enumerable!==d.enumerable||o.writable!==d.writable)))return!1;return!0}function Kye(e,t){return wd(e.valueOf(),t.valueOf())}function Zye(e,t){return e.source===t.source&&e.flags===t.flags}function yO(e,t,n){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,d;(o=i.next())&&!o.done;){for(var h=t.values(),u=!1,x=0;(d=h.next())&&!d.done;){if(!a[x]&&n.equals(o.value,d.value,o.value,d.value,e,t,n)){u=a[x]=!0;break}x++}if(!u)return!1}return!0}function Jye(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function e1e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function HM(e,t,n,s){return(s===qye||s===Vye||s===zye)&&(e.$$typeof||t.$$typeof)?!0:Uye(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}var t1e="[object Arguments]",r1e="[object Boolean]",n1e="[object Date]",s1e="[object Error]",a1e="[object Map]",i1e="[object Number]",o1e="[object Object]",l1e="[object RegExp]",c1e="[object Set]",d1e="[object String]",u1e="[object URL]",h1e=Array.isArray,bO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vO=Object.assign,f1e=Object.prototype.toString.call.bind(Object.prototype.toString);function m1e(e){var t=e.areArraysEqual,n=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,d=e.areObjectsEqual,h=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,x=e.areSetsEqual,p=e.areTypedArraysEqual,b=e.areUrlsEqual,_=e.unknownTagComparators;return function(N,j,S){if(N===j)return!0;if(N==null||j==null)return!1;var C=typeof N;if(C!==typeof j)return!1;if(C!=="object")return C==="number"?o(N,j,S):C==="function"?a(N,j,S):!1;var A=N.constructor;if(A!==j.constructor)return!1;if(A===Object)return d(N,j,S);if(h1e(N))return t(N,j,S);if(bO!=null&&bO(N))return p(N,j,S);if(A===Date)return n(N,j,S);if(A===RegExp)return u(N,j,S);if(A===Map)return i(N,j,S);if(A===Set)return x(N,j,S);var E=f1e(N);if(E===n1e)return n(N,j,S);if(E===l1e)return u(N,j,S);if(E===a1e)return i(N,j,S);if(E===c1e)return x(N,j,S);if(E===o1e)return typeof N.then!="function"&&typeof j.then!="function"&&d(N,j,S);if(E===u1e)return b(N,j,S);if(E===s1e)return s(N,j,S);if(E===t1e)return d(N,j,S);if(E===r1e||E===i1e||E===d1e)return h(N,j,S);if(_){var k=_[E];if(!k){var D=Bye(N);D&&(k=_[D])}if(k)return k(N,j,S)}return!1}}function x1e(e){var t=e.circular,n=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?k0:Hye,areDatesEqual:Wye,areErrorsEqual:Gye,areFunctionsEqual:Qye,areMapsEqual:s?fO(gO,k0):gO,areNumbersEqual:Yye,areObjectsEqual:s?k0:Xye,arePrimitiveWrappersEqual:Kye,areRegExpsEqual:Zye,areSetsEqual:s?fO(yO,k0):yO,areTypedArraysEqual:s?k0:Jye,areUrlsEqual:e1e,unknownTagComparators:void 0};if(n&&(a=vO({},a,n(a))),t){var i=Ux(a.areArraysEqual),o=Ux(a.areMapsEqual),d=Ux(a.areObjectsEqual),h=Ux(a.areSetsEqual);a=vO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:d,areSetsEqual:h})}return a}function p1e(e){return function(t,n,s,a,i,o,d){return e(t,n,d)}}function g1e(e){var t=e.circular,n=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(h,u){var x=s(),p=x.cache,b=p===void 0?t?new WeakMap:void 0:p,_=x.meta;return n(h,u,{cache:b,equals:a,meta:_,strict:i})};if(t)return function(h,u){return n(h,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(h,u){return n(h,u,o)}}var y1e=rc();rc({strict:!0});rc({circular:!0});rc({circular:!0,strict:!0});rc({createInternalComparator:function(){return wd}});rc({strict:!0,createInternalComparator:function(){return wd}});rc({circular:!0,createInternalComparator:function(){return wd}});rc({circular:!0,createInternalComparator:function(){return wd},strict:!0});function rc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,d=x1e(e),h=m1e(d),u=s?s(h):p1e(h);return g1e({circular:n,comparator:h,createState:a,equals:u,strict:o})}function b1e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function jO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):b1e(a)};requestAnimationFrame(s)}function _w(e){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_w(e)}function v1e(e){return _1e(e)||N1e(e)||w1e(e)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(e,t){if(e){if(typeof e=="string")return wO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wO(e,t)}}function wO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function N1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _1e(e){if(Array.isArray(e))return e}function S1e(){var e={},t=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,d=v1e(o),h=d[0],u=d.slice(1);if(typeof h=="number"){jO(a.bind(null,u),h);return}a(h),jO(a.bind(null,u));return}_w(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(s){WM(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function WM(e,t,n){return t=C1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C1e(e){var t=A1e(e,"string");return rm(t)==="symbol"?t:String(t)}function A1e(e,t){if(rm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(rm(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},E1e=function(t){return t},k1e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},lf=function(t,n){return Object.keys(n).reduce(function(s,a){return _O(_O({},s),{},WM({},a,t(a,n[a])))},{})},SO=function(t,n,s){return t.map(function(a){return"".concat(k1e(a)," ").concat(n,"ms ").concat(s)}).join(",")};function T1e(e,t){return D1e(e)||I1e(e,t)||GM(e,t)||P1e()}function P1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function D1e(e){if(Array.isArray(e))return e}function M1e(e){return $1e(e)||L1e(e)||GM(e)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GM(e,t){if(e){if(typeof e=="string")return Sw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sw(e,t)}}function L1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $1e(e){if(Array.isArray(e))return Sw(e)}function Sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var $g=1e-4,QM=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},YM=function(t,n){return t.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},CO=function(t,n){return function(s){var a=QM(t,n);return YM(a,s)}},F1e=function(t,n){return function(s){var a=QM(t,n),i=[].concat(M1e(a.map(function(o,d){return o*d}).slice(1)),[0]);return YM(i,s)}},AO=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],d=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,d=1;break;case"ease":a=.25,i=.1,o=.25,d=1;break;case"ease-in":a=.42,i=0,o=1,d=1;break;case"ease-out":a=.42,i=0,o=.58,d=1;break;case"ease-in-out":a=0,i=0,o=.58,d=1;break;default:{var h=n[0].split("(");if(h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4){var u=h[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),x=T1e(u,4);a=x[0],i=x[1],o=x[2],d=x[3]}}}var p=CO(a,o),b=CO(i,d),_=F1e(a,o),v=function(S){return S>1?1:S<0?0:S},N=function(S){for(var C=S>1?1:S,A=C,E=0;E<8;++E){var k=p(A)-C,D=_(A);if(Math.abs(k-C)<$g||D<$g)return b(A);A=v(A-k/D)}return b(A)};return N.isStepper=!1,N},B1e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,s=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,d=o===void 0?17:o,h=function(x,p,b){var _=-(x-p)*s,v=b*i,N=b+(_-v)*d/1e3,j=b*d/1e3+x;return Math.abs(j-p)<$g&&Math.abs(N)<$g?[p,0]:[j,N]};return h.isStepper=!0,h.dt=d,h},U1e=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AO(a);case"spring":return B1e();default:if(a.split("(")[0]==="cubic-bezier")return AO(a)}return typeof a=="function"?a:null};function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function OO(e){return q1e(e)||V1e(e)||XM(e)||z1e()}function z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q1e(e){if(Array.isArray(e))return Aw(e)}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(s){Cw(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Cw(e,t,n){return t=H1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H1e(e){var t=W1e(e,"string");return nm(t)==="symbol"?t:String(t)}function W1e(e,t){if(nm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(nm(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e,t){return X1e(e)||Y1e(e,t)||XM(e,t)||Q1e()}function Q1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XM(e,t){if(e){if(typeof e=="string")return Aw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(e,t)}}function Aw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Y1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function X1e(e){if(Array.isArray(e))return e}var Fg=function(t,n,s){return t+(n-t)*s},Ow=function(t){var n=t.from,s=t.to;return n!==s},K1e=function e(t,n,s){var a=lf(function(i,o){if(Ow(o)){var d=t(o.from,o.to,o.velocity),h=G1e(d,2),u=h[0],x=h[1];return _n(_n({},o),{},{from:u,velocity:x})}return o},n);return s<1?lf(function(i,o){return Ow(o)?_n(_n({},o),{},{velocity:Fg(o.velocity,a[i].velocity,s),from:Fg(o.from,a[i].from,s)}):o},n):e(t,a,s-1)};const Z1e=function(e,t,n,s,a){var i=O1e(e,t),o=i.reduce(function(j,S){return _n(_n({},j),{},Cw({},S,[e[S],t[S]]))},{}),d=i.reduce(function(j,S){return _n(_n({},j),{},Cw({},S,{from:e[S],velocity:0,to:t[S]}))},{}),h=-1,u,x,p=function(){return null},b=function(){return lf(function(S,C){return C.from},d)},_=function(){return!Object.values(d).filter(Ow).length},v=function(S){u||(u=S);var C=S-u,A=C/n.dt;d=K1e(n,d,A),a(_n(_n(_n({},e),t),b())),u=S,_()||(h=requestAnimationFrame(p))},N=function(S){x||(x=S);var C=(S-x)/s,A=lf(function(k,D){return Fg.apply(void 0,OO(D).concat([n(C)]))},o);if(a(_n(_n(_n({},e),t),A)),C<1)h=requestAnimationFrame(p);else{var E=lf(function(k,D){return Fg.apply(void 0,OO(D).concat([n(1)]))},o);a(_n(_n(_n({},e),t),E))}};return p=n.isStepper?v:N,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}var J1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ebe(e,t){if(e==null)return{};var n=tbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function tbe(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Iv(e){return abe(e)||sbe(e)||nbe(e)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(e,t){if(e){if(typeof e=="string")return Ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(e,t)}}function sbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function abe(e){if(Array.isArray(e))return Ew(e)}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(s){q0(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function q0(e,t,n){return t=KM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function obe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KM(s.key),s)}}function lbe(e,t,n){return t&&obe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KM(e){var t=cbe(e,"string");return dh(t)==="symbol"?t:String(t)}function cbe(e,t){if(dh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(dh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},kw(e,t)}function ube(e){var t=hbe();return function(){var s=Bg(e),a;if(t){var i=Bg(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Tw(this,a)}}function Tw(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pw(e)}function Pw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(e)}var ni=function(e){dbe(n,e);var t=ube(n);function n(s,a){var i;ibe(this,n),i=t.call(this,s,a);var o=i.props,d=o.isActive,h=o.attributeName,u=o.from,x=o.to,p=o.steps,b=o.children,_=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Pw(i)),i.changeStyle=i.changeStyle.bind(Pw(i)),!d||_<=0)return i.state={style:{}},typeof b=="function"&&(i.state={style:x}),Tw(i);if(p&&p.length)i.state={style:p[0].style};else if(u){if(typeof b=="function")return i.state={style:u},Tw(i);i.state={style:h?q0({},h,u):u}}else i.state={style:{}};return i}return lbe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,d=i.canBegin,h=i.attributeName,u=i.shouldReAnimate,x=i.to,p=i.from,b=this.state.style;if(d){if(!o){var _={style:h?q0({},h,x):x};this.state&&b&&(h&&b[h]!==x||!h&&b!==x)&&this.setState(_);return}if(!(y1e(a.to,x)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var N=v||u?p:a.to;if(this.state&&b){var j={style:h?q0({},h,N):N};(h&&b[h]!==N||!h&&b!==N)&&this.setState(j)}this.runAnimation(Ra(Ra({},this.props),{},{from:N,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,d=a.to,h=a.duration,u=a.easing,x=a.begin,p=a.onAnimationEnd,b=a.onAnimationStart,_=Z1e(o,d,U1e(u),h,this.changeStyle),v=function(){i.stopJSAnimation=_()};this.manager.start([b,x,v,h,p])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,d=a.begin,h=a.onAnimationStart,u=o[0],x=u.style,p=u.duration,b=p===void 0?0:p,_=function(N,j,S){if(S===0)return N;var C=j.duration,A=j.easing,E=A===void 0?"ease":A,k=j.style,D=j.properties,R=j.onAnimationEnd,F=S>0?o[S-1]:j,M=D||Object.keys(k);if(typeof E=="function"||E==="spring")return[].concat(Iv(N),[i.runJSAnimation.bind(i,{from:F.style,to:k,duration:C,easing:E}),C]);var z=SO(M,C,E),I=Ra(Ra(Ra({},F.style),k),{},{transition:z});return[].concat(Iv(N),[I,C,R]).filter(E1e)};return this.manager.start([h].concat(Iv(o.reduce(_,[x,Math.max(b,d)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=S1e());var i=a.begin,o=a.duration,d=a.attributeName,h=a.to,u=a.easing,x=a.onAnimationStart,p=a.onAnimationEnd,b=a.steps,_=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof _=="function"||u==="spring"){this.runJSAnimation(a);return}if(b.length>1){this.runStepAnimation(a);return}var N=d?q0({},d,h):h,j=SO(Object.keys(N),o,u);v.start([x,i,Ra(Ra({},N),{},{transition:j}),o,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var d=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var h=ebe(a,J1e),u=T.Children.count(i),x=this.state.style;if(typeof i=="function")return i(x);if(!d||u===0||o<=0)return i;var p=function(_){var v=_.props,N=v.style,j=N===void 0?{}:N,S=v.className,C=T.cloneElement(_,Ra(Ra({},h),{},{style:Ra(Ra({},j),x),className:S}));return C};return u===1?p(T.Children.only(i)):K.createElement("div",null,T.Children.map(i,function(b){return p(b)}))}}]),n}(T.PureComponent);ni.displayName="Animate";ni.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ni.propTypes={from:Ct.oneOfType([Ct.object,Ct.string]),to:Ct.oneOfType([Ct.object,Ct.string]),attributeName:Ct.string,duration:Ct.number,begin:Ct.number,easing:Ct.oneOfType([Ct.string,Ct.func]),steps:Ct.arrayOf(Ct.shape({duration:Ct.number.isRequired,style:Ct.object.isRequired,easing:Ct.oneOfType([Ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ct.func]),properties:Ct.arrayOf("string"),onAnimationEnd:Ct.func})),children:Ct.oneOfType([Ct.node,Ct.func]),isActive:Ct.bool,canBegin:Ct.bool,onAnimationEnd:Ct.func,shouldReAnimate:Ct.bool,onAnimationStart:Ct.func,onAnimationReStart:Ct.func};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ug.apply(this,arguments)}function fbe(e,t){return gbe(e)||pbe(e,t)||xbe(e,t)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(e,t){if(e){if(typeof e=="string")return TO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TO(e,t)}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function pbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function gbe(e){if(Array.isArray(e))return e}function PO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function IO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(n),!0).forEach(function(s){ybe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ybe(e,t,n){return t=bbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bbe(e){var t=vbe(e,"string");return sm(t)=="symbol"?t:t+""}function vbe(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(sm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DO=function(t,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),d=a>=0?1:-1,h=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,x;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],b=0,_=4;b<_;b++)p[b]=i[b]>o?o:i[b];x="M".concat(t,",").concat(n+d*p[0]),p[0]>0&&(x+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+h*p[0],",").concat(n)),x+="L ".concat(t+s-h*p[1],",").concat(n),p[1]>0&&(x+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(n+d*p[1])),x+="L ".concat(t+s,",").concat(n+a-d*p[2]),p[2]>0&&(x+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+s-h*p[2],",").concat(n+a)),x+="L ".concat(t+h*p[3],",").concat(n+a),p[3]>0&&(x+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-d*p[3])),x+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);x="M ".concat(t,",").concat(n+d*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+h*v,",").concat(n,`
            L `).concat(t+s-h*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+s,",").concat(n+d*v,`
            L `).concat(t+s,",").concat(n+a-d*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+s-h*v,",").concat(n+a,`
            L `).concat(t+h*v,",").concat(n+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(n+a-d*v," Z")}else x="M ".concat(t,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return x},jbe=function(t,n){if(!t||!n)return!1;var s=t.x,a=t.y,i=n.x,o=n.y,d=n.width,h=n.height;if(Math.abs(d)>0&&Math.abs(h)>0){var u=Math.min(i,i+d),x=Math.max(i,i+d),p=Math.min(o,o+h),b=Math.max(o,o+h);return s>=u&&s<=x&&a>=p&&a<=b}return!1},wbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i_=function(t){var n=IO(IO({},wbe),t),s=T.useRef(),a=T.useState(-1),i=fbe(a,2),o=i[0],d=i[1];T.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var E=s.current.getTotalLength();E&&d(E)}catch{}},[]);var h=n.x,u=n.y,x=n.width,p=n.height,b=n.radius,_=n.className,v=n.animationEasing,N=n.animationDuration,j=n.animationBegin,S=n.isAnimationActive,C=n.isUpdateAnimationActive;if(h!==+h||u!==+u||x!==+x||p!==+p||x===0||p===0)return null;var A=bt("recharts-rectangle",_);return C?K.createElement(ni,{canBegin:o>0,from:{width:x,height:p,x:h,y:u},to:{width:x,height:p,x:h,y:u},duration:N,animationEasing:v,isActive:C},function(E){var k=E.width,D=E.height,R=E.x,F=E.y;return K.createElement(ni,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:N,isActive:S,easing:v},K.createElement("path",Ug({},ot(n,!0),{className:A,d:DO(R,F,k,D,b),ref:s})))}):K.createElement("path",Ug({},ot(n,!0),{className:A,d:DO(h,u,x,p,b)}))},Nbe=["points","className","baseLinePoints","connectNulls"];function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hu.apply(this,arguments)}function _be(e,t){if(e==null)return{};var n=Sbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sbe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function MO(e){return Ebe(e)||Obe(e)||Abe(e)||Cbe()}function Cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(e,t){if(e){if(typeof e=="string")return Iw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(e,t)}}function Obe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ebe(e){if(Array.isArray(e))return Iw(e)}function Iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var RO=function(t){return t&&t.x===+t.x&&t.y===+t.y},kbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(s){RO(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),RO(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},cf=function(t,n){var s=kbe(t);n&&(s=[s.reduce(function(i,o){return[].concat(MO(i),MO(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,d,h){return"".concat(o).concat(h===0?"M":"L").concat(d.x,",").concat(d.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Tbe=function(t,n,s){var a=cf(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(cf(n.reverse(),s).slice(1))},Pbe=function(t){var n=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=_be(t,Nbe);if(!n||!n.length)return null;var d=bt("recharts-polygon",s);if(a&&a.length){var h=o.stroke&&o.stroke!=="none",u=Tbe(n,a,i);return K.createElement("g",{className:d},K.createElement("path",hu({},ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),h?K.createElement("path",hu({},ot(o,!0),{fill:"none",d:cf(n,i)})):null,h?K.createElement("path",hu({},ot(o,!0),{fill:"none",d:cf(a,i)})):null)}var x=cf(n,i);return K.createElement("path",hu({},ot(o,!0),{fill:x.slice(-1)==="Z"?o.fill:"none",className:d,d:x}))};function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dw.apply(this,arguments)}var Hm=function(t){var n=t.cx,s=t.cy,a=t.r,i=t.className,o=bt("recharts-dot",i);return n===+n&&s===+s&&a===+a?T.createElement("circle",Dw({},ot(t,!1),og(t),{className:o,cx:n,cy:s,r:a})):null};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}var Ibe=["x","y","top","left","width","height","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mw.apply(this,arguments)}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Dbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(s){Mbe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Mbe(e,t,n){return t=Rbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rbe(e){var t=Lbe(e,"string");return am(t)=="symbol"?t:t+""}function Lbe(e,t){if(am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(am(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $be(e,t){if(e==null)return{};var n=Fbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fbe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var Bbe=function(t,n,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},Ube=function(t){var n=t.x,s=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,d=o===void 0?0:o,h=t.left,u=h===void 0?0:h,x=t.width,p=x===void 0?0:x,b=t.height,_=b===void 0?0:b,v=t.className,N=$be(t,Ibe),j=Dbe({x:s,y:i,top:d,left:u,width:p,height:_},N);return!Ve(s)||!Ve(i)||!Ve(p)||!Ve(_)||!Ve(d)||!Ve(u)?null:K.createElement("path",Mw({},ot(j,!0),{className:bt("recharts-cross",v),d:Bbe(s,i,p,_,d,u)}))},zbe=F1,Vbe=hM,qbe=zi;function Hbe(e,t){return e&&e.length?zbe(e,qbe(t),Vbe):void 0}var Wbe=Hbe;const Gbe=Vt(Wbe);var Qbe=F1,Ybe=zi,Xbe=fM;function Kbe(e,t){return e&&e.length?Qbe(e,Ybe(t),Xbe):void 0}var Zbe=Kbe;const Jbe=Vt(Zbe);var eve=["cx","cy","angle","ticks","axisLine"],tve=["ticks","tick","angle","tickFormatter","stroke"];function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},df.apply(this,arguments)}function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(s){V1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function FO(e,t){if(e==null)return{};var n=rve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function rve(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JM(s.key),s)}}function sve(e,t,n){return t&&BO(e.prototype,t),n&&BO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ave(e,t,n){return t=zg(t),ive(e,ZM()?Reflect.construct(t,n||[],zg(e).constructor):t.apply(e,n))}function ive(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ove(e)}function ove(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(e)}function lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Rw(e,t)}function V1(e,t,n){return t=JM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JM(e){var t=cve(e,"string");return uh(t)=="symbol"?t:t+""}function cve(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(uh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q1=function(e){function t(){return nve(this,t),ave(this,t,arguments)}return lve(t,e),sve(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,d=i.cx,h=i.cy;return fr(d,h,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,d=s.ticks,h=Gbe(d,function(x){return x.coordinate||0}),u=Jbe(d,function(x){return x.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:h.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,d=s.ticks,h=s.axisLine,u=FO(s,eve),x=d.reduce(function(v,N){return[Math.min(v[0],N.coordinate),Math.max(v[1],N.coordinate)]},[1/0,-1/0]),p=fr(a,i,x[0],o),b=fr(a,i,x[1],o),_=cc(cc(cc({},ot(u,!1)),{},{fill:"none"},ot(h,!1)),{},{x1:p.x,y1:p.y,x2:b.x,y2:b.y});return K.createElement("line",df({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,d=a.angle,h=a.tickFormatter,u=a.stroke,x=FO(a,tve),p=this.getTickTextAnchor(),b=ot(x,!1),_=ot(o,!1),v=i.map(function(N,j){var S=s.getTickValueCoord(N),C=cc(cc(cc(cc({textAnchor:p,transform:"rotate(".concat(90-d,", ").concat(S.x,", ").concat(S.y,")")},b),{},{stroke:"none",fill:u},_),{},{index:j},S),{},{payload:N});return K.createElement(Dt,df({className:bt("recharts-polar-radius-axis-tick",UM(o)),key:"tick-".concat(N.coordinate)},id(s.props,N,j)),t.renderTickItem(o,C,h?h(N.value,j):N.value))});return K.createElement(Dt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:K.createElement(Dt,{className:bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),gn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return K.isValidElement(s)?o=K.cloneElement(s,a):pt(s)?o=s(a):o=K.createElement(od,df({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(T.PureComponent);V1(q1,"displayName","PolarRadiusAxis");V1(q1,"axisType","radiusAxis");V1(q1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gc.apply(this,arguments)}function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(s){H1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function dve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t9(s.key),s)}}function uve(e,t,n){return t&&zO(e.prototype,t),n&&zO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hve(e,t,n){return t=Vg(t),fve(e,e9()?Reflect.construct(t,n||[],Vg(e).constructor):t.apply(e,n))}function fve(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(e)}function mve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(e)}function xve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Lw(e,t)}function H1(e,t,n){return t=t9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=pve(e,"string");return hh(t)=="symbol"?t:t+""}function pve(e,t){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(hh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gve=Math.PI/180,VO=1e-5,W1=function(e){function t(){return dve(this,t),hve(this,t,arguments)}return xve(t,e),uve(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,d=a.radius,h=a.orientation,u=a.tickSize,x=u||8,p=fr(i,o,d,s.coordinate),b=fr(i,o,d+(h==="inner"?-1:1)*x,s.coordinate);return{x1:p.x,y1:p.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*gve),o;return i>VO?o=a==="outer"?"start":"end":i<-VO?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,d=s.axisLine,h=s.axisLineType,u=dc(dc({},ot(this.props,!1)),{},{fill:"none"},ot(d,!1));if(h==="circle")return K.createElement(Hm,gc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var x=this.props.ticks,p=x.map(function(b){return fr(a,i,o,b.coordinate)});return K.createElement(Pbe,gc({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,d=a.tickLine,h=a.tickFormatter,u=a.stroke,x=ot(this.props,!1),p=ot(o,!1),b=dc(dc({},x),{},{fill:"none"},ot(d,!1)),_=i.map(function(v,N){var j=s.getTickLineCoord(v),S=s.getTickTextAnchor(v),C=dc(dc(dc({textAnchor:S},x),{},{stroke:"none",fill:u},p),{},{index:N,payload:v,x:j.x2,y:j.y2});return K.createElement(Dt,gc({className:bt("recharts-polar-angle-axis-tick",UM(o)),key:"tick-".concat(v.coordinate)},id(s.props,v,N)),d&&K.createElement("line",gc({className:"recharts-polar-angle-axis-tick-line"},b,j)),o&&t.renderTickItem(o,C,h?h(v.value,N):v.value))});return K.createElement(Dt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:K.createElement(Dt,{className:bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return K.isValidElement(s)?o=K.cloneElement(s,a):pt(s)?o=s(a):o=K.createElement(od,gc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(T.PureComponent);H1(W1,"displayName","PolarAngleAxis");H1(W1,"axisType","angleAxis");H1(W1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yve=lD,bve=yve(Object.getPrototypeOf,Object),vve=bve,jve=Do,wve=vve,Nve=Mo,_ve="[object Object]",Sve=Function.prototype,Cve=Object.prototype,r9=Sve.toString,Ave=Cve.hasOwnProperty,Ove=r9.call(Object);function Eve(e){if(!Nve(e)||jve(e)!=_ve)return!1;var t=wve(e);if(t===null)return!0;var n=Ave.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&r9.call(n)==Ove}var kve=Eve;const Tve=Vt(kve);var Pve=Do,Ive=Mo,Dve="[object Boolean]";function Mve(e){return e===!0||e===!1||Ive(e)&&Pve(e)==Dve}var Rve=Mve;const Lve=Vt(Rve);function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qg.apply(this,arguments)}function $ve(e,t){return zve(e)||Uve(e,t)||Bve(e,t)||Fve()}function Fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(e,t){if(e){if(typeof e=="string")return qO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qO(e,t)}}function qO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Uve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function zve(e){if(Array.isArray(e))return e}function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function WO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(n),!0).forEach(function(s){Vve(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vve(e,t,n){return t=qve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qve(e){var t=Hve(e,"string");return im(t)=="symbol"?t:t+""}function Hve(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(im(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GO=function(t,n,s,a,i){var o=s-a,d;return d="M ".concat(t,",").concat(n),d+="L ".concat(t+s,",").concat(n),d+="L ".concat(t+s-o/2,",").concat(n+i),d+="L ".concat(t+s-o/2-a,",").concat(n+i),d+="L ".concat(t,",").concat(n," Z"),d},Wve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gve=function(t){var n=WO(WO({},Wve),t),s=T.useRef(),a=T.useState(-1),i=$ve(a,2),o=i[0],d=i[1];T.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var A=s.current.getTotalLength();A&&d(A)}catch{}},[]);var h=n.x,u=n.y,x=n.upperWidth,p=n.lowerWidth,b=n.height,_=n.className,v=n.animationEasing,N=n.animationDuration,j=n.animationBegin,S=n.isUpdateAnimationActive;if(h!==+h||u!==+u||x!==+x||p!==+p||b!==+b||x===0&&p===0||b===0)return null;var C=bt("recharts-trapezoid",_);return S?K.createElement(ni,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:b,x:h,y:u},to:{upperWidth:x,lowerWidth:p,height:b,x:h,y:u},duration:N,animationEasing:v,isActive:S},function(A){var E=A.upperWidth,k=A.lowerWidth,D=A.height,R=A.x,F=A.y;return K.createElement(ni,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:N,easing:v},K.createElement("path",qg({},ot(n,!0),{className:C,d:GO(R,F,E,k,D),ref:s})))}):K.createElement("g",null,K.createElement("path",qg({},ot(n,!0),{className:C,d:GO(h,u,x,p,b)})))},Qve=["option","shapeType","propTransformer","activeClassName","isActive"];function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function Yve(e,t){if(e==null)return{};var n=Xve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Xve(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(s){Kve(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kve(e,t,n){return t=Zve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zve(e){var t=Jve(e,"string");return om(t)=="symbol"?t:t+""}function Jve(e,t){if(om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(om(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e2e(e,t){return Hg(Hg({},t),e)}function t2e(e,t){return e==="symbols"}function YO(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return K.createElement(i_,n);case"trapezoid":return K.createElement(Gve,n);case"sector":return K.createElement(qM,n);case"symbols":if(t2e(t))return K.createElement(S3,n);break;default:return null}}function r2e(e){return T.isValidElement(e)?e.props:e}function n9(e){var t=e.option,n=e.shapeType,s=e.propTransformer,a=s===void 0?e2e:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,d=e.isActive,h=Yve(e,Qve),u;if(T.isValidElement(t))u=T.cloneElement(t,Hg(Hg({},h),r2e(t)));else if(pt(t))u=t(h);else if(Tve(t)&&!Lve(t)){var x=a(t,h);u=K.createElement(YO,{shapeType:n,elementProps:x})}else{var p=h;u=K.createElement(YO,{shapeType:n,elementProps:p})}return d?K.createElement(Dt,{className:o},u):u}function G1(e,t){return t!=null&&"trapezoids"in e.props}function Q1(e,t){return t!=null&&"sectors"in e.props}function lm(e,t){return t!=null&&"points"in e.props}function n2e(e,t){var n,s,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function s2e(e,t){var n=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return n&&s}function a2e(e,t){var n=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return n&&s&&a}function i2e(e,t){var n;return G1(e,t)?n=n2e:Q1(e,t)?n=s2e:lm(e,t)&&(n=a2e),n}function o2e(e,t){var n;return G1(e,t)?n="trapezoids":Q1(e,t)?n="sectors":lm(e,t)&&(n="points"),n}function l2e(e,t){if(G1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Q1(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return lm(e,t)?t.payload:{}}function c2e(e){var t=e.activeTooltipItem,n=e.graphicalItem,s=e.itemData,a=o2e(n,t),i=l2e(n,t),o=s.filter(function(h,u){var x=ld(i,h),p=n.props[a].filter(function(v){var N=i2e(n,t);return N(v,t)}),b=n.props[a].indexOf(p[p.length-1]),_=u===b;return x&&_}),d=s.indexOf(o[o.length-1]);return d}var fp;function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},fu.apply(this,arguments)}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(s){ga(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function d2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KO(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,a9(s.key),s)}}function u2e(e,t,n){return t&&KO(e.prototype,t),n&&KO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h2e(e,t,n){return t=Wg(t),f2e(e,s9()?Reflect.construct(t,n||[],Wg(e).constructor):t.apply(e,n))}function f2e(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m2e(e)}function m2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(e)}function x2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$w(e,t)}function ga(e,t,n){return t=a9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=p2e(e,"string");return fh(t)=="symbol"?t:t+""}function p2e(e,t){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(fh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vi=function(e){function t(n){var s;return d2e(this,t),s=h2e(this,t,[n]),ga(s,"pieRef",null),ga(s,"sectorRefs",[]),ga(s,"id",bd("recharts-pie-")),ga(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),pt(a)&&a()}),ga(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),pt(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return x2e(t,e),u2e(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,d=i.labelLine,h=i.dataKey,u=i.valueKey,x=ot(this.props,!1),p=ot(o,!1),b=ot(d,!1),_=o&&o.offsetRadius||20,v=s.map(function(N,j){var S=(N.startAngle+N.endAngle)/2,C=fr(N.cx,N.cy,N.outerRadius+_,S),A=dr(dr(dr(dr({},x),N),{},{stroke:"none"},p),{},{index:j,textAnchor:t.getTextAnchor(C.x,N.cx)},C),E=dr(dr(dr(dr({},x),N),{},{fill:"none",stroke:N.fill},b),{},{index:j,points:[fr(N.cx,N.cy,N.outerRadius,S),C]}),k=h;return jt(h)&&jt(u)?k="value":jt(h)&&(k=u),K.createElement(Dt,{key:"label-".concat(N.startAngle,"-").concat(N.endAngle,"-").concat(N.midAngle,"-").concat(j)},d&&t.renderLabelLineItem(d,E,"line"),t.renderLabelItem(o,A,qr(N,k)))});return K.createElement(Dt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,d=i.blendStroke,h=i.inactiveShape;return s.map(function(u,x){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var p=a.isActiveIndex(x),b=h&&a.hasActiveIndex()?h:null,_=p?o:b,v=dr(dr({},u),{},{stroke:d?u.fill:u.stroke,tabIndex:-1});return K.createElement(Dt,fu({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},id(a.props,u,x),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(x)}),K.createElement(n9,fu({option:_,isActive:p,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,u=a.animationEasing,x=a.animationId,p=this.state,b=p.prevSectors,_=p.prevIsAnimationActive;return K.createElement(ni,{begin:d,duration:h,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(x,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var N=v.t,j=[],S=i&&i[0],C=S.startAngle;return i.forEach(function(A,E){var k=b&&b[E],D=E>0?Js(A,"paddingAngle",0):0;if(k){var R=sn(k.endAngle-k.startAngle,A.endAngle-A.startAngle),F=dr(dr({},A),{},{startAngle:C+D,endAngle:C+R(N)+D});j.push(F),C=F.endAngle}else{var M=A.endAngle,z=A.startAngle,I=sn(0,M-z),L=I(N),$=dr(dr({},A),{},{startAngle:C+D,endAngle:C+L+D});j.push($),C=$.endAngle}}),K.createElement(Dt,null,s.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var d=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[d].focus(),a.setState({sectorToFocus:d});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ld(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,d=a.className,h=a.label,u=a.cx,x=a.cy,p=a.innerRadius,b=a.outerRadius,_=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Ve(u)||!Ve(x)||!Ve(p)||!Ve(b))return null;var N=bt("recharts-pie",d);return K.createElement(Dt,{tabIndex:this.props.rootTabIndex,className:N,ref:function(S){s.pieRef=S}},this.renderSectors(),h&&this.renderLabels(o),gn.renderCallByParent(this.props,null,!1),(!_||v)&&Ti.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(K.isValidElement(s))return K.cloneElement(s,a);if(pt(s))return s(a);var o=bt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return K.createElement(Gc,fu({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(K.isValidElement(s))return K.cloneElement(s,a);var o=i;if(pt(s)&&(o=s(a),K.isValidElement(o)))return o;var d=bt("recharts-pie-label-text",typeof s!="boolean"&&!pt(s)?s.className:"");return K.createElement(od,fu({},a,{alignmentBaseline:"middle",className:d}),o)}}])}(T.PureComponent);fp=Vi;ga(Vi,"displayName","Pie");ga(Vi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Jl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ga(Vi,"parseDeltaAngle",function(e,t){var n=es(t-e),s=Math.min(Math.abs(t-e),360);return n*s});ga(Vi,"getRealPieData",function(e){var t=e.data,n=e.children,s=ot(e,!1),a=ea(n,Fm);return t&&t.length?t.map(function(i,o){return dr(dr(dr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return dr(dr({},s),i.props)}):[]});ga(Vi,"parseCoordinateOfPie",function(e,t){var n=t.top,s=t.left,a=t.width,i=t.height,o=BM(a,i),d=s+ts(e.cx,a,a/2),h=n+ts(e.cy,i,i/2),u=ts(e.innerRadius,o,0),x=ts(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:d,cy:h,innerRadius:u,outerRadius:x,maxRadius:p}});ga(Vi,"getComposedData",function(e){var t=e.item,n=e.offset,s=t.type.defaultProps!==void 0?dr(dr({},t.type.defaultProps),t.props):t.props,a=fp.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,d=s.endAngle,h=s.paddingAngle,u=s.dataKey,x=s.nameKey,p=s.valueKey,b=s.tooltipType,_=Math.abs(s.minAngle),v=fp.parseCoordinateOfPie(s,n),N=fp.parseDeltaAngle(o,d),j=Math.abs(N),S=u;jt(u)&&jt(p)?(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):jt(u)&&(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var C=a.filter(function(F){return qr(F,S,0)!==0}).length,A=(j>=360?C:C-1)*h,E=j-C*_-A,k=a.reduce(function(F,M){var z=qr(M,S,0);return F+(Ve(z)?z:0)},0),D;if(k>0){var R;D=a.map(function(F,M){var z=qr(F,S,0),I=qr(F,x,M),L=(Ve(z)?z:0)/k,$;M?$=R.endAngle+es(N)*h*(z!==0?1:0):$=o;var W=$+es(N)*((z!==0?_:0)+L*E),U=($+W)/2,Y=(v.innerRadius+v.outerRadius)/2,X=[{name:I,value:z,payload:F,dataKey:S,type:b}],V=fr(v.cx,v.cy,Y,U);return R=dr(dr(dr({percent:L,cornerRadius:i,name:I,tooltipPayload:X,midAngle:U,middleRadius:Y,tooltipPosition:V},F),v),{},{value:qr(F,S),startAngle:$,endAngle:W,payload:F,paddingAngle:es(N)*h}),R})}return dr(dr({},v),{},{sectors:D,data:a})});var g2e=Math.ceil,y2e=Math.max;function b2e(e,t,n,s){for(var a=-1,i=y2e(g2e((t-e)/(n||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=n;return o}var v2e=b2e,j2e=AD,ZO=1/0,w2e=17976931348623157e292;function N2e(e){if(!e)return e===0?e:0;if(e=j2e(e),e===ZO||e===-ZO){var t=e<0?-1:1;return t*w2e}return e===e?e:0}var i9=N2e,_2e=v2e,S2e=P1,Dv=i9;function C2e(e){return function(t,n,s){return s&&typeof s!="number"&&S2e(t,n,s)&&(n=s=void 0),t=Dv(t),n===void 0?(n=t,t=0):n=Dv(n),s=s===void 0?t<n?1:-1:Dv(s),_2e(t,n,s,e)}}var A2e=C2e,O2e=A2e,E2e=O2e(),k2e=E2e;const Gg=Vt(k2e);function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(s){o9(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function o9(e,t,n){return t=T2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T2e(e){var t=P2e(e,"string");return cm(t)=="symbol"?t:t+""}function P2e(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(cm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I2e=["Webkit","Moz","O","ms"],D2e=function(t,n){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=I2e.reduce(function(i,o){return eE(eE({},i),{},o9({},o+s,n))},{});return a[t]=n,a};function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Qg.apply(this,arguments)}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(s){Bs(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,c9(s.key),s)}}function R2e(e,t,n){return t&&rE(e.prototype,t),n&&rE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L2e(e,t,n){return t=Yg(t),$2e(e,l9()?Reflect.construct(t,n||[],Yg(e).constructor):t.apply(e,n))}function $2e(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F2e(e)}function F2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!e})()}function Yg(e){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(e)}function B2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Fw(e,t)}function Bs(e,t,n){return t=c9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c9(e){var t=U2e(e,"string");return mh(t)=="symbol"?t:t+""}function U2e(e,t){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(mh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z2e=function(t){var n=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,d=t.travellerWidth;if(!n||!n.length)return{};var h=n.length,u=af().domain(Gg(0,h)).range([i,i+o-d]),x=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(a),scale:u,scaleValues:x}},nE=function(t){return t.changedTouches&&!!t.changedTouches.length},xh=function(e){function t(n){var s;return M2e(this,t),s=L2e(this,t,[n]),Bs(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Bs(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Bs(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,d=a.startIndex;o==null||o({endIndex:i,startIndex:d})}),s.detachDragEndListener()}),Bs(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Bs(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Bs(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Bs(s,"handleSlideDragStart",function(a){var i=nE(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return B2e(t,e),R2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,d=this.props,h=d.gap,u=d.data,x=u.length-1,p=Math.min(a,i),b=Math.max(a,i),_=t.getIndexInRange(o,p),v=t.getIndexInRange(o,b);return{startIndex:_-_%h,endIndex:v===x?x:v-v%h}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,d=a.dataKey,h=qr(i[s],d,s);return pt(o)?o(h,s):h}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,d=a.endX,h=this.props,u=h.x,x=h.width,p=h.travellerWidth,b=h.startIndex,_=h.endIndex,v=h.onChange,N=s.pageX-i;N>0?N=Math.min(N,u+x-p-d,u+x-p-o):N<0&&(N=Math.max(N,u-o,u-d));var j=this.getIndex({startX:o+N,endX:d+N});(j.startIndex!==b||j.endIndex!==_)&&v&&v(j),this.setState({startX:o+N,endX:d+N,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=nE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,d=a.endX,h=a.startX,u=this.state[o],x=this.props,p=x.x,b=x.width,_=x.travellerWidth,v=x.onChange,N=x.gap,j=x.data,S={startX:this.state.startX,endX:this.state.endX},C=s.pageX-i;C>0?C=Math.min(C,p+b-_-u):C<0&&(C=Math.max(C,p-u)),S[o]=u+C;var A=this.getIndex(S),E=A.startIndex,k=A.endIndex,D=function(){var F=j.length-1;return o==="startX"&&(d>h?E%N===0:k%N===0)||d<h&&k===F||o==="endX"&&(d>h?k%N===0:E%N===0)||d>h&&k===F};this.setState(Bs(Bs({},o,u+C),"brushMoveStartX",s.pageX),function(){v&&D()&&v(A)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,d=o.scaleValues,h=o.startX,u=o.endX,x=this.state[a],p=d.indexOf(x);if(p!==-1){var b=p+s;if(!(b===-1||b>=d.length)){var _=d[b];a==="startX"&&_>=u||a==="endX"&&_<=h||this.setState(Bs({},a,_),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,d=s.height,h=s.fill,u=s.stroke;return K.createElement("rect",{stroke:u,fill:h,x:a,y:i,width:o,height:d})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,d=s.height,h=s.data,u=s.children,x=s.padding,p=T.Children.only(u);return p?K.cloneElement(p,{x:a,y:i,width:o,height:d,margin:x,compact:!0,data:h}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,d=this,h=this.props,u=h.y,x=h.travellerWidth,p=h.height,b=h.traveller,_=h.ariaLabel,v=h.data,N=h.startIndex,j=h.endIndex,S=Math.max(s,this.props.x),C=Mv(Mv({},ot(this.props,!1)),{},{x:S,y:u,width:x,height:p}),A=_||"Min value: ".concat((i=v[N])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[j])===null||o===void 0?void 0:o.name);return K.createElement(Dt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),d.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,a))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(b,C))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,d=i.height,h=i.stroke,u=i.travellerWidth,x=Math.min(s,a)+u,p=Math.max(Math.abs(a-s)-u,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:h,fillOpacity:.2,x,y:o,width:p,height:d})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,d=s.height,h=s.travellerWidth,u=s.stroke,x=this.state,p=x.startX,b=x.endX,_=5,v={pointerEvents:"none",fill:u};return K.createElement(Dt,{className:"recharts-brush-texts"},K.createElement(od,Qg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,b)-_,y:o+d/2},v),this.getTextOfTick(a)),K.createElement(od,Qg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,b)+h+_,y:o+d/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,d=s.x,h=s.y,u=s.width,x=s.height,p=s.alwaysShowText,b=this.state,_=b.startX,v=b.endX,N=b.isTextActive,j=b.isSlideMoving,S=b.isTravellerMoving,C=b.isTravellerFocused;if(!a||!a.length||!Ve(d)||!Ve(h)||!Ve(u)||!Ve(x)||u<=0||x<=0)return null;var A=bt("recharts-brush",i),E=K.Children.count(o)===1,k=D2e("userSelect","none");return K.createElement(Dt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(_,v),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(v,"endX"),(N||j||S||C||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,d=s.height,h=s.stroke,u=Math.floor(i+d/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:o,height:d,fill:h,stroke:"none"}),K.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return K.isValidElement(s)?i=K.cloneElement(s,a):pt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,d=s.x,h=s.travellerWidth,u=s.updateId,x=s.startIndex,p=s.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Mv({prevData:i,prevTravellerWidth:h,prevUpdateId:u,prevX:d,prevWidth:o},i&&i.length?z2e({data:i,width:o,x:d,travellerWidth:h,startIndex:x,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||d!==a.prevX||h!==a.prevTravellerWidth)){a.scale.range([d,d+o-h]);var b=a.scale.domain().map(function(_){return a.scale(_)});return{prevData:i,prevTravellerWidth:h,prevUpdateId:u,prevX:d,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,d=i-1;d-o>1;){var h=Math.floor((o+d)/2);s[h]>a?d=h:o=h}return a>=s[d]?d:o}}])}(T.PureComponent);Bs(xh,"displayName","Brush");Bs(xh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var V2e=P3;function q2e(e,t){var n;return V2e(e,function(s,a,i){return n=t(s,a,i),!n}),!!n}var H2e=q2e,W2e=eD,G2e=zi,Q2e=H2e,Y2e=Is,X2e=P1;function K2e(e,t,n){var s=Y2e(e)?W2e:Q2e;return n&&X2e(e,t,n)&&(t=void 0),s(e,G2e(t))}var Z2e=K2e;const J2e=Vt(Z2e);var Pi=function(t,n){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===n},sE=wD;function eje(e,t,n){t=="__proto__"&&sE?sE(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var tje=eje,rje=tje,nje=vD,sje=zi;function aje(e,t){var n={};return t=sje(t),nje(e,function(s,a,i){rje(n,a,t(s,a,i))}),n}var ije=aje;const oje=Vt(ije);function lje(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!t(e[n],n,e))return!1;return!0}var cje=lje,dje=P3;function uje(e,t){var n=!0;return dje(e,function(s,a,i){return n=!!t(s,a,i),n}),n}var hje=uje,fje=cje,mje=hje,xje=zi,pje=Is,gje=P1;function yje(e,t,n){var s=pje(e)?fje:mje;return n&&gje(e,t,n)&&(t=void 0),s(e,xje(t))}var bje=yje;const d9=Vt(bje);var vje=["x","y"];function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bw.apply(this,arguments)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(s){jje(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jje(e,t,n){return t=wje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wje(e){var t=Nje(e,"string");return dm(t)=="symbol"?t:t+""}function Nje(e,t){if(dm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(dm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _je(e,t){if(e==null)return{};var n=Sje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Cje(e,t){var n=e.x,s=e.y,a=_je(e,vje),i="".concat(n),o=parseInt(i,10),d="".concat(s),h=parseInt(d,10),u="".concat(t.height||a.height),x=parseInt(u,10),p="".concat(t.width||a.width),b=parseInt(p,10);return T0(T0(T0(T0(T0({},t),a),o?{x:o}:{}),h?{y:h}:{}),{},{height:x,width:b,name:t.name,radius:t.radius})}function iE(e){return K.createElement(n9,Bw({shapeType:"rectangle",propTransformer:Cje,activeClassName:"recharts-active-bar"},e))}var Aje=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=Ve(s)||nne(s);return i?t(s,a):(i||dd(),n)}},Oje=["value","background"],u9;function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function Eje(e,t){if(e==null)return{};var n=kje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kje(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xg.apply(this,arguments)}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(s){jl(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Tje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,f9(s.key),s)}}function Pje(e,t,n){return t&&lE(e.prototype,t),n&&lE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ije(e,t,n){return t=Kg(t),Dje(e,h9()?Reflect.construct(t,n||[],Kg(e).constructor):t.apply(e,n))}function Dje(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mje(e)}function Mje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h9=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(e)}function Rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Uw(e,t)}function jl(e,t,n){return t=f9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f9(e){var t=Lje(e,"string");return ph(t)=="symbol"?t:t+""}function Lje(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ph(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gs=function(e){function t(){var n;Tje(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Ije(this,t,[].concat(a)),jl(n,"state",{isAnimationFinished:!1}),jl(n,"id",bd("recharts-bar-")),jl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),jl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Rje(t,e),Pje(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,d=i.dataKey,h=i.activeIndex,u=i.activeBar,x=ot(this.props,!1);return s&&s.map(function(p,b){var _=b===h,v=_?u:o,N=Gr(Gr(Gr({},x),p),{},{isActive:_,option:v,index:b,dataKey:d,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(Dt,Xg({className:"recharts-bar-rectangle"},id(a.props,p,b),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(b)}),K.createElement(iE,N))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,d=a.isAnimationActive,h=a.animationBegin,u=a.animationDuration,x=a.animationEasing,p=a.animationId,b=this.state.prevData;return K.createElement(ni,{begin:h,duration:u,isActive:d,easing:x,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var v=_.t,N=i.map(function(j,S){var C=b&&b[S];if(C){var A=sn(C.x,j.x),E=sn(C.y,j.y),k=sn(C.width,j.width),D=sn(C.height,j.height);return Gr(Gr({},j),{},{x:A(v),y:E(v),width:k(v),height:D(v)})}if(o==="horizontal"){var R=sn(0,j.height),F=R(v);return Gr(Gr({},j),{},{y:j.y+j.height-F,height:F})}var M=sn(0,j.width),z=M(v);return Gr(Gr({},j),{},{width:z})});return K.createElement(Dt,null,s.renderRectanglesStatically(N))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ld(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,d=a.activeIndex,h=ot(this.props.background,!1);return i.map(function(u,x){u.value;var p=u.background,b=Eje(u,Oje);if(!p)return null;var _=Gr(Gr(Gr(Gr(Gr({},b),{},{fill:"#eee"},p),h),id(s.props,u,x)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:x,className:"recharts-bar-background-rectangle"});return K.createElement(iE,Xg({key:"background-bar-".concat(x),option:s.props.background,isActive:x===d},_))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,d=i.xAxis,h=i.yAxis,u=i.layout,x=i.children,p=ea(x,qm);if(!p)return null;var b=u==="vertical"?o[0].height/2:o[0].width/2,_=function(j,S){var C=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:C,errorVal:qr(j,S)}},v={clipPath:s?"url(#clipPath-".concat(a,")"):null};return K.createElement(Dt,v,p.map(function(N){return K.cloneElement(N,{key:"error-bar-".concat(a,"-").concat(N.props.dataKey),data:o,xAxis:d,yAxis:h,layout:u,offset:b,dataPointFormatter:_})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,d=s.xAxis,h=s.yAxis,u=s.left,x=s.top,p=s.width,b=s.height,_=s.isAnimationActive,v=s.background,N=s.id;if(a||!i||!i.length)return null;var j=this.state.isAnimationFinished,S=bt("recharts-bar",o),C=d&&d.allowDataOverflow,A=h&&h.allowDataOverflow,E=C||A,k=jt(N)?this.id:N;return K.createElement(Dt,{className:S},C||A?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(k)},K.createElement("rect",{x:C?u:u-p/2,y:A?x:x-b/2,width:C?p:p*2,height:A?b:b*2}))):null,K.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(k,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,k),(!_||j)&&Ti.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(T.PureComponent);u9=Gs;jl(Gs,"displayName","Bar");jl(Gs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jl(Gs,"getComposedData",function(e){var t=e.props,n=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,d=e.xAxisTicks,h=e.yAxisTicks,u=e.stackedData,x=e.dataStartIndex,p=e.displayedData,b=e.offset,_=jge(s,n);if(!_)return null;var v=t.layout,N=n.type.defaultProps,j=N!==void 0?Gr(Gr({},N),n.props):n.props,S=j.dataKey,C=j.children,A=j.minPointSize,E=v==="horizontal"?o:i,k=u?E.scale.domain():null,D=Oge({numericAxis:E}),R=ea(C,Fm),F=p.map(function(M,z){var I,L,$,W,U,Y;u?I=wge(u[x+z],k):(I=qr(M,S),Array.isArray(I)||(I=[D,I]));var X=Aje(A,u9.defaultProps.minPointSize)(I[1],z);if(v==="horizontal"){var V,G=[o.scale(I[0]),o.scale(I[1])],ne=G[0],ae=G[1];L=KA({axis:i,ticks:d,bandSize:a,offset:_.offset,entry:M,index:z}),$=(V=ae??ne)!==null&&V!==void 0?V:void 0,W=_.size;var le=ne-ae;if(U=Number.isNaN(le)?0:le,Y={x:L,y:o.y,width:W,height:o.height},Math.abs(X)>0&&Math.abs(U)<Math.abs(X)){var ie=es(U||X)*(Math.abs(X)-Math.abs(U));$-=ie,U+=ie}}else{var fe=[i.scale(I[0]),i.scale(I[1])],xe=fe[0],ge=fe[1];if(L=xe,$=KA({axis:o,ticks:h,bandSize:a,offset:_.offset,entry:M,index:z}),W=ge-xe,U=_.size,Y={x:i.x,y:$,width:i.width,height:U},Math.abs(X)>0&&Math.abs(W)<Math.abs(X)){var ke=es(W||X)*(Math.abs(X)-Math.abs(W));W+=ke}}return Gr(Gr(Gr({},M),{},{x:L,y:$,width:W,height:U,value:u?I:I[1],payload:M,background:Y},R&&R[z]&&R[z].props),{},{tooltipPayload:[$M(n,M)],tooltipPosition:{x:L+W/2,y:$+U/2}})});return Gr({data:F,layout:v},b)});function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function $je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,m9(s.key),s)}}function Fje(e,t,n){return t&&cE(e.prototype,t),n&&cE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(s){Y1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Y1(e,t,n){return t=m9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=Bje(e,"string");return um(t)=="symbol"?t:t+""}function Bje(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(um(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o_=function(t,n,s,a,i){var o=t.width,d=t.height,h=t.layout,u=t.children,x=Object.keys(n),p={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:d-s.bottom,bottomMirror:d-s.bottom},b=!!zs(u,Gs);return x.reduce(function(_,v){var N=n[v],j=N.orientation,S=N.domain,C=N.padding,A=C===void 0?{}:C,E=N.mirror,k=N.reversed,D="".concat(j).concat(E?"Mirror":""),R,F,M,z,I;if(N.type==="number"&&(N.padding==="gap"||N.padding==="no-gap")){var L=S[1]-S[0],$=1/0,W=N.categoricalDomain.sort(ine);if(W.forEach(function(fe,xe){xe>0&&($=Math.min((fe||0)-(W[xe-1]||0),$))}),Number.isFinite($)){var U=$/L,Y=N.layout==="vertical"?s.height:s.width;if(N.padding==="gap"&&(R=U*Y/2),N.padding==="no-gap"){var X=ts(t.barCategoryGap,U*Y),V=U*Y/2;R=V-X-(V-X)/Y*X}}}a==="xAxis"?F=[s.left+(A.left||0)+(R||0),s.left+s.width-(A.right||0)-(R||0)]:a==="yAxis"?F=h==="horizontal"?[s.top+s.height-(A.bottom||0),s.top+(A.top||0)]:[s.top+(A.top||0)+(R||0),s.top+s.height-(A.bottom||0)-(R||0)]:F=N.range,k&&(F=[F[1],F[0]]);var G=DM(N,i,b),ne=G.scale,ae=G.realScaleType;ne.domain(S).range(F),MM(ne);var le=RM(ne,za(za({},N),{},{realScaleType:ae}));a==="xAxis"?(I=j==="top"&&!E||j==="bottom"&&E,M=s.left,z=p[D]-I*N.height):a==="yAxis"&&(I=j==="left"&&!E||j==="right"&&E,M=p[D]-I*N.width,z=s.top);var ie=za(za(za({},N),le),{},{realScaleType:ae,x:M,y:z,scale:ne,width:a==="xAxis"?s.width:N.width,height:a==="yAxis"?s.height:N.height});return ie.bandSize=Mg(ie,le),!N.hide&&a==="xAxis"?p[D]+=(I?-1:1)*ie.height:N.hide||(p[D]+=(I?-1:1)*ie.width),za(za({},_),{},Y1({},v,ie))},{})},x9=function(t,n){var s=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},Uje=function(t){var n=t.x1,s=t.y1,a=t.x2,i=t.y2;return x9({x:n,y:s},{x:a,y:i})},p9=function(){function e(t){$je(this,e),this.scale=t}return Fje(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(n)+d}default:return this.scale(n)}if(a){var h=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+h}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Y1(p9,"EPS",1e-4);var l_=function(t){var n=Object.keys(t).reduce(function(s,a){return za(za({},s),{},Y1({},a,p9.create(t[a])))},{});return za(za({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,d=i.position;return oje(a,function(h,u){return n[u].apply(h,{bandAware:o,position:d})})},isInRange:function(a){return d9(a,function(i,o){return n[o].isInRange(i)})}})};function zje(e){return(e%180+180)%180}var Vje=function(t){var n=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=zje(a),o=i*Math.PI/180,d=Math.atan(s/n),h=o>d&&o<Math.PI-d?s/Math.sin(o):n/Math.cos(o);return Math.abs(h)},qje=zi,Hje=$m,Wje=k1;function Gje(e){return function(t,n,s){var a=Object(t);if(!Hje(t)){var i=qje(n);t=Wje(t),n=function(d){return i(a[d],d,a)}}var o=e(t,n,s);return o>-1?a[i?t[o]:o]:void 0}}var Qje=Gje,Yje=i9;function Xje(e){var t=Yje(e),n=t%1;return t===t?n?t-n:t:0}var Kje=Xje,Zje=mD,Jje=zi,ewe=Kje,twe=Math.max;function rwe(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:ewe(n);return a<0&&(a=twe(s+a,0)),Zje(e,Jje(t),a)}var nwe=rwe,swe=Qje,awe=nwe,iwe=swe(awe),owe=iwe;const lwe=Vt(owe);var cwe=cre(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),c_=T.createContext(void 0),d_=T.createContext(void 0),g9=T.createContext(void 0),y9=T.createContext({}),b9=T.createContext(void 0),v9=T.createContext(0),j9=T.createContext(0),uE=function(t){var n=t.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,d=t.children,h=t.width,u=t.height,x=cwe(i);return K.createElement(c_.Provider,{value:s},K.createElement(d_.Provider,{value:a},K.createElement(y9.Provider,{value:i},K.createElement(g9.Provider,{value:x},K.createElement(b9.Provider,{value:o},K.createElement(v9.Provider,{value:u},K.createElement(j9.Provider,{value:h},d)))))))},dwe=function(){return T.useContext(b9)},w9=function(t){var n=T.useContext(c_);n==null&&dd();var s=n[t];return s==null&&dd(),s},uwe=function(){var t=T.useContext(c_);return il(t)},hwe=function(){var t=T.useContext(d_),n=lwe(t,function(s){return d9(s.domain,Number.isFinite)});return n||il(t)},N9=function(t){var n=T.useContext(d_);n==null&&dd();var s=n[t];return s==null&&dd(),s},fwe=function(){var t=T.useContext(g9);return t},mwe=function(){return T.useContext(y9)},u_=function(){return T.useContext(j9)},h_=function(){return T.useContext(v9)};function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pwe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,S9(s.key),s)}}function gwe(e,t,n){return t&&pwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ywe(e,t,n){return t=Zg(t),bwe(e,_9()?Reflect.construct(t,n||[],Zg(e).constructor):t.apply(e,n))}function bwe(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vwe(e)}function vwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_9=function(){return!!e})()}function Zg(e){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(e)}function jwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zw(e,t)}function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function fE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(n),!0).forEach(function(s){f_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function f_(e,t,n){return t=S9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S9(e){var t=wwe(e,"string");return gh(t)=="symbol"?t:t+""}function wwe(e,t){if(gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nwe(e,t){return Awe(e)||Cwe(e,t)||Swe(e,t)||_we()}function _we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Swe(e,t){if(e){if(typeof e=="string")return mE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Cwe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function Awe(e){if(Array.isArray(e))return e}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vw.apply(this,arguments)}var Owe=function(t,n){var s;return K.isValidElement(t)?s=K.cloneElement(t,n):pt(t)?s=t(n):s=K.createElement("line",Vw({},n,{className:"recharts-reference-line-line"})),s},Ewe=function(t,n,s,a,i,o,d,h,u){var x=i.x,p=i.y,b=i.width,_=i.height;if(s){var v=u.y,N=t.y.apply(v,{position:o});if(Pi(u,"discard")&&!t.y.isInRange(N))return null;var j=[{x:x+b,y:N},{x,y:N}];return h==="left"?j.reverse():j}if(n){var S=u.x,C=t.x.apply(S,{position:o});if(Pi(u,"discard")&&!t.x.isInRange(C))return null;var A=[{x:C,y:p+_},{x:C,y:p}];return d==="top"?A.reverse():A}if(a){var E=u.segment,k=E.map(function(D){return t.apply(D,{position:o})});return Pi(u,"discard")&&J2e(k,function(D){return!t.isInRange(D)})?null:k}return null};function kwe(e){var t=e.x,n=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,d=e.className,h=e.alwaysShow,u=dwe(),x=w9(a),p=N9(i),b=fwe();if(!u||!b)return null;Ja(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=l_({x:x.scale,y:p.scale}),v=on(t),N=on(n),j=s&&s.length===2,S=Ewe(_,v,N,j,b,e.position,x.orientation,p.orientation,e);if(!S)return null;var C=Nwe(S,2),A=C[0],E=A.x,k=A.y,D=C[1],R=D.x,F=D.y,M=Pi(e,"hidden")?"url(#".concat(u,")"):void 0,z=fE(fE({clipPath:M},ot(e,!0)),{},{x1:E,y1:k,x2:R,y2:F});return K.createElement(Dt,{className:bt("recharts-reference-line",d)},Owe(o,z),gn.renderCallByParent(e,Uje({x1:E,y1:k,x2:R,y2:F})))}var m_=function(e){function t(){return xwe(this,t),ywe(this,t,arguments)}return jwe(t,e),gwe(t,[{key:"render",value:function(){return K.createElement(kwe,this.props)}}])}(K.Component);f_(m_,"displayName","ReferenceLine");f_(m_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qw.apply(this,arguments)}function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(s){X1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Twe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pwe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,A9(s.key),s)}}function Iwe(e,t,n){return t&&Pwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dwe(e,t,n){return t=Jg(t),Mwe(e,C9()?Reflect.construct(t,n||[],Jg(e).constructor):t.apply(e,n))}function Mwe(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rwe(e)}function Rwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!e})()}function Jg(e){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(e)}function Lwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Hw(e,t)}function X1(e,t,n){return t=A9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A9(e){var t=$we(e,"string");return yh(t)=="symbol"?t:t+""}function $we(e,t){if(yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(yh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fwe=function(t){var n=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=l_({x:a.scale,y:i.scale}),d=o.apply({x:n,y:s},{bandAware:!0});return Pi(t,"discard")&&!o.isInRange(d)?null:d},K1=function(e){function t(){return Twe(this,t),Dwe(this,t,arguments)}return Lwe(t,e),Iwe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,d=s.alwaysShow,h=s.clipPathId,u=on(a),x=on(i);if(Ja(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!x)return null;var p=Fwe(this.props);if(!p)return null;var b=p.x,_=p.y,v=this.props,N=v.shape,j=v.className,S=Pi(this.props,"hidden")?"url(#".concat(h,")"):void 0,C=pE(pE({clipPath:S},ot(this.props,!0)),{},{cx:b,cy:_});return K.createElement(Dt,{className:bt("recharts-reference-dot",j)},t.renderDot(N,C),gn.renderCallByParent(this.props,{x:b-o,y:_-o,width:2*o,height:2*o}))}}])}(K.Component);X1(K1,"displayName","ReferenceDot");X1(K1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});X1(K1,"renderDot",function(e,t){var n;return K.isValidElement(e)?n=K.cloneElement(e,t):pt(e)?n=e(t):n=K.createElement(Hm,qw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ww.apply(this,arguments)}function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(s){Z1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uwe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,E9(s.key),s)}}function zwe(e,t,n){return t&&Uwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vwe(e,t,n){return t=ey(t),qwe(e,O9()?Reflect.construct(t,n||[],ey(e).constructor):t.apply(e,n))}function qwe(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(e)}function Hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(e)}function Wwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Gw(e,t)}function Z1(e,t,n){return t=E9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=Gwe(e,"string");return bh(t)=="symbol"?t:t+""}function Gwe(e,t){if(bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(bh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qwe=function(t,n,s,a,i){var o=i.x1,d=i.x2,h=i.y1,u=i.y2,x=i.xAxis,p=i.yAxis;if(!x||!p)return null;var b=l_({x:x.scale,y:p.scale}),_={x:t?b.x.apply(o,{position:"start"}):b.x.rangeMin,y:s?b.y.apply(h,{position:"start"}):b.y.rangeMin},v={x:n?b.x.apply(d,{position:"end"}):b.x.rangeMax,y:a?b.y.apply(u,{position:"end"}):b.y.rangeMax};return Pi(i,"discard")&&(!b.isInRange(_)||!b.isInRange(v))?null:x9(_,v)},J1=function(e){function t(){return Bwe(this,t),Vwe(this,t,arguments)}return Wwe(t,e),zwe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,d=s.y2,h=s.className,u=s.alwaysShow,x=s.clipPathId;Ja(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=on(a),b=on(i),_=on(o),v=on(d),N=this.props.shape;if(!p&&!b&&!_&&!v&&!N)return null;var j=Qwe(p,b,_,v,this.props);if(!j&&!N)return null;var S=Pi(this.props,"hidden")?"url(#".concat(x,")"):void 0;return K.createElement(Dt,{className:bt("recharts-reference-area",h)},t.renderRect(N,yE(yE({clipPath:S},ot(this.props,!0)),j)),gn.renderCallByParent(this.props,j))}}])}(K.Component);Z1(J1,"displayName","ReferenceArea");Z1(J1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Z1(J1,"renderRect",function(e,t){var n;return K.isValidElement(e)?n=K.cloneElement(e,t):pt(e)?n=e(t):n=K.createElement(i_,Ww({},t,{className:"recharts-reference-area-rect"})),n});function k9(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function Ywe(e,t,n){var s={width:e.width+t.width,height:e.height+t.height};return Vje(s,n)}function Xwe(e,t,n){var s=n==="width",a=e.x,i=e.y,o=e.width,d=e.height;return t===1?{start:s?a:i,end:s?a+o:i+d}:{start:s?a+o:i+d,end:s?a:i}}function ty(e,t,n,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function Kwe(e,t){return k9(e,t+1)}function Zwe(e,t,n,s,a){for(var i=(s||[]).slice(),o=t.start,d=t.end,h=0,u=1,x=o,p=function(){var v=s==null?void 0:s[h];if(v===void 0)return{v:k9(s,u)};var N=h,j,S=function(){return j===void 0&&(j=n(v,N)),j},C=v.coordinate,A=h===0||ty(e,C,S,x,d);A||(h=0,x=o,u+=1),A&&(x=C+e*(S()/2+a),h+=u)},b;u<=i.length;)if(b=p(),b)return b.v;return[]}function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(s){Jwe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Jwe(e,t,n){return t=eNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eNe(e){var t=tNe(e,"string");return hm(t)=="symbol"?t:t+""}function tNe(e,t){if(hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(hm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rNe(e,t,n,s,a){for(var i=(s||[]).slice(),o=i.length,d=t.start,h=t.end,u=function(b){var _=i[b],v,N=function(){return v===void 0&&(v=n(_,b)),v};if(b===o-1){var j=e*(_.coordinate+e*N()/2-h);i[b]=_=Dn(Dn({},_),{},{tickCoord:j>0?_.coordinate-j*e:_.coordinate})}else i[b]=_=Dn(Dn({},_),{},{tickCoord:_.coordinate});var S=ty(e,_.tickCoord,N,d,h);S&&(h=_.tickCoord-e*(N()/2+a),i[b]=Dn(Dn({},_),{},{isShow:!0}))},x=o-1;x>=0;x--)u(x);return i}function nNe(e,t,n,s,a,i){var o=(s||[]).slice(),d=o.length,h=t.start,u=t.end;if(i){var x=s[d-1],p=n(x,d-1),b=e*(x.coordinate+e*p/2-u);o[d-1]=x=Dn(Dn({},x),{},{tickCoord:b>0?x.coordinate-b*e:x.coordinate});var _=ty(e,x.tickCoord,function(){return p},h,u);_&&(u=x.tickCoord-e*(p/2+a),o[d-1]=Dn(Dn({},x),{},{isShow:!0}))}for(var v=i?d-1:d,N=function(C){var A=o[C],E,k=function(){return E===void 0&&(E=n(A,C)),E};if(C===0){var D=e*(A.coordinate-e*k()/2-h);o[C]=A=Dn(Dn({},A),{},{tickCoord:D<0?A.coordinate-D*e:A.coordinate})}else o[C]=A=Dn(Dn({},A),{},{tickCoord:A.coordinate});var R=ty(e,A.tickCoord,k,h,u);R&&(h=A.tickCoord+e*(k()/2+a),o[C]=Dn(Dn({},A),{},{isShow:!0}))},j=0;j<v;j++)N(j);return o}function x_(e,t,n){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,d=e.orientation,h=e.interval,u=e.tickFormatter,x=e.unit,p=e.angle;if(!a||!a.length||!s)return[];if(Ve(h)||Jl.isSsr)return Kwe(a,typeof h=="number"&&Ve(h)?h:0);var b=[],_=d==="top"||d==="bottom"?"width":"height",v=x&&_==="width"?sf(x,{fontSize:t,letterSpacing:n}):{width:0,height:0},N=function(A,E){var k=pt(u)?u(A.value,E):A.value;return _==="width"?Ywe(sf(k,{fontSize:t,letterSpacing:n}),v,p):sf(k,{fontSize:t,letterSpacing:n})[_]},j=a.length>=2?es(a[1].coordinate-a[0].coordinate):1,S=Xwe(i,j,_);return h==="equidistantPreserveStart"?Zwe(j,S,N,a,o):(h==="preserveStart"||h==="preserveStartEnd"?b=nNe(j,S,N,a,o,h==="preserveStartEnd"):b=rNe(j,S,N,a,o),b.filter(function(C){return C.isShow}))}var sNe=["viewBox"],aNe=["viewBox"],iNe=["ticks"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mu.apply(this,arguments)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(s){p_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Rv(e,t){if(e==null)return{};var n=oNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function oNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function lNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,P9(s.key),s)}}function cNe(e,t,n){return t&&jE(e.prototype,t),n&&jE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dNe(e,t,n){return t=ry(t),uNe(e,T9()?Reflect.construct(t,n||[],ry(e).constructor):t.apply(e,n))}function uNe(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hNe(e)}function hNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(e)}function fNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Qw(e,t)}function p_(e,t,n){return t=P9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=mNe(e,"string");return vh(t)=="symbol"?t:t+""}function mNe(e,t){if(vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(vh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t0=function(e){function t(n){var s;return lNe(this,t),s=dNe(this,t,[n]),s.state={fontSize:"",letterSpacing:""},s}return fNe(t,e),cNe(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=Rv(s,sNe),d=this.props,h=d.viewBox,u=Rv(d,aNe);return!Ou(i,h)||!Ou(o,u)||!Ou(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,d=a.width,h=a.height,u=a.orientation,x=a.tickSize,p=a.mirror,b=a.tickMargin,_,v,N,j,S,C,A=p?-1:1,E=s.tickSize||x,k=Ve(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":_=v=s.coordinate,j=o+ +!p*h,N=j-A*E,C=N-A*b,S=k;break;case"left":N=j=s.coordinate,v=i+ +!p*d,_=v-A*E,S=_-A*b,C=k;break;case"right":N=j=s.coordinate,v=i+ +p*d,_=v+A*E,S=_+A*b,C=k;break;default:_=v=s.coordinate,j=o+ +p*h,N=j+A*E,C=N+A*b,S=k;break}return{line:{x1:_,y1:N,x2:v,y2:j},tick:{x:S,y:C}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,d=s.height,h=s.orientation,u=s.mirror,x=s.axisLine,p=en(en(en({},ot(this.props,!1)),ot(x,!1)),{},{fill:"none"});if(h==="top"||h==="bottom"){var b=+(h==="top"&&!u||h==="bottom"&&u);p=en(en({},p),{},{x1:a,y1:i+b*d,x2:a+o,y2:i+b*d})}else{var _=+(h==="left"&&!u||h==="right"&&u);p=en(en({},p),{},{x1:a+_*o,y1:i,x2:a+_*o,y2:i+d})}return K.createElement("line",mu({},p,{className:bt("recharts-cartesian-axis-line",Js(x,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,d=this.props,h=d.tickLine,u=d.stroke,x=d.tick,p=d.tickFormatter,b=d.unit,_=x_(en(en({},this.props),{},{ticks:s}),a,i),v=this.getTickTextAnchor(),N=this.getTickVerticalAnchor(),j=ot(this.props,!1),S=ot(x,!1),C=en(en({},j),{},{fill:"none"},ot(h,!1)),A=_.map(function(E,k){var D=o.getTickLineCoord(E),R=D.line,F=D.tick,M=en(en(en(en({textAnchor:v,verticalAnchor:N},j),{},{stroke:"none",fill:u},S),F),{},{index:k,payload:E,visibleTicksCount:_.length,tickFormatter:p});return K.createElement(Dt,mu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},id(o.props,E,k)),h&&K.createElement("line",mu({},C,R,{className:bt("recharts-cartesian-axis-tick-line",Js(h,"className"))})),x&&t.renderTickItem(x,M,"".concat(pt(p)?p(E.value,k):E.value).concat(b||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,d=a.height,h=a.ticksGenerator,u=a.className,x=a.hide;if(x)return null;var p=this.props,b=p.ticks,_=Rv(p,iNe),v=b;return pt(h)&&(v=b&&b.length>0?h(this.props):h(_)),o<=0||d<=0||!v||!v.length?null:K.createElement(Dt,{className:bt("recharts-cartesian-axis",u),ref:function(j){s.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,d=bt(a.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(s)?o=K.cloneElement(s,en(en({},a),{},{className:d})):pt(s)?o=s(en(en({},a),{},{className:d})):o=K.createElement(od,mu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(T.Component);p_(t0,"displayName","CartesianAxis");p_(t0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xNe=["x1","y1","x2","y2","key"],pNe=["offset"];function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(s){gNe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function gNe(e,t,n){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yNe(e){var t=bNe(e,"string");return ud(t)=="symbol"?t:t+""}function bNe(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(ud(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oc.apply(this,arguments)}function NE(e,t){if(e==null)return{};var n=vNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function vNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}var jNe=function(t){var n=t.fill;if(!n||n==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,d=t.height,h=t.ry;return K.createElement("rect",{x:a,y:i,ry:h,width:o,height:d,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function I9(e,t){var n;if(K.isValidElement(e))n=K.cloneElement(e,t);else if(pt(e))n=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,d=t.key,h=NE(t,xNe),u=ot(h,!1);u.offset;var x=NE(u,pNe);n=K.createElement("line",Oc({},x,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:d}))}return n}function wNe(e){var t=e.x,n=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(d,h){var u=Rn(Rn({},e),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return I9(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function NNe(e){var t=e.y,n=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(d,h){var u=Rn(Rn({},e),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return I9(a,u)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _Ne(e){var t=e.horizontalFill,n=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,d=e.horizontalPoints,h=e.horizontal,u=h===void 0?!0:h;if(!u||!t||!t.length)return null;var x=d.map(function(b){return Math.round(b+a-a)}).sort(function(b,_){return b-_});a!==x[0]&&x.unshift(0);var p=x.map(function(b,_){var v=!x[_+1],N=v?a+o-b:x[_+1]-b;if(N<=0)return null;var j=_%t.length;return K.createElement("rect",{key:"react-".concat(_),y:b,x:s,height:N,width:i,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function SNe(e){var t=e.vertical,n=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,d=e.width,h=e.height,u=e.verticalPoints;if(!n||!s||!s.length)return null;var x=u.map(function(b){return Math.round(b+i-i)}).sort(function(b,_){return b-_});i!==x[0]&&x.unshift(0);var p=x.map(function(b,_){var v=!x[_+1],N=v?i+d-b:x[_+1]-b;if(N<=0)return null;var j=_%s.length;return K.createElement("rect",{key:"react-".concat(_),x:b,y:o,width:N,height:h,stroke:"none",fill:s[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var CNe=function(t,n){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return IM(x_(Rn(Rn(Rn({},t0.defaultProps),s),{},{ticks:xo(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},ANe=function(t,n){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return IM(x_(Rn(Rn(Rn({},t0.defaultProps),s),{},{ticks:xo(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Vd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ol(e){var t,n,s,a,i,o,d=u_(),h=h_(),u=mwe(),x=Rn(Rn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Vd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Vd.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Vd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Vd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Vd.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Vd.verticalFill,x:Ve(e.x)?e.x:u.left,y:Ve(e.y)?e.y:u.top,width:Ve(e.width)?e.width:u.width,height:Ve(e.height)?e.height:u.height}),p=x.x,b=x.y,_=x.width,v=x.height,N=x.syncWithTicks,j=x.horizontalValues,S=x.verticalValues,C=uwe(),A=hwe();if(!Ve(_)||_<=0||!Ve(v)||v<=0||!Ve(p)||p!==+p||!Ve(b)||b!==+b)return null;var E=x.verticalCoordinatesGenerator||CNe,k=x.horizontalCoordinatesGenerator||ANe,D=x.horizontalPoints,R=x.verticalPoints;if((!D||!D.length)&&pt(k)){var F=j&&j.length,M=k({yAxis:A?Rn(Rn({},A),{},{ticks:F?j:A.ticks}):void 0,width:d,height:h,offset:u},F?!0:N);Ja(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ud(M),"]")),Array.isArray(M)&&(D=M)}if((!R||!R.length)&&pt(E)){var z=S&&S.length,I=E({xAxis:C?Rn(Rn({},C),{},{ticks:z?S:C.ticks}):void 0,width:d,height:h,offset:u},z?!0:N);Ja(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ud(I),"]")),Array.isArray(I)&&(R=I)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(jNe,{fill:x.fill,fillOpacity:x.fillOpacity,x:x.x,y:x.y,width:x.width,height:x.height,ry:x.ry}),K.createElement(wNe,Oc({},x,{offset:u,horizontalPoints:D,xAxis:C,yAxis:A})),K.createElement(NNe,Oc({},x,{offset:u,verticalPoints:R,xAxis:C,yAxis:A})),K.createElement(_Ne,Oc({},x,{horizontalPoints:D})),K.createElement(SNe,Oc({},x,{verticalPoints:R})))}ol.displayName="CartesianGrid";var ONe=["type","layout","connectNulls","ref"],ENe=["key"];function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function _E(e,t){if(e==null)return{};var n=kNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uf.apply(this,arguments)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(s){Va(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qd(e){return DNe(e)||INe(e)||PNe(e)||TNe()}function TNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(e,t){if(e){if(typeof e=="string")return Yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yw(e,t)}}function INe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DNe(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function MNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,M9(s.key),s)}}function RNe(e,t,n){return t&&CE(e.prototype,t),n&&CE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LNe(e,t,n){return t=ny(t),$Ne(e,D9()?Reflect.construct(t,n||[],ny(e).constructor):t.apply(e,n))}function $Ne(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FNe(e)}function FNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D9=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(e)}function BNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Xw(e,t)}function Va(e,t,n){return t=M9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M9(e){var t=UNe(e,"string");return jh(t)=="symbol"?t:t+""}function UNe(e,t){if(jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(jh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hd=function(e){function t(){var n;MNe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=LNe(this,t,[].concat(a)),Va(n,"state",{isAnimationFinished:!0,totalLength:0}),Va(n,"generateSimpleStrokeDasharray",function(o,d){return"".concat(d,"px ").concat(o-d,"px")}),Va(n,"getStrokeDasharray",function(o,d,h){var u=h.reduce(function(S,C){return S+C});if(!u)return n.generateSimpleStrokeDasharray(d,o);for(var x=Math.floor(o/u),p=o%u,b=d-o,_=[],v=0,N=0;v<h.length;N+=h[v],++v)if(N+h[v]>p){_=[].concat(qd(h.slice(0,v)),[p-N]);break}var j=_.length%2===0?[0,b]:[b];return[].concat(qd(t.repeat(h,x)),qd(_),j).map(function(S){return"".concat(S,"px")}).join(", ")}),Va(n,"id",bd("recharts-line-")),Va(n,"pathRef",function(o){n.mainCurve=o}),Va(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Va(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return BNe(t,e),RNe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,d=i.xAxis,h=i.yAxis,u=i.layout,x=i.children,p=ea(x,qm);if(!p)return null;var b=function(N,j){return{x:N.x,y:N.y,value:N.value,errorVal:qr(N.payload,j)}},_={clipPath:s?"url(#clipPath-".concat(a,")"):null};return K.createElement(Dt,_,p.map(function(v){return K.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:d,yAxis:h,layout:u,dataPointFormatter:b})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var d=this.props,h=d.dot,u=d.points,x=d.dataKey,p=ot(this.props,!1),b=ot(h,!0),_=u.map(function(N,j){var S=Ls(Ls(Ls({key:"dot-".concat(j),r:3},p),b),{},{index:j,cx:N.x,cy:N.y,value:N.value,dataKey:x,payload:N.payload,points:u});return t.renderDotItem(h,S)}),v={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Dt,uf({className:"recharts-line-dots",key:"dots"},v),_)}},{key:"renderCurveStatically",value:function(s,a,i,o){var d=this.props,h=d.type,u=d.layout,x=d.connectNulls;d.ref;var p=_E(d,ONe),b=Ls(Ls(Ls({},ot(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:h,layout:u,connectNulls:x});return K.createElement(Gc,uf({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,d=o.points,h=o.strokeDasharray,u=o.isAnimationActive,x=o.animationBegin,p=o.animationDuration,b=o.animationEasing,_=o.animationId,v=o.animateNewValues,N=o.width,j=o.height,S=this.state,C=S.prevPoints,A=S.totalLength;return K.createElement(ni,{begin:x,duration:p,isActive:u,easing:b,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var k=E.t;if(C){var D=C.length/d.length,R=d.map(function(L,$){var W=Math.floor($*D);if(C[W]){var U=C[W],Y=sn(U.x,L.x),X=sn(U.y,L.y);return Ls(Ls({},L),{},{x:Y(k),y:X(k)})}if(v){var V=sn(N*2,L.x),G=sn(j/2,L.y);return Ls(Ls({},L),{},{x:V(k),y:G(k)})}return Ls(Ls({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(R,s,a)}var F=sn(0,A),M=F(k),z;if(h){var I="".concat(h).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});z=i.getStrokeDasharray(M,A,I)}else z=i.generateSimpleStrokeDasharray(A,M);return i.renderCurveStatically(d,s,a,{strokeDasharray:z})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,d=i.isAnimationActive,h=this.state,u=h.prevPoints,x=h.totalLength;return d&&o&&o.length&&(!u&&x>0||!ld(u,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,d=a.points,h=a.className,u=a.xAxis,x=a.yAxis,p=a.top,b=a.left,_=a.width,v=a.height,N=a.isAnimationActive,j=a.id;if(i||!d||!d.length)return null;var S=this.state.isAnimationFinished,C=d.length===1,A=bt("recharts-line",h),E=u&&u.allowDataOverflow,k=x&&x.allowDataOverflow,D=E||k,R=jt(j)?this.id:j,F=(s=ot(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=F.r,z=M===void 0?3:M,I=F.strokeWidth,L=I===void 0?2:I,$=SI(o)?o:{},W=$.clipDot,U=W===void 0?!0:W,Y=z*2+L;return K.createElement(Dt,{className:A},E||k?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(R)},K.createElement("rect",{x:E?b:b-_/2,y:k?p:p-v/2,width:E?_:_*2,height:k?v:v*2})),!U&&K.createElement("clipPath",{id:"clipPath-dots-".concat(R)},K.createElement("rect",{x:b-Y/2,y:p-Y/2,width:_+Y,height:v+Y}))):null,!C&&this.renderCurve(D,R),this.renderErrorBar(D,R),(C||o)&&this.renderDots(D,U,R),(!N||S)&&Ti.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(qd(s),[0]):s,o=[],d=0;d<a;++d)o=[].concat(qd(o),qd(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(K.isValidElement(s))i=K.cloneElement(s,a);else if(pt(s))i=s(a);else{var o=a.key,d=_E(a,ENe),h=bt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=K.createElement(Hm,uf({key:o},d,{className:h}))}return i}}])}(T.PureComponent);Va(hd,"displayName","Line");Va(hd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Va(hd,"getComposedData",function(e){var t=e.props,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,d=e.bandSize,h=e.displayedData,u=e.offset,x=t.layout,p=h.map(function(b,_){var v=qr(b,o);return x==="horizontal"?{x:Dg({axis:n,ticks:a,bandSize:d,entry:b,index:_}),y:jt(v)?null:s.scale(v),value:v,payload:b}:{x:jt(v)?null:n.scale(v),y:Dg({axis:s,ticks:i,bandSize:d,entry:b,index:_}),value:v,payload:b}});return Ls({points:p,layout:x},u)});var zNe=["layout","type","stroke","connectNulls","isRange","ref"],VNe=["key"],R9;function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function L9(e,t){if(e==null)return{};var n=qNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function qNe(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ec.apply(this,arguments)}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(s){Ai(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function HNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OE(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,F9(s.key),s)}}function WNe(e,t,n){return t&&OE(e.prototype,t),n&&OE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GNe(e,t,n){return t=sy(t),QNe(e,$9()?Reflect.construct(t,n||[],sy(e).constructor):t.apply(e,n))}function QNe(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YNe(e)}function YNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(e)}function XNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kw(e,t)}function Kw(e,t){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Kw(e,t)}function Ai(e,t,n){return t=F9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=KNe(e,"string");return wh(t)=="symbol"?t:t+""}function KNe(e,t){if(wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(wh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nc=function(e){function t(){var n;HNe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=GNe(this,t,[].concat(a)),Ai(n,"state",{isAnimationFinished:!0}),Ai(n,"id",bd("recharts-area-")),Ai(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pt(o)&&o()}),Ai(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pt(o)&&o()}),n}return XNe(t,e),WNe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(o&&!d)return null;var h=this.props,u=h.dot,x=h.points,p=h.dataKey,b=ot(this.props,!1),_=ot(u,!0),v=x.map(function(j,S){var C=Ko(Ko(Ko({key:"dot-".concat(S),r:3},b),_),{},{index:S,cx:j.x,cy:j.y,dataKey:p,value:j.value,payload:j.payload,points:x});return t.renderDotItem(u,C)}),N={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return K.createElement(Dt,Ec({className:"recharts-area-dots"},N),v)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,d=a.strokeWidth,h=o[0].x,u=o[o.length-1].x,x=s*Math.abs(h-u),p=vl(o.map(function(b){return b.y||0}));return Ve(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(vl(i.map(function(b){return b.y||0})),p)),Ve(p)?K.createElement("rect",{x:h<u?h:h-x,y:0,width:x,height:Math.floor(p+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,d=a.strokeWidth,h=o[0].y,u=o[o.length-1].y,x=s*Math.abs(h-u),p=vl(o.map(function(b){return b.x||0}));return Ve(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(vl(i.map(function(b){return b.x||0})),p)),Ve(p)?K.createElement("rect",{x:0,y:h<u?h:h-x,width:p+(d?parseInt("".concat(d),10):1),height:Math.floor(x)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var d=this.props,h=d.layout,u=d.type,x=d.stroke,p=d.connectNulls,b=d.isRange;d.ref;var _=L9(d,zNe);return K.createElement(Dt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},K.createElement(Gc,Ec({},ot(_,!0),{points:s,connectNulls:p,type:u,baseLine:a,layout:h,stroke:"none",className:"recharts-area-area"})),x!=="none"&&K.createElement(Gc,Ec({},ot(this.props,!1),{className:"recharts-area-curve",layout:h,type:u,connectNulls:p,fill:"none",points:s})),x!=="none"&&b&&K.createElement(Gc,Ec({},ot(this.props,!1),{className:"recharts-area-curve",layout:h,type:u,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,d=o.points,h=o.baseLine,u=o.isAnimationActive,x=o.animationBegin,p=o.animationDuration,b=o.animationEasing,_=o.animationId,v=this.state,N=v.prevPoints,j=v.prevBaseLine;return K.createElement(ni,{begin:x,duration:p,isActive:u,easing:b,from:{t:0},to:{t:1},key:"area-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var C=S.t;if(N){var A=N.length/d.length,E=d.map(function(F,M){var z=Math.floor(M*A);if(N[z]){var I=N[z],L=sn(I.x,F.x),$=sn(I.y,F.y);return Ko(Ko({},F),{},{x:L(C),y:$(C)})}return F}),k;if(Ve(h)&&typeof h=="number"){var D=sn(j,h);k=D(C)}else if(jt(h)||Qh(h)){var R=sn(j,0);k=R(C)}else k=h.map(function(F,M){var z=Math.floor(M*A);if(j[z]){var I=j[z],L=sn(I.x,F.x),$=sn(I.y,F.y);return Ko(Ko({},F),{},{x:L(C),y:$(C)})}return F});return i.renderAreaStatically(E,k,s,a)}return K.createElement(Dt,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(C))),K.createElement(Dt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(d,h,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,d=i.baseLine,h=i.isAnimationActive,u=this.state,x=u.prevPoints,p=u.prevBaseLine,b=u.totalLength;return h&&o&&o.length&&(!x&&b>0||!ld(x,o)||!ld(p,d))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,d,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,d=a.points,h=a.className,u=a.top,x=a.left,p=a.xAxis,b=a.yAxis,_=a.width,v=a.height,N=a.isAnimationActive,j=a.id;if(i||!d||!d.length)return null;var S=this.state.isAnimationFinished,C=d.length===1,A=bt("recharts-area",h),E=p&&p.allowDataOverflow,k=b&&b.allowDataOverflow,D=E||k,R=jt(j)?this.id:j,F=(s=ot(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=F.r,z=M===void 0?3:M,I=F.strokeWidth,L=I===void 0?2:I,$=SI(o)?o:{},W=$.clipDot,U=W===void 0?!0:W,Y=z*2+L;return K.createElement(Dt,{className:A},E||k?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(R)},K.createElement("rect",{x:E?x:x-_/2,y:k?u:u-v/2,width:E?_:_*2,height:k?v:v*2})),!U&&K.createElement("clipPath",{id:"clipPath-dots-".concat(R)},K.createElement("rect",{x:x-Y/2,y:u-Y/2,width:_+Y,height:v+Y}))):null,C?null:this.renderArea(D,R),(o||C)&&this.renderDots(D,U,R),(!N||S)&&Ti.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(T.PureComponent);R9=nc;Ai(nc,"displayName","Area");Ai(nc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Jl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ai(nc,"getBaseValue",function(e,t,n,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,d=o??i;if(Ve(d)&&typeof d=="number")return d;var h=a==="horizontal"?s:n,u=h.scale.domain();if(h.type==="number"){var x=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return d==="dataMin"?p:d==="dataMax"||x<0?x:Math.max(Math.min(u[0],u[1]),0)}return d==="dataMin"?u[0]:d==="dataMax"?u[1]:u[0]});Ai(nc,"getComposedData",function(e){var t=e.props,n=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,d=e.bandSize,h=e.dataKey,u=e.stackedData,x=e.dataStartIndex,p=e.displayedData,b=e.offset,_=t.layout,v=u&&u.length,N=R9.getBaseValue(t,n,s,a),j=_==="horizontal",S=!1,C=p.map(function(E,k){var D;v?D=u[x+k]:(D=qr(E,h),Array.isArray(D)?S=!0:D=[N,D]);var R=D[1]==null||v&&qr(E,h)==null;return j?{x:Dg({axis:s,ticks:i,bandSize:d,entry:E,index:k}),y:R?null:a.scale(D[1]),value:D,payload:E}:{x:R?null:s.scale(D[1]),y:Dg({axis:a,ticks:o,bandSize:d,entry:E,index:k}),value:D,payload:E}}),A;return v||S?A=C.map(function(E){var k=Array.isArray(E.value)?E.value[0]:null;return j?{x:E.x,y:k!=null&&E.y!=null?a.scale(k):null}:{x:k!=null?s.scale(k):null,y:E.y}}):A=j?a.scale(N):s.scale(N),Ko({points:C,baseLine:A,layout:_,isRange:S},b)});Ai(nc,"renderDotItem",function(e,t){var n;if(K.isValidElement(e))n=K.cloneElement(e,t);else if(pt(e))n=e(t);else{var s=bt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=L9(t,VNe);n=K.createElement(Hm,Ec({},i,{key:a,className:s}))}return n});function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JNe(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,z9(s.key),s)}}function e4e(e,t,n){return t&&JNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t4e(e,t,n){return t=ay(t),r4e(e,B9()?Reflect.construct(t,n||[],ay(e).constructor):t.apply(e,n))}function r4e(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4e(e)}function n4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(e)}function s4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Zw(e,t)}function U9(e,t,n){return t=z9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=a4e(e,"string");return Nh(t)=="symbol"?t:t+""}function a4e(e,t){if(Nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Nh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jw.apply(this,arguments)}function i4e(e){var t=e.xAxisId,n=u_(),s=h_(),a=w9(t);return a==null?null:T.createElement(t0,Jw({},a,{className:bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return xo(o,!0)}}))}var ya=function(e){function t(){return ZNe(this,t),t4e(this,t,arguments)}return s4e(t,e),e4e(t,[{key:"render",value:function(){return T.createElement(i4e,this.props)}}])}(T.Component);U9(ya,"displayName","XAxis");U9(ya,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function o4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l4e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,H9(s.key),s)}}function c4e(e,t,n){return t&&l4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d4e(e,t,n){return t=iy(t),u4e(e,V9()?Reflect.construct(t,n||[],iy(e).constructor):t.apply(e,n))}function u4e(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h4e(e)}function h4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(e)}function f4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}function eN(e,t){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eN(e,t)}function q9(e,t,n){return t=H9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H9(e){var t=m4e(e,"string");return _h(t)=="symbol"?t:t+""}function m4e(e,t){if(_h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(_h(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tN.apply(this,arguments)}var x4e=function(t){var n=t.yAxisId,s=u_(),a=h_(),i=N9(n);return i==null?null:T.createElement(t0,tN({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(d){return xo(d,!0)}}))},ba=function(e){function t(){return o4e(this,t),d4e(this,t,arguments)}return f4e(t,e),c4e(t,[{key:"render",value:function(){return T.createElement(x4e,this.props)}}])}(T.Component);q9(ba,"displayName","YAxis");q9(ba,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function EE(e){return b4e(e)||y4e(e)||g4e(e)||p4e()}function p4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g4e(e,t){if(e){if(typeof e=="string")return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}}function y4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b4e(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var nN=function(t,n,s,a,i){var o=ea(t,m_),d=ea(t,K1),h=[].concat(EE(o),EE(d)),u=ea(t,J1),x="".concat(a,"Id"),p=a[0],b=n;if(h.length&&(b=h.reduce(function(N,j){if(j.props[x]===s&&Pi(j.props,"extendDomain")&&Ve(j.props[p])){var S=j.props[p];return[Math.min(N[0],S),Math.max(N[1],S)]}return N},b)),u.length){var _="".concat(p,"1"),v="".concat(p,"2");b=u.reduce(function(N,j){if(j.props[x]===s&&Pi(j.props,"extendDomain")&&Ve(j.props[_])&&Ve(j.props[v])){var S=j.props[_],C=j.props[v];return[Math.min(N[0],S,C),Math.max(N[1],S,C)]}return N},b)}return i&&i.length&&(b=i.reduce(function(N,j){return Ve(j)?[Math.min(N[0],j),Math.max(N[1],j)]:N},b)),b},W9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(h,u,x){this.fn=h,this.context=u,this.once=x||!1}function i(h,u,x,p,b){if(typeof x!="function")throw new TypeError("The listener must be a function");var _=new a(x,p||h,b),v=n?n+u:u;return h._events[v]?h._events[v].fn?h._events[v]=[h._events[v],_]:h._events[v].push(_):(h._events[v]=_,h._eventsCount++),h}function o(h,u){--h._eventsCount===0?h._events=new s:delete h._events[u]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var u=[],x,p;if(this._eventsCount===0)return u;for(p in x=this._events)t.call(x,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(x)):u},d.prototype.listeners=function(u){var x=n?n+u:u,p=this._events[x];if(!p)return[];if(p.fn)return[p.fn];for(var b=0,_=p.length,v=new Array(_);b<_;b++)v[b]=p[b].fn;return v},d.prototype.listenerCount=function(u){var x=n?n+u:u,p=this._events[x];return p?p.fn?1:p.length:0},d.prototype.emit=function(u,x,p,b,_,v){var N=n?n+u:u;if(!this._events[N])return!1;var j=this._events[N],S=arguments.length,C,A;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),S){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,x),!0;case 3:return j.fn.call(j.context,x,p),!0;case 4:return j.fn.call(j.context,x,p,b),!0;case 5:return j.fn.call(j.context,x,p,b,_),!0;case 6:return j.fn.call(j.context,x,p,b,_,v),!0}for(A=1,C=new Array(S-1);A<S;A++)C[A-1]=arguments[A];j.fn.apply(j.context,C)}else{var E=j.length,k;for(A=0;A<E;A++)switch(j[A].once&&this.removeListener(u,j[A].fn,void 0,!0),S){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,x);break;case 3:j[A].fn.call(j[A].context,x,p);break;case 4:j[A].fn.call(j[A].context,x,p,b);break;default:if(!C)for(k=1,C=new Array(S-1);k<S;k++)C[k-1]=arguments[k];j[A].fn.apply(j[A].context,C)}}return!0},d.prototype.on=function(u,x,p){return i(this,u,x,p,!1)},d.prototype.once=function(u,x,p){return i(this,u,x,p,!0)},d.prototype.removeListener=function(u,x,p,b){var _=n?n+u:u;if(!this._events[_])return this;if(!x)return o(this,_),this;var v=this._events[_];if(v.fn)v.fn===x&&(!b||v.once)&&(!p||v.context===p)&&o(this,_);else{for(var N=0,j=[],S=v.length;N<S;N++)(v[N].fn!==x||b&&!v[N].once||p&&v[N].context!==p)&&j.push(v[N]);j.length?this._events[_]=j.length===1?j[0]:j:o(this,_)}return this},d.prototype.removeAllListeners=function(u){var x;return u?(x=n?n+u:u,this._events[x]&&o(this,x)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(W9);var v4e=W9.exports;const j4e=Vt(v4e);var Lv=new j4e,$v="recharts.syncMouseEvents";function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function w4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,G9(s.key),s)}}function _4e(e,t,n){return t&&N4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fv(e,t,n){return t=G9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G9(e){var t=S4e(e,"string");return fm(t)=="symbol"?t:t+""}function S4e(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(fm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C4e=function(){function e(){w4e(this,e),Fv(this,"activeIndex",0),Fv(this,"coordinateList",[]),Fv(this,"layout","horizontal")}return _4e(e,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,d=o===void 0?null:o,h=n.layout,u=h===void 0?null:h,x=n.offset,p=x===void 0?null:x,b=n.mouseHandlerCallback,_=b===void 0?null:b;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=d??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,d=a.height,h=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,x=((s=window)===null||s===void 0?void 0:s.scrollY)||0,p=i+h+u,b=o+this.offset.top+d/2+x;this.mouseHandlerCallback({pageX:p,pageY:b})}}}])}();function A4e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Ve(s)&&Ve(a))return!0}return!1}function O4e(e,t,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?s:n.width-1,height:e==="horizontal"?n.height-1:s}}function Q9(e){var t=e.cx,n=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=fr(t,n,s,a),d=fr(t,n,s,i);return{points:[o,d],cx:t,cy:n,radius:s,startAngle:a,endAngle:i}}function E4e(e,t,n){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,s=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,h=t.cy,u=t.innerRadius,x=t.outerRadius,p=t.angle,b=fr(d,h,u,p),_=fr(d,h,x,p);s=b.x,a=b.y,i=_.x,o=_.y}else return Q9(t);return[{x:s,y:a},{x:i,y:o}]}function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(s){k4e(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function k4e(e,t,n){return t=T4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T4e(e){var t=P4e(e,"string");return mm(t)=="symbol"?t:t+""}function P4e(e,t){if(mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(mm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I4e(e){var t,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,d=e.activePayload,h=e.offset,u=e.activeTooltipIndex,x=e.tooltipAxisBandSize,p=e.layout,b=e.chartName,_=(t=s.props.cursor)!==null&&t!==void 0?t:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!_||!i||!o||b!=="ScatterChart"&&a!=="axis")return null;var v,N=Gc;if(b==="ScatterChart")v=o,N=Ube;else if(b==="BarChart")v=O4e(p,o,h,x),N=i_;else if(p==="radial"){var j=Q9(o),S=j.cx,C=j.cy,A=j.radius,E=j.startAngle,k=j.endAngle;v={cx:S,cy:C,startAngle:E,endAngle:k,innerRadius:A,outerRadius:A},N=qM}else v={points:E4e(p,o,h)},N=Gc;var D=zx(zx(zx(zx({stroke:"#ccc",pointerEvents:"none"},h),v),ot(_,!1)),{},{payload:d,payloadIndex:u,className:bt("recharts-tooltip-cursor",_.className)});return T.isValidElement(_)?T.cloneElement(_,D):T.createElement(N,D)}var D4e=["item"],M4e=["children","className","width","height","style","compact","title","desc"];function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xu.apply(this,arguments)}function TE(e,t){return $4e(e)||L4e(e,t)||X9(e,t)||R4e()}function R4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,i,o,d=[],h=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(h=(s=i.call(n)).done)&&(d.push(s.value),d.length!==t);h=!0);}catch(x){u=!0,a=x}finally{try{if(!h&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return d}}function $4e(e){if(Array.isArray(e))return e}function PE(e,t){if(e==null)return{};var n=F4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function F4e(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function B4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U4e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,K9(s.key),s)}}function z4e(e,t,n){return t&&U4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4e(e,t,n){return t=oy(t),q4e(e,Y9()?Reflect.construct(t,n||[],oy(e).constructor):t.apply(e,n))}function q4e(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H4e(e)}function H4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y9=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(e)}function W4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},sN(e,t)}function Ch(e){return Y4e(e)||Q4e(e)||X9(e)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X9(e,t){if(e){if(typeof e=="string")return aN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(e,t)}}function Q4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y4e(e){if(Array.isArray(e))return aN(e)}function aN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(s){xt(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function xt(e,t,n){return t=K9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=X4e(e,"string");return Sh(t)=="symbol"?t:t+""}function X4e(e,t){if(Sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Sh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K4e={xAxis:["bottom","top"],yAxis:["left","right"]},Z4e={width:"100%",height:"100%"},Z9={x:0,y:0};function Vx(e){return e}var J4e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},e3e=function(t,n,s,a){var i=n.find(function(x){return x&&x.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,d=a.radius;return Te(Te(Te({},a),fr(a.cx,a.cy,d,o)),{},{angle:o,radius:d})}var h=i.coordinate,u=a.angle;return Te(Te(Te({},a),fr(a.cx,a.cy,h,u)),{},{angle:u,radius:h})}return Z9},eb=function(t,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(d,h){var u=h.props.data;return u&&u.length?[].concat(Ch(d),Ch(u)):d},[]);return o.length>0?o:t&&t.length&&Ve(a)&&Ve(i)?t.slice(a,i+1):[]};function J9(e){return e==="number"?[0,"auto"]:void 0}var iN=function(t,n,s,a){var i=t.graphicalItems,o=t.tooltipAxis,d=eb(n,t);return s<0||!i||!i.length||s>=d.length?null:i.reduce(function(h,u){var x,p=(x=u.props.data)!==null&&x!==void 0?x:n;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var b;if(o.dataKey&&!o.allowDuplicatedCategory){var _=p===void 0?d:p;b=ig(_,o.dataKey,a)}else b=p&&p[s]||d[s];return b?[].concat(Ch(h),[$M(u,b)]):h},[])},DE=function(t,n,s,a){var i=a||{x:t.chartX,y:t.chartY},o=J4e(i,s),d=t.orderedTooltipTicks,h=t.tooltipAxis,u=t.tooltipTicks,x=xge(o,d,u,h);if(x>=0&&u){var p=u[x]&&u[x].value,b=iN(t,n,x,p),_=e3e(s,d,x,i);return{activeTooltipIndex:x,activeLabel:p,activePayload:b,activeCoordinate:_}}return null},t3e=function(t,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,d=n.stackGroups,h=n.dataStartIndex,u=n.dataEndIndex,x=t.layout,p=t.children,b=t.stackOffset,_=PM(x,i);return s.reduce(function(v,N){var j,S=N.type.defaultProps!==void 0?Te(Te({},N.type.defaultProps),N.props):N.props,C=S.type,A=S.dataKey,E=S.allowDataOverflow,k=S.allowDuplicatedCategory,D=S.scale,R=S.ticks,F=S.includeHidden,M=S[o];if(v[M])return v;var z=eb(t.data,{graphicalItems:a.filter(function(le){var ie,fe=o in le.props?le.props[o]:(ie=le.type.defaultProps)===null||ie===void 0?void 0:ie[o];return fe===M}),dataStartIndex:h,dataEndIndex:u}),I=z.length,L,$,W;A4e(S.domain,E,C)&&(L=bw(S.domain,null,E),_&&(C==="number"||D!=="auto")&&(W=of(z,A,"category")));var U=J9(C);if(!L||L.length===0){var Y,X=(Y=S.domain)!==null&&Y!==void 0?Y:U;if(A){if(L=of(z,A,C),C==="category"&&_){var V=ane(L);k&&V?($=L,L=Gg(0,I)):k||(L=eO(X,L,N).reduce(function(le,ie){return le.indexOf(ie)>=0?le:[].concat(Ch(le),[ie])},[]))}else if(C==="category")k?L=L.filter(function(le){return le!==""&&!jt(le)}):L=eO(X,L,N).reduce(function(le,ie){return le.indexOf(ie)>=0||ie===""||jt(ie)?le:[].concat(Ch(le),[ie])},[]);else if(C==="number"){var G=vge(z,a.filter(function(le){var ie,fe,xe=o in le.props?le.props[o]:(ie=le.type.defaultProps)===null||ie===void 0?void 0:ie[o],ge="hide"in le.props?le.props.hide:(fe=le.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return xe===M&&(F||!ge)}),A,i,x);G&&(L=G)}_&&(C==="number"||D!=="auto")&&(W=of(z,A,"category"))}else _?L=Gg(0,I):d&&d[M]&&d[M].hasStack&&C==="number"?L=b==="expand"?[0,1]:LM(d[M].stackGroups,h,u):L=TM(z,a.filter(function(le){var ie=o in le.props?le.props[o]:le.type.defaultProps[o],fe="hide"in le.props?le.props.hide:le.type.defaultProps.hide;return ie===M&&(F||!fe)}),C,x,!0);if(C==="number")L=nN(p,L,M,i,R),X&&(L=bw(X,L,E));else if(C==="category"&&X){var ne=X,ae=L.every(function(le){return ne.indexOf(le)>=0});ae&&(L=ne)}}return Te(Te({},v),{},xt({},M,Te(Te({},S),{},{axisType:i,domain:L,categoricalDomain:W,duplicateDomain:$,originalDomain:(j=S.domain)!==null&&j!==void 0?j:U,isCategorical:_,layout:x})))},{})},r3e=function(t,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,d=n.stackGroups,h=n.dataStartIndex,u=n.dataEndIndex,x=t.layout,p=t.children,b=eb(t.data,{graphicalItems:s,dataStartIndex:h,dataEndIndex:u}),_=b.length,v=PM(x,i),N=-1;return s.reduce(function(j,S){var C=S.type.defaultProps!==void 0?Te(Te({},S.type.defaultProps),S.props):S.props,A=C[o],E=J9("number");if(!j[A]){N++;var k;return v?k=Gg(0,_):d&&d[A]&&d[A].hasStack?(k=LM(d[A].stackGroups,h,u),k=nN(p,k,A,i)):(k=bw(E,TM(b,s.filter(function(D){var R,F,M=o in D.props?D.props[o]:(R=D.type.defaultProps)===null||R===void 0?void 0:R[o],z="hide"in D.props?D.props.hide:(F=D.type.defaultProps)===null||F===void 0?void 0:F.hide;return M===A&&!z}),"number",x),a.defaultProps.allowDataOverflow),k=nN(p,k,A,i)),Te(Te({},j),{},xt({},A,Te(Te({axisType:i},a.defaultProps),{},{hide:!0,orientation:Js(K4e,"".concat(i,".").concat(N%2),null),domain:k,originalDomain:E,isCategorical:v,layout:x})))}return j},{})},n3e=function(t,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,d=n.stackGroups,h=n.dataStartIndex,u=n.dataEndIndex,x=t.children,p="".concat(a,"Id"),b=ea(x,i),_={};return b&&b.length?_=t3e(t,{axes:b,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:d,dataStartIndex:h,dataEndIndex:u}):o&&o.length&&(_=r3e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:d,dataStartIndex:h,dataEndIndex:u})),_},s3e=function(t){var n=il(t),s=xo(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:I3(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Mg(n,s)}},ME=function(t){var n=t.children,s=t.defaultShowTooltip,a=zs(n,xh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},a3e=function(t){return!t||!t.length?!1:t.some(function(n){var s=bo(n&&n.type);return s&&s.indexOf("Bar")>=0})},RE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},i3e=function(t,n){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,d=t.yAxisMap,h=d===void 0?{}:d,u=s.width,x=s.height,p=s.children,b=s.margin||{},_=zs(p,xh),v=zs(p,ei),N=Object.keys(h).reduce(function(k,D){var R=h[D],F=R.orientation;return!R.mirror&&!R.hide?Te(Te({},k),{},xt({},F,k[F]+R.width)):k},{left:b.left||0,right:b.right||0}),j=Object.keys(o).reduce(function(k,D){var R=o[D],F=R.orientation;return!R.mirror&&!R.hide?Te(Te({},k),{},xt({},F,Js(k,"".concat(F))+R.height)):k},{top:b.top||0,bottom:b.bottom||0}),S=Te(Te({},j),N),C=S.bottom;_&&(S.bottom+=_.props.height||xh.defaultProps.height),v&&n&&(S=yge(S,a,s,n));var A=u-S.left-S.right,E=x-S.top-S.bottom;return Te(Te({brushBottom:C},S),{},{width:Math.max(A,0),height:Math.max(E,0)})},o3e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},tb=function(t){var n=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,d=o===void 0?["axis"]:o,h=t.axisComponents,u=t.legendContent,x=t.formatAxisMap,p=t.defaultProps,b=function(S,C){var A=C.graphicalItems,E=C.stackGroups,k=C.offset,D=C.updateId,R=C.dataStartIndex,F=C.dataEndIndex,M=S.barSize,z=S.layout,I=S.barGap,L=S.barCategoryGap,$=S.maxBarSize,W=RE(z),U=W.numericAxisName,Y=W.cateAxisName,X=a3e(A),V=[];return A.forEach(function(G,ne){var ae=eb(S.data,{graphicalItems:[G],dataStartIndex:R,dataEndIndex:F}),le=G.type.defaultProps!==void 0?Te(Te({},G.type.defaultProps),G.props):G.props,ie=le.dataKey,fe=le.maxBarSize,xe=le["".concat(U,"Id")],ge=le["".concat(Y,"Id")],ke={},Ae=h.reduce(function(ee,pe){var Le=C["".concat(pe.axisType,"Map")],Ee=le["".concat(pe.axisType,"Id")];Le&&Le[Ee]||pe.axisType==="zAxis"||dd();var $e=Le[Ee];return Te(Te({},ee),{},xt(xt({},pe.axisType,$e),"".concat(pe.axisType,"Ticks"),xo($e)))},ke),Ne=Ae[Y],Me=Ae["".concat(Y,"Ticks")],Re=E&&E[xe]&&E[xe].hasStack&&Ege(G,E[xe].stackGroups),Pe=bo(G.type).indexOf("Bar")>=0,Ke=Mg(Ne,Me),lt=[],vt=X&&pge({barSize:M,stackGroups:E,totalSize:o3e(Ae,Y)});if(Pe){var Ot,ft,ut=jt(fe)?$:fe,oe=(Ot=(ft=Mg(Ne,Me,!0))!==null&&ft!==void 0?ft:ut)!==null&&Ot!==void 0?Ot:0;lt=gge({barGap:I,barCategoryGap:L,bandSize:oe!==Ke?oe:Ke,sizeList:vt[ge],maxBarSize:ut}),oe!==Ke&&(lt=lt.map(function(ee){return Te(Te({},ee),{},{position:Te(Te({},ee.position),{},{offset:ee.position.offset-oe/2})})}))}var Z=G&&G.type&&G.type.getComposedData;Z&&V.push({props:Te(Te({},Z(Te(Te({},Ae),{},{displayedData:ae,props:S,dataKey:ie,item:G,bandSize:Ke,barPosition:lt,offset:k,stackedData:Re,layout:z,dataStartIndex:R,dataEndIndex:F}))),{},xt(xt(xt({key:G.key||"item-".concat(ne)},U,Ae[U]),Y,Ae[Y]),"animationId",D)),childIndex:gne(G,S.children),item:G})}),V},_=function(S,C){var A=S.props,E=S.dataStartIndex,k=S.dataEndIndex,D=S.updateId;if(!QC({props:A}))return null;var R=A.children,F=A.layout,M=A.stackOffset,z=A.data,I=A.reverseStackOrder,L=RE(F),$=L.numericAxisName,W=L.cateAxisName,U=ea(R,s),Y=Age(z,U,"".concat($,"Id"),"".concat(W,"Id"),M,I),X=h.reduce(function(le,ie){var fe="".concat(ie.axisType,"Map");return Te(Te({},le),{},xt({},fe,n3e(A,Te(Te({},ie),{},{graphicalItems:U,stackGroups:ie.axisType===$&&Y,dataStartIndex:E,dataEndIndex:k}))))},{}),V=i3e(Te(Te({},X),{},{props:A,graphicalItems:U}),C==null?void 0:C.legendBBox);Object.keys(X).forEach(function(le){X[le]=x(A,X[le],V,le.replace("Map",""),n)});var G=X["".concat(W,"Map")],ne=s3e(G),ae=b(A,Te(Te({},X),{},{dataStartIndex:E,dataEndIndex:k,updateId:D,graphicalItems:U,stackGroups:Y,offset:V}));return Te(Te({formattedGraphicalItems:ae,graphicalItems:U,offset:V,stackGroups:Y},ne),X)},v=function(j){function S(C){var A,E,k;return B4e(this,S),k=V4e(this,S,[C]),xt(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(k,"accessibilityManager",new C4e),xt(k,"handleLegendBBoxUpdate",function(D){if(D){var R=k.state,F=R.dataStartIndex,M=R.dataEndIndex,z=R.updateId;k.setState(Te({legendBBox:D},_({props:k.props,dataStartIndex:F,dataEndIndex:M,updateId:z},Te(Te({},k.state),{},{legendBBox:D}))))}}),xt(k,"handleReceiveSyncEvent",function(D,R,F){if(k.props.syncId===D){if(F===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(R)}}),xt(k,"handleBrushChange",function(D){var R=D.startIndex,F=D.endIndex;if(R!==k.state.dataStartIndex||F!==k.state.dataEndIndex){var M=k.state.updateId;k.setState(function(){return Te({dataStartIndex:R,dataEndIndex:F},_({props:k.props,dataStartIndex:R,dataEndIndex:F,updateId:M},k.state))}),k.triggerSyncEvent({dataStartIndex:R,dataEndIndex:F})}}),xt(k,"handleMouseEnter",function(D){var R=k.getMouseInfo(D);if(R){var F=Te(Te({},R),{},{isTooltipActive:!0});k.setState(F),k.triggerSyncEvent(F);var M=k.props.onMouseEnter;pt(M)&&M(F,D)}}),xt(k,"triggeredAfterMouseMove",function(D){var R=k.getMouseInfo(D),F=R?Te(Te({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(F),k.triggerSyncEvent(F);var M=k.props.onMouseMove;pt(M)&&M(F,D)}),xt(k,"handleItemMouseEnter",function(D){k.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),xt(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),xt(k,"handleMouseMove",function(D){D.persist(),k.throttleTriggeredAfterMouseMove(D)}),xt(k,"handleMouseLeave",function(D){k.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};k.setState(R),k.triggerSyncEvent(R);var F=k.props.onMouseLeave;pt(F)&&F(R,D)}),xt(k,"handleOuterEvent",function(D){var R=pne(D),F=Js(k.props,"".concat(R));if(R&&pt(F)){var M,z;/.*touch.*/i.test(R)?z=k.getMouseInfo(D.changedTouches[0]):z=k.getMouseInfo(D),F((M=z)!==null&&M!==void 0?M:{},D)}}),xt(k,"handleClick",function(D){var R=k.getMouseInfo(D);if(R){var F=Te(Te({},R),{},{isTooltipActive:!0});k.setState(F),k.triggerSyncEvent(F);var M=k.props.onClick;pt(M)&&M(F,D)}}),xt(k,"handleMouseDown",function(D){var R=k.props.onMouseDown;if(pt(R)){var F=k.getMouseInfo(D);R(F,D)}}),xt(k,"handleMouseUp",function(D){var R=k.props.onMouseUp;if(pt(R)){var F=k.getMouseInfo(D);R(F,D)}}),xt(k,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),xt(k,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&k.handleMouseDown(D.changedTouches[0])}),xt(k,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&k.handleMouseUp(D.changedTouches[0])}),xt(k,"handleDoubleClick",function(D){var R=k.props.onDoubleClick;if(pt(R)){var F=k.getMouseInfo(D);R(F,D)}}),xt(k,"handleContextMenu",function(D){var R=k.props.onContextMenu;if(pt(R)){var F=k.getMouseInfo(D);R(F,D)}}),xt(k,"triggerSyncEvent",function(D){k.props.syncId!==void 0&&Lv.emit($v,k.props.syncId,D,k.eventEmitterSymbol)}),xt(k,"applySyncEvent",function(D){var R=k.props,F=R.layout,M=R.syncMethod,z=k.state.updateId,I=D.dataStartIndex,L=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)k.setState(Te({dataStartIndex:I,dataEndIndex:L},_({props:k.props,dataStartIndex:I,dataEndIndex:L,updateId:z},k.state)));else if(D.activeTooltipIndex!==void 0){var $=D.chartX,W=D.chartY,U=D.activeTooltipIndex,Y=k.state,X=Y.offset,V=Y.tooltipTicks;if(!X)return;if(typeof M=="function")U=M(V,D);else if(M==="value"){U=-1;for(var G=0;G<V.length;G++)if(V[G].value===D.activeLabel){U=G;break}}var ne=Te(Te({},X),{},{x:X.left,y:X.top}),ae=Math.min($,ne.x+ne.width),le=Math.min(W,ne.y+ne.height),ie=V[U]&&V[U].value,fe=iN(k.state,k.props.data,U),xe=V[U]?{x:F==="horizontal"?V[U].coordinate:ae,y:F==="horizontal"?le:V[U].coordinate}:Z9;k.setState(Te(Te({},D),{},{activeLabel:ie,activeCoordinate:xe,activePayload:fe,activeTooltipIndex:U}))}else k.setState(D)}),xt(k,"renderCursor",function(D){var R,F=k.state,M=F.isTooltipActive,z=F.activeCoordinate,I=F.activePayload,L=F.offset,$=F.activeTooltipIndex,W=F.tooltipAxisBandSize,U=k.getTooltipEventType(),Y=(R=D.props.active)!==null&&R!==void 0?R:M,X=k.props.layout,V=D.key||"_recharts-cursor";return K.createElement(I4e,{key:V,activeCoordinate:z,activePayload:I,activeTooltipIndex:$,chartName:n,element:D,isActive:Y,layout:X,offset:L,tooltipAxisBandSize:W,tooltipEventType:U})}),xt(k,"renderPolarAxis",function(D,R,F){var M=Js(D,"type.axisType"),z=Js(k.state,"".concat(M,"Map")),I=D.type.defaultProps,L=I!==void 0?Te(Te({},I),D.props):D.props,$=z&&z[L["".concat(M,"Id")]];return T.cloneElement(D,Te(Te({},$),{},{className:bt(M,$.className),key:D.key||"".concat(R,"-").concat(F),ticks:xo($,!0)}))}),xt(k,"renderPolarGrid",function(D){var R=D.props,F=R.radialLines,M=R.polarAngles,z=R.polarRadius,I=k.state,L=I.radiusAxisMap,$=I.angleAxisMap,W=il(L),U=il($),Y=U.cx,X=U.cy,V=U.innerRadius,G=U.outerRadius;return T.cloneElement(D,{polarAngles:Array.isArray(M)?M:xo(U,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(z)?z:xo(W,!0).map(function(ne){return ne.coordinate}),cx:Y,cy:X,innerRadius:V,outerRadius:G,key:D.key||"polar-grid",radialLines:F})}),xt(k,"renderLegend",function(){var D=k.state.formattedGraphicalItems,R=k.props,F=R.children,M=R.width,z=R.height,I=k.props.margin||{},L=M-(I.left||0)-(I.right||0),$=EM({children:F,formattedGraphicalItems:D,legendWidth:L,legendContent:u});if(!$)return null;var W=$.item,U=PE($,D4e);return T.cloneElement(W,Te(Te({},U),{},{chartWidth:M,chartHeight:z,margin:I,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),xt(k,"renderTooltip",function(){var D,R=k.props,F=R.children,M=R.accessibilityLayer,z=zs(F,xn);if(!z)return null;var I=k.state,L=I.isTooltipActive,$=I.activeCoordinate,W=I.activePayload,U=I.activeLabel,Y=I.offset,X=(D=z.props.active)!==null&&D!==void 0?D:L;return T.cloneElement(z,{viewBox:Te(Te({},Y),{},{x:Y.left,y:Y.top}),active:X,label:U,payload:X?W:[],coordinate:$,accessibilityLayer:M})}),xt(k,"renderBrush",function(D){var R=k.props,F=R.margin,M=R.data,z=k.state,I=z.offset,L=z.dataStartIndex,$=z.dataEndIndex,W=z.updateId;return T.cloneElement(D,{key:D.key||"_recharts-brush",onChange:$x(k.handleBrushChange,D.props.onChange),data:M,x:Ve(D.props.x)?D.props.x:I.left,y:Ve(D.props.y)?D.props.y:I.top+I.height+I.brushBottom-(F.bottom||0),width:Ve(D.props.width)?D.props.width:I.width,startIndex:L,endIndex:$,updateId:"brush-".concat(W)})}),xt(k,"renderReferenceElement",function(D,R,F){if(!D)return null;var M=k,z=M.clipPathId,I=k.state,L=I.xAxisMap,$=I.yAxisMap,W=I.offset,U=D.type.defaultProps||{},Y=D.props,X=Y.xAxisId,V=X===void 0?U.xAxisId:X,G=Y.yAxisId,ne=G===void 0?U.yAxisId:G;return T.cloneElement(D,{key:D.key||"".concat(R,"-").concat(F),xAxis:L[V],yAxis:$[ne],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:z})}),xt(k,"renderActivePoints",function(D){var R=D.item,F=D.activePoint,M=D.basePoint,z=D.childIndex,I=D.isRange,L=[],$=R.props.key,W=R.item.type.defaultProps!==void 0?Te(Te({},R.item.type.defaultProps),R.item.props):R.item.props,U=W.activeDot,Y=W.dataKey,X=Te(Te({index:z,dataKey:Y,cx:F.x,cy:F.y,r:4,fill:a_(R.item),strokeWidth:2,stroke:"#fff",payload:F.payload,value:F.value},ot(U,!1)),og(U));return L.push(S.renderActiveDot(U,X,"".concat($,"-activePoint-").concat(z))),M?L.push(S.renderActiveDot(U,Te(Te({},X),{},{cx:M.x,cy:M.y}),"".concat($,"-basePoint-").concat(z))):I&&L.push(null),L}),xt(k,"renderGraphicChild",function(D,R,F){var M=k.filterFormatItem(D,R,F);if(!M)return null;var z=k.getTooltipEventType(),I=k.state,L=I.isTooltipActive,$=I.tooltipAxis,W=I.activeTooltipIndex,U=I.activeLabel,Y=k.props.children,X=zs(Y,xn),V=M.props,G=V.points,ne=V.isRange,ae=V.baseLine,le=M.item.type.defaultProps!==void 0?Te(Te({},M.item.type.defaultProps),M.item.props):M.item.props,ie=le.activeDot,fe=le.hide,xe=le.activeBar,ge=le.activeShape,ke=!!(!fe&&L&&X&&(ie||xe||ge)),Ae={};z!=="axis"&&X&&X.props.trigger==="click"?Ae={onClick:$x(k.handleItemMouseEnter,D.props.onClick)}:z!=="axis"&&(Ae={onMouseLeave:$x(k.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:$x(k.handleItemMouseEnter,D.props.onMouseEnter)});var Ne=T.cloneElement(D,Te(Te({},M.props),Ae));function Me(pe){return typeof $.dataKey=="function"?$.dataKey(pe.payload):null}if(ke)if(W>=0){var Re,Pe;if($.dataKey&&!$.allowDuplicatedCategory){var Ke=typeof $.dataKey=="function"?Me:"payload.".concat($.dataKey.toString());Re=ig(G,Ke,U),Pe=ne&&ae&&ig(ae,Ke,U)}else Re=G==null?void 0:G[W],Pe=ne&&ae&&ae[W];if(ge||xe){var lt=D.props.activeIndex!==void 0?D.props.activeIndex:W;return[T.cloneElement(D,Te(Te(Te({},M.props),Ae),{},{activeIndex:lt})),null,null]}if(!jt(Re))return[Ne].concat(Ch(k.renderActivePoints({item:M,activePoint:Re,basePoint:Pe,childIndex:W,isRange:ne})))}else{var vt,Ot=(vt=k.getItemByXY(k.state.activeCoordinate))!==null&&vt!==void 0?vt:{graphicalItem:Ne},ft=Ot.graphicalItem,ut=ft.item,oe=ut===void 0?D:ut,Z=ft.childIndex,ee=Te(Te(Te({},M.props),Ae),{},{activeIndex:Z});return[T.cloneElement(oe,ee),null,null]}return ne?[Ne,null,null]:[Ne,null]}),xt(k,"renderCustomized",function(D,R,F){return T.cloneElement(D,Te(Te({key:"recharts-customized-".concat(F)},k.props),k.state))}),xt(k,"renderMap",{CartesianGrid:{handler:Vx,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:Vx},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:Vx},YAxis:{handler:Vx},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((A=C.id)!==null&&A!==void 0?A:bd("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=OD(k.triggeredAfterMouseMove,(E=C.throttleDelay)!==null&&E!==void 0?E:1e3/60),k.state={},k}return W4e(S,j),z4e(S,[{key:"componentDidMount",value:function(){var A,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,E=A.children,k=A.data,D=A.height,R=A.layout,F=zs(E,xn);if(F){var M=F.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,I=iN(this.state,k,M,z),L=this.state.tooltipTicks[M].coordinate,$=(this.state.offset.top+D)/2,W=R==="horizontal",U=W?{x:L,y:$}:{y:L,x:$},Y=this.state.formattedGraphicalItems.find(function(V){var G=V.item;return G.type.name==="Scatter"});Y&&(U=Te(Te({},U),Y.props.points[M].tooltipPosition),I=Y.props.points[M].tooltipPayload);var X={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:z,activePayload:I,activeCoordinate:U};this.setState(X),this.renderCursor(F),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var k,D;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(A){Dj([zs(A.children,xn)],[zs(this.props.children,xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=zs(this.props.children,xn);if(A&&typeof A.props.shared=="boolean"){var E=A.props.shared?"axis":"item";return d.indexOf(E)>=0?E:i}return i}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var E=this.container,k=E.getBoundingClientRect(),D=V0e(k),R={chartX:Math.round(A.pageX-D.left),chartY:Math.round(A.pageY-D.top)},F=k.width/E.offsetWidth||1,M=this.inRange(R.chartX,R.chartY,F);if(!M)return null;var z=this.state,I=z.xAxisMap,L=z.yAxisMap,$=this.getTooltipEventType(),W=DE(this.state,this.props.data,this.props.layout,M);if($!=="axis"&&I&&L){var U=il(I).scale,Y=il(L).scale,X=U&&U.invert?U.invert(R.chartX):null,V=Y&&Y.invert?Y.invert(R.chartY):null;return Te(Te({},R),{},{xValue:X,yValue:V},W)}return W?Te(Te({},R),W):null}},{key:"inRange",value:function(A,E){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,R=A/k,F=E/k;if(D==="horizontal"||D==="vertical"){var M=this.state.offset,z=R>=M.left&&R<=M.left+M.width&&F>=M.top&&F<=M.top+M.height;return z?{x:R,y:F}:null}var I=this.state,L=I.angleAxisMap,$=I.radiusAxisMap;if(L&&$){var W=il(L);return nO({x:R,y:F},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,E=this.getTooltipEventType(),k=zs(A,xn),D={};k&&E==="axis"&&(k.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=og(this.props,this.handleOuterEvent);return Te(Te({},R),D)}},{key:"addListener",value:function(){Lv.on($v,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lv.removeListener($v,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,E,k){for(var D=this.state.formattedGraphicalItems,R=0,F=D.length;R<F;R++){var M=D[R];if(M.item===A||M.props.key===A.key||E===bo(M.item.type)&&k===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,E=this.state.offset,k=E.left,D=E.top,R=E.height,F=E.width;return K.createElement("defs",null,K.createElement("clipPath",{id:A},K.createElement("rect",{x:k,y:D,height:R,width:F})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(E,k){var D=TE(k,2),R=D[0],F=D[1];return Te(Te({},E),{},xt({},R,F.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(E,k){var D=TE(k,2),R=D[0],F=D[1];return Te(Te({},E),{},xt({},R,F.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[A])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(A){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[A])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(A){var E=this.state,k=E.formattedGraphicalItems,D=E.activeItem;if(k&&k.length)for(var R=0,F=k.length;R<F;R++){var M=k[R],z=M.props,I=M.item,L=I.type.defaultProps!==void 0?Te(Te({},I.type.defaultProps),I.props):I.props,$=bo(I.type);if($==="Bar"){var W=(z.data||[]).find(function(V){return jbe(A,V)});if(W)return{graphicalItem:M,payload:W}}else if($==="RadialBar"){var U=(z.data||[]).find(function(V){return nO(A,V)});if(U)return{graphicalItem:M,payload:U}}else if(G1(M,D)||Q1(M,D)||lm(M,D)){var Y=c2e({graphicalItem:M,activeTooltipItem:D,itemData:L.data}),X=L.activeIndex===void 0?Y:L.activeIndex;return{graphicalItem:Te(Te({},M),{},{childIndex:X}),payload:lm(M,D)?L.data[Y]:M.props.data[Y]}}}return null}},{key:"render",value:function(){var A=this;if(!QC(this))return null;var E=this.props,k=E.children,D=E.className,R=E.width,F=E.height,M=E.style,z=E.compact,I=E.title,L=E.desc,$=PE(E,M4e),W=ot($,!1);if(z)return K.createElement(uE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(Rj,xu({},W,{width:R,height:F,title:I,desc:L}),this.renderClipPath(),XC(k,this.renderMap)));if(this.props.accessibilityLayer){var U,Y;W.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,W.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",W.onKeyDown=function(V){A.accessibilityManager.keyboardEvent(V)},W.onFocus=function(){A.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return K.createElement(uE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",xu({className:bt("recharts-wrapper",D),style:Te({position:"relative",cursor:"default",width:R,height:F},M)},X,{ref:function(G){A.container=G}}),K.createElement(Rj,xu({},W,{width:R,height:F,title:I,desc:L,style:Z4e}),this.renderClipPath(),XC(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);xt(v,"displayName",n),xt(v,"defaultProps",Te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),xt(v,"getDerivedStateFromProps",function(j,S){var C=j.dataKey,A=j.data,E=j.children,k=j.width,D=j.height,R=j.layout,F=j.stackOffset,M=j.margin,z=S.dataStartIndex,I=S.dataEndIndex;if(S.updateId===void 0){var L=ME(j);return Te(Te(Te({},L),{},{updateId:0},_(Te(Te({props:j},L),{},{updateId:0}),S)),{},{prevDataKey:C,prevData:A,prevWidth:k,prevHeight:D,prevLayout:R,prevStackOffset:F,prevMargin:M,prevChildren:E})}if(C!==S.prevDataKey||A!==S.prevData||k!==S.prevWidth||D!==S.prevHeight||R!==S.prevLayout||F!==S.prevStackOffset||!Ou(M,S.prevMargin)){var $=ME(j),W={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},U=Te(Te({},DE(S,A,R)),{},{updateId:S.updateId+1}),Y=Te(Te(Te({},$),W),U);return Te(Te(Te({},Y),_(Te({props:j},Y),S)),{},{prevDataKey:C,prevData:A,prevWidth:k,prevHeight:D,prevLayout:R,prevStackOffset:F,prevMargin:M,prevChildren:E})}if(!Dj(E,S.prevChildren)){var X,V,G,ne,ae=zs(E,xh),le=ae&&(X=(V=ae.props)===null||V===void 0?void 0:V.startIndex)!==null&&X!==void 0?X:z,ie=ae&&(G=(ne=ae.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&G!==void 0?G:I,fe=le!==z||ie!==I,xe=!jt(A),ge=xe&&!fe?S.updateId:S.updateId+1;return Te(Te({updateId:ge},_(Te(Te({props:j},S),{},{updateId:ge,dataStartIndex:le,dataEndIndex:ie}),S)),{},{prevChildren:E,dataStartIndex:le,dataEndIndex:ie})}return null}),xt(v,"renderActiveDot",function(j,S,C){var A;return T.isValidElement(j)?A=T.cloneElement(j,S):pt(j)?A=j(S):A=K.createElement(Hm,S),K.createElement(Dt,{className:"recharts-active-dot",key:C},A)});var N=T.forwardRef(function(S,C){return K.createElement(v,xu({},S,{ref:C}))});return N.displayName=v.displayName,N},eR=tb({chartName:"LineChart",GraphicalChild:hd,axisComponents:[{axisType:"xAxis",AxisComp:ya},{axisType:"yAxis",AxisComp:ba}],formatAxisMap:o_}),mp=tb({chartName:"BarChart",GraphicalChild:Gs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ya},{axisType:"yAxis",AxisComp:ba}],formatAxisMap:o_}),tR=tb({chartName:"PieChart",GraphicalChild:Vi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:W1},{axisType:"radiusAxis",AxisComp:q1}],formatAxisMap:Fge,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),l3e=tb({chartName:"AreaChart",GraphicalChild:nc,axisComponents:[{axisType:"xAxis",AxisComp:ya},{axisType:"yAxis",AxisComp:ba}],formatAxisMap:o_});const c3e=()=>{const[e,t]=T.useState(!0),[n,s]=T.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[a,i]=T.useState({summary:{},dailyShipments:[],statusDistribution:[],courierPerformance:[],deliveryTrends:[],topDestinations:[],customerAnalytics:[]}),[o,d]=T.useState("overview");T.useEffect(()=>{h()},[n]);const h=async()=>{try{t(!0);const E=new URLSearchParams({start_date:n.start,end_date:n.end}),[k,D,R,F]=await Promise.all([fetch(`/api/shipments/dashboard/stats?${E}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`/api/shipments/reports/daily?${E}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`/api/shipments/reports/status-distribution?${E}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch(`/api/courier-partners/performance?${E}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]),[M,z,I,L]=await Promise.all([k.json(),D.json(),R.json(),F.json()]);i({summary:M||{},dailyShipments:z.data||[],statusDistribution:I.data||[],courierPerformance:L.data||[],deliveryTrends:u(z.data||[]),topDestinations:x(),customerAnalytics:p()})}catch(E){console.error("Error fetching report data:",E),it.error("Failed to load report data")}finally{t(!1)}},u=E=>E.map(k=>({date:k.date,onTime:Math.floor(Math.random()*50)+20,delayed:Math.floor(Math.random()*20)+5,avgDeliveryTime:Math.floor(Math.random()*5)+2})),x=()=>["Mumbai","Delhi","Bangalore","Chennai","Kolkata","Pune","Hyderabad","Ahmedabad"].map(k=>({city:k,shipments:Math.floor(Math.random()*100)+20,revenue:Math.floor(Math.random()*5e4)+1e4})).sort((k,D)=>D.shipments-k.shipments).slice(0,5),p=()=>[{segment:"Premium",shipments:45,revenue:125e3},{segment:"Regular",shipments:120,revenue:85e3},{segment:"New",shipments:35,revenue:25e3}],b=async(E="csv")=>{try{const k=new URLSearchParams({start_date:n.start,end_date:n.end,format:E}),D=await fetch(`/api/shipments/export/data?${k}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(D.ok){const R=await D.blob(),F=window.URL.createObjectURL(R),M=document.createElement("a");M.href=F,M.download=`shipment-report-${n.start}-to-${n.end}.${E}`,document.body.appendChild(M),M.click(),window.URL.revokeObjectURL(F),document.body.removeChild(M),it.success(`Report exported as ${E.toUpperCase()}`)}else throw new Error("Export failed")}catch(k){console.error("Error exporting report:",k),it.error("Failed to export report")}},_=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],v=({title:E,value:k,change:D,icon:R,color:F="blue"})=>{const M={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500",purple:"bg-purple-500"};return r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:E}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k}),D&&r.jsxs("div",{className:"flex items-center mt-1",children:[D>0?r.jsx(Cr,{className:"w-4 h-4 text-green-500 mr-1"}):r.jsx(Oo,{className:"w-4 h-4 text-red-500 mr-1"}),r.jsxs("span",{className:`text-sm ${D>0?"text-green-600":"text-red-600"}`,children:[Math.abs(D),"%"]})]})]}),r.jsx("div",{className:`w-12 h-12 ${M[F]} rounded-lg flex items-center justify-center`,children:r.jsx(R,{className:"w-6 h-6 text-white"})})]})})},N=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(v,{title:"Total Shipments",value:a.summary.total||0,change:12,icon:Wt,color:"blue"}),r.jsx(v,{title:"Delivered",value:a.summary.delivered||0,change:8,icon:Ut,color:"green"}),r.jsx(v,{title:"In Transit",value:a.summary.inTransit||0,change:-3,icon:ks,color:"purple"}),r.jsx(v,{title:"Pending",value:a.summary.pending||0,change:15,icon:Cn,color:"yellow"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Shipments"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(l3e,{data:a.dailyShipments,children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{dataKey:"date"}),r.jsx(ba,{}),r.jsx(xn,{}),r.jsx(nc,{type:"monotone",dataKey:"count",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status Distribution"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(tR,{children:[r.jsx(Vi,{data:a.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:k})=>`${E} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:a.statusDistribution.map((E,k)=>r.jsx(Fm,{fill:_[k%_.length]},`cell-${k}`))}),r.jsx(xn,{})]})})]})]})]}),j=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delivery Performance Trends"}),r.jsx(ro,{width:"100%",height:400,children:r.jsxs(eR,{data:a.deliveryTrends,children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{dataKey:"date"}),r.jsx(ba,{}),r.jsx(xn,{}),r.jsx(ei,{}),r.jsx(hd,{type:"monotone",dataKey:"onTime",stroke:"#10B981",strokeWidth:2,name:"On Time"}),r.jsx(hd,{type:"monotone",dataKey:"delayed",stroke:"#EF4444",strokeWidth:2,name:"Delayed"})]})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Courier Partner Performance"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(mp,{data:a.courierPerformance,children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{dataKey:"name"}),r.jsx(ba,{}),r.jsx(xn,{}),r.jsx(ei,{}),r.jsx(Gs,{dataKey:"deliveryRate",fill:"#3B82F6",name:"Delivery Rate %"}),r.jsx(Gs,{dataKey:"avgDeliveryTime",fill:"#10B981",name:"Avg Delivery Time (days)"})]})})]})]}),S=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Destinations"}),r.jsx("div",{className:"space-y-4",children:a.topDestinations.map((E,k)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-blue-600",children:k+1})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:E.city}),r.jsxs("p",{className:"text-sm text-gray-500",children:[E.shipments," shipments"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-gray-900",children:["₹",E.revenue.toLocaleString()]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Revenue"})]})]},E.city))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Shipment Distribution by Region"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(mp,{data:a.topDestinations,layout:"horizontal",children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{type:"number"}),r.jsx(ba,{dataKey:"city",type:"category"}),r.jsx(xn,{}),r.jsx(Gs,{dataKey:"shipments",fill:"#3B82F6"})]})})]})]}),C=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Segment Analysis"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(mp,{data:a.customerAnalytics,children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{dataKey:"segment"}),r.jsx(ba,{}),r.jsx(xn,{}),r.jsx(ei,{}),r.jsx(Gs,{dataKey:"shipments",fill:"#3B82F6",name:"Shipments"}),r.jsx(Gs,{dataKey:"revenue",fill:"#10B981",name:"Revenue (₹)"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(v,{title:"Total Customers",value:"1,234",change:5,icon:$n,color:"blue"}),r.jsx(v,{title:"Avg Order Value",value:"₹2,450",change:12,icon:Fi,color:"green"}),r.jsx(v,{title:"Customer Satisfaction",value:"94%",change:3,icon:E4,color:"purple"})]})]}),A=()=>{switch(o){case"overview":return r.jsx(N,{});case"performance":return r.jsx(j,{});case"geographic":return r.jsx(S,{});case"customer":return r.jsx(C,{});default:return r.jsx(N,{})}};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shipment Reports"}),r.jsx("p",{className:"text-gray-600",children:"Comprehensive analytics and insights"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>b("csv"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(On,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),r.jsxs("button",{onClick:()=>b("pdf"),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[r.jsx(kr,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),r.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(is,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Oa,{className:"w-5 h-5 text-gray-400"}),r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date Range:"})]}),r.jsx("input",{type:"date",value:n.start,onChange:E=>s({...n,start:E.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"date",value:n.end,onChange:E=>s({...n,end:E.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:_u},{id:"performance",name:"Performance",icon:o7},{id:"geographic",name:"Geographic",icon:Ul},{id:"customer",name:"Customer",icon:$n}].map(E=>r.jsxs("button",{onClick:()=>d(E.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${o===E.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(E.icon,{className:"w-4 h-4"}),r.jsx("span",{children:E.name})]},E.id))})}),r.jsx("div",{className:"p-6",children:e?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(is,{className:"w-8 h-8 animate-spin text-blue-500"})}):A()})]})]})},d3e=["sales","inventory","manufacturing","procurement","outsourcing","shipment","store","finance","admin","samples"],LE={sales:"Sales",inventory:"Inventory",manufacturing:"Manufacturing",procurement:"Procurement",outsourcing:"Outsourcing",shipment:"Shipment",store:"Store",finance:"Finance",admin:"Administration",samples:"Samples"},$E=()=>{const e=_t(),[t,n]=T.useState(0),[s,a]=T.useState({totalProducts:0,totalStores:0,totalStock:0,totalSales:0,totalReturns:0,profitMargin:0,stockTurnover:0,lastUpdated:null}),[i,o]=T.useState(!0),d=()=>{const S=[["Metric","Value"],["Total Products",s.totalProducts],["Total Stock",s.totalStock],["Total Sales",`₹${(s.totalSales/1e3).toFixed(0)}K`],["Returns",`₹${(s.totalReturns/1e3).toFixed(0)}K`],["Profit Margin",`${s.profitMargin}%`],["Stock Turnover",`${s.stockTurnover}x`]].map(k=>k.join(",")).join(`
`),C=new Blob([S],{type:"text/csv"}),A=window.URL.createObjectURL(C),E=document.createElement("a");E.href=A,E.download="store-dashboard-stats.csv",E.click(),window.URL.revokeObjectURL(A)};T.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0);const j=await Ml(()=>Promise.resolve().then(()=>Pl),void 0).then(S=>S.default.get("/store/dashboard/stats"));a(j.data)}catch{a({totalProducts:0,totalStock:0,lastUpdated:null})}finally{o(!1)}},u=[{id:1,storeName:"ABC School Store",location:"Mumbai, Maharashtra",manager:"Rajesh Kumar",contact:"+91 9876543210",stockIssued:2500,stockSold:2200,stockReturned:150,revenue:45e3,profitMargin:38.2,lastStockUpdate:"2024-12-01",status:"active"},{id:2,storeName:"XYZ College Store",location:"Delhi, NCR",manager:"Priya Singh",contact:"+91 9876543211",stockIssued:1800,stockSold:1650,stockReturned:80,revenue:32e3,profitMargin:35.8,lastStockUpdate:"2024-11-30",status:"active"},{id:3,storeName:"PQR Academy Store",location:"Bangalore, Karnataka",manager:"Amit Sharma",contact:"+91 9876543212",stockIssued:3200,stockSold:2800,stockReturned:200,revenue:58e3,profitMargin:42.1,lastStockUpdate:"2024-12-01",status:"active"},{id:4,storeName:"LMN School Store",location:"Chennai, Tamil Nadu",manager:"Sunita Devi",contact:"+91 9876543213",stockIssued:1500,stockSold:1200,stockReturned:120,revenue:28e3,profitMargin:32.5,lastStockUpdate:"2024-11-29",status:"low_stock"}],x=[{id:1,challanNo:"CHN-20241201-0001",type:"outward",storeName:"ABC School Store",items:"School Uniforms, Sports Wear",quantity:250,value:45e3,date:"2024-12-01",status:"delivered"},{id:2,challanNo:"CHN-20241201-0002",type:"inward",storeName:"XYZ College Store",items:"Returned Uniforms",quantity:15,value:2800,date:"2024-12-01",status:"received"},{id:3,challanNo:"CHN-20241130-0001",type:"outward",storeName:"PQR Academy Store",items:"Winter Jackets, Accessories",quantity:180,value:32e3,date:"2024-11-30",status:"in_transit"}],p=[{id:1,storeName:"ABC School Store",productCategory:"School Uniforms",quantitySold:450,revenue:85e3,profit:32e3,profitMargin:37.6,period:"This Month"},{id:2,storeName:"XYZ College Store",productCategory:"Sports Wear",quantitySold:280,revenue:52e3,profit:18500,profitMargin:35.6,period:"This Month"},{id:3,storeName:"PQR Academy Store",productCategory:"Accessories",quantitySold:320,revenue:28e3,profit:12e3,profitMargin:42.9,period:"This Month"}],b=j=>({active:"bg-emerald-100 text-emerald-700",low_stock:"bg-amber-100 text-amber-700",inactive:"bg-rose-100 text-rose-700",delivered:"bg-emerald-100 text-emerald-700",in_transit:"bg-blue-100 text-blue-700",received:"bg-sky-100 text-sky-700",pending:"bg-amber-100 text-amber-700"})[j]||"bg-gray-100 text-gray-700",_=j=>j==="outward"?"bg-indigo-100 text-indigo-700":"bg-emerald-100 text-emerald-700",v=({title:j,value:S,icon:C,colorClasses:A="bg-blue-100 text-blue-600",subtitle:E,unit:k,trend:D})=>r.jsx("div",{className:"bg-white  shadow-sm border border-gray-200 p-4 h-full",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:j}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[S,k&&r.jsx("span",{className:"text-sm font-semibold text-gray-600",children:k})]}),E&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E}),typeof D=="number"&&r.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[D>=0?r.jsx(Cr,{className:"text-emerald-500 w-4 h-4"}):r.jsx(Oo,{className:"text-rose-500 w-4 h-4"}),r.jsxs("span",{className:`text-xs font-medium ${D>=0?"text-emerald-600":"text-rose-600"}`,children:[Math.abs(D),"% from last month"]})]})]}),r.jsx("div",{className:`rounded-full p-3 flex items-center justify-center ${A}`,children:C})]})}),N=({children:j,value:S,index:C})=>S!==C?null:r.jsx("div",{className:"pt-6",children:j});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"School Store Dashboard"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e("/store/stock-request"),children:[r.jsx(Wt,{size:18}),"Request Stock"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>e("/store/add-location"),children:[r.jsx(ln,{size:18}),"Add Store Location"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsx(v,{title:"Total Products",value:s.totalProducts,icon:r.jsx(O4,{className:"w-6 h-6"}),colorClasses:"bg-blue-100 text-blue-600"}),r.jsx(v,{title:"Total Stock",value:s.totalStock,icon:r.jsx(Wt,{className:"w-6 h-6"}),subtitle:"Items across all stores",colorClasses:"bg-sky-100 text-sky-600"}),r.jsx(v,{title:"Total Sales",value:`₹${(s.totalSales/1e3).toFixed(0)}K`,icon:r.jsx(Fi,{className:"w-6 h-6"}),subtitle:"This month",colorClasses:"bg-emerald-100 text-emerald-600",trend:12.5}),r.jsx(v,{title:"Returns",value:`₹${(s.totalReturns/1e3).toFixed(0)}K`,icon:r.jsx(b7,{className:"w-6 h-6"}),subtitle:"This month",colorClasses:"bg-amber-100 text-amber-600"}),r.jsx(v,{title:"Profit Margin",value:s.profitMargin,unit:"%",icon:r.jsx(Cr,{className:"w-6 h-6"}),colorClasses:"bg-emerald-100 text-emerald-600",trend:2.3}),r.jsx(v,{title:"Stock Turnover",value:s.stockTurnover,unit:"x",icon:r.jsx(kr,{className:"w-6 h-6"}),subtitle:"Times per year",colorClasses:"bg-indigo-100 text-indigo-600"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Quick Search & Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[r.jsx("div",{className:"md:col-span-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by store name, location, manager...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e("/store/stock-management"),children:"Stock Management"})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e("/store/sales-reports"),children:"Sales Reports"})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e("/store/profitability"),children:"Profitability"})}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:d,children:[r.jsx(On,{size:18}),"Export Data"]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>e("/store/stock-management"),children:"Stock Management"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex flex-wrap",children:["Store Locations","Stock Movements","Sales Performance","Returns & Exchanges"].map((j,S)=>r.jsx("button",{className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${t===S?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>n(S),children:j},j))})}),r.jsx(N,{value:t,index:0,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Store Locations Overview"}),r.jsx("button",{className:"self-start md:self-auto px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e("/store/locations"),children:"View All Locations"})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manager"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Issued"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Sold"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Returns"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit Margin"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:j.storeName}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:j.location}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex flex-col text-sm text-gray-600",children:[r.jsx("span",{children:j.manager}),r.jsx("span",{className:"text-xs text-gray-400",children:j.contact})]})}),r.jsx("td",{className:"px-4 py-3",children:j.stockIssued}),r.jsx("td",{className:"px-4 py-3",children:j.stockSold}),r.jsx("td",{className:"px-4 py-3",children:j.stockReturned}),r.jsxs("td",{className:"px-4 py-3",children:["₹",j.revenue.toLocaleString()]}),r.jsxs("td",{className:"px-4 py-3",children:[j.profitMargin,"%"]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(j.status)}`,children:j.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex justify-center gap-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-800","aria-label":"View store",onClick:()=>e(`/store/locations/${j.id}`),children:r.jsx(Kr,{size:16})}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700","aria-label":"Edit store",onClick:()=>e(`/store/locations/edit/${j.id}`),children:r.jsx(Bi,{size:16})})]})})]},j.id))})]})})]})}),r.jsx(N,{value:t,index:1,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Stock Movements"}),r.jsx("button",{className:"self-start md:self-auto px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e("/store/stock-movements"),children:"View All Movements"})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan No."}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:j.challanNo}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${_(j.type)}`,children:[j.type==="outward"?r.jsx(ks,{size:14}):r.jsx(Za,{size:14}),j.type.toUpperCase()]})}),r.jsx("td",{className:"px-4 py-3",children:j.storeName}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:j.items}),r.jsx("td",{className:"px-4 py-3 text-right",children:j.quantity}),r.jsxs("td",{className:"px-4 py-3",children:["₹",j.value.toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:j.date}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(j.status)}`,children:j.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-800","aria-label":"View movement",onClick:()=>e(`/store/stock-movements/${j.id}`),children:r.jsx(Kr,{size:16})})})]},j.id))})]})})]})}),r.jsx(N,{value:t,index:2,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Sales Performance"}),r.jsx("button",{className:"self-start md:self-auto px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e("/store/sales"),children:"View Detailed Sales"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(j=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dH,{className:"w-10 h-10 text-blue-500"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.storeName}),r.jsx("p",{className:"text-xs text-gray-500",children:j.productCategory})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Quantity Sold"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j.quantitySold})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Revenue"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["₹",j.revenue.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Profit"}),r.jsxs("p",{className:"text-lg font-semibold text-emerald-600",children:["₹",j.profit.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Profit Margin"}),r.jsxs("p",{className:"text-lg font-semibold text-emerald-600",children:[j.profitMargin,"%"]})]})]}),r.jsx("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(`/store/sales-reports/${j.id}`),children:"View Report"})]},j.id))})]})}),r.jsx(N,{value:t,index:3,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Returns & Exchanges"}),r.jsx("button",{className:"self-start md:self-auto px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e("/store/returns"),children:"Manage Returns"})]}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-amber-600 font-semibold uppercase tracking-wide",children:"Monthly Returns"}),r.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:["₹",(s.totalReturns/1e3).toFixed(0),"K"]})]}),r.jsx("button",{className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",onClick:()=>e("/store/exchange-order"),children:"Create Exchange Order"})]}),r.jsx("p",{className:"mt-4 text-sm text-amber-700",children:"Track returns and exchanges across all school stores to ensure timely resolutions and improved customer satisfaction."})]})]})})]})]})},u3e=[{key:"invoices",label:"Invoices"},{key:"payments",label:"Payments"},{key:"cashFlow",label:"Cash Flow"},{key:"reports",label:"Reports"}],h3e={paid:"border-emerald-200 bg-emerald-50 text-emerald-600",pending:"border-amber-200 bg-amber-50 text-amber-600",overdue:"border-rose-200 bg-rose-50 text-rose-600",partially_paid:"border-sky-200 bg-sky-50 text-sky-600"},f3e={sales:"border-emerald-200 bg-emerald-50 text-emerald-600",purchase:"border-blue-200 bg-blue-50 text-blue-600"},m3e={cleared:"border-emerald-200 bg-emerald-50 text-emerald-600",pending:"border-amber-200 bg-amber-50 text-amber-600",cancelled:"border-rose-200 bg-rose-50 text-rose-600",scheduled:"border-sky-200 bg-sky-50 text-sky-600"},x3e={received:"border-emerald-200 bg-emerald-50 text-emerald-600",made:"border-blue-200 bg-blue-50 text-blue-600"},p3e={bank_transfer:"border-indigo-200 bg-indigo-50 text-indigo-600",cheque:"border-amber-200 bg-amber-50 text-amber-600",cash:"border-gray-200 bg-gray-50 text-gray-600",upi:"border-purple-200 bg-purple-50 text-purple-600"},g3e={operating:"border-emerald-200 bg-emerald-50 text-emerald-600",investing:"border-blue-200 bg-blue-50 text-blue-600",financing:"border-sky-200 bg-sky-50 text-sky-600"},Hd="border border-gray-200 bg-gray-100 text-gray-600",FE={outstandingReceivables:85e4,outstandingPayables:65e4},BE=[{id:"revenue",title:"Total Revenue",value:425e4,trend:12.5,subtitle:"Month-to-date",icon:"TrendingUp",color:"emerald"},{id:"expenses",title:"Total Expenses",value:285e4,trend:-8.2,subtitle:"Month-to-date",icon:"TrendingDown",color:"rose"},{id:"profit",title:"Net Profit",value:14e5,trend:15.3,subtitle:"Month-to-date",icon:"DollarSign",color:"primary"},{id:"cash",title:"Cash Flow",value:75e4,trend:6.1,subtitle:"Operating cash flow",icon:"Wallet",color:"sky"}],y3e=[{id:"total",label:"Total Invoices",value:156,trend:8.4,color:"blue"},{id:"overdue",label:"Overdue",value:12,trend:-2.3,color:"rose"},{id:"pending",label:"Pending",value:28,trend:4.7,color:"amber"},{id:"paid",label:"Paid",value:116,trend:12.8,color:"emerald"}],UE=[{id:1,paymentNo:"PAY-2024-001",invoiceNo:"INV-2024-001",type:"received",party:"ABC School",amount:425e3,paymentMode:"bank_transfer",paymentDate:"2024-12-10",status:"cleared",reference:"NEFT123456789"},{id:2,paymentNo:"PAY-2024-002",invoiceNo:"INV-2024-004",type:"made",party:"LMN Accessories",amount:5e4,paymentMode:"cheque",paymentDate:"2024-12-01",status:"pending",reference:"CHQ001234"},{id:3,paymentNo:"PAY-2024-003",invoiceNo:"INV-2024-005",type:"received",party:"XYZ School",amount:18e4,paymentMode:"cash",paymentDate:"2024-12-05",status:"cleared",reference:"CASH-001"}],b3e=[{id:1,description:"Advance payment received",amount:25e4,category:"operating",date:"2024-12-05",reference:"ADV-2024-012"},{id:2,description:"Machinery upgrade",amount:-18e4,category:"investing",date:"2024-12-08",reference:"CAPEX-2024-004"},{id:3,description:"Loan repayment",amount:-95e3,category:"financing",date:"2024-12-12",reference:"FIN-2024-015"},{id:4,description:"Quarterly GST return",amount:-65e3,category:"operating",date:"2024-12-14",reference:"GST-2024-Q4"}],v3e=[{id:"conversion",label:"Invoice Collection Rate",value:"92%",change:4.3,direction:"up",description:"Receivables collected within payment terms"},{id:"cost",label:"Expense Variance",value:"-6.5%",change:1.2,direction:"down",description:"Under budget for the current month"},{id:"margin",label:"Gross Margin",value:"38.2%",change:2.1,direction:"up",description:"Improved due to better pricing"},{id:"pipeline",label:"Upcoming Receivables",value:"₹12.4L",change:3.8,direction:"up",description:"Invoices due within the next 30 days"}],j3e=[{id:1,category:"Raw Materials",amount:125e4,percentage:43},{id:2,category:"Labor & Benefits",amount:78e4,percentage:27},{id:3,category:"Operations",amount:42e4,percentage:14},{id:4,category:"Logistics",amount:265e3,percentage:9},{id:5,category:"Marketing",amount:135e3,percentage:5}],w3e=[{id:1,title:"GST Monthly Filing",dueDate:"2024-12-20",status:"pending",owner:"Priya Singh"},{id:2,title:"TDS Payment",dueDate:"2024-12-07",status:"completed",owner:"Rahul Sharma"},{id:3,title:"Vendor Agreement Renewal",dueDate:"2024-12-18",status:"in_progress",owner:"Amit Kumar"}],N3e=[{id:1,title:"Marketing Budget Overspend",percentage:78,status:"warning"},{id:2,title:"Operations Cost Variance",percentage:54,status:"success"},{id:3,title:"Payroll Utilization",percentage:88,status:"danger"}],_3e={TrendingUp:Cr,TrendingDown:Oo,DollarSign:Fi,Wallet:NW},S3e=e=>_3e[e]||null,zE=e=>e?`₹${e.toLocaleString()}`:"₹0",Wo=e=>e?e>=1e7?`₹${(e/1e7).toFixed(1)}Cr`:e>=1e5?`₹${(e/1e5).toFixed(1)}L`:e>=1e3?`₹${(e/1e3).toFixed(1)}K`:`₹${e.toLocaleString()}`:"₹0",Bv=e=>e==null?"0%":`${e>0?"+":""}${e}%`,Wd=(e,t,n)=>t&&e[t]||n,C3e=e=>e==null?"neutral":e>0?"up":e<0?"down":"neutral",VE=()=>{const e=_t(),[t,n]=T.useState("invoices"),[s,a]=T.useState("all"),[i,o]=T.useState({totalInvoices:0,totalPayments:0,totalRevenue:0,outstanding:0}),[d,h]=T.useState(!0);K.useEffect(()=>{u()},[]);const u=async()=>{try{h(!0);const x=await Ml(()=>Promise.resolve().then(()=>Pl),void 0).then(p=>p.default.get("/finance/dashboard/stats"));o(x.data)}catch{o({totalInvoices:0,totalPayments:0,totalRevenue:0,outstanding:0})}finally{h(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finance Dashboard"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md border border-gray-300 px-4 py-2 text-sm text-gray-700 transition hover:bg-gray-50",onClick:()=>e("/finance/payments"),children:[r.jsx(W6,{className:"h-4 w-4"})," Record Payment"]}),r.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-700",onClick:()=>e("/finance/create-invoice"),children:[r.jsx(ln,{className:"h-4 w-4"})," Create Invoice"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:BE.map(x=>{const p=S3e(x.icon),b=C3e(x.trend),_=b==="up"?"text-emerald-600":b==="down"?"text-rose-600":"text-gray-500",v=b==="up"?r.jsx(Cr,{className:"h-4 w-4 text-emerald-500"}):b==="down"?r.jsx(Oo,{className:"h-4 w-4 text-rose-500"}):r.jsx(Cn,{className:"h-4 w-4 text-gray-400"}),N=x.color==="emerald"?"bg-emerald-100 text-emerald-600":x.color==="rose"?"bg-rose-100 text-rose-600":x.color==="primary"?"bg-primary-100 text-primary-600":x.color==="sky"?"bg-sky-100 text-sky-600":"bg-blue-100 text-blue-600";return r.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:x.title}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:Wo(x.value)}),x.subtitle&&r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:x.subtitle}),x.trend!==void 0&&r.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-sm",children:[v,r.jsx("span",{className:_,children:Bv(x.trend)}),r.jsx("span",{className:"text-gray-400",children:"vs last month"})]})]}),r.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${N}`,children:p?r.jsx(p,{className:"h-5 w-5"}):r.jsx(kr,{className:"h-5 w-5"})})]})},x.id)})}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Outstanding Receivables"}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-emerald-600",children:[r.jsx(Cr,{className:"h-4 w-4"})," 4.2%"]})]}),r.jsx("p",{className:"text-3xl font-bold text-emerald-600",children:Wo(FE.outstandingReceivables)}),r.jsx("p",{className:"text-sm text-gray-600",children:"Amount to be received from customers"}),r.jsx("div",{className:"space-y-2",children:y3e.map(x=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:x.label}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-900",children:x.value}),r.jsx("span",{className:`text-xs font-medium ${x.trend>=0?"text-emerald-600":"text-rose-600"}`,children:Bv(x.trend)})]})]},x.id))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Outstanding Payables"}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-rose-600",children:[r.jsx(Oo,{className:"h-4 w-4"})," 2.1%"]})]}),r.jsx("p",{className:"text-3xl font-bold text-rose-600",children:Wo(FE.outstandingPayables)}),r.jsx("p",{className:"text-sm text-gray-600",children:"Amount to be paid to vendors"}),r.jsx("div",{className:"space-y-3",children:N3e.map(x=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsx("span",{children:x.title}),r.jsxs("span",{className:`text-xs font-medium ${x.status==="danger"?"text-rose-600":x.status==="warning"?"text-amber-600":"text-emerald-600"}`,children:[x.percentage,"% used"]})]}),r.jsx("div",{className:"h-2 w-full rounded-full bg-gray-100",children:r.jsx("div",{className:`h-2 rounded-full ${x.status==="danger"?"bg-rose-500":x.status==="warning"?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${x.percentage}%`}})})]},x.id))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Compliance Checklist"}),r.jsx("span",{className:"text-xs text-gray-500",children:"This month"})]}),r.jsx("ul",{className:"space-y-3",children:w3e.map(x=>r.jsxs("li",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:x.title}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Owner: ",x.owner]})]}),r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${x.status==="completed"?"border-emerald-200 bg-emerald-50 text-emerald-600":x.status==="pending"?"border-amber-200 bg-amber-50 text-amber-600":"border-sky-200 bg-sky-50 text-sky-600"}`,children:x.status.replace("_"," ").toUpperCase()})]},x.id))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Expense Breakdown"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Current month"})]}),r.jsx("div",{className:"space-y-3",children:j3e.map(x=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700",children:[r.jsx("span",{children:x.category}),r.jsx("span",{className:"font-semibold",children:Wo(x.amount)})]}),r.jsx("div",{className:"h-2 w-full rounded-full bg-gray-100",children:r.jsx("div",{className:"h-2 rounded-full bg-primary-500",style:{width:`${x.percentage}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[x.percentage,"% of total expenses"]})]},x.id))})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Search & Filters"}),r.jsxs("div",{className:"grid grid-cols-1 items-center gap-4 md:grid-cols-12",children:[r.jsx("div",{className:"md:col-span-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by invoice no, customer, vendor...",className:"w-full rounded-md border border-gray-200 px-4 py-2.5 pl-9 text-sm text-gray-700 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20"})]})}),r.jsx("div",{className:"md:col-span-3",children:r.jsxs("select",{className:"w-full rounded-md border border-gray-200 px-4 py-2.5 text-sm text-gray-700 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20",value:s,onChange:x=>a(x.target.value),children:[r.jsx("option",{value:"all",children:"All Invoices"}),r.jsx("option",{value:"sales",children:"Sales Invoices"}),r.jsx("option",{value:"purchase",children:"Purchase Invoices"})]})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("button",{type:"button",className:"w-full rounded-md border border-gray-200 px-4 py-2.5 text-sm text-gray-700 transition hover:border-primary-200 hover:bg-primary-50",onClick:()=>e("/finance/reports"),children:"Financial Reports"})}),r.jsx("div",{className:"md:col-span-3",children:r.jsxs("button",{type:"button",className:"flex w-full items-center justify-center gap-2 rounded-md bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white transition hover:bg-primary-700",children:[r.jsx(On,{className:"h-4 w-4"})," Export Data"]})})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm",children:[r.jsx("div",{className:"border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex flex-wrap",children:u3e.map(x=>r.jsx("button",{type:"button",className:`px-4 py-3 text-sm font-medium transition ${t===x.key?"border-b-2 border-primary-500 text-primary-600":"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,onClick:()=>n(x.key),children:x.label},x.key))})}),t==="invoices"&&r.jsxs("div",{className:"space-y-4 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Invoices (",filteredInvoices.length,")"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",className:"rounded-md border border-gray-200 px-4 py-2 text-sm text-gray-700 transition hover:border-primary-200 hover:bg-primary-50",onClick:()=>e("/finance/invoices"),children:"View All Invoices"}),r.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-700",onClick:()=>e("/finance/create-invoice"),children:[r.jsx(ln,{className:"h-4 w-4"})," New Invoice"]})]})]}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Invoice No."}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Customer / Vendor"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Due Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:filteredInvoices.map(x=>r.jsxs("tr",{className:"transition hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:x.invoiceNo}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Wd(f3e,x.type,Hd)}`,children:x.type.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:x.customerVendor}),r.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:zE(x.amount)}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:x.dueDate}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold uppercase ${Wd(h3e,x.status,Hd)}`,children:[r.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-current"}),x.status.replace("_"," ").toUpperCase()]})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{type:"button",className:"rounded-full border border-transparent p-2 text-primary-600 transition hover:border-primary-200 hover:bg-primary-50","aria-label":"View invoice",children:r.jsx(Kr,{className:"h-4 w-4"})}),r.jsx("button",{type:"button",className:"rounded-full border border-transparent p-2 text-gray-500 transition hover:border-gray-200 hover:bg-gray-50","aria-label":"Edit invoice",children:r.jsx(Bi,{className:"h-4 w-4"})})]})})]},x.id))})]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Total Invoices"}),r.jsx("div",{className:"mt-2 text-2xl font-bold text-gray-900",children:invoiceTotals.count})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Total Value"}),r.jsx("div",{className:"mt-2 text-2xl font-bold text-gray-900",children:Wo(invoiceTotals.value)})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Collection Rate"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-emerald-600",children:[r.jsx(Ut,{className:"h-5 w-5"})," 92%"]})]})]})]}),t==="payments"&&r.jsxs("div",{className:"space-y-4 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Payments (",UE.length,")"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",className:"rounded-md border border-gray-200 px-4 py-2 text-sm text-gray-700 transition hover:border-primary-200 hover:bg-primary-50",onClick:()=>e("/finance/payments"),children:"View All Payments"}),r.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-700",onClick:()=>e("/finance/payments"),children:[r.jsx(W6,{className:"h-4 w-4"})," Record Payment"]})]})]}),r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Payment No."}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Party"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Payment Mode"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Payment Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Reference"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:UE.map(x=>r.jsxs("tr",{className:"transition hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:x.paymentNo}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${Wd(x3e,x.type,Hd)}`,children:x.type.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:x.party}),r.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900",children:zE(x.amount)}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-semibold uppercase ${Wd(p3e,x.paymentMode,Hd)}`,children:x.paymentMode.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:x.paymentDate}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold uppercase ${Wd(m3e,x.status,Hd)}`,children:[r.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-current"}),x.status.toUpperCase()]})}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:x.reference||"—"})]},x.id))})]})}),r.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Total Payments"}),r.jsx("div",{className:"mt-2 text-2xl font-bold text-gray-900",children:paymentTotals.count})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Total Value"}),r.jsx("div",{className:"mt-2 text-2xl font-bold text-gray-900",children:Wo(paymentTotals.value)})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Cleared Ratio"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-emerald-600",children:[r.jsx(Ut,{className:"h-5 w-5"})," 78%"]})]})]})]}),t==="cashFlow"&&r.jsxs("div",{className:"space-y-4 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Cash Flow Insights"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",className:"rounded-md border border-gray-200 px-4 py-2 text-sm text-gray-700 transition hover:border-primary-200 hover:bg-primary-50",children:"View Cash Flow Statement"}),r.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-700",children:[r.jsx(On,{className:"h-4 w-4"})," Export Summary"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:b3e.map(x=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:x.description}),r.jsx("p",{className:"text-xs text-gray-500",children:x.date})]}),r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold uppercase ${Wd(g3e,x.category,Hd)}`,children:x.category.toUpperCase()})]}),r.jsxs("p",{className:`mt-3 text-lg font-semibold ${x.amount>=0?"text-emerald-600":"text-rose-600"}`,children:[x.amount>=0?"+":"-",Wo(Math.abs(x.amount))]}),r.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Ref: ",x.reference]})]},x.id))}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:v3e.map(x=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:x.label}),r.jsx("p",{className:"text-xs text-gray-500",children:x.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.value}),r.jsxs("div",{className:`text-xs font-semibold ${x.direction==="up"?"text-emerald-600":x.direction==="down"?"text-rose-600":"text-gray-500"}`,children:[x.direction==="up"?"+":"",x.change,"% vs last month"]})]})]},x.id))})]}),t==="reports"&&r.jsxs("div",{className:"space-y-4 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Financial Reports"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",className:"rounded-md border border-gray-200 px-4 py-2 text-sm text-gray-700 transition hover:border-primary-200 hover:bg-primary-50",onClick:()=>e("/finance/reports"),children:"View Detailed Reports"}),r.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-700",children:[r.jsx(On,{className:"h-4 w-4"})," Export Reports"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:BE.map(x=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm",children:[r.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:x.title}),r.jsx("div",{className:"mt-2 text-2xl font-bold text-gray-900",children:Wo(x.value)}),r.jsx("div",{className:"mt-1 text-xs text-gray-500",children:x.subtitle}),r.jsxs("div",{className:"mt-2 text-xs font-semibold text-emerald-600",children:[Bv(x.trend)," vs last month"]})]},`${x.id}-report`))}),r.jsxs("div",{className:"rounded-lg border border-dashed border-gray-300 bg-gray-50 p-6 text-center",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Integrate your accounting software (Tally, Zoho Books, QuickBooks) to sync live finance data."}),r.jsxs("button",{type:"button",className:"mt-3 inline-flex items-center gap-2 rounded-md border border-primary-200 bg-white px-4 py-2 text-sm font-semibold text-primary-600 transition hover:bg-primary-50",children:[r.jsx(kr,{className:"h-4 w-4"})," Connect Integration"]})]})]})]})]})},A3e=[{id:1,invoiceNo:"INV-2024-001",type:"sales",customerVendor:"ABC School",amount:425e3,dueDate:"2024-12-15",status:"paid",paymentDate:"2024-12-10",challanNo:"CHN-20241201-0001",createdDate:"2024-11-15"},{id:2,invoiceNo:"INV-2024-002",type:"purchase",customerVendor:"XYZ Textiles",amount:125e3,dueDate:"2024-12-20",status:"pending",paymentDate:null,challanNo:"CHN-20241201-0002",createdDate:"2024-11-20"},{id:3,invoiceNo:"INV-2024-003",type:"sales",customerVendor:"PQR College",amount:285e3,dueDate:"2024-12-25",status:"overdue",paymentDate:null,challanNo:"CHN-20241201-0003",createdDate:"2024-11-25"}],O3e={paid:"bg-emerald-100 text-emerald-700",pending:"bg-amber-100 text-amber-700",overdue:"bg-rose-100 text-rose-700",partially_paid:"bg-sky-100 text-sky-700"},E3e={sales:"bg-emerald-100 text-emerald-700",purchase:"bg-blue-100 text-blue-700"},k3e=()=>{const[e,t]=T.useState(A3e),[n,s]=T.useState(!1),[a,i]=T.useState("view"),[o,d]=T.useState(null),h=(b,_=null)=>{i(b),d(_),s(!0)},u=()=>{s(!1),d(null)},x=b=>{t([...e,{...b,id:e.length+1}]),u()},p=b=>{t(e.map(_=>_.id===b.id?b:_)),u()};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Invoices"}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",onClick:()=>h("create"),children:[r.jsx(ln,{size:18})," Create Invoice"]})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg bg-white",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-left",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Invoice No."}),r.jsx("th",{className:"px-4 py-3",children:"Type"}),r.jsx("th",{className:"px-4 py-3",children:"Customer / Vendor"}),r.jsx("th",{className:"px-4 py-3",children:"Amount"}),r.jsx("th",{className:"px-4 py-3",children:"Due Date"}),r.jsx("th",{className:"px-4 py-3",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(b=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:b.invoiceNo}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${E3e[b.type]}`,children:b.type.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:b.customerVendor}),r.jsxs("td",{className:"px-4 py-3",children:["₹",b.amount.toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:b.dueDate}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${O3e[b.status]}`,children:b.status.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex justify-center gap-2",children:[r.jsx("button",{className:"text-primary-600 hover:text-primary-800","aria-label":"View",onClick:()=>h("view",b),children:r.jsx(Kr,{size:16})}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700","aria-label":"Edit",onClick:()=>h("edit",b),children:r.jsx(Bi,{size:16})})]})})]},b.id))})]})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:u,children:"×"}),a==="view"&&o&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Invoice No:"})," ",o.invoiceNo]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",o.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Customer/Vendor:"})," ",o.customerVendor]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Amount:"})," ₹",o.amount.toLocaleString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",o.status]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Due Date:"})," ",o.dueDate]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Created Date:"})," ",o.createdDate]})]})]}),a==="edit"&&o&&r.jsx(T3e,{invoice:o,onSave:p,onCancel:u}),a==="create"&&r.jsx(P3e,{onSave:x,onCancel:u})]})})]})};function T3e({invoice:e,onSave:t,onCancel:n}){const[s,a]=T.useState(e);return r.jsxs("form",{className:"space-y-4",onSubmit:i=>{i.preventDefault(),t(s)},children:[r.jsx("h2",{className:"text-lg font-bold",children:"Edit Invoice"}),r.jsx("input",{className:"w-full border rounded p-2",value:s.invoiceNo,onChange:i=>a({...s,invoiceNo:i.target.value})}),r.jsx("input",{className:"w-full border rounded p-2",value:s.customerVendor,onChange:i=>a({...s,customerVendor:i.target.value})}),r.jsx("input",{className:"w-full border rounded p-2",type:"number",value:s.amount,onChange:i=>a({...s,amount:Number(i.target.value)})}),r.jsx("input",{className:"w-full border rounded p-2",value:s.dueDate,onChange:i=>a({...s,dueDate:i.target.value})}),r.jsxs("select",{className:"w-full border rounded p-2",value:s.status,onChange:i=>a({...s,status:i.target.value}),children:[r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"partially_paid",children:"Partially Paid"})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded",onClick:n,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded",children:"Save"})]})]})}function P3e({onSave:e,onCancel:t}){const[n,s]=T.useState({invoiceNo:"",type:"sales",customerVendor:"",amount:0,dueDate:"",status:"pending",paymentDate:"",challanNo:"",createdDate:new Date().toISOString().slice(0,10)});return r.jsxs("form",{className:"space-y-4",onSubmit:a=>{a.preventDefault(),e(n)},children:[r.jsx("h2",{className:"text-lg font-bold",children:"Create Invoice"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Invoice No",value:n.invoiceNo,onChange:a=>s({...n,invoiceNo:a.target.value}),required:!0}),r.jsxs("select",{className:"w-full border rounded p-2",value:n.type,onChange:a=>s({...n,type:a.target.value}),required:!0,children:[r.jsx("option",{value:"sales",children:"Sales"}),r.jsx("option",{value:"purchase",children:"Purchase"})]}),r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Customer/Vendor",value:n.customerVendor,onChange:a=>s({...n,customerVendor:a.target.value}),required:!0}),r.jsx("input",{className:"w-full border rounded p-2",type:"number",min:"0",placeholder:"Amount",value:n.amount,onChange:a=>s({...n,amount:Number(a.target.value)}),required:!0}),r.jsx("input",{className:"w-full border rounded p-2",type:"date",placeholder:"Due Date",value:n.dueDate,onChange:a=>s({...n,dueDate:a.target.value}),required:!0}),r.jsxs("select",{className:"w-full border rounded p-2",value:n.status,onChange:a=>s({...n,status:a.target.value}),required:!0,children:[r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"partially_paid",children:"Partially Paid"})]}),r.jsx("input",{className:"w-full border rounded p-2",type:"date",placeholder:"Payment Date",value:n.paymentDate,onChange:a=>s({...n,paymentDate:a.target.value})}),r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Challan No",value:n.challanNo,onChange:a=>s({...n,challanNo:a.target.value})}),r.jsx("input",{className:"w-full border rounded p-2",type:"date",placeholder:"Created Date",value:n.createdDate,onChange:a=>s({...n,createdDate:a.target.value}),required:!0})]}),r.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded",children:"Create"})]})]})}const I3e=[{id:1,paymentNo:"PAY-2024-001",invoiceNo:"INV-2024-001",type:"received",party:"ABC School",amount:425e3,paymentMode:"bank_transfer",paymentDate:"2024-12-10",status:"cleared",reference:"NEFT123456789"},{id:2,paymentNo:"PAY-2024-002",invoiceNo:"INV-2024-004",type:"made",party:"LMN Accessories",amount:5e4,paymentMode:"cheque",paymentDate:"2024-12-01",status:"pending",reference:"CHQ001234"},{id:3,paymentNo:"PAY-2024-003",invoiceNo:"INV-2024-005",type:"received",party:"XYZ School",amount:18e4,paymentMode:"cash",paymentDate:"2024-12-05",status:"cleared",reference:"CASH-001"}],D3e={cleared:"bg-emerald-100 text-emerald-700",pending:"bg-amber-100 text-amber-700",cancelled:"bg-rose-100 text-rose-700"},M3e={received:"bg-emerald-100 text-emerald-700",made:"bg-blue-100 text-blue-700"},R3e=()=>{const[e,t]=T.useState(I3e),[n,s]=T.useState(!1),[a,i]=T.useState("view"),[o,d]=T.useState(null),h=(p,b=null)=>{i(p),d(b),s(!0)},u=()=>{s(!1),d(null)},x=p=>{t([...e,{...p,id:e.length+1}]),u()};return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Payments"}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",onClick:()=>h("record"),children:[r.jsx(ln,{size:18})," Record Payment"]})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg bg-white",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-left",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3",children:"Payment No."}),r.jsx("th",{className:"px-4 py-3",children:"Type"}),r.jsx("th",{className:"px-4 py-3",children:"Party"}),r.jsx("th",{className:"px-4 py-3",children:"Amount"}),r.jsx("th",{className:"px-4 py-3",children:"Payment Mode"}),r.jsx("th",{className:"px-4 py-3",children:"Payment Date"}),r.jsx("th",{className:"px-4 py-3",children:"Status"}),r.jsx("th",{className:"px-4 py-3",children:"Reference"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(p=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:p.paymentNo}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${M3e[p.type]}`,children:p.type.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:p.party}),r.jsxs("td",{className:"px-4 py-3",children:["₹",p.amount.toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:p.paymentMode.replace("_"," ")}),r.jsx("td",{className:"px-4 py-3",children:p.paymentDate}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${D3e[p.status]}`,children:p.status.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3",children:p.reference}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("button",{className:"text-primary-600 hover:text-primary-800","aria-label":"View",onClick:()=>h("view",p),children:r.jsx(Kr,{size:16})})})]},p.id))})]})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:u,children:"×"}),a==="view"&&o&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Payment Details"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Payment No:"})," ",o.paymentNo]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Type:"})," ",o.type]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Party:"})," ",o.party]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Amount:"})," ₹",o.amount.toLocaleString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",o.status]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Payment Mode:"})," ",o.paymentMode]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Payment Date:"})," ",o.paymentDate]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Reference:"})," ",o.reference]})]})]}),a==="record"&&r.jsx(L3e,{onSave:x,onCancel:u})]})})]})};function L3e({onSave:e,onCancel:t}){const[n,s]=T.useState({paymentNo:"",type:"received",party:"",amount:0,paymentMode:"bank_transfer",paymentDate:"",status:"pending",reference:"",invoiceNo:""});return r.jsxs("form",{className:"space-y-4",onSubmit:a=>{a.preventDefault(),e(n)},children:[r.jsx("h2",{className:"text-lg font-bold",children:"Record Payment"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Payment No",value:n.paymentNo,onChange:a=>s({...n,paymentNo:a.target.value}),required:!0}),r.jsxs("select",{className:"w-full border rounded p-2",value:n.type,onChange:a=>s({...n,type:a.target.value}),required:!0,children:[r.jsx("option",{value:"received",children:"Received"}),r.jsx("option",{value:"made",children:"Made"})]}),r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Party",value:n.party,onChange:a=>s({...n,party:a.target.value}),required:!0}),r.jsx("input",{className:"w-full border rounded p-2",type:"number",min:"0",placeholder:"Amount",value:n.amount,onChange:a=>s({...n,amount:Number(a.target.value)}),required:!0}),r.jsx("input",{className:"w-full border rounded p-2",type:"date",placeholder:"Payment Date",value:n.paymentDate,onChange:a=>s({...n,paymentDate:a.target.value}),required:!0}),r.jsxs("select",{className:"w-full border rounded p-2",value:n.paymentMode,onChange:a=>s({...n,paymentMode:a.target.value}),required:!0,children:[r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"cheque",children:"Cheque"}),r.jsx("option",{value:"cash",children:"Cash"})]}),r.jsxs("select",{className:"w-full border rounded p-2",value:n.status,onChange:a=>s({...n,status:a.target.value}),required:!0,children:[r.jsx("option",{value:"cleared",children:"Cleared"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Reference",value:n.reference,onChange:a=>s({...n,reference:a.target.value})}),r.jsx("input",{className:"w-full border rounded p-2",placeholder:"Invoice No (linked)",value:n.invoiceNo,onChange:a=>s({...n,invoiceNo:a.target.value})})]}),r.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[r.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded",onClick:t,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded",children:"Record"})]})]})}const qx={totalRevenue:425e4,totalExpenses:285e4,netProfit:14e5,cashFlow:75e4},$3e=()=>r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Financial Reports"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(Hx,{title:"Total Revenue",value:`₹${(qx.totalRevenue/1e5).toFixed(1)}L`,icon:r.jsx(Cr,{className:"w-6 h-6"}),colorClasses:"bg-emerald-100 text-emerald-600",subtitle:"This month",trend:12.5}),r.jsx(Hx,{title:"Total Expenses",value:`₹${(qx.totalExpenses/1e5).toFixed(1)}L`,icon:r.jsx(Oo,{className:"w-6 h-6"}),colorClasses:"bg-rose-100 text-rose-600",subtitle:"This month",trend:-8.2}),r.jsx(Hx,{title:"Net Profit",value:`₹${(qx.netProfit/1e5).toFixed(1)}L`,icon:r.jsx(Fi,{className:"w-6 h-6"}),colorClasses:"bg-primary-100 text-primary-600",subtitle:"This month",trend:15.3}),r.jsx(Hx,{title:"Cash Flow",value:`₹${(qx.cashFlow/1e5).toFixed(1)}L`,icon:r.jsx(kr,{className:"w-6 h-6"}),colorClasses:"bg-sky-100 text-sky-600",subtitle:"Operating cash flow",trend:6.1})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Export Financial Data"}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:[r.jsx(On,{size:18})," Export as CSV"]})]})]});function Hx({title:e,value:t,icon:n,colorClasses:s="bg-blue-100 text-blue-600",subtitle:a,trend:i}){return r.jsx("div",{className:"bg-white shadow-sm border border-gray-200 p-4 h-full",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),a&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a}),typeof i=="number"&&r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[i>=0?r.jsx(Cr,{className:"text-emerald-500 w-4 h-4"}):r.jsx(Oo,{className:"text-rose-500 w-4 h-4"}),r.jsxs("span",{className:`text-xs font-medium ${i>=0?"text-emerald-600":"text-rose-600"}`,children:[Math.abs(i),"% from last month"]})]})]}),r.jsx("div",{className:`rounded-full p-3 flex items-center justify-center ${s}`,children:n})]})})}const qE=()=>{const{user:e}=$i(),t=_t(),[n,s]=T.useState(0),[a,i]=T.useState(!1),[o,d]=T.useState(!1),[h,u]=T.useState(!0),[x,p]=T.useState(null),[b,_]=T.useState(null),[v,N]=T.useState(null),[j,S]=T.useState([]),[C,A]=T.useState([]),[E,k]=T.useState([]),[D,R]=T.useState([]),[F,M]=T.useState([]),[z,I]=T.useState({}),[L,$]=T.useState([]),[W,U]=T.useState({total:0,totalValue:0,urgent:0});T.useEffect(()=>{(async()=>{try{u(!0);const we=await he.get("/admin/dashboard-stats");p(we.data);try{const ze=await he.get("/admin/department-overview");_(ze.data)}catch{ye.error("Unable to load department overview"),_({})}const De=await he.get("/admin/stock-overview");N(De.data);const tt=await he.get("/admin/recent-activities?limit=10");S(tt.data.activities);const Gt=await he.get("/admin/audit-logs?page=1&limit=50");A(Gt.data.logs);const sr=await he.get("/users?page=1&limit=20");k(sr.data.users);const me=await he.get("/admin/roles");R(me.data.roles);const re=await he.get("/notifications?limit=10&unread_only=true");M(re.data.notifications);const Oe=await he.get("/notifications/stats");I(Oe.data);try{const Ze=(await he.get("/admin/pending-approvals")).data.purchaseOrders||[];$(Ze);const er=Ze.reduce((mr,Ds)=>mr+(parseFloat(Ds.final_amount)||0),0),Nt=Ze.filter(mr=>mr.priority==="high"||mr.priority==="urgent").length;U({total:Ze.length,totalValue:er,urgent:Nt})}catch(ze){console.error("Error fetching pending approvals:",ze),$([])}}catch(we){console.error("Error fetching dashboard data:",we)}finally{u(!1)}})()},[]);const Y=x?{totalUsers:x.users.total,activeUsers:x.users.active,totalRoles:D.length,dailyTransactions:x.sales.totalOrders+x.purchases.totalOrders}:{totalUsers:0,activeUsers:0},X=se=>({active:"bg-green-100 text-green-700",inactive:"bg-red-100 text-red-700",pending:"bg-yellow-100 text-yellow-700",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",error:"bg-red-100 text-red-700"})[se]||"bg-gray-100 text-gray-700",V=se=>({sales:"bg-blue-600",inventory:"bg-green-600",manufacturing:"bg-orange-600",procurement:"bg-purple-600",outsourcing:"bg-pink-600",shipment:"bg-indigo-600",store:"bg-teal-600",finance:"bg-red-600",admin:"bg-gray-600",samples:"bg-yellow-600"})[se]||"bg-gray-600",G=({title:se,value:we,icon:De,color:tt="primary",subtitle:Gt,trend:sr})=>r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-semibold uppercase text-gray-500 mb-1 tracking-wide",children:se}),r.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:we}),Gt&&r.jsx("div",{className:"text-xs text-gray-500",children:Gt}),sr&&r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(wj,{className:"text-green-600 w-4 h-4 mr-1"}),r.jsxs("span",{className:"text-xs text-green-600 font-semibold",children:["+",sr,"% from last month"]})]})]}),r.jsx("div",{className:`rounded-xl p-3 flex items-center justify-center w-14 h-14 ${tt==="primary"?"bg-blue-100":tt==="success"?"bg-green-100":tt==="info"?"bg-cyan-100":tt==="warning"?"bg-yellow-100":tt==="secondary"?"bg-purple-100":"bg-blue-100"}`,children:De})]})}),ne=({children:se,value:we,index:De})=>r.jsx("div",{className:we!==De?"hidden":"",children:we===De&&r.jsx("div",{className:"p-4",children:se})}),[ae,le]=T.useState({name:"",email:"",phone:"",department:"",role:"",status:"active",sendWelcome:!0}),[ie,fe]=T.useState(!1),[xe,ge]=T.useState(""),ke=se=>{const{name:we,value:De,type:tt,checked:Gt}=se.target;le(sr=>({...sr,[we]:tt==="checkbox"?Gt:De}))},Ae=async()=>{var se,we;ge(""),fe(!0);try{const De=`EMP${Date.now().toString().slice(-6)}`,tt=`TempPass${Math.random().toString(36).substring(2,8)}`,Gt={employee_id:De,name:ae.name,email:ae.email,password:tt,phone:ae.phone,role_id:parseInt(ae.role),department:ae.department,status:ae.status,sendWelcome:ae.sendWelcome};await he.post("/users",Gt),i(!1),le({name:"",email:"",phone:"",department:"",role:"",status:"active",sendWelcome:!0});const sr=await he.get("/users?page=1&limit=20");k(sr.data.users)}catch(De){ge(((we=(se=De.response)==null?void 0:se.data)==null?void 0:we.message)||"Failed to create user")}finally{fe(!1)}},Ne=()=>a&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl",children:[r.jsx("div",{className:"px-6 py-4 border-b font-bold text-lg",children:"Add New User"}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{className:"w-full border rounded px-3 py-2",name:"name",placeholder:"Full Name",value:ae.name,onChange:ke}),r.jsx("input",{className:"w-full border rounded px-3 py-2",name:"email",placeholder:"Email Address",type:"email",value:ae.email,onChange:ke}),r.jsx("input",{className:"w-full border rounded px-3 py-2",name:"phone",placeholder:"Phone Number",value:ae.phone,onChange:ke}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",name:"department",value:ae.department,onChange:ke,children:[r.jsx("option",{value:"",children:"Department"}),r.jsx("option",{value:"sales",children:"Sales"}),r.jsx("option",{value:"procurement",children:"Procurement"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"admin",children:"Admin"})]}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",name:"role",value:ae.role,onChange:ke,children:[r.jsx("option",{value:"",children:"Role"}),r.jsx("option",{value:"sales_manager",children:"Sales Manager"}),r.jsx("option",{value:"procurement_officer",children:"Procurement Officer"}),r.jsx("option",{value:"production_supervisor",children:"Production Supervisor"}),r.jsx("option",{value:"finance_manager",children:"Finance Manager"}),r.jsx("option",{value:"admin_manager",children:"Admin Manager"}),r.jsx("option",{value:"superadmin",children:"Superadmin"})]}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",name:"status",value:ae.status,onChange:ke,children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]}),r.jsxs("div",{className:"mt-4 flex items-center",children:[r.jsx("input",{type:"checkbox",name:"sendWelcome",checked:ae.sendWelcome,onChange:ke,className:"mr-2"}),r.jsx("span",{children:"Send welcome email with login credentials"})]}),xe&&r.jsx("div",{className:"text-red-600 mt-2 text-sm",children:xe})]}),r.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>i(!1),disabled:ie,children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:Ae,disabled:ie,children:ie?"Creating...":"Create User"})]})]})}),[Me,Re]=T.useState({name:"",display_name:"",description:"",department:"",level:""}),[Pe,Ke]=T.useState(!1),[lt,vt]=T.useState(""),Ot=()=>{t("/admin/departments")},ft=()=>{t("/admin/inventory")},ut=()=>{t("/admin/activities")},oe=()=>{t("/admin/inventory")},Z=se=>{t(`/admin/users/${se}`)},ee=se=>{t(`/admin/users/edit/${se}`)},pe=async se=>{if(window.confirm("Are you sure you want to deactivate this user?"))try{await he.delete(`/users/${se}`);const we=await he.get("/users?page=1&limit=20");k(we.data.users),alert("User deactivated successfully")}catch{alert("Failed to deactivate user")}},Le=se=>{t(`/admin/roles/${se}`)},Ee=se=>{t(`/admin/roles/edit/${se}`)},$e=se=>{t(`/admin/reports/${se.toLowerCase().replace(" ","-")}`)},Xe=async se=>{var we,De;if(window.confirm(`Approve Purchase Order ${se.po_number||`PO-${se.id}`}?

This will send the PO to the vendor and notify the Procurement team.`))try{const tt=await he.post(`/procurement/pos/${se.id}/approve`,{notes:`Approved by Admin on ${new Date().toLocaleDateString()}`});ye.success("✅ Purchase Order approved! Vendor has been notified and Procurement team has been alerted.");const Gt=await he.get("/procurement/pos",{params:{status:"pending_approval"}}),sr=Gt.data.purchaseOrders||Gt.data.pos||[];$(sr);const me=sr.reduce((Oe,ze)=>Oe+(parseFloat(ze.final_amount)||0),0),re=sr.filter(Oe=>Oe.priority==="high"||Oe.priority==="urgent").length;U({total:sr.length,totalValue:me,urgent:re})}catch(tt){console.error("Error approving PO:",tt),ye.error(((De=(we=tt.response)==null?void 0:we.data)==null?void 0:De.message)||"Failed to approve PO")}},wt=async se=>{const we=prompt("Enter rejection reason:");if(we)try{await he.patch(`/procurement/pos/${se.id}`,{status:"rejected",approval_decision_note:we}),ye.success("Purchase Order rejected");const De=await he.get("/procurement/pos",{params:{status:"pending_approval"}}),tt=De.data.purchaseOrders||De.data.pos||[];$(tt);const Gt=tt.reduce((me,re)=>me+(parseFloat(re.final_amount)||0),0),sr=tt.filter(me=>me.priority==="high"||me.priority==="urgent").length;U({total:tt.length,totalValue:Gt,urgent:sr})}catch(De){console.error("Error rejecting PO:",De),ye.error("Failed to reject PO")}},be=se=>{t(`/procurement/purchase-orders/${se}`)},Be=se=>{const we={urgent:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"};return we[se]||we.medium},gt=se=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(se||0),Et=se=>se?new Date(se).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",Or=se=>{const{name:we,value:De}=se.target;Re(tt=>({...tt,[we]:De}))},It=async()=>{var se,we;vt(""),Ke(!0);try{const De={name:Me.name,display_name:Me.display_name,description:Me.description,department:Me.department,level:parseInt(Me.level)};await he.post("/admin/roles",De),d(!1),Re({name:"",display_name:"",description:"",department:"",level:""});const tt=await he.get("/admin/roles");R(tt.data.roles)}catch(De){vt(((we=(se=De.response)==null?void 0:se.data)==null?void 0:we.message)||"Failed to create role")}finally{Ke(!1)}},Ie=()=>o&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-2xl",children:[r.jsx("div",{className:"px-6 py-4 border-b font-bold text-lg",children:"Create New Role"}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{className:"w-full border rounded px-3 py-2",name:"name",placeholder:"Role Name",value:Me.name,onChange:Or}),r.jsx("input",{className:"w-full border rounded px-3 py-2",name:"display_name",placeholder:"Display Name",value:Me.display_name,onChange:Or}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",name:"department",value:Me.department,onChange:Or,children:[r.jsx("option",{value:"",children:"Department"}),r.jsx("option",{value:"sales",children:"Sales"}),r.jsx("option",{value:"procurement",children:"Procurement"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"admin",children:"Admin"})]}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",name:"level",value:Me.level,onChange:Or,children:[r.jsx("option",{value:"",children:"Access Level"}),r.jsx("option",{value:"1",children:"Level 1 (Basic)"}),r.jsx("option",{value:"2",children:"Level 2 (Standard)"}),r.jsx("option",{value:"3",children:"Level 3 (Manager)"}),r.jsx("option",{value:"4",children:"Level 4 (Admin)"}),r.jsx("option",{value:"5",children:"Level 5 (Super Admin)"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("textarea",{className:"w-full border rounded px-3 py-2",name:"description",placeholder:"Description",rows:3,value:Me.description,onChange:Or})})]}),lt&&r.jsx("div",{className:"text-red-600 mt-2 text-sm",children:lt})]}),r.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:()=>d(!1),disabled:Pe,children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:It,disabled:Pe,children:Pe?"Creating...":"Create Role"})]})]})});return h?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("div",{className:"mt-4 text-gray-600",children:"Loading dashboard data..."})]})})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Admin Dashboard"}),r.jsx("div",{className:"text-xs text-gray-500 mb-4",children:"Comprehensive overview of all departments, users, stock, and system activities"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 flex items-center gap-2",onClick:()=>t("/admin/settings"),children:[r.jsx(eH,{className:"text-lg"})," System Settings"]}),r.jsxs("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 flex items-center gap-2",onClick:async()=>{try{const se=await he.get("/admin/export",{responseType:"blob"}),we=window.URL.createObjectURL(new Blob([se.data])),De=document.createElement("a");De.href=we,De.setAttribute("download","export-data.zip"),document.body.appendChild(De),De.click(),De.remove()}catch{alert("Failed to export data.")}},children:[r.jsx(On,{className:"text-lg"})," Export Data"]})]}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>i(!0),children:[r.jsx($n,{className:"text-lg"})," Add New User"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4 mb-6",children:[r.jsx(G,{title:"Total Users",value:Y.totalUsers,icon:r.jsx($n,{className:"text-blue-600 text-2xl"}),color:"primary",subtitle:`${Y.activeUsers} active`}),r.jsx(G,{title:"Pending Approvals",value:W.total,icon:r.jsx(Su,{className:"text-red-600 text-2xl"}),color:"bg-red-100",subtitle:`${gt(W.totalValue)}`}),r.jsx(G,{title:"Sales Orders",value:(x==null?void 0:x.sales.totalOrders)||0,icon:r.jsx(Za,{className:"text-green-600 text-2xl"}),color:"success",subtitle:`${(x==null?void 0:x.sales.pendingOrders)||0} pending`}),r.jsx(G,{title:"Inventory Value",value:`₹${((x==null?void 0:x.inventory.totalValue)||0).toLocaleString()}`,icon:r.jsx(q6,{className:"text-orange-600 text-2xl"}),color:"warning",subtitle:`${(x==null?void 0:x.inventory.lowStockItems)||0} low stock items`}),r.jsx(G,{title:"Production Orders",value:(x==null?void 0:x.production.totalOrders)||0,icon:r.jsx(ji,{className:"text-purple-600 text-2xl"}),color:"secondary",subtitle:`${(x==null?void 0:x.production.completedOrders)||0} completed`}),r.jsx(G,{title:"Store Stock",value:(x==null?void 0:x.store.totalStock)||0,icon:r.jsx(O4,{className:"text-cyan-600 text-2xl"}),color:"info",subtitle:`₹${((x==null?void 0:x.store.totalValue)||0).toLocaleString()}`}),r.jsx(G,{title:"Notifications",value:(z==null?void 0:z.unread)||0,icon:r.jsx(rf,{className:"text-yellow-600 text-2xl"}),color:"warning",subtitle:`${(z==null?void 0:z.total)||0} total`})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200 mb-6",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Department Overview - User Distribution"}),r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 text-sm",onClick:Ot,children:"View All Departments"})]})}),r.jsx("div",{className:"p-4",children:b!==null?Object.keys(b).length>0?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(b).map(([se,we])=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${V(se)}`}),r.jsx("div",{className:"font-semibold text-gray-900 capitalize",children:se})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Active Users:"}),r.jsx("span",{className:"font-bold text-green-600",children:we.activeUserCount})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total Users:"}),r.jsx("span",{className:"font-medium",children:we.userCount})]}),we.totalOrders&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Orders:"}),r.jsx("span",{className:"font-medium",children:we.totalOrders})]}),we.totalValue&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Value:"}),r.jsxs("span",{className:"font-medium text-blue-600",children:["₹",we.totalValue.toLocaleString()]})]}),we.totalStock&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Stock:"}),r.jsx("span",{className:"font-medium",children:we.totalStock})]})]})]},se))}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Department-wise User Breakdown"}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(b).map(([se,we])=>{const De=E.filter(tt=>tt.department===se);return r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${V(se)}`}),r.jsxs("h5",{className:"font-semibold text-gray-900 capitalize",children:[se," Department"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",De.length," users)"]})]}),De.length>0?r.jsxs("div",{className:"space-y-2",children:[De.slice(0,5).map(tt=>{var Gt;return r.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm",children:tt.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:tt.name}),r.jsx("div",{className:"text-xs text-gray-500",children:((Gt=tt.role)==null?void 0:Gt.display_name)||tt.role})]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${X(tt.status)}`,children:tt.status})]},tt.id)}),De.length>5&&r.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["+",De.length-5," more users"]})]}):r.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:"No users in this department"})]},`${se}-users`)})})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"System-wide User Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-blue-600 text-2xl font-bold",children:E.filter(se=>se.status==="active").length}),r.jsx("div",{className:"text-blue-800 font-medium",children:"Active Users"}),r.jsx("div",{className:"text-blue-600 text-sm",children:"Across all departments"})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[r.jsx("div",{className:"text-yellow-600 text-2xl font-bold",children:E.filter(se=>se.status==="inactive").length}),r.jsx("div",{className:"text-yellow-800 font-medium",children:"Inactive Users"}),r.jsx("div",{className:"text-yellow-600 text-sm",children:"Deactivated accounts"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-green-600 text-2xl font-bold",children:E.filter(se=>se.status==="pending").length}),r.jsx("div",{className:"text-green-800 font-medium",children:"Pending Users"}),r.jsx("div",{className:"text-green-600 text-sm",children:"Awaiting activation"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[r.jsx("div",{className:"text-purple-600 text-2xl font-bold",children:D.length}),r.jsx("div",{className:"text-purple-800 font-medium",children:"Total Roles"}),r.jsx("div",{className:"text-purple-600 text-sm",children:"System roles defined"})]})]})]})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-red-500 mb-2",children:"⚠️ Failed to load department overview"}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Please check your permissions or try refreshing the page"})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-gray-500",children:"Loading department overview..."})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200 mb-6",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Notifications"}),r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 text-sm",children:"View All"})]})}),r.jsx("div",{className:"p-4",children:F.length>0?r.jsx("div",{className:"space-y-3",children:F.slice(0,5).map(se=>r.jsxs("div",{className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[r.jsx("div",{className:`rounded-full p-2 ${se.priority==="high"?"bg-red-100":se.priority==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:r.jsx(rf,{className:`text-sm ${se.priority==="high"?"text-red-600":se.priority==="medium"?"text-yellow-600":"text-blue-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:se.title}),r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:se.message}),r.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(se.created_at).toLocaleDateString()," • ",se.type]})]}),r.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${se.status==="read"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-600"}`,children:se.status})]},se.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rf,{className:"text-gray-400 text-3xl mx-auto mb-2"}),r.jsx("div",{className:"text-gray-500",children:"No notifications"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stock Alerts"}),r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 text-sm",onClick:ft,children:"View Inventory"})]})}),r.jsx("div",{children:v&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pn,{className:"text-red-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-red-900",children:"Low Stock Items"}),r.jsxs("div",{className:"text-sm text-red-700",children:[v.inventory.lowStockItems," items below minimum level"]})]})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-medium text-gray-900",children:"Top Value Items"}),v.topValueItems.slice(0,3).map((se,we)=>r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:se.productName}),r.jsx("div",{className:"text-xs text-gray-500",children:se.location})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:["₹",se.totalValue.toLocaleString()]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[se.currentStock," units"]})]})]},se.id))]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 text-sm",onClick:ut,children:"View All"})]})}),r.jsx("div",{children:r.jsx("div",{className:"space-y-3",children:j.map(se=>r.jsxs("div",{className:"flex items-start gap-3 py-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:`rounded-full p-2 ${se.type==="sales_order"?"bg-green-100":se.type==="purchase_order"?"bg-blue-100":se.type==="production_order"?"bg-purple-100":"bg-gray-100"}`,children:[se.type==="sales_order"&&r.jsx(Za,{className:"text-green-600 text-sm"}),se.type==="purchase_order"&&r.jsx(ks,{className:"text-blue-600 text-sm"}),se.type==="production_order"&&r.jsx(ji,{className:"text-purple-600 text-sm"}),se.type==="user_registration"&&r.jsx(zl,{className:"text-gray-600 text-sm"})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 text-sm",children:se.description}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[se.department," • ",new Date(se.created_at).toLocaleDateString()]}),se.amount&&r.jsxs("div",{className:"text-xs font-medium text-green-600 mt-1",children:["₹",se.amount.toLocaleString()]})]})]},se.id))})})]})]}),r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[r.jsx("div",{className:"col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full border rounded px-3 py-2 pl-9 bg-gray-50",placeholder:"Search users, roles, logs..."}),r.jsx(Ts,{className:"absolute left-3 top-3 text-gray-400"})]})}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:async()=>{try{const se=await he.get("/admin/backup",{responseType:"blob"}),we=window.URL.createObjectURL(new Blob([se.data])),De=document.createElement("a");De.href=we,De.setAttribute("download","system-backup.zip"),document.body.appendChild(De),De.click(),De.remove()}catch{alert("Failed to download backup.")}},children:"System Backup"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:()=>t("/admin/audit-logs"),children:"Audit Logs"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:async()=>{try{const se=await he.get("/admin/system-reports",{responseType:"blob"}),we=window.URL.createObjectURL(new Blob([se.data])),De=document.createElement("a");De.href=we,De.setAttribute("download","system-reports.zip"),document.body.appendChild(De),De.click(),De.remove()}catch{alert("Failed to download system reports.")}},children:"System Reports"}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-green-600 border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-green-600 hover:text-success hover:bg-transparent flex gap-2 items-center w-fit",children:[r.jsx(On,{})," Export Data"]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200",children:[r.jsx("div",{className:"border-b bg-gray-50",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto",children:["Pending Approvals","User Management","Role & Permissions","Department Analytics","Stock Management","System Configuration","Audit Logs","Reports"].map((se,we)=>r.jsxs("button",{className:`px-4 py-2 font-medium text-sm border-b-2 transition-all whitespace-nowrap ${n===we?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"} ${se==="Pending Approvals"&&W.total>0?"relative":""}`,onClick:()=>s(we),children:[se,se==="Pending Approvals"&&W.total>0&&r.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-600 rounded-full",children:W.total})]},se))})}),r.jsx(ne,{value:n,index:0,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Purchase Orders - Pending Approval"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review and approve purchase orders submitted by the Procurement team"})]}),r.jsx("button",{onClick:()=>t("/procurement/purchase-orders"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm font-medium",children:"View All POs"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg shadow-sm border border-blue-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-700 mb-1 font-medium",children:"Pending Orders"}),r.jsx("p",{className:"text-3xl font-bold text-blue-900",children:W.total})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:r.jsx(Su,{className:"w-6 h-6 text-blue-700"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg shadow-sm border border-green-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-700 mb-1 font-medium",children:"Total Value"}),r.jsx("p",{className:"text-2xl font-bold text-green-900",children:gt(W.totalValue)})]}),r.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:r.jsx(Fi,{className:"w-6 h-6 text-green-700"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg shadow-sm border border-red-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-red-700 mb-1 font-medium",children:"Urgent Priority"}),r.jsx("p",{className:"text-3xl font-bold text-red-900",children:W.urgent})]}),r.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:r.jsx(pn,{className:"w-6 h-6 text-red-700"})})]})})]}),L.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ut,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"All Caught Up! 🎉"}),r.jsx("p",{className:"text-gray-600",children:"No purchase orders pending approval at the moment."})]}):r.jsx("div",{className:"space-y-4",children:L.map(se=>{var we,De,tt;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:se.po_number||`PO-${se.id}`}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${Be(se.priority)}`,children:(se.priority||"medium").toUpperCase()}),r.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 border border-yellow-200",children:"PENDING APPROVAL"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ka,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:((we=se.vendor)==null?void 0:we.name)||"Unknown Vendor"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(zl,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:((De=se.customer)==null?void 0:De.name)||se.client_name||"N/A"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Oa,{className:"w-4 h-4 flex-shrink-0"}),r.jsxs("span",{children:["Expected: ",Et(se.expected_delivery_date)]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Wt,{className:"w-4 h-4 flex-shrink-0"}),r.jsxs("span",{children:[((tt=se.items)==null?void 0:tt.length)||0," items"]})]})]}),se.project_name&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Project:"})," ",se.project_name]})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:gt(se.final_amount)})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-4 mt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>be(se.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(Kr,{className:"w-4 h-4"}),"View Details"]}),r.jsxs("button",{onClick:()=>Xe(se),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Approve Order"]}),r.jsxs("button",{onClick:()=>wt(se),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(u7,{className:"w-4 h-4"}),"Reject"]})]})]},se.id)})})]})}),r.jsx(ne,{value:n,index:1,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"font-semibold text-lg text-gray-900",children:["User Management (",E.length,")"]}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>i(!0),children:[r.jsx(ln,{})," Add User"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"User"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Email"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Role"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Department"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Status"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Last Login"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Created Date"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b text-center",children:"Actions"})]})}),r.jsx("tbody",{children:E.map(se=>{var we;return r.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"bg-blue-600 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-base",children:se.name.charAt(0)}),r.jsx("span",{className:"font-semibold text-gray-900",children:se.name})]})}),r.jsx("td",{className:"p-2 text-gray-700",children:se.email}),r.jsx("td",{className:"p-2 text-gray-700",children:((we=se.role)==null?void 0:we.display_name)||se.role}),r.jsx("td",{className:"p-2 text-gray-700",children:se.department}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${X(se.status)}`,children:se.status.toUpperCase()})}),r.jsx("td",{className:"p-2 text-gray-700",children:se.lastLogin}),r.jsx("td",{className:"p-2 text-gray-700",children:se.createdDate}),r.jsx("td",{className:"p-2 text-center",children:r.jsxs("div",{className:"flex justify-center gap-2",children:[r.jsx("button",{className:"p-2 rounded bg-blue-100 text-blue-600 hover:bg-blue-200",onClick:()=>Z(se.id),children:r.jsx(Kr,{})}),r.jsx("button",{className:"p-2 rounded bg-purple-100 text-purple-600 hover:bg-purple-200",onClick:()=>ee(se.id),children:r.jsx(Bi,{})}),r.jsx("button",{className:"p-2 rounded bg-red-100 text-red-600 hover:bg-red-200",onClick:()=>pe(se.id),children:r.jsx(Eq,{})})]})})]},se.id)})})]})})]})}),r.jsx(ne,{value:n,index:2,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"font-semibold text-lg text-gray-900",children:["Roles & Permissions (",D.length,")"]}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>d(!0),children:[r.jsx(ln,{})," Create Role"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(se=>r.jsxs("div",{className:"border rounded-xl bg-white shadow p-4 flex flex-col h-full",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:se.name}),r.jsx("div",{className:"text-xs text-gray-500",children:se.description})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${X(se.status)}`,children:se.status.toUpperCase()})]}),r.jsxs("div",{className:"mb-2 text-blue-600 font-medium",children:[se.userCount," users assigned"]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("div",{className:"font-semibold text-sm mb-1",children:"Permissions:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[se.permissions.slice(0,3).map(we=>r.jsx("span",{className:"px-2 py-1 border rounded text-xs bg-gray-50",children:typeof we=="object"?(we.name||`${we.module}:${we.action}`).replace(/_/g," "):we.replace(/_/g," ")},we.id||we)),se.permissions.length>3&&r.jsxs("span",{className:"px-2 py-1 border rounded text-xs bg-blue-50 text-blue-600",children:["+",se.permissions.length-3," more"]})]})]}),r.jsxs("div",{className:"flex gap-2 mt-auto",children:[r.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 w-full",onClick:()=>Le(se.id),children:"View Details"}),r.jsx("button",{className:"px-2 py-1 rounded bg-blue-600 text-white hover:bg-blue-700 w-full",onClick:()=>Ee(se.id),children:"Edit Role"})]})]},se.id))})]})}),r.jsx(ne,{value:n,index:3,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Department Analytics"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:async()=>{try{const se=await he.get("/admin/export-report",{responseType:"blob"}),we=window.URL.createObjectURL(new Blob([se.data])),De=document.createElement("a");De.href=we,De.setAttribute("download","department-analytics-report.zip"),document.body.appendChild(De),De.click(),De.remove()}catch{alert("Failed to export department analytics report.")}},children:"Export Report"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Department Performance"}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:b&&Object.entries(b).map(([se,we])=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded ${V(se)}`}),r.jsx("span",{className:"capitalize font-medium text-lg",children:se})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-blue-600",children:[we.activeUserCount," active"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[we.userCount," total users"]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[se==="sales"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Orders: ",r.jsx("span",{className:"font-semibold",children:we.totalOrders||0})]}),r.jsxs("div",{children:["Pending Orders: ",r.jsx("span",{className:"font-semibold",children:we.pendingOrders||0})]}),r.jsxs("div",{children:["Total Value: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalValue||0).toLocaleString()]})]})]}),se==="inventory"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Items: ",r.jsx("span",{className:"font-semibold",children:we.totalItems||0})]}),r.jsxs("div",{children:["Low Stock Items: ",r.jsx("span",{className:"font-semibold text-red-600",children:we.lowStockItems||0})]}),r.jsxs("div",{children:["Total Value: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalValue||0).toLocaleString()]})]})]}),se==="manufacturing"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Orders: ",r.jsx("span",{className:"font-semibold",children:we.totalOrders||0})]}),r.jsxs("div",{children:["Completed Orders: ",r.jsx("span",{className:"font-semibold",children:we.completedOrders||0})]})]}),se==="procurement"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Orders: ",r.jsx("span",{className:"font-semibold",children:we.totalOrders||0})]}),r.jsxs("div",{children:["Pending Orders: ",r.jsx("span",{className:"font-semibold",children:we.pendingOrders||0})]}),r.jsxs("div",{children:["Total Value: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalValue||0).toLocaleString()]})]})]}),se==="store"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Stock: ",r.jsx("span",{className:"font-semibold",children:we.totalStock||0})]}),r.jsxs("div",{children:["Total Value: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalValue||0).toLocaleString()]})]})]}),se==="outsourcing"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Orders: ",r.jsx("span",{className:"font-semibold",children:we.totalOrders||0})]}),r.jsxs("div",{children:["Completed Orders: ",r.jsx("span",{className:"font-semibold",children:we.completedOrders||0})]})]}),se==="shipment"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Shipments: ",r.jsx("span",{className:"font-semibold",children:we.totalShipments||0})]}),r.jsxs("div",{children:["Pending Shipments: ",r.jsx("span",{className:"font-semibold",children:we.pendingShipments||0})]}),r.jsxs("div",{children:["Delivered: ",r.jsx("span",{className:"font-semibold",children:we.deliveredShipments||0})]}),r.jsxs("div",{children:["Shipping Cost: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalShippingCost||0).toLocaleString()]})]})]}),se==="finance"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Payments: ",r.jsx("span",{className:"font-semibold",children:we.totalPayments||0})]}),r.jsxs("div",{children:["Pending Payments: ",r.jsx("span",{className:"font-semibold",children:we.pendingPayments||0})]}),r.jsxs("div",{children:["Completed: ",r.jsx("span",{className:"font-semibold",children:we.completedPayments||0})]}),r.jsxs("div",{children:["Total Amount: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalPaymentAmount||0).toLocaleString()]})]})]}),se==="samples"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Total Samples: ",r.jsx("span",{className:"font-semibold",children:we.totalSamples||0})]}),r.jsxs("div",{children:["Pending Samples: ",r.jsx("span",{className:"font-semibold",children:we.pendingSamples||0})]}),r.jsxs("div",{children:["Delivered: ",r.jsx("span",{className:"font-semibold",children:we.completedSamples||0})]}),r.jsxs("div",{children:["Total Cost: ",r.jsxs("span",{className:"font-semibold",children:["₹",(we.totalSampleCost||0).toLocaleString()]})]})]}),se==="admin"&&r.jsx(r.Fragment,{children:r.jsxs("div",{children:["Admin Users: ",r.jsx("span",{className:"font-semibold",children:we.userCount||0})]})})]})]},se))})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Key Metrics"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total Departments"}),r.jsx("span",{className:"font-semibold",children:b?Object.keys(b).length:0})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Active Users"}),r.jsx("span",{className:"font-semibold",children:(x==null?void 0:x.users.active)||0})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Total Sales Value"}),r.jsxs("span",{className:"font-semibold",children:["₹",((x==null?void 0:x.sales.totalValue)||0).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:"Inventory Value"}),r.jsxs("span",{className:"font-semibold",children:["₹",((x==null?void 0:x.inventory.totalValue)||0).toLocaleString()]})]})]})]})]})]})}),r.jsx(ne,{value:n,index:4,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Stock Management"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:oe,children:"View Full Inventory"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Inventory Summary"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Items"}),r.jsx("span",{className:"font-semibold",children:(v==null?void 0:v.inventory.totalItems)||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Value"}),r.jsxs("span",{className:"font-semibold",children:["₹",((v==null?void 0:v.inventory.totalValue)||0).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Available Stock"}),r.jsx("span",{className:"font-semibold",children:(v==null?void 0:v.inventory.availableStock)||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Reserved Stock"}),r.jsx("span",{className:"font-semibold",children:(v==null?void 0:v.inventory.reservedStock)||0})]})]})]}),r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Store Locations"}),r.jsx("div",{className:"space-y-2",children:v==null?void 0:v.storeSummary.map(se=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-600",children:se.location}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold",children:[se.totalStock," units"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["₹",se.totalValue.toLocaleString()]})]})]},se.location))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Low Stock Alerts"}),r.jsxs("div",{className:"space-y-2",children:[v==null?void 0:v.lowStockItems.slice(0,5).map(se=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-red-900",children:se.productName}),r.jsx("div",{className:"text-sm text-red-700",children:se.location})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-red-900",children:[se.availableStock,"/",se.minimumLevel]}),r.jsx("div",{className:"text-xs text-red-600",children:"min level"})]})]},se.id)),(!(v!=null&&v.lowStockItems)||v.lowStockItems.length===0)&&r.jsx("div",{className:"text-center text-green-600 py-4",children:"All items above minimum stock levels"})]})]}),r.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Top Value Items"}),r.jsx("div",{className:"space-y-2",children:v==null?void 0:v.topValueItems.slice(0,5).map(se=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:se.productName}),r.jsx("div",{className:"text-xs text-gray-500",children:se.location})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-gray-900",children:["₹",se.totalValue.toLocaleString()]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[se.currentStock," units"]})]})]},se.id))})]})]})]})]})}),r.jsx(ne,{value:n,index:5,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"System Configuration"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:async()=>{try{const se=document.querySelector('input[defaultValue="Passion Inventory System"]').value,we=document.querySelectorAll("select")[0].value,De=document.querySelector('input[defaultValue="60"]').value,tt=document.querySelectorAll("select")[1].value,Gt=document.querySelectorAll("select")[2].value,sr=document.querySelector('input[defaultValue="30"]').value;await he.put("/admin/settings",{systemName:se,defaultCurrency:we,sessionTimeout:De,emailNotifications:tt,autoBackup:Gt,backupRetention:sr}),alert("Settings saved successfully.")}catch{alert("Failed to save settings.")}},children:"Save Changes"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"System Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"System Name"}),r.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2",defaultValue:"Passion Inventory System"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Currency"}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{children:"INR (₹)"}),r.jsx("option",{children:"USD ($)"}),r.jsx("option",{children:"EUR (€)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),r.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",defaultValue:"60"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Notifications"}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{children:"Enabled"}),r.jsx("option",{children:"Disabled"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Backup Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auto Backup Frequency"}),r.jsxs("select",{className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{children:"Daily"}),r.jsx("option",{children:"Weekly"}),r.jsx("option",{children:"Monthly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Retention (days)"}),r.jsx("input",{type:"number",className:"w-full border rounded px-3 py-2",defaultValue:"30"})]})]})]})]})]})}),r.jsx(ne,{value:n,index:6,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Audit Logs"}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",onClick:async()=>{try{const se=await he.post("/admin/export-logs",{},{responseType:"blob"}),we=window.URL.createObjectURL(new Blob([se.data])),De=document.createElement("a");De.href=we,De.setAttribute("download","audit-logs.csv"),document.body.appendChild(De),De.click(),De.remove()}catch{alert("Failed to export logs.")}},children:"Export Logs"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Timestamp"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"User"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Action"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Resource"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Details"}),r.jsx("th",{className:"font-semibold text-gray-700 p-2 border-b",children:"Severity"})]})}),r.jsx("tbody",{children:C.map(se=>r.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[r.jsx("td",{className:"p-2 text-gray-700",children:new Date(se.timestamp).toLocaleString()}),r.jsx("td",{className:"p-2 text-gray-700",children:se.user}),r.jsx("td",{className:"p-2 text-gray-700",children:se.action}),r.jsx("td",{className:"p-2 text-gray-700",children:se.resource}),r.jsx("td",{className:"p-2 text-gray-700",children:se.details}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${X(se.severity)}`,children:se.severity.toUpperCase()})})]},se.id))})]})})]})}),r.jsx(ne,{value:n,index:7,children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("div",{className:"font-semibold text-lg text-gray-900",children:"Reports & Analytics"}),r.jsx("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:async()=>{try{const se=await he.get("/admin/generate-report",{responseType:"blob"}),we=window.URL.createObjectURL(new Blob([se.data])),De=document.createElement("a");De.href=we,De.setAttribute("download","system-report.zip"),document.body.appendChild(De),De.click(),De.remove()}catch{alert("Failed to generate report.")}},children:"Generate Report"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"Sales Report",icon:r.jsx(wj,{className:"text-green-600 text-2xl mx-auto mb-2"}),desc:"Monthly sales performance and trends",action:"Generate Sales Report"},{title:"Inventory Report",icon:r.jsx(q6,{className:"text-blue-600 text-2xl mx-auto mb-2"}),desc:"Stock levels, valuation, and turnover",action:"Generate Inventory Report"},{title:"Financial Report",icon:r.jsx(Cu,{className:"text-purple-600 text-2xl mx-auto mb-2"}),desc:"Revenue, expenses, and profitability",action:"Generate Financial Report"},{title:"Production Report",icon:r.jsx(ji,{className:"text-orange-600 text-2xl mx-auto mb-2"}),desc:"Manufacturing efficiency and output",action:"Generate Production Report"},{title:"User Activity Report",icon:r.jsx($n,{className:"text-indigo-600 text-2xl mx-auto mb-2"}),desc:"User engagement and department activity",action:"Generate Activity Report"},{title:"Custom Report",icon:r.jsx(Su,{className:"text-gray-600 text-2xl mx-auto mb-2"}),desc:"Build custom reports with filters",action:"Create Custom Report"}].map(se=>r.jsxs("div",{className:"border rounded-xl bg-white shadow p-4 text-center cursor-pointer hover:shadow-lg transition-all",children:[se.icon,r.jsx("div",{className:"font-semibold text-lg text-gray-900 mb-1",children:se.title}),r.jsx("div",{className:"text-xs text-gray-500 mb-3",children:se.desc}),r.jsx("button",{className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 w-full text-sm",onClick:()=>$e(se.title),children:se.action})]},se.title))}),r.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Reports"}),r.jsx("div",{className:"space-y-2",children:[{name:"Monthly Sales Report - November 2024",date:"2024-11-30",size:"2.3 MB"},{name:"Inventory Valuation Report - Q4 2024",date:"2024-11-25",size:"1.8 MB"},{name:"User Activity Summary - November 2024",date:"2024-11-20",size:"956 KB"}].map(se=>r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:se.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Generated on ",se.date," • ",se.size]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 text-sm",onClick:async()=>{try{const we=await he.get(`/admin/download-report?name=${encodeURIComponent(se.name)}`,{responseType:"blob"}),De=window.URL.createObjectURL(new Blob([we.data])),tt=document.createElement("a");tt.href=De,tt.setAttribute("download",`${se.name.replace(/\s+/g,"_")}.pdf`),document.body.appendChild(tt),tt.click(),tt.remove()}catch{alert("Failed to download report.")}},children:"Download"}),r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100 text-sm",onClick:async()=>{try{const we=await he.get(`/admin/view-report?name=${encodeURIComponent(se.name)}`,{responseType:"blob"}),De=window.URL.createObjectURL(new Blob([we.data],{type:"application/pdf"}));window.open(De,"_blank")}catch{alert("Failed to view report.")}},children:"View"})]})]},se.name))})]})]})})]}),r.jsx(Ne,{}),r.jsx(Ie,{})]})},F3e=[{value:"all",label:"All Orders"},{value:"pending_approval",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"in_production",label:"In Production"},{value:"delivered",label:"Delivered"}],B3e=()=>{const e=_t(),[t,n]=T.useState(""),[s,a]=T.useState("all"),i=T.useMemo(()=>Jn.filter(h=>{const u=s==="all"||h.status===s,x=[h.sampleNo,h.customerName,h.productName].join(" ").toLowerCase().includes(t.toLowerCase());return u&&x}),[t,s]),o=Jn.filter(h=>h.sampleType==="paid").length,d=Jn.length-o;return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Sample Orders"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage incoming requests, monitor their status, and take actions quickly."})]}),r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[r.jsx("button",{type:"button",onClick:()=>e("/samples/create-request"),className:"inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-blue-700",children:"Create Sample Request"}),r.jsxs("button",{type:"button",onClick:()=>e("/samples/orders/export"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:[r.jsx(On,{className:"mr-2 h-4 w-4","aria-hidden":!0})," Export Orders"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Total Requests"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:Jn.length})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Pending Approvals"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:Au.pendingSamples})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Conversion Rate"}),r.jsxs("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:[Au.conversionRate,"%"]})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[r.jsxs("div",{className:"relative w-full sm:w-64",children:[r.jsx(Ts,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400","aria-hidden":!0}),r.jsx("input",{type:"text",value:t,onChange:h=>n(h.target.value),placeholder:"Search by sample no, customer, product...",className:"w-full rounded-md border border-gray-200 bg-white py-2.5 pl-10 pr-3 text-sm text-gray-700 placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),r.jsxs("div",{className:"relative w-full sm:w-48",children:[r.jsx(h7,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400","aria-hidden":!0}),r.jsx("select",{value:s,onChange:h=>a(h.target.value),className:"w-full appearance-none rounded-md border border-gray-200 bg-white py-2.5 pl-9 pr-3 text-sm text-gray-700 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:F3e.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]})]}),r.jsxs("div",{className:"flex gap-3 text-sm text-gray-500",children:[r.jsxs("span",{children:["Paid Samples: ",o]}),r.jsx("span",{children:"|"}),r.jsxs("span",{children:["Free Samples: ",d]})]})]}),r.jsxs("div",{className:"mt-6 overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Sample No."}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Customer"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Product"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Sample Type"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Quantity"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Cost"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Status"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Feedback"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Conversion"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(h=>r.jsxs("tr",{className:"text-sm",children:[r.jsx("td",{className:"whitespace-nowrap px-4 py-3 font-medium text-gray-900",children:h.sampleNo}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-xs font-semibold text-gray-700",children:uI(h.customerName)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:h.customerName}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Requested: ",h.requestDate]})]})]})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-gray-600",children:h.productName}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium ${Ha(cI,h.sampleType)}`,children:Fn(h.sampleType)})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right font-medium text-gray-700",children:h.quantity}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right font-medium text-gray-700",children:ag(h.cost)}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium ${Ha(kj,h.status)}`,children:Fn(h.status)})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium ${Ha(lI,h.feedback)}`,children:h.feedback?Fn(h.feedback):"Awaiting"})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium ${Ha(sg,h.conversionStatus)}`,children:Fn(h.conversionStatus)})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-gray-500",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-gray-200 text-gray-500 transition hover:border-gray-300 hover:bg-gray-50 hover:text-gray-700","aria-label":"View details",children:r.jsx(Kr,{className:"h-4 w-4","aria-hidden":!0})}),r.jsx("button",{type:"button",className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-gray-200 text-gray-500 transition hover:border-gray-300 hover:bg-gray-50 hover:text-gray-700","aria-label":"Edit order",children:r.jsx(y7,{className:"h-4 w-4","aria-hidden":!0})})]})})]},h.id))})]}),i.length===0&&r.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"No sample orders match your current filters."})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Conversion Insights"}),r.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Tj.map(h=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Sample No."}),r.jsx("span",{className:"font-medium text-gray-900",children:h.sampleNo})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Customer"}),r.jsx("span",{className:"font-medium text-gray-900",children:h.customerName})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Status"}),r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium ${Ha(sg,h.conversionStatus)}`,children:Fn(h.conversionStatus)})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Quote Value"}),r.jsx("span",{className:"font-medium text-gray-900",children:h.orderValue?`₹${h.orderValue.toLocaleString()}`:"Awaiting"})]})]},h.id))})]})]})},HE=[{key:"requested",label:"Request Submitted"},{key:"approved",label:"Approval"},{key:"in_production",label:"Production"},{key:"quality",label:"Quality Check"},{key:"dispatched",label:"Dispatch"},{key:"delivered",label:"Delivered"}],U3e=()=>{const e=_t();return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Sample Tracking"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor manufacturing stages, ownership, and delivery progress for each sample."})]}),r.jsx("button",{type:"button",onClick:()=>e("/samples"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"Back to Dashboard"})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Tracking"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Keep stakeholders aligned with real-time progress across production stages."}),r.jsx("div",{className:"mt-6 space-y-4",children:dI.map(t=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[t.sampleNo," — ",t.stage]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Owner: ",t.assignedTo]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(jj,{className:"h-4 w-4 text-gray-400","aria-hidden":!0}),r.jsxs("span",{className:"text-xs text-gray-500",children:[t.startDate," – ",t.endDate||"In Progress"]})]})]}),r.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[r.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3 text-sm",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),r.jsx("p",{className:"font-medium text-gray-900",children:Fn(t.status)})]}),r.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3 text-sm",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),r.jsx("p",{className:"font-medium text-gray-900",children:t.duration?`${t.duration} days`:"Ongoing"})]}),r.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3 text-sm",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Assigned To"}),r.jsx("p",{className:"font-medium text-gray-900",children:t.assignedTo})]})]})]},t.id))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Stage Overview"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Each sample moves through a consistent lifecycle from request to delivery."}),r.jsx("div",{className:"mt-6 grid gap-4 lg:grid-cols-6",children:HE.map((t,n)=>r.jsxs("div",{className:"flex flex-col items-center rounded-lg border border-gray-200 bg-gray-50 p-4 text-center",children:[r.jsx(Xq,{className:"mb-2 h-5 w-5 text-blue-600","aria-hidden":!0}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.label}),n<HE.length-1&&r.jsx(Xy,{className:"mt-2 h-4 w-4 text-gray-400","aria-hidden":!0})]},t.key))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Team Allocation"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Quickly identify responsibilities and next steps for cross-functional teams."}),r.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:Jn.map(t=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t.sampleNo}),r.jsx("span",{className:"rounded-full bg-blue-50 px-2.5 py-1 text-xs font-medium text-blue-600",children:Fn(t.sampleType)})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx($n,{className:"h-4 w-4","aria-hidden":!0}),r.jsx("span",{children:t.customerName})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(Ul,{className:"h-4 w-4","aria-hidden":!0}),r.jsx("span",{children:t.outwardChallan||"Outward challan pending"})]}),r.jsx("button",{type:"button",className:"mt-2 inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-100",children:"View Timeline"})]},t.id))})]})]})},z3e=[{title:"Monthly Summary",description:"Overview of key sample KPIs including approvals, conversions, and financial impact."},{title:"Cost Breakdown",description:"Detailed analysis of expenses associated with producing and delivering samples."},{title:"Conversion Funnel",description:"Track the stages from sample request to order conversion using funnel metrics."},{title:"Feedback Trends",description:"Identify customer feedback patterns to improve sample quality and close rates."}],V3e=()=>{const e=Jn.filter(t=>t.sampleType==="paid").reduce((t,n)=>t+n.cost,0);return Jn.filter(t=>t.sampleType==="free").reduce((t,n)=>t+n.quantity,0),r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Sample Reports"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Export ready-to-present insights covering conversion, cost, and performance."})]}),r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[r.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:[r.jsx(kr,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Download PDF"]}),r.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-blue-700",children:[r.jsx(On,{className:"mr-2 h-4 w-4","aria-hidden":!0})," Export Excel"]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Total Samples"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:Au.totalSamples})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Conversion Rate"}),r.jsxs("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:[Au.conversionRate,"%"]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Revenue Generated"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:ag(Au.totalRevenue)})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Paid Sample Spend"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:ag(e)})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Report Sections"}),r.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:z3e.map(t=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:t.title}),r.jsx("p",{className:"mt-2 text-xs text-gray-500",children:t.description})]},t.title))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(zq,{className:"h-5 w-5 text-indigo-600","aria-hidden":!0}),"Cost Analysis"]}),r.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:jJ.map(t=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:t.label}),r.jsx("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:t.value})]},t.label))}),r.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Sample Type Mix"}),r.jsx("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:PC.sampleType.map(t=>r.jsxs("li",{className:"flex items-center justify-between",children:[r.jsx("span",{children:t.label}),r.jsx("span",{className:"font-semibold text-blue-600",children:t.value})]},t.label))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Expense Breakdown"}),r.jsx("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:PC.costBreakdown.map(t=>r.jsxs("li",{className:"flex items-center justify-between",children:[r.jsx("span",{children:t.label}),r.jsx("span",{className:"font-semibold text-gray-700",children:t.value})]},t.label))})]})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(uW,{className:"h-5 w-5 text-blue-600","aria-hidden":!0}),"Feedback & Conversion Summary"]}),r.jsx("div",{className:"mt-4 overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Sample No."}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Feedback"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-500",children:"Conversion Status"}),r.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-500",children:"Order Value"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Jn.map(t=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:t.sampleNo}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.customerName}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.productName}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.feedback?Fn(t.feedback):"Awaiting"}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:Fn(t.conversionStatus)}),r.jsx("td",{className:"px-4 py-3 text-right text-gray-900",children:t.orderValue?`₹${t.orderValue.toLocaleString()}`:"—"})]},t.id))})]})})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended Actions"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:'• Prioritize follow-up with customers in "Pending" or "In Discussion" to increase conversion rate.'}),r.jsx("li",{children:"• Review high-cost samples to identify opportunities for production or logistics savings."}),r.jsx("li",{children:"• Leverage positive feedback cases as reference stories in sales pitches."})]})]})]})},q3e=[{value:"all",label:"All"},{value:"converted",label:"Converted"},{value:"pending",label:"Pending"},{value:"in_discussion",label:"In Discussion"},{value:"rejected",label:"Rejected"}],H3e=()=>{const e=_t(),[t,n]=T.useState("all"),s=T.useMemo(()=>t==="all"?Tj:Tj.filter(o=>o.conversionStatus===t),[t]),a=Jn.filter(o=>o.conversionStatus==="converted"),i=a.reduce((o,d)=>o+(d.orderValue||0),0);return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Conversion Analysis"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Identify high-performing samples, track revenue conversion, and improve funnel flow."})]}),r.jsx("button",{type:"button",onClick:()=>e("/samples/reports"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"View Reports"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Conversion Rate"}),r.jsxs("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:[Au.conversionRate,"%"]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Based on approved sample orders this month."})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Converted Deals"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:a.length}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Out of ",Jn.length," total sample orders."]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Conversion Value"}),r.jsxs("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:["₹",(i/1e5).toFixed(1),"L"]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Closed revenue linked to samples."})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-5 shadow-sm",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Pending Deals"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:Jn.filter(o=>o.conversionStatus==="pending").length}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Follow-up required to move forward."})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(Cr,{className:"h-5 w-5 text-indigo-600","aria-hidden":!0}),"Conversion Funnel"]}),r.jsxs("div",{className:"relative w-full sm:w-56",children:[r.jsx(h7,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400","aria-hidden":!0}),r.jsx("select",{value:t,onChange:o=>n(o.target.value),className:"w-full appearance-none rounded-md border border-gray-200 bg-white py-2.5 pl-9 pr-3 text-sm text-gray-700 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:q3e.map(o=>r.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),r.jsx("div",{className:"mt-6 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:s.map(o=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:o.sampleNo}),r.jsx("p",{className:"text-xs text-gray-500",children:o.customerName})]}),r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium ${Ha(sg,o.conversionStatus)}`,children:Fn(o.conversionStatus)})]}),r.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3 text-sm",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Product"}),r.jsx("p",{className:"font-medium text-gray-900",children:o.productName})]}),r.jsxs("div",{className:"rounded-md border border-gray-200 bg-white p-3 text-sm",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Quote Value"}),r.jsx("p",{className:"font-medium text-gray-900",children:o.orderValue?`₹${o.orderValue.toLocaleString()}`:"Awaiting Quote"})]}),r.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"View Customer Journey"})]},o.id))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(_u,{className:"h-5 w-5 text-blue-600","aria-hidden":!0}),"Funnel Opportunities"]}),r.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[{title:"Follow-up Priorities",description:"Focus on samples pending customer feedback to unlock conversions.",icon:$n},{title:"Pricing Strategy",description:"Analyze high-value quotes to ensure they are aligned with win-levers.",icon:E4},{title:"Engagement",description:"Set reminders for customer check-ins during quality and delivery stages.",icon:Cr},{title:"Content Playbooks",description:"Use success stories to support sales teams during negotiations.",icon:_u}].map(o=>r.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsx(o.icon,{className:"h-5 w-5 text-indigo-600","aria-hidden":!0}),r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:o.title}),r.jsx("p",{className:"text-xs text-gray-500",children:o.description})]},o.title))})]})]})},W3e=[{value:"paid",label:"Paid Sample"},{value:"free",label:"Free Sample"}],G3e=[{value:"small",label:"Small Batch (1-3)"},{value:"medium",label:"Medium Batch (4-6)"},{value:"large",label:"Large Batch (7+)"}],Q3e=()=>{const e=_t(),[t,n]=T.useState({customerName:"",customerContact:"",productName:"",sampleType:"paid",quantity:"small",expectedDate:"",specialInstructions:""}),[s,a]=T.useState(!1),i=T.useMemo(()=>Jn.slice(0,3),[]),o=h=>{const{name:u,value:x}=h.target;n(p=>({...p,[u]:x}))},d=h=>{h.preventDefault(),a(!0),setTimeout(()=>{a(!1),e("/samples/orders")},1600)};return r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create Sample Request"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Capture customer requirements, delivery expectations, and assign ownership."})]}),r.jsx("button",{type:"button",onClick:()=>e("/samples"),className:"inline-flex items-center justify-center rounded-md border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-gray-300 hover:bg-gray-50",children:"Back to Dashboard"})]}),s&&r.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(S4,{className:"h-4 w-4","aria-hidden":!0}),"Sample request logged successfully! Redirecting to orders..."]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-[3fr_2fr]",children:[r.jsxs("form",{onSubmit:d,className:"space-y-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(kr,{className:"h-5 w-5 text-indigo-600","aria-hidden":!0}),"Request Details"]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Provide customer and product specifics to kick-start the sample workflow."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Customer Name",r.jsx("input",{type:"text",name:"customerName",value:t.customerName,onChange:o,required:!0,className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Contact Details",r.jsx("input",{type:"tel",name:"customerContact",value:t.customerContact,onChange:o,placeholder:"+91 98765 43210",className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Product / Garment Type",r.jsx("input",{type:"text",name:"productName",value:t.productName,onChange:o,required:!0,className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Expected Delivery Date",r.jsx("input",{type:"date",name:"expectedDate",value:t.expectedDate,onChange:o,className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Sample Type",r.jsx("select",{name:"sampleType",value:t.sampleType,onChange:o,className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:W3e.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]}),r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Quantity",r.jsx("select",{name:"quantity",value:t.quantity,onChange:o,className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",children:G3e.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))})]})]}),r.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Special Instructions",r.jsx("textarea",{name:"specialInstructions",value:t.specialInstructions,onChange:o,rows:4,placeholder:"Eg: Prefer organic cotton, include logo embroidery, deliver via express courier...",className:"mt-1 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-blue-700",children:"Submit Request"})})]}),r.jsxs("aside",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(Nj,{className:"h-5 w-5 text-blue-600","aria-hidden":!0}),"Recent Requests"]}),r.jsx("div",{className:"mt-4 space-y-3",children:i.map(h=>r.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 p-4 text-sm",children:[r.jsxs("p",{className:"font-semibold text-gray-900",children:[h.sampleNo," — ",h.customerName]}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[Fn(h.sampleType)," • ",h.requestDate]}),r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Status: ",Fn(h.status)]})]},h.id))})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx($n,{className:"h-5 w-5 text-indigo-600","aria-hidden":!0}),"Customer Preferences"]}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:"• Provide both fabric and fit options for school uniforms."}),r.jsx("li",{children:"• Offer quick turnaround for repeat customers."}),r.jsx("li",{children:"• Highlight eco-friendly fabrics for corporate orders."})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(E4,{className:"h-5 w-5 text-green-600","aria-hidden":!0}),"Approval Checklist"]}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:"• Validate product specifications and branding requirements."}),r.jsx("li",{children:"• Confirm sample type with finance if it is free-of-cost."}),r.jsx("li",{children:"• Align delivery timeline with production capacity."})]})]}),r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-semibold text-gray-900",children:[r.jsx(Oa,{className:"h-5 w-5 text-purple-600","aria-hidden":!0}),"Processing SLA"]}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:"• Approval turnaround: 24 hours"}),r.jsx("li",{children:"• Production lead time: 3-5 days"}),r.jsx("li",{children:"• Delivery commitment: 48 hours post-production"})]})]})]})]})]})},Y3e=()=>{var N;const{user:e}=$i(),[t,n]=T.useState(0),[s,a]=T.useState(!1),[i,o]=T.useState({name:(e==null?void 0:e.name)||"John Doe",email:(e==null?void 0:e.email)||"john.doe@pashion.com",phone:(e==null?void 0:e.phone)||"+91 9876543210",department:(e==null?void 0:e.department)||"Sales",role:((N=e==null?void 0:e.role)==null?void 0:N.display_name)||"Sales Manager",location:"Mumbai, Maharashtra",joinDate:(e==null?void 0:e.date_of_joining)||"2024-01-15",employeeId:(e==null?void 0:e.employee_id)||"EMP001",reportingManager:"Jane Smith",bio:"Experienced sales professional with 5+ years in textile industry."}),[d,h]=T.useState({twoFactorAuth:!1,emailNotifications:!0,smsNotifications:!1,sessionTimeout:30});T.useEffect(()=>{t===1&&(ye.dismiss("security-info-banner"),ye.custom(()=>r.jsxs("div",{className:"max-w-md p-4 bg-white rounded-lg shadow-lg border border-gray-200 flex items-start gap-3",children:[r.jsx(Kp,{className:"text-blue-500 mt-0.5",size:16}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Secure your account"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enable two-factor authentication and ensure you are using a strong password to keep your account safe."})]})]}),{id:"security-info-banner",duration:6e3}))},[t]);const[u]=T.useState([{id:1,action:"Logged in",timestamp:"2024-12-01 09:30:15",ipAddress:"192.168.1.100",device:"Chrome on Windows"},{id:2,action:"Created Sales Order SO-2024-001",timestamp:"2024-12-01 10:15:30",ipAddress:"192.168.1.100",device:"Chrome on Windows"},{id:3,action:"Updated customer information",timestamp:"2024-12-01 11:45:22",ipAddress:"192.168.1.100",device:"Chrome on Windows"},{id:4,action:"Generated sales report",timestamp:"2024-12-01 14:20:10",ipAddress:"192.168.1.100",device:"Chrome on Windows"}]),x=(j,S)=>{o(C=>({...C,[j]:S}))},p=(j,S)=>{h(C=>({...C,[j]:S}))},b=()=>{console.log("Saving profile data:",i),a(!1)},_=()=>{a(!1)},v=({children:j,value:S,index:C})=>r.jsx("div",{hidden:S!==C,children:S===C&&r.jsx("div",{className:"pt-6",children:j})});return r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Profile Management"}),r.jsxs("div",{className:"mx-auto grid grid-cols-1 gap-8",children:[r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center text-white text-3xl font-bold",children:i.name.charAt(0)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-1",children:i.name}),r.jsxs("div",{className:"text-gray-500 mb-2",children:[i.role," • ",i.department]}),r.jsxs("div",{className:"flex gap-2 flex-wrap mb-2",children:[r.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded text-xs font-medium border",children:["ID: ",i.employeeId]}),r.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded text-xs font-medium border",children:["Joined: ",i.joinDate]}),r.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded text-xs font-medium border",children:["Reports to: ",i.reportingManager]})]})]}),r.jsx("div",{children:s?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"btn btn-primary bg-green-600 hover:bg-green-700",onClick:b,children:"Save"}),r.jsx("button",{className:"btn btn-secondary",onClick:_,children:"Cancel"})]}):r.jsx("button",{className:"btn btn-primary flex items-center gap-2",onClick:()=>a(!0),children:"Edit Profile"})})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-8",children:[r.jsx("div",{className:"border-b border-gray-200 mb-6 flex gap-4",children:["Personal Information","Security Settings","Notifications","Activity Log"].map((j,S)=>r.jsx("button",{className:`py-2 px-4 font-medium rounded-t ${t===S?"bg-blue-100 text-blue-700":"bg-gray-50 text-gray-500"}`,onClick:()=>n(S),children:j},j))}),r.jsxs(v,{value:t,index:0,children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),r.jsx("input",{type:"text",value:i.name,onChange:j=>x("name",j.target.value),disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",value:i.email,onChange:j=>x("email",j.target.value),disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),r.jsx("input",{type:"text",value:i.phone,onChange:j=>x("phone",j.target.value),disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",value:i.location,onChange:j=>x("location",j.target.value),disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),r.jsxs("select",{value:i.department,onChange:j=>x("department",j.target.value),disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"Sales",children:"Sales"}),r.jsx("option",{value:"Procurement",children:"Procurement"}),r.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"Finance",children:"Finance"}),r.jsx("option",{value:"Admin",children:"Admin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",value:i.employeeId,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded bg-gray-100"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),r.jsx("textarea",{rows:3,value:i.bio,onChange:j=>x("bio",j.target.value),disabled:!s,className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell us about yourself..."})]})]})]}),r.jsxs(v,{value:t,index:1,children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Security Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Two-Factor Authentication"}),r.jsx("input",{type:"checkbox",checked:d.twoFactorAuth,onChange:j=>p("twoFactorAuth",j.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-gray-500",children:"Add an extra layer of security to your account"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),r.jsxs("select",{value:d.sessionTimeout,onChange:j=>p("sessionTimeout",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:15,children:"15 minutes"}),r.jsx("option",{value:30,children:"30 minutes"}),r.jsx("option",{value:60,children:"1 hour"}),r.jsx("option",{value:120,children:"2 hours"})]})]}),r.jsx("div",{className:"md:col-span-2 mt-4",children:r.jsx("button",{className:"btn btn-secondary border border-yellow-400 text-yellow-700",children:"Change Password"})})]})]}),r.jsxs(v,{value:t,index:2,children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Notifications"}),r.jsx("input",{type:"checkbox",checked:d.emailNotifications,onChange:j=>p("emailNotifications",j.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-gray-500",children:"Receive notifications about orders, updates, and system alerts via email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMS Notifications"}),r.jsx("input",{type:"checkbox",checked:d.smsNotifications,onChange:j=>p("smsNotifications",j.target.checked),className:"mr-2"}),r.jsx("span",{className:"text-gray-500",children:"Receive critical alerts and updates via SMS"})]})]})]}),r.jsxs(v,{value:t,index:3,children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),r.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(j=>r.jsxs("li",{className:"py-3 flex flex-col md:flex-row md:items-center gap-2",children:[r.jsx("span",{className:"text-blue-600 font-bold text-xs mr-2",children:j.action}),r.jsx("span",{className:"text-gray-500 text-xs",children:j.timestamp}),r.jsxs("span",{className:"text-gray-400 text-xs",children:[j.device," • ",j.ipAddress]})]},j.id))})]})]})]})]})},X3e=()=>{const{user:e}=$i(),[t,n]=T.useState(new Date),[s,a]=T.useState(!1),[i,o]=T.useState(null),d={totalWorkingDays:22,presentDays:20,lateArrivals:3,totalHours:176,attendancePercentage:90.9},h=T.useMemo(()=>[{date:"2024-12-01",checkIn:"09:15:30",checkOut:"18:30:45",totalHours:"09:15:15",status:"present",isLate:!0},{date:"2024-11-30",checkIn:"09:00:15",checkOut:"18:00:30",totalHours:"09:00:15",status:"present",isLate:!1},{date:"2024-11-29",checkIn:"08:45:20",checkOut:"17:45:10",totalHours:"09:00:50",status:"present",isLate:!1},{date:"2024-11-28",checkIn:null,checkOut:null,totalHours:"00:00:00",status:"absent",isLate:!1},{date:"2024-11-27",checkIn:"09:30:45",checkOut:"18:15:20",totalHours:"08:44:35",status:"present",isLate:!0}],[]);T.useEffect(()=>{const v=setInterval(()=>{n(new Date)},1e3),N=new Date().toDateString(),j=localStorage.getItem(`checkIn_${e==null?void 0:e.id}_${N}`);return j&&(a(!0),o({checkIn:j,checkOut:localStorage.getItem(`checkOut_${e==null?void 0:e.id}_${N}`)})),()=>clearInterval(v)},[e==null?void 0:e.id]);const u=()=>{const v=new Date,N=v.toLocaleTimeString(),j=v.toDateString();localStorage.setItem(`checkIn_${e==null?void 0:e.id}_${j}`,N),a(!0),o({checkIn:N,checkOut:null})},x=()=>{const v=new Date,N=v.toLocaleTimeString(),j=v.toDateString();localStorage.setItem(`checkOut_${e==null?void 0:e.id}_${j}`,N),o(S=>({...S,checkOut:N}))},p=v=>({present:"bg-green-100 text-green-700 border-green-400",absent:"bg-red-100 text-red-700 border-red-400",late:"bg-yellow-100 text-yellow-700 border-yellow-400",early_departure:"bg-blue-100 text-blue-700 border-blue-400"})[v]||"bg-gray-100 text-gray-700 border-gray-400",b=v=>v.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),_=({title:v,value:N,icon:j,color:S="primary",subtitle:C,unit:A})=>r.jsx("div",{className:"bg-white shadow  p-4 flex flex-col justify-between h-full",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-xs mb-1",children:v}),r.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[N,A&&r.jsx("span",{className:"text-base",children:A})]}),C&&r.jsx("div",{className:"text-xs text-gray-400",children:C})]}),r.jsx("div",{className:`text-3xl ${S==="success"?"text-green-500":S==="primary"?"text-blue-500":S==="info"?"text-cyan-500":S==="warning"?"text-yellow-500":"text-gray-400"}`,children:j})]})});return r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Attendance Management"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25  ",children:[r.jsx("div",{className:"text-lg font-semibold mb-2",children:"Current Time"}),r.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:b(t)}),r.jsx("div",{className:"text-gray-500",children:t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25  ",children:[r.jsx("div",{className:"text-lg font-semibold mb-2",children:"Today's Attendance"}),i?r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Check In"}),r.jsx("div",{className:"text-lg font-bold text-green-600",children:i.checkIn})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Check Out"}),r.jsx("div",{className:`text-lg font-bold ${i.checkOut?"text-red-600":"text-gray-400"}`,children:i.checkOut||"Not checked out"})]})]}),!i.checkOut&&r.jsxs("button",{className:"w-full py-2 rounded bg-red-500 text-white font-semibold flex items-center justify-center gap-2 hover:bg-red-600",onClick:x,children:[r.jsx(hq,{})," Check Out"]})]}):r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"text-gray-500 mb-2",children:"You haven't checked in today"}),r.jsxs("button",{className:"w-full py-2 rounded bg-green-500 text-white font-semibold flex items-center justify-center gap-2 hover:bg-green-600",onClick:u,children:[r.jsx(or,{})," Check In"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(_,{title:"Present Days",value:d.presentDays,icon:r.jsx(or,{}),color:"success",subtitle:`Out of ${d.totalWorkingDays} days`}),r.jsx(_,{title:"Attendance Rate",value:d.attendancePercentage,unit:"%",icon:r.jsx(Ni,{}),color:"primary"}),r.jsx(_,{title:"Total Hours",value:d.totalHours,icon:r.jsx(as,{}),color:"info",subtitle:"This month"}),r.jsx(_,{title:"Late Arrivals",value:d.lateArrivals,icon:r.jsx(wa,{}),color:"warning",subtitle:"This month"})]}),r.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[r.jsx("div",{className:"text-lg font-semibold mb-2",children:"Monthly Attendance Progress"}),r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("div",{className:"flex-1 h-3 bg-gray-200 rounded",children:r.jsx("div",{className:"h-3 rounded bg-green-500",style:{width:`${d.attendancePercentage}%`}})}),r.jsxs("div",{className:"text-sm font-medium",children:[d.attendancePercentage,"%"]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[d.presentDays," out of ",d.totalWorkingDays," working days completed"]})]}),r.jsxs("div",{className:"bg-white rounded shadow p-6",children:[r.jsx("div",{className:"text-lg font-semibold mb-4",children:"Recent Attendance History"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Date"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Check In"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Check Out"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Total Hours"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Remarks"})]})}),r.jsx("tbody",{children:h.map((v,N)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 font-medium",children:new Date(v.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),r.jsx("td",{className:`px-4 py-2 ${v.isLate?"text-yellow-600":"text-green-600"}`,children:v.checkIn||"-"}),r.jsx("td",{className:`px-4 py-2 ${v.checkOut?"text-red-600":"text-gray-400"}`,children:v.checkOut||"-"}),r.jsx("td",{className:"px-4 py-2 font-medium",children:v.totalHours}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border ${p(v.status)}`,children:v.status.toUpperCase()})}),r.jsx("td",{className:"px-4 py-2",children:v.isLate&&v.status==="present"&&r.jsx("span",{className:"px-2 py-0.5 rounded text-xs border border-yellow-400 text-yellow-700 bg-yellow-100",children:"Late Arrival"})})]},N))})]})})]})]})},K3e=()=>{const[e,t]=T.useState(0),[n,s]=T.useState([{id:1,type:"order",title:"New Sales Order Created",message:"Sales Order SO-2024-001 has been created for ABC School",timestamp:"2024-12-01 10:30:15",isRead:!1,priority:"high",icon:r.jsx(Di,{}),color:"primary"},{id:2,type:"inventory",title:"Low Stock Alert",message:"Cotton Fabric - White is running low (15 units remaining)",timestamp:"2024-12-01 09:45:22",isRead:!1,priority:"high",icon:r.jsx(wa,{}),color:"warning"},{id:3,type:"shipment",title:"Shipment Delivered",message:"Shipment SHP-2024-001 has been delivered to ABC School",timestamp:"2024-12-01 08:20:10",isRead:!0,priority:"medium",icon:r.jsx(Bn,{}),color:"success"},{id:4,type:"finance",title:"Payment Received",message:"Payment of ₹4,25,000 received from ABC School",timestamp:"2024-11-30 16:15:30",isRead:!0,priority:"medium",icon:r.jsx(Yp,{}),color:"success"},{id:5,type:"system",title:"System Maintenance",message:"Scheduled maintenance will occur tonight from 2:00 AM to 4:00 AM",timestamp:"2024-11-30 14:00:00",isRead:!1,priority:"low",icon:r.jsx(F6,{}),color:"info"},{id:6,type:"approval",title:"Purchase Order Pending Approval",message:"Purchase Order PO-2024-002 is waiting for your approval",timestamp:"2024-11-30 11:30:45",isRead:!1,priority:"high",icon:r.jsx(Il,{}),color:"warning"},{id:7,type:"user",title:"New User Added",message:"New user Amit Sharma has been added to Manufacturing department",timestamp:"2024-11-29 15:20:18",isRead:!0,priority:"low",icon:r.jsx(If,{}),color:"info"},{id:8,type:"error",title:"System Error",message:"Failed to sync data with external system. Please check logs.",timestamp:"2024-11-29 12:45:33",isRead:!1,priority:"high",icon:r.jsx(wa,{}),color:"error"}]),[a,i]=T.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderNotifications:!0,inventoryAlerts:!0,shipmentUpdates:!0,paymentNotifications:!0,systemAlerts:!0}),o=n.filter(v=>!v.isRead).length,d=v=>{s(N=>N.map(j=>j.id===v?{...j,isRead:!0}:j))},h=()=>{s(v=>v.map(N=>({...N,isRead:!0})))},u=v=>{s(N=>N.filter(j=>j.id!==v))},x=(v,N)=>{i(j=>({...j,[v]:N}))},p=v=>({high:"error",medium:"warning",low:"info"})[v]||"default",b=()=>{switch(e){case 1:return n.filter(v=>!v.isRead);case 2:return n.filter(v=>v.isRead);default:return n}};return r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Notifications"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"border border-primary text-primary px-4 py-2 rounded flex items-center gap-2 disabled:opacity-50",onClick:h,disabled:o===0,children:[r.jsx(iq,{className:"text-lg"}),"Mark All as Read"]}),r.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2",children:[r.jsx(go,{className:"text-lg"}),"Settings"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white shadow rounded p-4 text-center",children:[r.jsxs("div",{className:"relative flex justify-center mb-2",children:[r.jsx(rv,{className:"text-4xl text-primary"}),o>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-2 py-0.5",children:o})]}),r.jsx("div",{className:"text-xl font-bold",children:o}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Unread Notifications"})]}),r.jsxs("div",{className:"bg-white shadow rounded p-4 text-center",children:[r.jsx(sq,{className:"text-4xl text-blue-400 mb-2"}),r.jsx("div",{className:"text-xl font-bold",children:n.length}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Total Notifications"})]}),r.jsxs("div",{className:"bg-white shadow rounded p-4 text-center",children:[r.jsx(wa,{className:"text-4xl text-yellow-500 mb-2"}),r.jsx("div",{className:"text-xl font-bold",children:n.filter(v=>v.priority==="high").length}),r.jsx("div",{className:"text-gray-500 text-sm",children:"High Priority"})]}),r.jsxs("div",{className:"bg-white shadow rounded p-4 text-center",children:[r.jsx(or,{className:"text-4xl text-green-500 mb-2"}),r.jsx("div",{className:"text-xl font-bold",children:n.filter(v=>v.isRead).length}),r.jsx("div",{className:"text-gray-500 text-sm",children:"Read Notifications"})]})]}),r.jsxs("div",{className:"bg-white shadow rounded",children:[r.jsx("div",{className:"border-b flex",children:[{label:`All (${n.length})`,icon:r.jsx(rv,{})},{label:`Unread (${o})`,icon:r.jsx(nv,{className:"text-red-500"})},{label:`Read (${n.filter(v=>v.isRead).length})`,icon:r.jsx(or,{className:"text-green-500"})},{label:"Settings",icon:r.jsx(go,{})}].map((v,N)=>r.jsxs("button",{className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors duration-200 ${e===N?"border-primary text-primary":"border-transparent text-gray-500 hover:text-primary"}`,onClick:()=>t(N),children:[v.icon,v.label]},v.label))}),r.jsxs("div",{children:[e===0&&r.jsx("ul",{children:b().map((v,N)=>r.jsxs("li",{className:`flex items-start gap-4 p-4 rounded ${v.isRead?"":"bg-gray-50 border-l-4"} border-${v.color}-500`,children:[r.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center bg-${v.color}-100`,children:_(v)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`font-semibold ${v.isRead?"text-gray-700":"text-primary"}`,children:v.title}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${p(v.priority)}-500 text-${p(v.priority)}-500`,children:v.priority}),!v.isRead&&r.jsx(nv,{className:"text-primary text-xs"})]}),r.jsx("div",{className:"text-gray-500 text-sm mt-1",children:v.message}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:v.timestamp})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[!v.isRead&&r.jsx("button",{className:"text-green-500 hover:text-green-700",onClick:()=>d(v.id),title:"Mark as read",children:r.jsx(or,{})}),r.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>u(v.id),title:"Delete notification",children:r.jsx(Es,{})})]})]},v.id))}),e===1&&r.jsx("ul",{children:b().map((v,N)=>r.jsxs("li",{className:`flex items-start gap-4 p-4 rounded bg-gray-50 border-l-4 border-${v.color}-500`,children:[r.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center bg-${v.color}-100`,children:_(v)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-primary",children:v.title}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${p(v.priority)}-500 text-${p(v.priority)}-500`,children:v.priority}),r.jsx(nv,{className:"text-primary text-xs"})]}),r.jsx("div",{className:"text-gray-500 text-sm mt-1",children:v.message}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:v.timestamp})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("button",{className:"text-green-500 hover:text-green-700",onClick:()=>d(v.id),title:"Mark as read",children:r.jsx(or,{})}),r.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>u(v.id),title:"Delete notification",children:r.jsx(Es,{})})]})]},v.id))}),e===2&&r.jsx("ul",{children:b().map((v,N)=>r.jsxs("li",{className:"flex items-start gap-4 p-4 rounded border-l-4 border-gray-200",children:[r.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center bg-${v.color}-100`,children:_(v)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:v.title}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${p(v.priority)}-500 text-${p(v.priority)}-500`,children:v.priority})]}),r.jsx("div",{className:"text-gray-500 text-sm mt-1",children:v.message}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:v.timestamp})]}),r.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>u(v.id),title:"Delete notification",children:r.jsx(Es,{})})]},v.id))}),e===3&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Notification Settings"}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 rounded p-3 mb-4",children:"Configure how you want to receive notifications across different channels."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-semibold mb-2",children:"Delivery Methods"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.emailNotifications,onChange:v=>x("emailNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"Email Notifications"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.pushNotifications,onChange:v=>x("pushNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"Push Notifications"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.smsNotifications,onChange:v=>x("smsNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"SMS Notifications"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-semibold mb-2",children:"Notification Types"}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.orderNotifications,onChange:v=>x("orderNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"Order Updates"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.inventoryAlerts,onChange:v=>x("inventoryAlerts",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"Inventory Alerts"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.shipmentUpdates,onChange:v=>x("shipmentUpdates",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"Shipment Updates"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.paymentNotifications,onChange:v=>x("paymentNotifications",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"Payment Notifications"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:a.systemAlerts,onChange:v=>x("systemAlerts",v.target.checked),className:"form-checkbox h-5 w-5 text-primary"}),"System Alerts"]})]})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("button",{className:"bg-primary text-white px-6 py-2 rounded",children:"Save Settings"})})]})]})]})]});function _(v){switch(v.type){case"order":return r.jsx(Di,{className:"text-primary text-2xl"});case"inventory":return r.jsx(Il,{className:"text-yellow-500 text-2xl"});case"shipment":return r.jsx(Bn,{className:"text-green-500 text-2xl"});case"finance":return r.jsx(Yp,{className:"text-green-500 text-2xl"});case"system":return r.jsx(F6,{className:"text-blue-500 text-2xl"});case"approval":return r.jsx(Il,{className:"text-yellow-500 text-2xl"});case"user":return r.jsx(If,{className:"text-blue-400 text-2xl"});case"error":return r.jsx(wa,{className:"text-red-500 text-2xl"});default:return r.jsx(rv,{className:"text-primary text-2xl"})}}},Z3e=()=>{const[e,t]=T.useState(""),[n,s]=T.useState(null),[a,i]=T.useState(!1);T.useEffect(()=>{t(YP())},[]);const o=async()=>{i(!0),s(null);try{const x=await XP();s(x)}catch(x){s({success:!1,error:x.message})}finally{i(!1)}},d=()=>{bj(e),alert("API URL updated! Please refresh the page for changes to take effect.")},h=()=>{bj(null),t("/api"),alert("API URL reset to default! Please refresh the page.")},u=[{label:"Default Proxy (/api)",value:"/api"},{label:"Direct Backend (5000)",value:"http://localhost:5000/api"},{label:"Backend Port 5001",value:"http://localhost:5001/api"},{label:"Backend Port 8000",value:"http://localhost:8000/api"},{label:"Production API",value:"https://api.example.com"}];return r.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"⚠️ Development Tools"}),r.jsx("p",{className:"text-yellow-700 text-sm",children:"This page is for development and debugging purposes only. Changes made here affect the API configuration."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"API Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current API Base URL"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:e,onChange:x=>t(x.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter API base URL"}),r.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"}),r.jsx("button",{onClick:h,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Reset"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Presets"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.map(x=>r.jsxs("button",{onClick:()=>t(x.value),className:"px-3 py-2 text-left border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:[x.label,": ",r.jsx("code",{className:"text-blue-600",children:x.value})]},x.value))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Connection Test"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:a?"Testing...":"Test API Connection"}),n&&r.jsxs("div",{className:`p-4 rounded-md ${n.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[r.jsx("h4",{className:`font-medium ${n.success?"text-green-800":"text-red-800"}`,children:n.success?"✅ Connection Successful":"❌ Connection Failed"}),n.success?r.jsx("pre",{className:"mt-2 text-sm text-green-700",children:JSON.stringify(n.data,null,2)}):r.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Error:"})," ",n.error]}),n.status&&r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," ",n.status]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Usage Instructions"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"1. Environment Variables:"})," Set ",r.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"VITE_API_URL"})," in your .env file"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"2. Runtime Override:"})," Use the form above to set a URL that persists in localStorage"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"3. Direct Backend:"})," If you want to bypass the proxy, set the URL to ",r.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"http://localhost:PORT/api"})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"4. Browser Console:"})," Use ",r.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"window.apiConfig"})," for debugging"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"5. Backend Port:"})," Set ",r.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"VITE_BACKEND_URL"})," to change the proxy target"]})]})]})]})},Gd=[{id:"order_number",label:"SO Number",defaultVisible:!0,alwaysVisible:!0},{id:"order_date",label:"Order Date",defaultVisible:!0},{id:"customer",label:"Customer",defaultVisible:!0},{id:"product_info",label:"Product Info",defaultVisible:!1},{id:"quantity",label:"Quantity",defaultVisible:!1},{id:"rate",label:"Rate per Piece",defaultVisible:!1},{id:"total_amount",label:"Total Amount",defaultVisible:!0},{id:"advance_paid",label:"Advance Paid",defaultVisible:!1},{id:"balance",label:"Balance Amount",defaultVisible:!1},{id:"delivery_date",label:"Delivery Date",defaultVisible:!0},{id:"status",label:"Status",defaultVisible:!0},{id:"procurement",label:"Procurement Status",defaultVisible:!1},{id:"invoice",label:"Invoice Status",defaultVisible:!1},{id:"challan",label:"Challan Status",defaultVisible:!1},{id:"created_by",label:"Created By",defaultVisible:!1},{id:"actions",label:"Actions",defaultVisible:!0,alwaysVisible:!0}],J3e=()=>{var pe,Le,Ee,$e,Xe,wt;const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState([]),[i,o]=T.useState(!0),[d,h]=T.useState(null),[u,x]=T.useState(""),[p,b]=T.useState("all"),[_,v]=T.useState("all"),[N,j]=T.useState("all"),[S,C]=T.useState("all"),[A,E]=T.useState(""),[k,D]=T.useState(""),[R,F]=T.useState(!1),[M,z]=T.useState(!1),[I,L]=T.useState(null),[$,W]=T.useState(null),[U,Y]=T.useState(!1),[X,V]=T.useState({}),[G,ne]=T.useState(()=>{const be=localStorage.getItem("salesOrdersVisibleColumns");return be?JSON.parse(be):Gd.filter(Be=>Be.defaultVisible).map(Be=>Be.id)});T.useEffect(()=>{ae(),le()},[]),T.useEffect(()=>{ie()},[t,u,p,_,N,S,A,k]),T.useEffect(()=>{const be=Be=>{U&&!Be.target.closest(".column-menu-container")&&Y(!1),$&&!Be.target.closest(".action-menu-container")&&(W(null),V({}))};return document.addEventListener("mousedown",be),()=>document.removeEventListener("mousedown",be)},[U,$]);const ae=async()=>{try{o(!0);const be=await he.get("/sales/orders?limit=1000");n(be.data.orders||[])}catch(be){console.error("Failed to fetch orders:",be)}finally{o(!1)}},le=async()=>{try{const be=await he.get("/sales/dashboard/summary");h(be.data.summary)}catch(be){console.error("Failed to fetch summary:",be)}},ie=()=>{let be=[...t];u&&(be=be.filter(Be=>{var gt,Et,Or,It;return((gt=Be.order_number)==null?void 0:gt.toLowerCase().includes(u.toLowerCase()))||((Or=(Et=Be.customer)==null?void 0:Et.name)==null?void 0:Or.toLowerCase().includes(u.toLowerCase()))||((It=Be.items)==null?void 0:It.some(Ie=>{var se,we;return((se=Ie.product_type)==null?void 0:se.toLowerCase().includes(u.toLowerCase()))||((we=Ie.description)==null?void 0:we.toLowerCase().includes(u.toLowerCase()))}))})),p&&p!=="all"&&(be=be.filter(Be=>Be.status===p)),_&&_!=="all"&&(be=be.filter(Be=>Be.procurement_status===_)),N&&N!=="all"&&(be=be.filter(Be=>Be.invoice_status===N)),S&&S!=="all"&&(be=be.filter(Be=>Be.challan_status===S)),A&&(be=be.filter(Be=>new Date(Be.order_date)>=new Date(A))),k&&(be=be.filter(Be=>new Date(Be.order_date)<=new Date(k+"T23:59:59"))),a(be)},fe=be=>G.includes(be),xe=be=>{const Be=Gd.find(gt=>gt.id===be);Be!=null&&Be.alwaysVisible||ne(gt=>{const Et=gt.includes(be)?gt.filter(Or=>Or!==be):[...gt,be];return localStorage.setItem("salesOrdersVisibleColumns",JSON.stringify(Et)),Et})},ge=()=>{const be=Gd.filter(Be=>Be.defaultVisible).map(Be=>Be.id);ne(be),localStorage.setItem("salesOrdersVisibleColumns",JSON.stringify(be))},ke=()=>{const be=Gd.map(Be=>Be.id);ne(be),localStorage.setItem("salesOrdersVisibleColumns",JSON.stringify(be))},Ae=(be,Be)=>{if($===be)W(null),V({});else{const Et=Be.currentTarget.getBoundingClientRect(),Or=window.innerHeight,It=350,Ie=Or-Et.bottom,se=Et.top,we=Ie<It&&se>Ie;V({[be]:we}),W(be)}},Ne=()=>{W(null),V({})},Me=async be=>{var Be,gt;if(window.confirm(`Send order ${be.order_number} to procurement department?`))try{await he.put(`/sales/orders/${be.id}/send-to-procurement`),alert("Order sent to procurement successfully!"),ae(),le()}catch(Et){alert(((gt=(Be=Et.response)==null?void 0:Be.data)==null?void 0:gt.message)||"Failed to send to procurement")}},Re=async be=>{var Be,gt;if(window.confirm(`Generate invoice for order ${be.order_number}?`))try{const Et=await he.post(`/sales/orders/${be.id}/generate-invoice`);alert("Invoice generated successfully!"),console.log("Invoice data:",Et.data.invoice),ae(),le()}catch(Et){alert(((gt=(Be=Et.response)==null?void 0:Be.data)==null?void 0:gt.message)||"Failed to generate invoice")}},Pe=async be=>{e(`/challans/create?order_id=${be.id}`)},Ke=be=>{e(`/sales/orders/${be.id}?tab=procurement`)},lt=be=>{e(`/procurement/purchase-orders?create_from_so=${be.id}`)},vt=be=>{L(be),z(!0)},Ot=async be=>{var Be,gt;if(window.confirm(`Are you sure you want to delete order ${be.order_number}?`))try{await he.delete(`/sales/orders/${be.id}`),alert("Order deleted successfully!"),ae(),le()}catch(Et){alert(((gt=(Be=Et.response)==null?void 0:Be.data)==null?void 0:gt.message)||"Failed to delete order")}},ft=be=>{const Be={draft:{color:"bg-gray-100 text-gray-700",label:"Draft"},confirmed:{color:"bg-blue-100 text-blue-700",label:"Confirmed"},in_production:{color:"bg-orange-100 text-orange-700",label:"In Production"},materials_received:{color:"bg-yellow-100 text-yellow-700",label:"Materials Received"},completed:{color:"bg-green-100 text-green-700",label:"Completed"},shipped:{color:"bg-purple-100 text-purple-700",label:"Shipped"},delivered:{color:"bg-green-100 text-green-700",label:"Delivered"},cancelled:{color:"bg-red-100 text-red-700",label:"Cancelled"}},gt=Be[be]||Be.draft;return r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${gt.color}`,children:gt.label})},ut=be=>{const Be={not_requested:{color:"bg-gray-100 text-gray-600",label:"Not Requested"},requested:{color:"bg-blue-100 text-blue-600",label:"Requested"},po_created:{color:"bg-purple-100 text-purple-600",label:"PO Created"},materials_ordered:{color:"bg-yellow-100 text-yellow-600",label:"Materials Ordered"},materials_received:{color:"bg-green-100 text-green-600",label:"Materials Received"},completed:{color:"bg-green-100 text-green-700",label:"Completed"}},gt=Be[be]||Be.not_requested;return r.jsx("span",{className:`px-2 py-1 rounded text-xs ${gt.color}`,children:gt.label})},oe=be=>{const Be={pending:{color:"bg-gray-100 text-gray-600",label:"Pending"},generated:{color:"bg-green-100 text-green-600",label:"Generated"},sent:{color:"bg-blue-100 text-blue-600",label:"Sent"},paid:{color:"bg-green-100 text-green-700",label:"Paid"}},gt=Be[be]||Be.pending;return r.jsx("span",{className:`px-2 py-1 rounded text-xs ${gt.color}`,children:gt.label})},Z=be=>{const Be={pending:{color:"bg-gray-100 text-gray-600",label:"Pending"},created:{color:"bg-blue-100 text-blue-600",label:"Created"},dispatched:{color:"bg-orange-100 text-orange-600",label:"Dispatched"},delivered:{color:"bg-green-100 text-green-700",label:"Delivered"}},gt=Be[be]||Be.pending;return r.jsx("span",{className:`px-2 py-1 rounded text-xs ${gt.color}`,children:gt.label})},ee=be=>{if(!be||be.length===0)return{product:"N/A",type:"N/A",code:"N/A"};const Be=be[0];return{product:Be.description||Be.product_id||"N/A",type:Be.product_type||"N/A",code:Be.item_code||Be.product_id||"N/A"}};return r.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen max-w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Sales Orders"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track all sales orders"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-md transition-colors",onClick:()=>e("/sales/orders/create"),children:[r.jsx(Br,{size:16})," Create New Order"]})]}),d&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d.total_orders})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:r.jsx(Di,{size:24,className:"text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Orders"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d.pending_orders})]}),r.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:r.jsx(as,{size:24,className:"text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Production"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d.in_production_orders})]}),r.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:r.jsx(go,{size:24,className:"text-orange-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Delivered Orders"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:d.delivered_orders})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(Ii,{size:24,className:"text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md col-span-1 md:col-span-2 lg:col-span-2 border-l-4 border-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Value"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:["₹",(pe=d.total_value)==null?void 0:pe.toLocaleString()]})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:r.jsx(Yp,{size:24,className:"text-purple-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Advance Collected"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₹",(Le=d.advance_collected)==null?void 0:Le.toLocaleString()]})]})})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-red-500",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Balance Due"}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["₹",(Ee=d.balance_due)==null?void 0:Ee.toLocaleString()]})]})})})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 relative mr-4",children:[r.jsx("input",{type:"text",placeholder:"Search by SO Number, Customer, or Product...",value:u,onChange:be=>x(be.target.value),className:"w-full p-3 border rounded-lg pl-10 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative column-menu-container",children:[r.jsxs("button",{onClick:()=>Y(!U),className:"flex items-center gap-2 px-4 py-3 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg transition-colors",children:[r.jsx(t7,{size:16}),r.jsx("span",{children:"Columns"}),r.jsx(Vc,{size:14,className:`transition-transform ${U?"rotate-180":""}`})]}),U&&r.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl z-50 border",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-700",children:"Manage Columns"}),r.jsxs("span",{className:"text-xs text-gray-500",children:[G.length," of ",Gd.length]})]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Gd.map(be=>r.jsxs("label",{className:`flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer ${be.alwaysVisible?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("input",{type:"checkbox",checked:fe(be.id),onChange:()=>xe(be.id),disabled:be.alwaysVisible,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:be.label}),be.alwaysVisible&&r.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"(Required)"})]},be.id))}),r.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t",children:[r.jsx("button",{onClick:ke,className:"flex-1 px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded transition-colors",children:"Show All"}),r.jsx("button",{onClick:ge,className:"flex-1 px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 text-gray-700 rounded transition-colors",children:"Reset"})]})]})})]}),r.jsxs("button",{onClick:()=>F(!R),className:"flex items-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx(Qy,{size:16}),r.jsx("span",{children:"Filters"}),r.jsx(Vc,{size:14,className:`transition-transform ${R?"rotate-180":""}`})]})]})]}),R&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:p,onChange:be=>b(be.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"in_production",children:"In Production"}),r.jsx("option",{value:"ready_to_ship",children:"Ready to Ship"}),r.jsx("option",{value:"shipped",children:"Shipped"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Procurement Status"}),r.jsxs("select",{value:_,onChange:be=>v(be.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"not_requested",children:"Not Requested"}),r.jsx("option",{value:"requested",children:"Requested"}),r.jsx("option",{value:"po_created",children:"PO Created"}),r.jsx("option",{value:"materials_received",children:"Materials Received"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Status"}),r.jsxs("select",{value:N,onChange:be=>j(be.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"generated",children:"Generated"}),r.jsx("option",{value:"paid",children:"Paid"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Challan Status"}),r.jsxs("select",{value:S,onChange:be=>C(be.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"created",children:"Created"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"delivered",children:"Delivered"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),r.jsx("input",{type:"date",value:A,onChange:be=>E(be.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),r.jsx("input",{type:"date",value:k,onChange:be=>D(be.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md",children:r.jsx("div",{className:" w-full",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[fe("order_number")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SO Number"}),fe("order_date")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),fe("customer")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),fe("product_info")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Info"}),fe("quantity")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),fe("rate")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),fe("total_amount")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),fe("advance_paid")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advance Paid"}),fe("balance")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),fe("delivery_date")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),fe("status")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),fe("procurement")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Procurement"}),fe("invoice")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),fe("challan")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan"}),fe("created_by")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),fe("actions")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky right-0 bg-gray-50 shadow-[-2px_0_4px_rgba(0,0,0,0.1)] min-w-[100px]",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:16,className:"px-4 py-8 text-center text-gray-500",children:"Loading orders..."})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:16,className:"px-4 py-8 text-center text-gray-500",children:"No orders found"})}):s.map(be=>{var Or,It,Ie,se,we,De,tt,Gt;const Be=ee(be.items),gt=(Or=be.items)==null?void 0:Or[0],Et=gt?gt.unit_price:0;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[fe("order_number")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("button",{onClick:()=>e(`/sales/orders/${be.id}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:be.order_number})}),fe("order_date")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:new Date(be.order_date).toLocaleDateString()}),fe("customer")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:(It=be.customer)==null?void 0:It.name}),r.jsx("div",{className:"text-xs text-gray-500",children:(Ie=be.customer)==null?void 0:Ie.customer_code})]}),fe("product_info")&&r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:Be.product}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Type: ",Be.type," | Code: ",Be.code]})]}),fe("quantity")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:[be.total_quantity," pcs"]}),fe("rate")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:["₹",Et==null?void 0:Et.toLocaleString()]}),fe("total_amount")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",(se=be.final_amount)==null?void 0:se.toLocaleString()]}),fe("advance_paid")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-green-600 font-medium",children:["₹",((we=be.advance_paid)==null?void 0:we.toLocaleString())||"0"]}),fe("balance")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-red-600 font-medium",children:["₹",((De=be.balance_amount)==null?void 0:De.toLocaleString())||((tt=be.final_amount)==null?void 0:tt.toLocaleString())]}),fe("delivery_date")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:new Date(be.delivery_date).toLocaleDateString()}),fe("status")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:ft(be.status)}),fe("procurement")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:ut(be.procurement_status)}),fe("invoice")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:oe(be.invoice_status)}),fe("challan")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Z(be.challan_status)}),fe("created_by")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:((Gt=be.creator)==null?void 0:Gt.name)||"N/A"}),fe("actions")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap sticky right-0 bg-white group-hover:bg-gray-50 shadow-[-2px_0_4px_rgba(0,0,0,0.1)] transition-colors",children:r.jsxs("div",{className:"relative action-menu-container",children:[r.jsx("button",{onClick:sr=>Ae(be.id,sr),className:"p-2 hover:bg-gray-100 rounded transition-colors",title:"Actions",children:r.jsx(Vc,{size:14})}),$===be.id&&r.jsxs("div",{className:`absolute right-0 w-56 bg-white rounded-lg shadow-xl z-[100] border ${X[be.id]?"bottom-full mb-2":"top-full mt-2"}`,children:[r.jsxs("button",{onClick:()=>{e(`/sales/orders/${be.id}`),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(cs,{})," View / Edit"]}),r.jsxs("button",{onClick:()=>{Me(be),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(Il,{})," Send to Procurement"]}),r.jsxs("button",{onClick:()=>{lt(be),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors",children:[r.jsx(Di,{})," Create Purchase Order"]}),r.jsxs("button",{onClick:()=>{Re(be),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(Pf,{})," Generate Invoice"]}),r.jsxs("button",{onClick:()=>{Pe(be),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(Bn,{})," Create Challan"]}),r.jsxs("button",{onClick:()=>{Ke(be),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(Yy,{})," View PO Status"]}),r.jsxs("button",{onClick:()=>{vt(be),Ne()},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(Xs,{})," Generate QR Code"]}),r.jsxs("button",{onClick:()=>{window.print(),W(null)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(Lh,{})," Print SO"]}),r.jsxs("button",{onClick:()=>{Ot(be),W(null)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors border-t",children:[r.jsx(Es,{})," Delete Order"]})]})]})})]},be.id)})})]})})}),M&&I&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order QR Code"}),r.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]})}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-center mb-4",children:r.jsx(Mi,{data:JSON.stringify({order_number:I.order_number,customer:($e=I.customer)==null?void 0:$e.name,status:I.status,track_url:`${window.location.origin}/sales/track/${I.order_number}`}),size:200})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Order:"})," ",I.order_number]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Customer:"})," ",(Xe=I.customer)==null?void 0:Xe.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",I.status]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Amount:"})," ₹",(wt=I.final_amount)==null?void 0:wt.toLocaleString()]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:()=>z(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:"Close"})})]})]})}),r.jsx("button",{className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-colors",onClick:()=>e("/sales/orders/create"),children:r.jsx(Br,{size:24})})]})},e_e=()=>{var j,S,C,A,E,k,D,R,F,M,z;const{id:e}=Ih(),t=_t(),[n,s]=T.useState(null),[a,i]=T.useState(!0),[o,d]=T.useState(""),[h,u]=T.useState("details");T.useEffect(()=>{x()},[e]);const x=async()=>{var I,L;try{i(!0);const $=await he.get(`/sales/orders/${e}`);s($.data.order)}catch($){d(((L=(I=$.response)==null?void 0:I.data)==null?void 0:L.message)||"Failed to fetch order details")}finally{i(!1)}},p=async I=>{var L,$;try{I==="confirmed"&&await he.put(`/sales/orders/${e}/confirm`),x()}catch(W){d((($=(L=W.response)==null?void 0:L.data)==null?void 0:$.message)||"Failed to update order status")}},b=async()=>{var I,L;try{await he.post(`/bom/generate/${e}`),t("/procurement/bom")}catch($){console.error("Failed to generate BOM:",$),alert(((L=(I=$.response)==null?void 0:I.data)==null?void 0:L.message)||"Failed to generate BOM")}},_=()=>{t("/manufacturing/orders")},v=I=>({draft:"bg-gray-100 text-gray-700",confirmed:"bg-blue-100 text-blue-700",in_production:"bg-orange-100 text-orange-700",materials_received:"bg-yellow-100 text-yellow-700",completed:"bg-green-100 text-green-700",shipped:"bg-purple-100 text-purple-700",cancelled:"bg-red-100 text-red-700"})[I]||"bg-gray-100 text-gray-700",N=I=>({draft:r.jsx(as,{}),confirmed:r.jsx(or,{}),in_production:r.jsx(go,{}),materials_received:r.jsx(Bn,{}),completed:r.jsx(or,{}),shipped:r.jsx(Bn,{}),cancelled:r.jsx(wa,{})})[I]||r.jsx(as,{});return a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"text-lg",children:"Loading order details..."})}):o?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o})}):n?r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>t("/sales/orders"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[r.jsx(Fl,{})," Back to Orders"]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["Sales Order ",n.order_number]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("span",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${v(n.status)}`,children:[N(n.status)," ",n.status.replace("_"," ")]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Priority: ",r.jsx("span",{className:"capitalize",children:n.priority})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[r.jsx(Lh,{})," Print"]}),r.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:[r.jsx(ri,{})," Export"]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded shadow mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Xs,{})," Order QR Code"]}),r.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[r.jsx(ri,{})," Download QR"]})]}),r.jsx("div",{className:"mt-4 flex justify-center",children:r.jsx(Mi,{data:n.qr_code||JSON.stringify({order_number:n.order_number,customer:(j=n.customer)==null?void 0:j.name,quantity:n.total_quantity,amount:n.final_amount,delivery_date:n.delivery_date,status:n.status}),size:200})}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:"Scan to view live order status and details"})]}),r.jsxs("div",{className:"bg-white rounded shadow mb-6",children:[r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"flex",children:["details","items","specifications","timeline","actions"].map(I=>r.jsx("button",{onClick:()=>u(I),className:`px-6 py-3 font-medium text-sm capitalize ${h===I?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:I},I))})}),r.jsxs("div",{className:"p-6",children:[h==="details"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Order Number:"}),r.jsx("span",{className:"font-medium",children:n.order_number})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Order Date:"}),r.jsx("span",{children:new Date(n.order_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Date:"}),r.jsx("span",{children:new Date(n.delivery_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Quantity:"}),r.jsxs("span",{children:[n.total_quantity," pcs"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsxs("span",{className:"font-bold",children:["₹",(S=n.final_amount)==null?void 0:S.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Terms:"}),r.jsx("span",{children:n.payment_terms||"N/A"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Customer:"}),r.jsx("span",{className:"font-medium",children:(C=n.customer)==null?void 0:C.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Customer Code:"}),r.jsx("span",{children:(A=n.customer)==null?void 0:A.customer_code})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gy,{className:"text-gray-400"}),r.jsx("span",{children:(E=n.customer)==null?void 0:E.email})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_4,{className:"text-gray-400"}),r.jsx("span",{children:(k=n.customer)==null?void 0:k.phone})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(n7,{className:"text-gray-400 mt-1"}),r.jsx("span",{className:"text-sm",children:(D=n.customer)==null?void 0:D.address})]})]})]})]}),h==="items"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"Product"}),r.jsx("th",{className:"p-3 text-left",children:"Description"}),r.jsx("th",{className:"p-3 text-left",children:"Quantity"}),r.jsx("th",{className:"p-3 text-left",children:"Rate"}),r.jsx("th",{className:"p-3 text-left",children:"Total"})]})}),r.jsx("tbody",{children:(R=n.items)==null?void 0:R.map((I,L)=>{var $;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"p-3",children:I.product_id}),r.jsx("td",{className:"p-3",children:I.description}),r.jsxs("td",{className:"p-3",children:[I.quantity," ",I.unit_of_measure]}),r.jsxs("td",{className:"p-3",children:["₹",I.rate]}),r.jsxs("td",{className:"p-3",children:["₹",($=I.total)==null?void 0:$.toLocaleString()]})]},L)})})]})})]}),h==="specifications"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Garment Specifications"}),n.garment_specifications?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fabric Type"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.fabric_type||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GSM"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.gsm||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.color||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quality Specifications"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.quality_specs||"N/A"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Printing Required"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.printing?"Yes":"No"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Embroidery Required"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.embroidery?"Yes":"No"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thread Colors"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.thread_colors||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Button/Hooks Count"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.button_count||"N/A"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Packing Instructions"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:n.garment_specifications.packing_instructions||"N/A"})]})]}):r.jsx("p",{className:"text-gray-500",children:"No garment specifications provided"})]}),h==="timeline"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Timeline"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Order Created"}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.created_at).toLocaleString()}),r.jsxs("p",{className:"text-sm text-gray-500",children:["by ",(F=n.creator)==null?void 0:F.name]})]})]}),n.approved_at&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Order Confirmed"}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.approved_at).toLocaleString()}),r.jsxs("p",{className:"text-sm text-gray-500",children:["by ",(M=n.approver)==null?void 0:M.name]})]})]}),((z=n.productionOrders)==null?void 0:z.length)>0&&r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Production Started"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Production orders created"})]})]})]})]}),h==="actions"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Actions"}),r.jsxs("div",{className:"space-y-3",children:[n.status==="draft"&&r.jsxs("button",{onClick:()=>p("confirmed"),className:"w-full bg-green-600 text-white px-4 py-3 rounded hover:bg-green-700 flex items-center justify-center gap-2",children:[r.jsx(or,{})," Confirm Order"]}),n.status==="confirmed"&&r.jsxs("button",{onClick:b,className:"w-full bg-blue-600 text-white px-4 py-3 rounded hover:bg-blue-700 flex items-center justify-center gap-2",children:[r.jsx(r7,{})," Generate BOM & Proceed to Procurement"]}),n.status==="in_production"&&r.jsxs("button",{onClick:_,className:"w-full bg-orange-600 text-white px-4 py-3 rounded hover:bg-orange-700 flex items-center justify-center gap-2",children:[r.jsx(go,{})," View Production Progress"]}),n.status==="completed"&&r.jsxs("button",{className:"w-full bg-purple-600 text-white px-4 py-3 rounded hover:bg-purple-700 flex items-center justify-center gap-2",children:[r.jsx(Bn,{})," Proceed to Shipping"]})]})]})]})]})]}):r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Order not found"})})},ly=(e,t="sales")=>({orderId:e.id,orderNo:e.order_no,customerName:e.customer_name,customerEmail:e.customer_email,customerPhone:e.customer_phone,deliveryDate:e.delivery_date,totalAmount:e.total_amount,status:e.status,currentStage:t,stageTimestamp:new Date().toISOString(),garmentSpecs:e.garment_specifications||{},items:e.items||[],workflow:{sales:{created:e.created_at,qrGenerated:new Date().toISOString()}}}),t_e=()=>{const e=_t(),[t,n]=T.useState({customerName:"",address:"",contactPerson:"",email:"",phone:"",gstNumber:"",orderDate:new Date().toISOString().split("T")[0],projectTitle:"",productName:"",productCode:"",productType:"",customProductType:"",quantity:"",qualitySpecification:"",pricePerPiece:"",orderPrice:"",designFile:null,designFileName:"",sizeOption:"fixed",sizeDetails:"",expectedDeliveryDate:"",advancePaid:"",gstPercentage:"18"}),[s,a]=T.useState(!1),[i,o]=T.useState(""),[d,h]=T.useState(null),[u,x]=T.useState(!1),[p,b]=T.useState(null),_=["Shirt","T-Shirt","Polo Shirt","Pant","Trouser","Jeans","Jacket","Blazer","Uniform","Kurta","Other"],v=(F,M)=>{if(!F)return"";const z=M?M.substring(0,3).toUpperCase():"PRD",I=F.replace(/[^a-zA-Z0-9]/g,"").substring(0,4).toUpperCase(),L=Date.now().toString().slice(-4);return`${z}-${I}-${L}`},N=T.useMemo(()=>{const F=parseFloat(t.quantity)||0,M=parseFloat(t.pricePerPiece)||0,z=t.orderPrice!==""?parseFloat(t.orderPrice):F*M,I=parseFloat(t.advancePaid)||0,L=parseFloat(t.gstPercentage)||0,$=z*L/100,W=z+$,U=W-I;return{orderPrice:z.toFixed(2),gstAmount:$.toFixed(2),totalWithGST:W.toFixed(2),remainingAmount:U.toFixed(2)}},[t.quantity,t.pricePerPiece,t.orderPrice,t.advancePaid,t.gstPercentage]),j=(F,M)=>{n(z=>{const I={...z,[F]:M};if(F==="productName"||F==="productType"){const L=F==="productType"?M:z.productType,$=F==="productName"?M:z.productName;I.productCode=v($,L)}return I})},S=F=>{const M=F.target.files[0];if(M){if(M.size>5*1024*1024){ye.error("File size should be less than 5MB");return}n(z=>({...z,designFile:M,designFileName:M.name})),ye.success("Design file uploaded successfully")}},C=async F=>{var M;if(F.preventDefault(),o(""),!t.customerName.trim()){o("Customer name is required");return}if(!t.projectTitle.trim()){o("Project/Order title is required");return}if(!t.productName.trim()){o("Product name is required");return}if(!t.quantity||t.quantity<=0){o("Quantity must be greater than 0");return}if(!t.pricePerPiece||t.pricePerPiece<=0){o("Price per piece must be greater than 0");return}if(!t.expectedDeliveryDate){o("Expected delivery date is required");return}a(!0);try{const z=t.productType==="Other"?t.customProductType:t.productType,I={customer_name:t.customerName.trim(),customer_email:t.email||null,customer_phone:t.phone||null,customer_address:t.address||null,contact_person:t.contactPerson||null,gst_number:t.gstNumber||null,order_date:t.orderDate,project_title:t.projectTitle.trim(),buyer_reference:t.projectTitle.trim(),delivery_date:t.expectedDeliveryDate,tax_percentage:parseFloat(t.gstPercentage)||18,advance_paid:parseFloat(t.advancePaid)||0,garment_specifications:{product_name:t.productName,product_code:t.productCode,product_type:z,quality_specification:t.qualitySpecification,size_option:t.sizeOption,size_details:t.sizeDetails,design_file:t.designFileName},items:[{item_code:t.productCode,product_id:t.productCode,description:t.productName,quantity:parseFloat(t.quantity),unit_price:parseFloat(t.pricePerPiece),unit_of_measure:"pcs",size_breakdown:t.sizeDetails||null,remarks:`${z} - ${t.qualitySpecification||"Standard quality"}`}]},$=(await he.post("/sales/orders",I)).data.order,W=ly($,"sales");b(W),h($),x(!1),ye.success("Sales order created successfully!"),h($)}catch(z){const I=(M=z.response)==null?void 0:M.data;I!=null&&I.message?o(I.message):Array.isArray(I==null?void 0:I.errors)?o(I.errors.join(", ")):o("Failed to create sales order. Please try again."),console.error("Order creation error:",z)}finally{a(!1)}},A=async()=>{if(!d||!d.id){ye.error("Please save the order first");return}try{await he.put(`/sales/orders/${d.id}/send-to-procurement`),ye.success("Request sent to Procurement Department");const F=await he.get(`/sales/orders/${d.id}`);h(F.data.order)}catch(F){ye.error("Failed to send request to procurement"),console.error("Send to procurement error:",F)}},E=async()=>{if(!d){ye.error("Please save the order first");return}try{const F=await he.get(`/sales/orders/${d.id}/invoice`,{responseType:"blob"}),M=window.URL.createObjectURL(new Blob([F.data])),z=document.createElement("a");z.href=M,z.setAttribute("download",`Invoice-${d.order_number}.pdf`),document.body.appendChild(z),z.click(),z.remove(),ye.success("Invoice downloaded successfully")}catch(F){ye.error("Failed to download invoice"),console.error("Download invoice error:",F)}},k=()=>{if(!d){ye.error("Please save the order first");return}e(`/challans/create?orderId=${d.id}`)},D=()=>{if(!d){ye.error("Please save the order first");return}const F=ly(d,"sales");b(F),x(!0)},R=()=>{if(!d){ye.error("Please save the order first");return}e(`/sales/orders/${d.id}`)};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"mx-auto max-w-6xl",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>e("/sales/orders"),className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:bg-gray-50",children:[r.jsx(Fl,{className:"h-4 w-4"}),"Back"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Sales Order"})]}),d&&r.jsxs("span",{className:"rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-800",children:[r.jsx(Ii,{className:"mr-1 inline"})," Order Created"]})]}),i&&r.jsx("div",{className:"mb-6 rounded-lg border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-800",children:i}),r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"mb-6 border-b pb-3",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Customer & Order Information"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Client details and contact information"})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"customerName",children:["Customer Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"customerName",type:"text",value:t.customerName,onChange:F=>j("customerName",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"XYZ Pvt Ltd",required:!0})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"address",children:"Address (Billing / Shipping)"}),r.jsx("input",{id:"address",type:"text",value:t.address,onChange:F=>j("address",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Complete address with city and pincode"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"contactPerson",children:"Contact Person"}),r.jsx("input",{id:"contactPerson",type:"text",value:t.contactPerson,onChange:F=>j("contactPerson",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Name of representative"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"email",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:t.email,onChange:F=>j("email",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"contact@company.com"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"phone",children:"Phone"}),r.jsx("input",{id:"phone",type:"tel",value:t.phone,onChange:F=>j("phone",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"+91 98765 43210"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"gstNumber",children:"GST Number"}),r.jsx("input",{id:"gstNumber",type:"text",value:t.gstNumber,onChange:F=>j("gstNumber",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"22AAAAA0000A1Z5"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"orderDate",children:["Order Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"orderDate",type:"date",value:t.orderDate,onChange:F=>j("orderDate",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0})]})]})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"mb-6 border-b pb-3",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Product / Order Details"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Product specifications and pricing"})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"projectTitle",children:["Project / Order Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"projectTitle",type:"text",value:t.projectTitle,onChange:F=>j("projectTitle",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"e.g., Winter Uniforms – XYZ Pvt Ltd",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"productName",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"productName",type:"text",value:t.productName,onChange:F=>j("productName",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"e.g., Formal Shirt",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"productCode",children:["Product Code ",r.jsx("span",{className:"text-xs text-gray-500",children:"(Auto-generated)"})]}),r.jsx("input",{id:"productCode",type:"text",value:t.productCode,readOnly:!0,className:"w-full rounded-lg border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm text-gray-600 shadow-sm",placeholder:"Auto-generated"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"productType",children:"Product Type"}),r.jsxs("select",{id:"productType",value:t.productType,onChange:F=>j("productType",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[r.jsx("option",{value:"",children:"Select product type"}),_.map(F=>r.jsx("option",{value:F,children:F},F))]})]}),t.productType==="Other"&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"customProductType",children:"Custom Product Type"}),r.jsx("input",{id:"customProductType",type:"text",value:t.customProductType,onChange:F=>j("customProductType",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Enter custom type"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"quantity",children:["Quantity (Units) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"quantity",type:"number",min:"1",value:t.quantity,onChange:F=>j("quantity",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"1000",required:!0})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"qualitySpecification",children:"Quality Specification"}),r.jsx("input",{id:"qualitySpecification",type:"text",value:t.qualitySpecification,onChange:F=>j("qualitySpecification",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"e.g., 220 GSM Cotton"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"pricePerPiece",children:["Price per Piece (₹) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"pricePerPiece",type:"number",min:"0",step:"0.01",value:t.pricePerPiece,onChange:F=>j("pricePerPiece",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"250.00",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"orderPrice",children:["Order Price (₹) ",r.jsx("span",{className:"text-xs text-gray-500",children:"(Total before advance)"})]}),r.jsx("input",{id:"orderPrice",type:"number",min:"0",step:"0.01",value:t.orderPrice,onChange:F=>j("orderPrice",F.target.value),className:"w-full rounded-lg border border-blue-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Total order price (optional)"}),r.jsx("span",{className:"text-xs text-gray-400",children:"If left blank, will use Quantity × Price per Piece"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",children:["Order Price ",r.jsx("span",{className:"text-xs text-gray-500",children:"(Auto-calculated or entered)"})]}),r.jsxs("div",{className:"flex items-center rounded-lg border border-gray-200 bg-blue-50 px-4 py-2.5 text-sm font-semibold text-blue-900",children:["₹ ",N.orderPrice]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"designFile",children:"Design / Logo Upload"}),r.jsx("input",{id:"designFile",type:"file",accept:"image/*,.pdf",onChange:S,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition file:mr-4 file:rounded file:border-0 file:bg-blue-50 file:px-4 file:py-1 file:text-sm file:font-semibold file:text-blue-700 hover:file:bg-blue-100"}),t.designFileName&&r.jsxs("p",{className:"mt-1 text-xs text-green-600",children:["✓ ",t.designFileName]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Size Option"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:"sizeOption",value:"fixed",checked:t.sizeOption==="fixed",onChange:F=>j("sizeOption",F.target.value),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Fixed (S/M/L/XL)"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:"sizeOption",value:"custom",checked:t.sizeOption==="custom",onChange:F=>j("sizeOption",F.target.value),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Custom"})]})]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"sizeDetails",children:"Size Details"}),r.jsx("input",{id:"sizeDetails",type:"text",value:t.sizeDetails,onChange:F=>j("sizeDetails",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:t.sizeOption==="fixed"?"e.g., S: 100, M: 200, L: 150, XL: 50":'e.g., Chest: 38", Waist: 32", Length: 28"'})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"expectedDeliveryDate",children:["Expected Delivery Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"expectedDeliveryDate",type:"date",value:t.expectedDeliveryDate,onChange:F=>j("expectedDeliveryDate",F.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"advancePaid",children:"Advance Paid (₹)"}),r.jsx("input",{id:"advancePaid",type:"number",min:"0",step:"0.01",value:t.advancePaid,onChange:F=>j("advancePaid",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"0.00"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"gstPercentage",children:"GST (%)"}),r.jsxs("select",{id:"gstPercentage",value:t.gstPercentage,onChange:F=>j("gstPercentage",F.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[r.jsx("option",{value:"0",children:"0%"}),r.jsx("option",{value:"5",children:"5%"}),r.jsx("option",{value:"12",children:"12%"}),r.jsx("option",{value:"18",children:"18%"}),r.jsx("option",{value:"28",children:"28%"})]})]})]}),r.jsx("div",{className:"mt-6 border-t pt-6",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Bulk Total"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-gray-900",children:["₹ ",N.bulkTotal]})]}),r.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[r.jsxs("div",{className:"text-xs font-medium text-gray-500",children:["GST Amount (",t.gstPercentage,"%)"]}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-gray-900",children:["₹ ",N.gstAmount]})]}),r.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-blue-600",children:"Total with GST"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-blue-900",children:["₹ ",N.totalWithGST]})]}),r.jsxs("div",{className:"rounded-lg bg-orange-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-orange-600",children:"Remaining Amount"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-orange-900",children:["₹ ",N.remainingAmount]})]})]})})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("div",{className:"mb-4",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Actions"})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("button",{type:"submit",disabled:s||d,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(Ii,{className:"h-4 w-4"}),s?"Saving...":d?"Order Saved":"Save Sales Order"]}),r.jsxs("button",{type:"button",onClick:A,disabled:!d,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-purple-600 bg-purple-50 px-6 py-3 text-sm font-semibold text-purple-700 shadow-md transition hover:bg-purple-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(_c,{className:"h-4 w-4"}),"Send to Procurement"]}),r.jsxs("button",{type:"button",onClick:E,disabled:!d,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-green-600 bg-green-50 px-6 py-3 text-sm font-semibold text-green-700 shadow-md transition hover:bg-green-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(Pf,{className:"h-4 w-4"}),"Download Invoice"]}),r.jsxs("button",{type:"button",onClick:k,disabled:!d,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-orange-600 bg-orange-50 px-6 py-3 text-sm font-semibold text-orange-700 shadow-md transition hover:bg-orange-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(Bn,{className:"h-4 w-4"}),"Create Challan"]}),r.jsxs("button",{type:"button",onClick:D,disabled:!d,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-indigo-600 bg-indigo-50 px-6 py-3 text-sm font-semibold text-indigo-700 shadow-md transition hover:bg-indigo-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(Xs,{className:"h-4 w-4"}),"Generate QR Code"]}),r.jsxs("button",{type:"button",onClick:R,disabled:!d,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-gray-600 bg-gray-50 px-6 py-3 text-sm font-semibold text-gray-700 shadow-md transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(ri,{className:"h-4 w-4"}),"Track Status"]})]})]})]}),u&&p&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:r.jsxs("div",{className:"relative max-w-md rounded-xl bg-white p-6 shadow-2xl",children:[r.jsx("button",{onClick:()=>x(!1),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:"✕"}),r.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Order QR Code"}),r.jsx(Mi,{data:p}),r.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:"Scan this QR code to view order details"})]})})]})})},r_e=()=>{const[e,t]=T.useState("thisMonth"),[n,s]=T.useState("summary"),[a,i]=T.useState(""),[o,d]=T.useState(""),[h,u]=T.useState(!1),[x,p]=T.useState(!1),[b,_]=T.useState({totalSales:0,totalOrders:0,averageOrderValue:0,activeCustomers:0,pendingOrders:0,inProductionOrders:0,deliveredOrders:0,advanceCollected:0,balanceDue:0,procurementRequested:0,materialsReceived:0,invoicesPending:0,invoicesGenerated:0}),[v,N]=T.useState([]),[j,S]=T.useState([]),[C,A]=T.useState([]);T.useEffect(()=>{k()},[e,a,o]);const E=()=>{const I=new Date;let L,$;switch(e){case"today":L=I.toISOString().split("T")[0],$=I.toISOString().split("T")[0];break;case"thisWeek":L=new Date(I.setDate(I.getDate()-I.getDay())).toISOString().split("T")[0],$=new Date().toISOString().split("T")[0];break;case"thisMonth":L=new Date(I.getFullYear(),I.getMonth(),1).toISOString().split("T")[0],$=new Date().toISOString().split("T")[0];break;case"lastMonth":L=new Date(I.getFullYear(),I.getMonth()-1,1).toISOString().split("T")[0],$=new Date(I.getFullYear(),I.getMonth(),0).toISOString().split("T")[0];break;case"thisQuarter":const Y=Math.floor(I.getMonth()/3);L=new Date(I.getFullYear(),Y*3,1).toISOString().split("T")[0],$=new Date().toISOString().split("T")[0];break;case"thisYear":L=new Date(I.getFullYear(),0,1).toISOString().split("T")[0],$=new Date().toISOString().split("T")[0];break;case"custom":L=a,$=o;break;default:L=null,$=null}return{date_from:L,date_to:$}},k=async()=>{try{u(!0);const{date_from:I,date_to:L}=E(),$={};I&&($.date_from=I),L&&($.date_to=L);const U=(await he.get("/sales/dashboard/summary",{params:$})).data.summary,X=(await he.get("/sales/orders",{params:{...$,limit:1e3}})).data.orders||[],V=U.total_orders||0,G=U.total_value||0,ne=V>0?G/V:0,ae=new Set(X.map(fe=>fe.customer_id)).size;_({totalSales:G,totalOrders:V,averageOrderValue:ne,activeCustomers:ae,pendingOrders:U.pending_orders||0,inProductionOrders:U.in_production_orders||0,deliveredOrders:U.delivered_orders||0,advanceCollected:U.advance_collected||0,balanceDue:U.balance_due||0,procurementRequested:U.procurement_requested||0,materialsReceived:U.materials_received||0,invoicesPending:U.invoices_pending||0,invoicesGenerated:U.invoices_generated||0}),N(X);const le={};X.forEach(fe=>{var ke;const xe=fe.customer_id,ge=((ke=fe.customer)==null?void 0:ke.name)||"Unknown";le[xe]||(le[xe]={id:xe,name:ge,totalOrders:0,totalAmount:0,pendingAmount:0}),le[xe].totalOrders+=1,le[xe].totalAmount+=parseFloat(fe.final_amount||0),le[xe].pendingAmount+=parseFloat(fe.balance_amount||0)}),S(Object.values(le).sort((fe,xe)=>xe.totalAmount-fe.totalAmount));const ie={};X.forEach(fe=>{fe.items&&Array.isArray(fe.items)&&fe.items.forEach(xe=>{const ge=xe.product_type||xe.description||"Unknown";ie[ge]||(ie[ge]={product:ge,totalQuantity:0,totalOrders:0,totalAmount:0}),ie[ge].totalQuantity+=parseFloat(xe.quantity||0),ie[ge].totalOrders+=1,ie[ge].totalAmount+=parseFloat(xe.quantity||0)*parseFloat(xe.unit_price||0)})}),A(Object.values(ie).sort((fe,xe)=>xe.totalAmount-fe.totalAmount))}catch(I){console.error("Failed to fetch report data:",I),ye.error("Failed to load report data")}finally{u(!1)}},D=async()=>{p(!0),await k(),p(!1),ye.success("Report data refreshed")},R=()=>{let I="",L="";switch(n){case"summary":I=`Metric,Value
`,I+=`Total Sales,₹${b.totalSales.toFixed(2)}
`,I+=`Total Orders,${b.totalOrders}
`,I+=`Average Order Value,₹${b.averageOrderValue.toFixed(2)}
`,I+=`Active Customers,${b.activeCustomers}
`,I+=`Pending Orders,${b.pendingOrders}
`,I+=`In Production Orders,${b.inProductionOrders}
`,I+=`Delivered Orders,${b.deliveredOrders}
`,I+=`Advance Collected,₹${b.advanceCollected.toFixed(2)}
`,I+=`Balance Due,₹${b.balanceDue.toFixed(2)}
`,L="sales-summary-report.csv";break;case"detailed":I=`Order Number,Customer,Order Date,Delivery Date,Status,Quantity,Amount,Advance,Balance
`,v.forEach(Y=>{var X;I+=`${Y.order_number},${((X=Y.customer)==null?void 0:X.name)||"N/A"},${new Date(Y.order_date).toLocaleDateString()},${new Date(Y.delivery_date).toLocaleDateString()},${Y.status},${Y.total_quantity||0},${Y.final_amount||0},${Y.advance_paid||0},${Y.balance_amount||0}
`}),L="sales-detailed-report.csv";break;case"customer":I=`Customer Name,Total Orders,Total Amount,Pending Amount
`,j.forEach(Y=>{I+=`${Y.name},${Y.totalOrders},₹${Y.totalAmount.toFixed(2)},₹${Y.pendingAmount.toFixed(2)}
`}),L="sales-customer-report.csv";break;case"product":I=`Product,Total Quantity,Total Orders,Total Amount
`,C.forEach(Y=>{I+=`${Y.product},${Y.totalQuantity},${Y.totalOrders},₹${Y.totalAmount.toFixed(2)}
`}),L="sales-product-report.csv";break;default:ye.error("Invalid report type");return}const $=new Blob([I],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),U=URL.createObjectURL($);W.setAttribute("href",U),W.setAttribute("download",L),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W),ye.success("Report exported successfully")},F=()=>{window.print()},M=({title:I,value:L,icon:$,color:W="primary"})=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:I}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:L})]}),r.jsx("div",{className:"text-gray-400",children:$})]}),z=()=>{if(h)return r.jsx("div",{className:"bg-white rounded-lg shadow p-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(is,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading report data..."})]})});switch(n){case"summary":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Pending Orders"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.pendingOrders})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-orange-500",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"In Production"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.inProductionOrders})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-green-500",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Delivered"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.deliveredOrders})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Advance Collected"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["₹",b.advanceCollected.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-red-500",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Balance Due"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["₹",b.balanceDue.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-purple-500",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Invoices Generated"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.invoicesGenerated})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Za,{className:"w-5 h-5 text-blue-500"}),"Procurement Status"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:"Requested"}),r.jsx("span",{className:"font-semibold text-blue-700",children:b.procurementRequested})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:"Materials Received"}),r.jsx("span",{className:"font-semibold text-green-700",children:b.materialsReceived})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(kr,{className:"w-5 h-5 text-purple-500"}),"Invoice Status"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:"Pending"}),r.jsx("span",{className:"font-semibold text-yellow-700",children:b.invoicesPending})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[r.jsx("span",{className:"text-gray-700",children:"Generated"}),r.jsx("span",{className:"font-semibold text-green-700",children:b.invoicesGenerated})]})]})]})]})]});case"detailed":return r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Number"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Advance"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"9",className:"px-4 py-8 text-center text-gray-500",children:"No orders found for the selected date range"})}):v.map(I=>{var L,$;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-blue-600",children:I.order_number}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:((L=I.customer)==null?void 0:L.name)||"N/A"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(I.order_date).toLocaleDateString("en-IN")}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(I.delivery_date).toLocaleDateString("en-IN")}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${I.status==="delivered"?"bg-green-100 text-green-700":I.status==="in_production"?"bg-orange-100 text-orange-700":I.status==="confirmed"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:($=I.status)==null?void 0:$.replace("_"," ").toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:I.total_quantity||0}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:["₹",parseFloat(I.final_amount||0).toLocaleString("en-IN")]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:["₹",parseFloat(I.advance_paid||0).toLocaleString("en-IN")]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:["₹",parseFloat(I.balance_amount||0).toLocaleString("en-IN")]})]},I.id)})})]})})});case"customer":return r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Orders"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending Amount"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Order Value"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No customer data found"})}):j.map((I,L)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:I.name}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:I.totalOrders}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:["₹",I.totalAmount.toLocaleString("en-IN",{maximumFractionDigits:0})]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-red-600",children:["₹",I.pendingAmount.toLocaleString("en-IN",{maximumFractionDigits:0})]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:["₹",(I.totalAmount/I.totalOrders).toLocaleString("en-IN",{maximumFractionDigits:0})]})]},I.id))})]})})});case"product":return r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Orders"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Price/Unit"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No product data found"})}):C.map((I,L)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:I.product}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:I.totalQuantity.toLocaleString("en-IN")}),r.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:I.totalOrders}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right font-medium text-gray-900",children:["₹",I.totalAmount.toLocaleString("en-IN",{maximumFractionDigits:0})]}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-blue-600",children:["₹",(I.totalAmount/I.totalQuantity).toLocaleString("en-IN",{maximumFractionDigits:2})]})]},L))})]})})});default:return r.jsx("div",{className:"bg-white rounded-lg shadow p-12",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(kr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"Select a report type to view data"})]})})}};return r.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Sales Reports"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Generate comprehensive sales reports and analytics"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:D,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[r.jsx(is,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Refresh"]}),r.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[r.jsx(On,{className:"w-4 h-4"}),"Export CSV"]}),r.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(Jp,{className:"w-4 h-4"}),"Print"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),r.jsxs("select",{value:e,onChange:I=>t(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"thisWeek",children:"This Week"}),r.jsx("option",{value:"thisMonth",children:"This Month"}),r.jsx("option",{value:"lastMonth",children:"Last Month"}),r.jsx("option",{value:"thisQuarter",children:"This Quarter"}),r.jsx("option",{value:"thisYear",children:"This Year"}),r.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),r.jsxs("select",{value:n,onChange:I=>s(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"summary",children:"Summary Report"}),r.jsx("option",{value:"detailed",children:"Detailed Orders"}),r.jsx("option",{value:"customer",children:"By Customer"}),r.jsx("option",{value:"product",children:"By Product"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg w-full",children:r.jsx("div",{className:"font-semibold text-blue-700",children:n==="summary"?"Summary View":n==="detailed"?`${v.length} Orders`:n==="customer"?`${j.length} Customers`:n==="product"?`${C.length} Products`:"View"})})})]}),e==="custom"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",value:a,onChange:I=>i(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",value:o,onChange:I=>d(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(M,{title:"Total Sales",value:`₹${b.totalSales.toLocaleString("en-IN",{maximumFractionDigits:0})}`,icon:r.jsx(Cu,{className:"w-8 h-8 text-green-500"}),color:"success"}),r.jsx(M,{title:"Total Orders",value:b.totalOrders,icon:r.jsx(Za,{className:"w-8 h-8 text-blue-500"}),color:"primary"}),r.jsx(M,{title:"Average Order Value",value:`₹${b.averageOrderValue.toLocaleString("en-IN",{maximumFractionDigits:0})}`,icon:r.jsx(Cr,{className:"w-8 h-8 text-cyan-500"}),color:"info"}),r.jsx(M,{title:"Active Customers",value:b.activeCustomers,icon:r.jsx($n,{className:"w-8 h-8 text-yellow-500"}),color:"warning"})]}),z()]})},n_e=({open:e,mode:t,initialValues:n,linkedSalesOrder:s,vendorOptions:a=[],customerOptions:i=[],productOptions:o=[],onClose:d,onSubmit:h})=>{const[u,x]=T.useState(0),[p,b]=T.useState({project_name:"",customer_id:"",client_name:"",vendor_id:"",po_date:new Date().toISOString().split("T")[0],expected_delivery_date:"",priority:"medium",status:"draft",items:[{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"",quantity:"",rate:"",total:0,supplier:"",remarks:""}],payment_terms:"",delivery_address:"",special_instructions:"",terms_conditions:"",internal_notes:"",discount_percentage:0,tax_percentage:12,freight:0});T.useEffect(()=>{var I,L;if(e)if(t==="create"&&!n){if(s){const W=(s.items||[]).map(U=>({type:U.product_type==="Fabric"?"fabric":"accessories",fabric_name:U.product_type==="Fabric"&&U.description||"",color:U.color||"",hsn:U.hsn||"",gsm:U.gsm||"",width:U.width||"",item_name:U.product_type!=="Fabric"&&U.description||"",description:U.description||"",uom:U.uom||"Meters",quantity:U.quantity||"",rate:U.unit_price||"",total:(U.quantity||0)*(U.unit_price||0),supplier:"",remarks:U.remarks||""}));b({project_name:s.buyer_reference||"",customer_id:s.customer_id||"",client_name:((I=s.customer)==null?void 0:I.name)||"",vendor_id:"",po_date:new Date().toISOString().split("T")[0],expected_delivery_date:s.delivery_date?new Date(s.delivery_date).toISOString().split("T")[0]:"",priority:s.priority||"medium",status:"draft",items:W.length>0?W:[{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"Meters",quantity:"",rate:"",total:0,supplier:"",remarks:""}],payment_terms:"",delivery_address:"",special_instructions:s.special_instructions||"",terms_conditions:"",internal_notes:`Linked to SO: ${s.order_number}`,discount_percentage:0,tax_percentage:12,freight:0})}else b({project_name:"",customer_id:"",client_name:"",vendor_id:"",po_date:new Date().toISOString().split("T")[0],expected_delivery_date:"",priority:"medium",status:"draft",items:[{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"Meters",quantity:"",rate:"",total:0,supplier:"",remarks:""}],payment_terms:"",delivery_address:"",special_instructions:"",terms_conditions:"",internal_notes:"",discount_percentage:0,tax_percentage:12,freight:0});x(0)}else n&&(b({project_name:n.project_name||"",customer_id:n.customer_id||"",client_name:n.client_name||"",vendor_id:n.vendor_id||"",po_date:n.po_date?new Date(n.po_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],expected_delivery_date:n.expected_delivery_date?new Date(n.expected_delivery_date).toISOString().split("T")[0]:"",priority:n.priority||"medium",status:n.status||"draft",items:((L=n.items)==null?void 0:L.length)>0?n.items:[{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"Meters",quantity:"",rate:"",total:0,supplier:"",remarks:""}],payment_terms:n.payment_terms||"",delivery_address:n.delivery_address||"",special_instructions:n.special_instructions||"",terms_conditions:n.terms_conditions||"",internal_notes:n.internal_notes||"",discount_percentage:n.discount_percentage||0,tax_percentage:n.tax_percentage||12,freight:n.freight||0}),x(0))},[e,t,n,s]),T.useEffect(()=>{if(p.vendor_id){const I=a.find(L=>L.value===parseInt(p.vendor_id));if(I){const L=p.items.map($=>({...$,supplier:I.label}));b($=>({...$,items:L}))}}},[p.vendor_id,a]);const _=(I,L)=>{b($=>({...$,[I]:L}))},v=(I,L,$)=>{const W=[...p.items];if(W[I][L]=$,L==="quantity"||L==="rate"){const U=parseFloat(W[I].quantity)||0,Y=parseFloat(W[I].rate)||0;W[I].total=U*Y}b(U=>({...U,items:W}))},N=()=>{const I=a.find(L=>L.value===parseInt(p.vendor_id));b(L=>({...L,items:[...L.items,{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"Meters",quantity:"",rate:"",total:0,supplier:I?I.label:"",remarks:""}]}))},j=I=>{p.items.length>1&&b(L=>({...L,items:L.items.filter(($,W)=>W!==I)}))},S=p.items.reduce((I,L)=>I+(L.total||0),0),C=S*(p.discount_percentage/100),A=S-C,E=A*(p.tax_percentage/100),k=parseFloat(p.freight)||0,D=A+E+k,R=async(I="save_draft")=>{if(!p.vendor_id){alert("Please select a vendor");return}const L={...p,vendor_id:parseInt(p.vendor_id),customer_id:p.customer_id?parseInt(p.customer_id):null,items:p.items.filter($=>$.type==="fabric"?$.fabric_name||$.color:$.item_name||$.description),final_amount:D,action_type:I};switch(s&&(L.linked_sales_order_id=s.id),I){case"send_for_approval":case"save_draft":L.status="pending_approval";break;case"send_to_vendor":L.status="sent";break;case"mark_as_ordered":L.status="acknowledged";break;case"mark_as_received":L.status="received";break;default:L.status="pending_approval"}await h(L,d)},F=()=>{window.print()},M=[{title:"Basic Information",description:"Order details and vendor information"},{title:"Items",description:"Add fabric and accessories"},{title:"Financial Details",description:"Payment terms and additional details"}],z=t==="view";return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-8",children:r.jsxs("div",{className:"w-full max-w-7xl bg-white rounded-lg shadow-xl my-8 flex flex-col max-h-[calc(100vh-4rem)]",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 flex-shrink-0",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t==="create"?"Create Purchase Order":t==="edit"?"Edit Purchase Order":"View Purchase Order"}),s&&r.jsxs("p",{className:"text-sm text-blue-600 mt-1 font-medium",children:["📋 Creating PO from Sales Order: ",s.order_number]}),(n==null?void 0:n.po_number)&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["PO Number: ",r.jsx("span",{className:"font-semibold",children:n.po_number})]})]}),r.jsx("button",{onClick:d,className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:r.jsx(sd,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:[!z&&r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"flex items-center justify-between",children:M.map((I,L)=>r.jsxs(K.Fragment,{children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full text-sm font-medium transition-all ${L<=u?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-600"}`,children:L+1}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:`text-sm font-medium ${L<=u?"text-blue-600":"text-gray-500"}`,children:I.title}),r.jsx("div",{className:"text-xs text-gray-400",children:I.description})]})]}),L<M.length-1&&r.jsx("div",{className:`flex-1 h-0.5 mx-4 ${L<u?"bg-blue-600":"bg-gray-200"}`})]},L))})}),u===0&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Wt,{className:"w-5 h-5 text-blue-600"}),"Basic Order Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name (from SO)"}),r.jsx("input",{type:"text",value:p.client_name,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name (from SO)"}),r.jsx("input",{type:"text",value:p.project_name,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100",disabled:!0})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer / Client"}),r.jsxs("select",{value:p.customer_id,onChange:I=>{_("customer_id",I.target.value);const L=i.find($=>$.value===parseInt(I.target.value));L&&_("client_name",L.label)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:z,children:[r.jsx("option",{value:"",children:"Select customer"}),i.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),r.jsx("input",{type:"text",value:p.project_name,onChange:I=>_("project_name",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:z,placeholder:"Enter project name"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:p.vendor_id,onChange:I=>_("vendor_id",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:z,children:[r.jsx("option",{value:"",children:"Select vendor"}),a.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["PO Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:p.po_date,onChange:I=>_("po_date",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:z})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected Delivery ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:p.expected_delivery_date,onChange:I=>_("expected_delivery_date",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:z})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{value:p.priority,onChange:I=>_("priority",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:z,children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"urgent",children:"Urgent"})]})]})]})]})}),u===1&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-purple-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Wt,{className:"w-5 h-5 text-purple-600"}),"Items (Fabric & Accessories)"]}),!z&&r.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-md",children:[r.jsx(ln,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsx("div",{className:"space-y-4",children:p.items.map((I,L)=>r.jsxs("div",{className:"bg-white border-2 border-purple-100 rounded-lg p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:["Item #",L+1]}),!z&&p.items.length>1&&r.jsx("button",{type:"button",onClick:()=>j(L),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-full transition-colors",children:r.jsx(Zy,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:I.type,onChange:$=>v(L,"type",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,children:[r.jsx("option",{value:"fabric",children:"Fabric"}),r.jsx("option",{value:"accessories",children:"Accessories"})]})]}),I.type==="fabric"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fabric Name"}),r.jsx("input",{type:"text",value:I.fabric_name,onChange:$=>v(L,"fabric_name",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"e.g., Cotton Lycra"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),r.jsx("input",{type:"text",value:I.color,onChange:$=>v(L,"color",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"e.g., Navy Blue"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HSN"}),r.jsx("input",{type:"text",value:I.hsn,onChange:$=>v(L,"hsn",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"HSN Code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GSM"}),r.jsx("input",{type:"text",value:I.gsm,onChange:$=>v(L,"gsm",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"e.g., 180"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width"}),r.jsx("input",{type:"text",value:I.width,onChange:$=>v(L,"width",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"e.g., 60 inch"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),r.jsx("input",{type:"text",value:I.item_name,onChange:$=>v(L,"item_name",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"e.g., Buttons"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:I.description,onChange:$=>v(L,"description",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"Detailed description"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HSN"}),r.jsx("input",{type:"text",value:I.hsn,onChange:$=>v(L,"hsn",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"HSN Code"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UOM"}),r.jsxs("select",{value:I.uom,onChange:$=>v(L,"uom",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,children:[r.jsx("option",{value:"Meters",children:"Meters"}),r.jsx("option",{value:"Yards",children:"Yards"}),r.jsx("option",{value:"Pieces",children:"Pieces"}),r.jsx("option",{value:"Kg",children:"Kg"}),r.jsx("option",{value:"Grams",children:"Grams"}),r.jsx("option",{value:"Sets",children:"Sets"}),r.jsx("option",{value:"Rolls",children:"Rolls"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),r.jsx("input",{type:"number",value:I.quantity,onChange:$=>v(L,"quantity",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate (₹)"}),r.jsx("input",{type:"number",value:I.rate,onChange:$=>v(L,"rate",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"0.00",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (₹)"}),r.jsx("input",{type:"text",value:I.total.toFixed(2),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 font-semibold",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),r.jsx("input",{type:"text",value:I.supplier,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-blue-50",disabled:!0,placeholder:"Auto-filled from vendor"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),r.jsx("input",{type:"text",value:I.remarks,onChange:$=>v(L,"remarks",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:z,placeholder:"Additional notes"})]})]})]},L))})]})}),u===2&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial & Additional Details"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms"}),r.jsx("input",{type:"text",value:p.payment_terms,onChange:I=>_("payment_terms",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:z,placeholder:"e.g., Net 30, 50% Advance"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Address"}),r.jsx("input",{type:"text",value:p.delivery_address,onChange:I=>_("delivery_address",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:z,placeholder:"Delivery location"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),r.jsx("textarea",{value:p.special_instructions,onChange:I=>_("special_instructions",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:z,rows:"3",placeholder:"Any special requirements"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Notes"}),r.jsx("textarea",{value:p.internal_notes,onChange:I=>_("internal_notes",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",disabled:z,rows:"3",placeholder:"Internal notes (not visible to vendor)"})]})]}),r.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-green-900 mb-3",children:"Cost Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount %"}),r.jsx("input",{type:"number",value:p.discount_percentage,onChange:I=>_("discount_percentage",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0",min:"0",max:"100",step:"0.01",disabled:z})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax %"}),r.jsx("input",{type:"number",value:p.tax_percentage,onChange:I=>_("tax_percentage",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"12",min:"0",max:"100",step:"0.01",disabled:z})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Freight (₹)"}),r.jsx("input",{type:"number",value:p.freight,onChange:I=>_("freight",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0",step:"0.01",disabled:z})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg p-4 border-2 border-blue-200",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Final Cost Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Subtotal:"}),r.jsxs("span",{className:"font-semibold",children:["₹",S.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsxs("span",{children:["Discount (",p.discount_percentage,"%):"]}),r.jsxs("span",{children:["-₹",C.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"After Discount:"}),r.jsxs("span",{className:"font-medium",children:["₹",A.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Tax (",p.tax_percentage,"%):"]}),r.jsxs("span",{children:["₹",E.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Freight:"}),r.jsxs("span",{children:["₹",k.toFixed(2)]})]}),r.jsxs("div",{className:"border-t-2 border-blue-300 pt-2 mt-2 flex justify-between text-lg font-bold text-blue-900",children:[r.jsx("span",{children:"Grand Total:"}),r.jsxs("span",{children:["₹",D.toFixed(2)]})]})]})]})]})]})})]}),r.jsx("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex-shrink-0",children:z?r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-2 px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[r.jsx(Jp,{className:"w-4 h-4"}),"Print PO"]}),r.jsx("button",{type:"button",onClick:d,className:"px-6 py-2 text-sm font-medium text-slate-600 border border-slate-200 rounded-lg shadow-sm hover:bg-slate-50 transition-colors",children:"Close"})]}):r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("button",{type:"button",onClick:()=>x(Math.max(0,u-1)),disabled:u===0,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx($h,{className:"w-4 h-4"}),"Back"]}),r.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[r.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-slate-600 border border-slate-200 rounded-lg shadow-sm hover:bg-slate-50 transition-colors",children:"Cancel"}),u===M.length-1?r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",onClick:()=>R("save_draft"),className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:[r.jsx(z0,{className:"w-5 h-5"}),"Create PO & Send for Approval"]}),r.jsx("div",{className:"text-xs text-gray-500 italic max-w-xs",children:"Note: PO will be automatically sent to admin for approval"})]}):r.jsxs("button",{type:"button",onClick:()=>x(Math.min(M.length-1,u+1)),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:["Next",r.jsx(Xy,{className:"w-4 h-4"})]})]})]})})]})}):null},s_e=["procurement","vendors"];function a_e(e={}){return Fy({queryKey:[...s_e,e],queryFn:async()=>{const{data:t}=await he.get("/procurement/vendors",{params:e});return(t==null?void 0:t.vendors)??[]},staleTime:5*60*1e3})}const i_e=["inventory","products"];function rR(e={}){return Fy({queryKey:[...i_e,e],queryFn:async()=>{const{data:t}=await he.get("/products",{params:e});return(t==null?void 0:t.products)??[]},staleTime:5*60*1e3})}function o_e(e=""){return Fy({queryKey:["customers",e],queryFn:async()=>{const{data:t}=await he.get("/sales/customers",{params:{search:e}});return(t==null?void 0:t.customers)||[]}})}const Go=[{id:"po_number",label:"PO Number",defaultVisible:!0,alwaysVisible:!0},{id:"po_date",label:"PO Date",defaultVisible:!0},{id:"vendor",label:"Vendor",defaultVisible:!0},{id:"linked_so",label:"Linked SO",defaultVisible:!1},{id:"customer",label:"Customer",defaultVisible:!1},{id:"project_name",label:"Project Name",defaultVisible:!1},{id:"total_quantity",label:"Total Quantity",defaultVisible:!1},{id:"final_amount",label:"Total Amount",defaultVisible:!0},{id:"expected_delivery_date",label:"Expected Delivery",defaultVisible:!0},{id:"status",label:"Status",defaultVisible:!0},{id:"priority",label:"Priority",defaultVisible:!0},{id:"created_by",label:"Created By",defaultVisible:!1},{id:"actions",label:"Actions",defaultVisible:!0,alwaysVisible:!0}],l_e=()=>{var se,we,De,tt,Gt,sr;const e=_t(),[t,n]=Ly(),[s,a]=T.useState([]),[i,o]=T.useState([]),[d,h]=T.useState(!0),[u,x]=T.useState(null),[p,b]=T.useState(""),[_,v]=T.useState("all"),[N,j]=T.useState("all"),[S,C]=T.useState(""),[A,E]=T.useState(""),[k,D]=T.useState(!1),[R,F]=T.useState(!1),[M,z]=T.useState(null),[I,L]=T.useState(null),[$,W]=T.useState(!1),[U,Y]=T.useState({}),[X,V]=T.useState(()=>{const me=localStorage.getItem("purchaseOrdersVisibleColumns");return me?JSON.parse(me):Go.filter(re=>re.defaultVisible).map(re=>re.id)}),[G,ne]=T.useState(null),[ae,le]=T.useState(null),[ie,fe]=T.useState(null),{data:xe=[]}=a_e(),{data:ge=[]}=rR(),{data:ke=[]}=o_e();T.useEffect(()=>{Ae(),Ne()},[]),T.useEffect(()=>{Me()},[s,p,_,N,S,A]),T.useEffect(()=>{const me=re=>{$&&!re.target.closest(".column-menu-container")&&W(!1),I&&!re.target.closest(".action-menu-container")&&(L(null),Y({}))};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[$,I]),T.useEffect(()=>{const me=t.get("view"),re=t.get("edit"),Oe=t.get("create_from_so");if(Oe)e(`/procurement/purchase-orders/create?from_sales_order=${Oe}`);else if(me&&s.length>0){const ze=s.find(Ze=>Ze.id===parseInt(me));ze&&(le(ze),ne("view"),n({}))}else if(re&&s.length>0){const ze=s.find(Ze=>Ze.id===parseInt(re));ze&&(le(ze),ne("edit"),n({}))}},[t,s,n,e]);const Ae=async()=>{try{h(!0);const{data:me}=await he.get("/procurement/pos");a(me.purchaseOrders||[])}catch(me){console.error("Error fetching purchase orders:",me),ye.error("Failed to fetch purchase orders")}finally{h(!1)}},Ne=async()=>{try{const{data:me}=await he.get("/procurement/pos/stats/summary");x(me)}catch(me){console.error("Error fetching summary:",me)}},Me=()=>{let me=[...s];if(p){const re=p.toLowerCase();me=me.filter(Oe=>{var ze,Ze,er,Nt,mr,Ds,kn,sc;return((ze=Oe.po_number)==null?void 0:ze.toLowerCase().includes(re))||((er=(Ze=Oe.vendor)==null?void 0:Ze.name)==null?void 0:er.toLowerCase().includes(re))||((mr=(Nt=Oe.vendor)==null?void 0:Nt.vendor_code)==null?void 0:mr.toLowerCase().includes(re))||((Ds=Oe.project_name)==null?void 0:Ds.toLowerCase().includes(re))||((sc=(kn=Oe.customer)==null?void 0:kn.name)==null?void 0:sc.toLowerCase().includes(re))})}_!=="all"&&(me=me.filter(re=>re.status===_)),N!=="all"&&(me=me.filter(re=>re.priority===N)),S&&(me=me.filter(re=>new Date(re.po_date)>=new Date(S))),A&&(me=me.filter(re=>new Date(re.po_date)<=new Date(A))),o(me)},Re=me=>X.includes(me),Pe=me=>{const re=Go.find(ze=>ze.id===me);if(re!=null&&re.alwaysVisible)return;const Oe=X.includes(me)?X.filter(ze=>ze!==me):[...X,me];V(Oe),localStorage.setItem("purchaseOrdersVisibleColumns",JSON.stringify(Oe))},Ke=()=>{const me=Go.map(re=>re.id);V(me),localStorage.setItem("purchaseOrdersVisibleColumns",JSON.stringify(me))},lt=()=>{const me=Go.filter(re=>re.defaultVisible).map(re=>re.id);V(me),localStorage.setItem("purchaseOrdersVisibleColumns",JSON.stringify(me))},vt=()=>{e("/procurement/purchase-orders/create")},Ot=me=>{e(`/procurement/purchase-orders/${me.id}`)},ft=async me=>{var re,Oe;if(window.confirm(`Are you sure you want to delete PO ${me.po_number}?`))try{await he.delete(`/procurement/pos/${me.id}`),ye.success("Purchase order deleted successfully"),Ae(),Ne()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to delete purchase order")}},ut=me=>{z(me),F(!0)},oe=me=>{window.print()},Z=async me=>{var re,Oe,ze;if(window.confirm(`Send PO ${me.po_number} to vendor ${(re=me.vendor)==null?void 0:re.name}?`))try{await he.patch(`/procurement/pos/${me.id}`,{status:"sent"}),ye.success("Purchase order sent to vendor successfully!"),Ae(),Ne()}catch(Ze){ye.error(((ze=(Oe=Ze.response)==null?void 0:Oe.data)==null?void 0:ze.message)||"Failed to send to vendor")}},ee=async me=>{var re,Oe;if(window.confirm(`Request GRN creation for PO ${me.po_number}? This will notify the Inventory Department for approval.`))try{await he.post(`/purchase-orders/${me.id}/request-grn`,{notes:"Requesting GRN creation from procurement"}),ye.success("GRN creation request submitted successfully! Inventory Department will review."),Ae(),Ne()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to request GRN creation")}},pe=me=>{e(`/procurement/purchase-orders/${me.id}?tab=grn`)},Le=async me=>{var re,Oe;if(window.confirm(`Submit Purchase Order ${me.po_number} for admin approval?`))try{await he.post(`/procurement/pos/${me.id}/submit-for-approval`,{notes:"Submitted for approval from procurement dashboard"}),ye.success("Purchase order submitted for approval successfully!"),Ae(),Ne()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to submit for approval")}},Ee=async me=>{var re,Oe;if(window.confirm(`Approve Purchase Order ${me.po_number}?`))try{await he.post(`/procurement/pos/${me.id}/approve`),ye.success("Purchase order approved and sent to vendor!"),Ae(),Ne()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to approve PO")}},$e=async me=>{var re,Oe;if(window.confirm(`Mark PO ${me.po_number} as received?`))try{await he.patch(`/procurement/pos/${me.id}`,{status:"received"}),ye.success("Purchase order marked as received!"),Ae(),Ne()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to mark as received")}},Xe=async me=>{var re,Oe;if(window.confirm(`Generate vendor invoice for PO ${me.po_number}?`))try{await he.post(`/procurement/pos/${me.id}/generate-invoice`),ye.success("Vendor invoice generated successfully!"),Ae(),Ne()}catch(ze){ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to generate invoice")}},wt=async me=>{var re,Oe;try{G==="create"?(await he.post("/procurement/pos",me),ye.success("Purchase order created successfully")):G==="edit"&&(await he.patch(`/procurement/pos/${ae.id}`,me),ye.success("Purchase order updated successfully")),ne(null),le(null),fe(null),Ae(),Ne()}catch(ze){throw ye.error(((Oe=(re=ze.response)==null?void 0:re.data)==null?void 0:Oe.message)||"Failed to save purchase order"),ze}},be=()=>{ne(null),le(null),fe(null)},Be=(me,re)=>{if(I===me)L(null),Y({});else{const Oe=re.currentTarget.getBoundingClientRect(),ze=180,Ze=250;let er=Oe.bottom+window.scrollY,Nt=Oe.left+window.scrollX-ze;Oe.bottom+Ze>window.innerHeight&&(er=Oe.top+window.scrollY-Ze),Nt<0&&(Nt=Oe.right+window.scrollX-ze),Nt+ze>window.innerWidth&&(Nt=window.innerWidth-ze-10),Y({top:er,left:Nt}),L(me)}},gt=me=>{const re={draft:{bg:"bg-gray-100",text:"text-gray-700",label:"Draft"},pending_approval:{bg:"bg-yellow-100",text:"text-yellow-700",label:"Pending Approval"},approved:{bg:"bg-blue-100",text:"text-blue-700",label:"Approved"},sent:{bg:"bg-indigo-100",text:"text-indigo-700",label:"Sent to Vendor"},grn_requested:{bg:"bg-orange-100",text:"text-orange-700",label:"GRN Requested"},grn_created:{bg:"bg-cyan-100",text:"text-cyan-700",label:"GRN Created"},acknowledged:{bg:"bg-purple-100",text:"text-purple-700",label:"Acknowledged"},partial_received:{bg:"bg-teal-100",text:"text-teal-700",label:"Partially Received"},received:{bg:"bg-green-100",text:"text-green-700",label:"Received"},completed:{bg:"bg-emerald-100",text:"text-emerald-700",label:"Completed"},cancelled:{bg:"bg-red-100",text:"text-red-700",label:"Cancelled"}},Oe=re[me]||re.draft;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Oe.bg} ${Oe.text}`,children:Oe.label})},Et=me=>{const re={low:{bg:"bg-gray-100",text:"text-gray-600",label:"Low"},medium:{bg:"bg-blue-100",text:"text-blue-600",label:"Medium"},high:{bg:"bg-orange-100",text:"text-orange-600",label:"High"},urgent:{bg:"bg-red-100",text:"text-red-600",label:"Urgent"}},Oe=re[me]||re.medium;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Oe.bg} ${Oe.text}`,children:Oe.label})},Or=xe.map(me=>({value:me.id,label:`${me.name} (${me.vendor_code})`})),It=ke.map(me=>({value:me.id,label:`${me.name} (${me.customer_code})`})),Ie=ge.map(me=>({value:me.id,label:`${me.name} (${me.product_code})`}));return r.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Purchase Orders"}),r.jsx("p",{className:"text-gray-600",children:"Manage and track all purchase orders"})]}),u&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.total_orders})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:r.jsx(Di,{size:24,className:"text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-gray-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Draft Orders"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.draft_orders})]}),r.jsx("div",{className:"bg-gray-100 p-3 rounded-full",children:r.jsx(Pf,{size:24,className:"text-gray-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Approval"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.pending_approval_orders})]}),r.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:r.jsx(as,{size:24,className:"text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-indigo-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Sent to Vendor"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.sent_orders})]}),r.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:r.jsx(Bn,{size:24,className:"text-indigo-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Received"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.received_orders})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(Bl,{size:24,className:"text-green-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-emerald-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800",children:u.completed_orders})]}),r.jsx("div",{className:"bg-emerald-100 p-3 rounded-full",children:r.jsx(Ii,{size:24,className:"text-emerald-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md col-span-1 md:col-span-2 border-l-4 border-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Value"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-800",children:["₹",(se=u.total_value)==null?void 0:se.toLocaleString()]})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:r.jsx(Yp,{size:24,className:"text-purple-600"})})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Value"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["₹",(we=u.pending_value)==null?void 0:we.toLocaleString()]})]})})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed Value"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₹",(De=u.completed_value)==null?void 0:De.toLocaleString()]})]})})})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 relative mr-4",children:[r.jsx("input",{type:"text",placeholder:"Search by PO Number, Vendor, Project, Customer...",value:p,onChange:me=>b(me.target.value),className:"w-full p-3 border rounded-lg pl-10 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative column-menu-container",children:[r.jsxs("button",{onClick:()=>W(!$),className:"flex items-center gap-2 px-4 py-3 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-lg transition-colors",children:[r.jsx(t7,{size:16}),r.jsx("span",{children:"Columns"}),r.jsx(Vc,{size:14,className:`transition-transform ${$?"rotate-180":""}`})]}),$&&r.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-white rounded-lg shadow-xl z-50 border",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-700",children:"Manage Columns"}),r.jsxs("span",{className:"text-xs text-gray-500",children:[X.length," of ",Go.length]})]}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Go.map(me=>r.jsxs("label",{className:`flex items-center gap-2 p-2 rounded hover:bg-gray-50 cursor-pointer ${me.alwaysVisible?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx("input",{type:"checkbox",checked:Re(me.id),onChange:()=>Pe(me.id),disabled:me.alwaysVisible,className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:me.label}),me.alwaysVisible&&r.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:"(Required)"})]},me.id))}),r.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t",children:[r.jsx("button",{onClick:Ke,className:"flex-1 px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 text-blue-700 rounded transition-colors",children:"Show All"}),r.jsx("button",{onClick:lt,className:"flex-1 px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 text-gray-700 rounded transition-colors",children:"Reset"})]})]})})]}),r.jsxs("button",{onClick:()=>D(!k),className:"flex items-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[r.jsx(Qy,{size:16}),r.jsx("span",{children:"Filters"}),r.jsx(Vc,{size:14,className:`transition-transform ${k?"rotate-180":""}`})]}),r.jsxs("button",{onClick:vt,className:"flex items-center gap-2 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[r.jsx(Br,{size:16}),r.jsx("span",{children:"Create PO"})]})]})]}),k&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:_,onChange:me=>v(me.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"pending_approval",children:"Pending Approval"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"sent",children:"Sent to Vendor"}),r.jsx("option",{value:"grn_requested",children:"GRN Requested"}),r.jsx("option",{value:"grn_created",children:"GRN Created"}),r.jsx("option",{value:"acknowledged",children:"Acknowledged"}),r.jsx("option",{value:"partial_received",children:"Partially Received"}),r.jsx("option",{value:"received",children:"Received"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{value:N,onChange:me=>j(me.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Priorities"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"urgent",children:"Urgent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),r.jsx("input",{type:"date",value:S,onChange:me=>C(me.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),r.jsx("input",{type:"date",value:A,onChange:me=>E(me.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[Re("po_number")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Number"}),Re("po_date")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO Date"}),Re("vendor")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),Re("linked_so")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked SO"}),Re("customer")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),Re("project_name")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),Re("total_quantity")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),Re("final_amount")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),Re("expected_delivery_date")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expected Delivery"}),Re("status")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Re("priority")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Re("created_by")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),Re("actions")&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky right-0 bg-gray-50 shadow-[-2px_0_4px_rgba(0,0,0,0.1)] min-w-[100px]",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d?r.jsx("tr",{children:r.jsx("td",{colSpan:Go.length,className:"px-4 py-8 text-center text-gray-500",children:"Loading purchase orders..."})}):i.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:Go.length,className:"px-4 py-8 text-center text-gray-500",children:"No purchase orders found"})}):i.map(me=>{var re,Oe,ze,Ze,er,Nt,mr;return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[Re("po_number")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("button",{onClick:()=>Ot(me),className:"text-blue-600 hover:text-blue-800 font-medium",children:me.po_number})}),Re("po_date")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:new Date(me.po_date).toLocaleDateString()}),Re("vendor")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:(re=me.vendor)==null?void 0:re.name}),r.jsx("div",{className:"text-xs text-gray-500",children:(Oe=me.vendor)==null?void 0:Oe.vendor_code})]}),Re("linked_so")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:((ze=me.salesOrder)==null?void 0:ze.order_number)||"—"}),Re("customer")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Ze=me.customer)==null?void 0:Ze.name)||"—"}),((er=me.customer)==null?void 0:er.customer_code)&&r.jsx("div",{className:"text-xs text-gray-500",children:me.customer.customer_code})]}),Re("project_name")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:me.project_name||"—"}),Re("total_quantity")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:me.total_quantity||0}),Re("final_amount")&&r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",(Nt=me.final_amount)==null?void 0:Nt.toLocaleString()]}),Re("expected_delivery_date")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:new Date(me.expected_delivery_date).toLocaleDateString()}),Re("status")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:gt(me.status)}),Re("priority")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Et(me.priority)}),Re("created_by")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:((mr=me.creator)==null?void 0:mr.name)||"N/A"}),Re("actions")&&r.jsx("td",{className:"px-4 py-3 whitespace-nowrap sticky right-0 bg-white group-hover:bg-gray-50 shadow-[-2px_0_4px_rgba(0,0,0,0.1)] transition-colors",children:r.jsxs("div",{className:"relative action-menu-container",children:[r.jsx("button",{onClick:Ds=>Be(me.id,Ds),className:"p-2 hover:bg-gray-100 rounded transition-colors",title:"Actions",children:r.jsx(Vc,{size:14})}),I===me.id&&r.jsxs("div",{className:"fixed bg-white rounded-lg shadow-xl z-[100] border py-1 min-w-[220px]",style:{top:U.top,left:U.left},children:[r.jsxs("button",{onClick:()=>{Ot(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[r.jsx(cs,{size:16,className:"text-gray-500"}),r.jsx("span",{children:"View / Edit"})]}),me.status==="draft"&&r.jsxs("button",{onClick:()=>{Le(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-orange-700 hover:bg-orange-50 flex items-center gap-3 transition-colors",children:[r.jsx(Il,{size:16,className:"text-orange-600"}),r.jsx("span",{children:"Submit for Approval"})]}),me.status==="pending_approval"&&r.jsxs("button",{onClick:()=>{Ee(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-green-700 hover:bg-green-50 flex items-center gap-3 transition-colors",children:[r.jsx(or,{size:16,className:"text-green-600"}),r.jsx("span",{children:"Approve PO"})]}),(me.status==="approved"||me.status==="draft")&&r.jsxs("button",{onClick:()=>{Z(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-blue-700 hover:bg-blue-50 flex items-center gap-3 transition-colors",children:[r.jsx(Bn,{size:16,className:"text-blue-600"}),r.jsx("span",{children:"Send to Vendor"})]}),me.status==="sent"&&r.jsxs("button",{onClick:()=>{ee(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-indigo-700 hover:bg-indigo-50 flex items-center gap-3 transition-colors font-medium",children:[r.jsx(Bl,{size:16,className:"text-indigo-600"}),r.jsx("span",{children:"📋 Request GRN Creation"})]}),me.status==="grn_requested"&&r.jsxs("button",{onClick:()=>{pe(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-orange-700 hover:bg-orange-50 flex items-center gap-3 transition-colors",children:[r.jsx(as,{size:16,className:"text-orange-600"}),r.jsx("span",{children:"⏳ GRN Request Pending"})]}),r.jsxs("button",{onClick:()=>{Xe(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[r.jsx(Pf,{size:16,className:"text-gray-500"}),r.jsx("span",{children:"Generate Invoice"})]}),["sent","acknowledged","received","partial_received","completed"].includes(me.status)&&r.jsxs("button",{onClick:()=>{pe(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[r.jsx(Il,{size:16,className:"text-gray-500"}),r.jsx("span",{children:"View GRN Status"})]}),r.jsxs("button",{onClick:()=>{ut(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[r.jsx(Xs,{size:16,className:"text-gray-500"}),r.jsx("span",{children:"Generate QR Code"})]}),r.jsxs("button",{onClick:()=>{oe(),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[r.jsx(Lh,{size:16,className:"text-gray-500"}),r.jsx("span",{children:"Print PO"})]}),["sent","acknowledged","partial_received"].includes(me.status)&&r.jsxs("button",{onClick:()=>{$e(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-green-700 hover:bg-green-50 flex items-center gap-3 transition-colors",children:[r.jsx(Ii,{size:16,className:"text-green-600"}),r.jsx("span",{children:"Mark as Received"})]}),r.jsx("div",{className:"border-t my-1"}),r.jsxs("button",{onClick:()=>{ft(me),L(null)},className:"w-full px-4 py-2.5 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors",children:[r.jsx(Es,{size:16,className:"text-red-600"}),r.jsx("span",{children:"Delete Order"})]})]})]})})]},me.id)})})]})})}),R&&M&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Purchase Order QR Code"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"text-center mb-4",children:r.jsx(Mi,{data:JSON.stringify({po_number:M.po_number,vendor:(tt=M.vendor)==null?void 0:tt.name,status:M.status,amount:M.final_amount,track_url:`${window.location.origin}/procurement/track/${M.po_number}`}),size:200})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"PO Number:"})," ",M.po_number]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Vendor:"})," ",(Gt=M.vendor)==null?void 0:Gt.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",M.status]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Amount:"})," ₹",(sr=M.final_amount)==null?void 0:sr.toLocaleString()]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>F(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors",children:"Close"}),r.jsx("button",{onClick:()=>window.print(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Print QR Code"})]})]})]})}),G&&r.jsx(n_e,{open:!0,mode:G,initialValues:ae,linkedSalesOrder:ie,vendorOptions:Or,customerOptions:It,productOptions:Ie,onClose:be,onSubmit:wt})]})},c_e=()=>{var z,I,L,$,W,U,Y,X,V,G,ne,ae,le,ie,fe,xe,ge;const{id:e}=Ih(),t=_t(),[n,s]=T.useState(null),[a,i]=T.useState(!0),[o,d]=T.useState(""),[h,u]=T.useState("details"),[x,p]=T.useState(!1),[b,_]=T.useState(!1),[v,N]=T.useState("Main Warehouse"),[j,S]=T.useState("");T.useEffect(()=>{C()},[e]);const C=async()=>{var ke,Ae;try{i(!0);const Ne=await he.get(`/procurement/pos/${e}`);s(Ne.data.purchaseOrder||Ne.data)}catch(Ne){d(((Ae=(ke=Ne.response)==null?void 0:ke.data)==null?void 0:Ae.message)||"Failed to fetch order details"),ye.error("Failed to load purchase order details")}finally{i(!1)}},A=async ke=>{var Ae,Ne;try{let Me;switch(ke){case"send_for_approval":Me="pending_approval";break;case"approve":Me="approved";break;case"send_to_vendor":Me="sent";break;case"mark_as_ordered":Me="acknowledged";break;case"mark_as_received":Me="received";break;case"complete":Me="completed";break;default:return}await he.patch(`/procurement/pos/${e}`,{status:Me}),ye.success(`Purchase order ${ke.replace("_"," ")} successfully`),C()}catch(Me){ye.error(((Ne=(Ae=Me.response)==null?void 0:Ae.data)==null?void 0:Ne.message)||"Failed to update order status")}},E=()=>{window.print()},k=async()=>{try{const ke=await he.get(`/procurement/pos/${e}/export`,{responseType:"blob"}),Ae=window.URL.createObjectURL(new Blob([ke.data])),Ne=document.createElement("a");Ne.href=Ae,Ne.setAttribute("download",`PO_${n.po_number}.pdf`),document.body.appendChild(Ne),Ne.click(),Ne.remove(),window.URL.revokeObjectURL(Ae),ye.success("Purchase order exported successfully")}catch{ye.error("Failed to export purchase order")}},D=async()=>{var ke,Ae;try{const Ne=await he.post(`/procurement/pos/${e}/approve-and-add-to-inventory`,{location:v,notes:j});ye.success(Ne.data.message||"Purchase order approved and added to inventory successfully"),_(!1),C(),setTimeout(()=>{t(`/inventory/from-po/${e}`)},1500)}catch(Ne){ye.error(((Ae=(ke=Ne.response)==null?void 0:ke.data)==null?void 0:Ae.message)||"Failed to add items to inventory")}},R=ke=>({draft:"bg-gray-100 text-gray-700",pending_approval:"bg-yellow-100 text-yellow-700",approved:"bg-blue-100 text-blue-700",sent:"bg-indigo-100 text-indigo-700",acknowledged:"bg-purple-100 text-purple-700",partial_received:"bg-teal-100 text-teal-700",received:"bg-green-100 text-green-700",completed:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700"})[ke]||"bg-gray-100 text-gray-700",F=ke=>({draft:r.jsx(as,{}),pending_approval:r.jsx(as,{}),approved:r.jsx(or,{}),sent:r.jsx(_c,{}),acknowledged:r.jsx($6,{}),received:r.jsx(Bn,{}),completed:r.jsx(or,{}),cancelled:r.jsx(wa,{})})[ke]||r.jsx(as,{}),M=ke=>({low:"bg-gray-100 text-gray-600",medium:"bg-blue-100 text-blue-600",high:"bg-orange-100 text-orange-600",urgent:"bg-red-100 text-red-600"})[ke]||"bg-gray-100 text-gray-600";return a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"text-lg",children:"Loading purchase order details..."})}):o?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o})}):n?r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>t("/procurement/purchase-orders"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[r.jsx(Fl,{})," Back to Purchase Orders"]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",children:["Purchase Order ",n.po_number]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("span",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${R(n.status)}`,children:[F(n.status)," ",n.status.replace("_"," ").toUpperCase()]}),r.jsxs("span",{className:`px-2 py-1 rounded text-xs ${M(n.priority)}`,children:["Priority: ",r.jsx("span",{className:"capitalize",children:n.priority})]}),n.salesOrder&&r.jsxs("span",{className:"text-sm text-blue-600",children:["🔗 Linked to SO: ",n.salesOrder.order_number]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>t(`/procurement/purchase-orders/edit/${e}`),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:[r.jsx(Aa,{})," Edit"]}),r.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[r.jsx(Lh,{})," Print"]}),r.jsxs("button",{onClick:k,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:[r.jsx(ri,{})," Export"]}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:[r.jsx(Xs,{})," QR Code"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg shadow mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.status==="draft"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>A("send_for_approval"),className:"flex items-center gap-2 bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 text-sm",children:[r.jsx(_c,{})," Send for Approval"]}),r.jsxs("button",{onClick:()=>A("send_to_vendor"),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm",children:[r.jsx(_c,{})," Send to Vendor"]})]}),n.status==="pending_approval"&&r.jsxs("button",{onClick:()=>A("approve"),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm",children:[r.jsx(or,{})," Approve PO"]}),n.status==="approved"&&r.jsxs("button",{onClick:()=>A("send_to_vendor"),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm",children:[r.jsx(_c,{})," Send to Vendor"]}),n.status==="sent"&&r.jsxs("button",{onClick:()=>A("mark_as_ordered"),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 text-sm",children:[r.jsx($6,{})," Mark as Ordered"]}),["approved","sent","acknowledged"].includes(n.status)&&r.jsxs("button",{onClick:()=>t(`/inventory/grn/create?po_id=${e}`),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 text-sm shadow-lg",children:[r.jsx(Bl,{})," ✨ Create GRN (3-Way Matching)"]}),(n.status==="acknowledged"||n.status==="partial_received")&&r.jsxs("button",{onClick:()=>A("mark_as_received"),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm",children:[r.jsx(Bn,{})," Mark as Received"]}),n.status==="received"&&r.jsxs("button",{onClick:()=>A("complete"),className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-700 text-sm",children:[r.jsx(or,{})," Complete Order"]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded shadow mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Xs,{})," Purchase Order QR Code"]}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[r.jsx(ri,{})," Download QR"]})]}),r.jsx("div",{className:"mt-4 flex justify-center",children:r.jsx(Mi,{data:JSON.stringify({po_number:n.po_number,vendor:(z=n.vendor)==null?void 0:z.name,status:n.status,amount:n.final_amount,expected_delivery:n.expected_delivery_date}),size:200})}),r.jsx("p",{className:"text-center text-sm text-gray-500 mt-2",children:"Scan to view live purchase order status and details"})]}),r.jsxs("div",{className:"bg-white rounded shadow mb-6",children:[r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"flex",children:["details","items","financial","timeline","notes"].map(ke=>r.jsx("button",{onClick:()=>u(ke),className:`px-6 py-3 font-medium text-sm capitalize ${h===ke?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:ke},ke))})}),r.jsxs("div",{className:"p-6",children:[h==="details"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"PO Number:"}),r.jsx("span",{className:"font-medium",children:n.po_number})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"PO Date:"}),r.jsx("span",{children:new Date(n.po_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Expected Delivery:"}),r.jsx("span",{children:new Date(n.expected_delivery_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Project Name:"}),r.jsx("span",{children:n.project_name||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsxs("span",{className:"font-bold text-lg",children:["₹",(I=n.final_amount)==null?void 0:I.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Terms:"}),r.jsx("span",{children:n.payment_terms||"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created By:"}),r.jsx("span",{children:((L=n.creator)==null?void 0:L.name)||"N/A"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vendor Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vendor:"}),r.jsx("span",{className:"font-medium",children:($=n.vendor)==null?void 0:$.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Vendor Code:"}),r.jsx("span",{children:(W=n.vendor)==null?void 0:W.vendor_code})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gy,{className:"text-gray-400"}),r.jsx("span",{children:((U=n.vendor)==null?void 0:U.email)||"N/A"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_4,{className:"text-gray-400"}),r.jsx("span",{children:((Y=n.vendor)==null?void 0:Y.phone)||"N/A"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(n7,{className:"text-gray-400 mt-1"}),r.jsx("span",{className:"text-sm",children:((X=n.vendor)==null?void 0:X.address)||"N/A"})]})]}),n.customer&&r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 mt-6",children:"Customer Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Customer:"}),r.jsx("span",{className:"font-medium",children:n.customer.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Customer Code:"}),r.jsx("span",{children:n.customer.customer_code})]})]})]})]})]}),h==="items"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Items"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"Type"}),r.jsx("th",{className:"p-3 text-left",children:"Description"}),r.jsx("th",{className:"p-3 text-left",children:"Color"}),r.jsx("th",{className:"p-3 text-left",children:"GSM"}),r.jsx("th",{className:"p-3 text-left",children:"Quantity"}),r.jsx("th",{className:"p-3 text-left",children:"UOM"}),r.jsx("th",{className:"p-3 text-left",children:"Rate"}),r.jsx("th",{className:"p-3 text-left",children:"Total"})]})}),r.jsx("tbody",{children:(V=n.items)==null?void 0:V.map((ke,Ae)=>{var Ne;return r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"p-3 capitalize",children:ke.type}),r.jsx("td",{className:"p-3",children:ke.fabric_name||ke.item_name||ke.description}),r.jsx("td",{className:"p-3",children:ke.color||"—"}),r.jsx("td",{className:"p-3",children:ke.gsm||"—"}),r.jsx("td",{className:"p-3",children:ke.quantity}),r.jsx("td",{className:"p-3",children:ke.uom}),r.jsxs("td",{className:"p-3",children:["₹",ke.rate]}),r.jsxs("td",{className:"p-3",children:["₹",(Ne=ke.total)==null?void 0:Ne.toLocaleString()]})]},Ae)})})]})})]}),h==="financial"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Financial Breakdown"}),r.jsx("div",{className:"bg-gray-50 p-6 rounded-lg max-w-md",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["₹",(((G=n.items)==null?void 0:G.reduce((ke,Ae)=>ke+(Ae.total||0),0))||0).toLocaleString()]})]}),n.discount_percentage>0&&r.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[r.jsxs("span",{children:["Discount (",n.discount_percentage,"%):"]}),r.jsxs("span",{children:["-₹",((((ne=n.items)==null?void 0:ne.reduce((ke,Ae)=>ke+(Ae.total||0),0))||0)*(n.discount_percentage/100)).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:["Tax (",n.tax_percentage||0,"%):"]}),r.jsxs("span",{children:["₹",(n.final_amount*(n.tax_percentage||0)/(100+(n.tax_percentage||0))).toLocaleString()]})]}),n.freight>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Freight:"}),r.jsxs("span",{children:["₹",(ae=n.freight)==null?void 0:ae.toLocaleString()]})]}),r.jsxs("div",{className:"border-t-2 border-gray-300 pt-3 mt-3 flex justify-between text-lg font-bold",children:[r.jsx("span",{children:"Grand Total:"}),r.jsxs("span",{children:["₹",(le=n.final_amount)==null?void 0:le.toLocaleString()]})]})]})}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Delivery Address"}),r.jsx("p",{className:"text-gray-700 text-sm",children:n.delivery_address||"N/A"})]})]}),h==="timeline"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Timeline"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(r7,{className:"text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:"Order Created"}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(n.createdAt).toLocaleString()})]})]}),n.status!=="draft"&&r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(or,{className:"text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium",children:["Status: ",n.status.replace("_"," ").toUpperCase()]}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(n.updatedAt).toLocaleString()})]})]})]})]}),h==="notes"&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions"}),r.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded",children:n.special_instructions||"None"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Terms & Conditions"}),r.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded",children:n.terms_conditions||"None"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internal Notes"}),r.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded",children:n.internal_notes||"None"})]})]})]})]})]}),x&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Purchase Order QR Code"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"text-center mb-4",children:r.jsx(Mi,{data:JSON.stringify({po_number:n.po_number,vendor:(ie=n.vendor)==null?void 0:ie.name,status:n.status,amount:n.final_amount,track_url:`${window.location.origin}/procurement/purchase-orders/${n.id}`}),size:300})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"PO Number:"})," ",n.po_number]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Vendor:"})," ",(fe=n.vendor)==null?void 0:fe.name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",n.status.replace("_"," ").toUpperCase()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Amount:"})," ₹",(xe=n.final_amount)==null?void 0:xe.toLocaleString()]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors",children:"Close"}),r.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Print QR Code"})]})]})]})}),b&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:[r.jsxs("div",{className:"px-6 py-4 border-b bg-gradient-to-r from-indigo-50 to-blue-50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Zp,{className:"text-indigo-600"}),"Approve & Add to Inventory"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All PO items will be added to inventory with unique barcodes"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warehouse Location"}),r.jsxs("select",{value:v,onChange:ke=>N(ke.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"Main Warehouse",children:"Main Warehouse"}),r.jsx("option",{value:"Secondary Warehouse",children:"Secondary Warehouse"}),r.jsx("option",{value:"Fabric Store",children:"Fabric Store"}),r.jsx("option",{value:"Accessories Store",children:"Accessories Store"}),r.jsx("option",{value:"Raw Materials",children:"Raw Materials"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{value:j,onChange:ke=>S(ke.target.value),placeholder:"Add any notes about this inventory receipt...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"font-medium text-blue-900 mb-2 flex items-center gap-2",children:[r.jsx(Bl,{})," What will happen:"]}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsxs("li",{children:["✓ All ",((ge=n.items)==null?void 0:ge.length)||0," PO items will be added to inventory"]}),r.jsx("li",{children:"✓ Each item will receive a unique barcode"}),r.jsx("li",{children:"✓ QR codes will be generated for tracking"}),r.jsx("li",{children:'✓ PO status will be updated to "Received"'}),r.jsx("li",{children:"✓ You can track usage and remaining stock"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors font-medium",children:"Cancel"}),r.jsxs("button",{onClick:D,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[r.jsx(or,{})," Approve & Add to Inventory"]})]})]})]})})]}):r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:"Purchase order not found"})})},d_e=()=>{var V;const e=_t(),[t]=Ly(),n=t.get("from_sales_order"),[s,a]=T.useState({vendor_id:"",project_name:"",customer_id:"",client_name:"",po_date:new Date().toISOString().split("T")[0],expected_delivery_date:"",priority:"medium",items:[{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"Meters",quantity:"",rate:"",total:0,supplier:"",remarks:""}],payment_terms:"",delivery_address:"",special_instructions:"",terms_conditions:"",internal_notes:"",discount_percentage:0,tax_percentage:12,freight:0}),[i,o]=T.useState([]),[d,h]=T.useState([]),[u,x]=T.useState(null),[p,b]=T.useState(!1),[_,v]=T.useState(""),[N,j]=T.useState(null),[S,C]=T.useState(!1),[A,E]=T.useState(null);T.useEffect(()=>{(async()=>{try{const[ne,ae]=await Promise.all([he.get("/procurement/vendors"),he.get("/sales/customers")]);o(ne.data.vendors.map(le=>({value:le.id,label:le.name}))),h(ae.data.customers.map(le=>({value:le.id,label:le.name})))}catch(ne){console.error("Failed to fetch vendors/customers:",ne),ye.error("Failed to load vendors or customers")}})()},[]),T.useEffect(()=>{n&&(async()=>{try{const ae=(await he.get(`/sales/orders/${n}`)).data.order;x(ae);const ie=(ae.items||[]).map(fe=>({type:fe.product_type==="Fabric"?"fabric":"accessories",fabric_name:fe.product_type==="Fabric"&&fe.description||"",color:fe.color||"",hsn:fe.hsn||"",gsm:fe.gsm||"",width:fe.width||"",item_name:fe.product_type!=="Fabric"&&fe.description||"",description:fe.description||"",uom:fe.uom||"Meters",quantity:fe.quantity||"",rate:fe.unit_price||"",total:(fe.quantity||0)*(fe.unit_price||0),supplier:"",remarks:fe.remarks||""}));console.log("Fetched Sales Order:",ae),a(fe=>{var xe;return{...fe,project_name:ae.buyer_reference||"",customer_id:ae.customer_id||"",client_name:((xe=ae.customer)==null?void 0:xe.name)||ae.customer_name||"",expected_delivery_date:ae.delivery_date?new Date(ae.delivery_date).toISOString().split("T")[0]:"",priority:ae.priority||"medium",items:ie.length>0?ie:fe.items,special_instructions:ae.special_instructions||"",internal_notes:`Linked to Sales Order: ${ae.order_number||ae.id}`}}),ye.success(`Loaded data from Sales Order: ${ae.order_number||ae.id||"Successfully loaded"}`)}catch(ne){console.error("Failed to fetch sales order:",ne),ye.error("Failed to load sales order data")}})()},[n]),T.useEffect(()=>{if(s.vendor_id){const G=i.find(ne=>ne.value===parseInt(s.vendor_id));G&&a(ne=>({...ne,items:ne.items.map(ae=>({...ae,supplier:G.label}))}))}},[s.vendor_id,i]);const k=T.useMemo(()=>{const G=s.items.reduce((xe,ge)=>xe+(ge.total||0),0),ne=G*(s.discount_percentage/100),ae=G-ne,le=ae*(s.tax_percentage/100),ie=parseFloat(s.freight)||0,fe=ae+le+ie;return{subtotal:G.toFixed(2),discountAmount:ne.toFixed(2),afterDiscount:ae.toFixed(2),taxAmount:le.toFixed(2),freightAmount:ie.toFixed(2),grandTotal:fe.toFixed(2)}},[s.items,s.discount_percentage,s.tax_percentage,s.freight]),D=(G,ne)=>{a(ae=>({...ae,[G]:ne}))},R=(G,ne,ae)=>{const le=[...s.items];if(le[G][ne]=ae,ne==="quantity"||ne==="rate"){const ie=parseFloat(le[G].quantity)||0,fe=parseFloat(le[G].rate)||0;le[G].total=ie*fe}a(ie=>({...ie,items:le}))},F=()=>{const G=i.find(ne=>ne.value===parseInt(s.vendor_id));a(ne=>({...ne,items:[...ne.items,{type:"fabric",fabric_name:"",color:"",hsn:"",gsm:"",width:"",item_name:"",description:"",uom:"Meters",quantity:"",rate:"",total:0,supplier:G?G.label:"",remarks:""}]}))},M=G=>{s.items.length>1?a(ne=>({...ne,items:ne.items.filter((ae,le)=>le!==G)})):ye.error("At least one item is required")},z=async(G,ne="draft")=>{var ae;if(G.preventDefault(),v(""),!s.vendor_id){v("Please select a vendor");return}if(!s.expected_delivery_date){v("Expected delivery date is required");return}if(s.items.length===0||!s.items.some(le=>le.type==="fabric"&&(le.fabric_name||le.color)||le.type==="accessories"&&(le.item_name||le.description))){v("At least one valid item is required");return}b(!0);try{const le={...s,vendor_id:parseInt(s.vendor_id),customer_id:s.customer_id?parseInt(s.customer_id):null,items:s.items.filter(ge=>ge.type==="fabric"?ge.fabric_name||ge.color:ge.item_name||ge.description),final_amount:parseFloat(k.grandTotal),status:ne,action_type:ne};u&&(le.linked_sales_order_id=u.id);const fe=(await he.post("/procurement/pos",le)).data.purchaseOrder,xe=ly(fe,"purchase");E(xe),j(fe),C(!1),ye.success("✅ Purchase Order created and sent for approval!")}catch(le){const ie=(ae=le.response)==null?void 0:ae.data;ie!=null&&ie.message?v(ie.message):Array.isArray(ie==null?void 0:ie.errors)?v(ie.errors.join(", ")):v("Failed to create purchase order. Please try again."),console.error("PO creation error:",le),ye.error("Failed to create purchase order")}finally{b(!1)}},I=async()=>{if(!N){ye.error("Please save the order first");return}try{await he.patch(`/procurement/pos/${N.id}`,{status:"sent"}),ye.success("Purchase order sent to vendor"),j({...N,status:"sent"})}catch(G){ye.error("Failed to send to vendor"),console.error("Send to vendor error:",G)}},L=async()=>{if(!N){ye.error("Please save the order first");return}try{await he.patch(`/procurement/pos/${N.id}`,{status:"received"}),ye.success("Purchase order marked as received"),j({...N,status:"received"})}catch(G){ye.error("Failed to mark as received"),console.error("Mark as received error:",G)}},$=()=>{if(!N){ye.error("Please save the order first");return}const G=ly(N,"purchase");E(G),C(!0)},W=()=>{if(!N){ye.error("Please save the order first");return}window.print()},U=()=>{e("/procurement/purchase-orders")},Y=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],X=["Meters","Yards","Kilograms","Pieces","Sets","Dozens","Boxes"];return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"mx-auto max-w-7xl",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>e("/procurement/purchase-orders"),className:"inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:bg-gray-50",children:[r.jsx(Fl,{className:"h-4 w-4"}),"Back"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Purchase Order"})]}),N&&r.jsxs("span",{className:"rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-800",children:[r.jsx(Ii,{className:"mr-1 inline"})," Order Created: ",N.po_number]})]}),u&&r.jsx("div",{className:"mb-6 rounded-lg border border-blue-300 bg-blue-50 px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-700 font-semibold",children:"📋 Creating from Sales Order:"}),r.jsx("span",{className:"text-blue-900 font-bold",children:u.order_number}),r.jsxs("span",{className:"text-blue-600",children:["• Customer: ",((V=u.customer)==null?void 0:V.name)||u.customer_name]})]})}),_&&r.jsx("div",{className:"mb-6 rounded-lg border border-red-300 bg-red-50 px-4 py-3 text-sm text-red-800",children:_}),r.jsxs("form",{onSubmit:G=>z(G,"draft"),className:"space-y-6",children:[r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"mb-6 border-b pb-3",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Vendor & Order Information"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Select vendor and configure order details"})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"vendor_id",children:["Vendor ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"vendor_id",value:s.vendor_id,onChange:G=>D("vendor_id",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0,disabled:N,children:[r.jsx("option",{value:"",children:"Select vendor"}),i.map(G=>r.jsx("option",{value:G.value,children:G.label},G.value))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"project_name",children:"Project Name"}),r.jsx("input",{id:"project_name",type:"text",value:s.project_name,onChange:G=>D("project_name",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Enter project name",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"customer_id",children:"Customer (Optional)"}),r.jsxs("select",{id:"customer_id",value:s.customer_id,onChange:G=>D("customer_id",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N,children:[r.jsx("option",{value:"",children:"Select customer"}),d.map(G=>r.jsx("option",{value:G.value,children:G.label},G.value))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"client_name",children:"Client Name"}),r.jsx("input",{id:"client_name",type:"text",value:s.client_name,onChange:G=>D("client_name",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Enter client name",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"po_date",children:["PO Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"po_date",type:"date",value:s.po_date,onChange:G=>D("po_date",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0,disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"expected_delivery_date",children:["Expected Delivery ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"expected_delivery_date",type:"date",value:s.expected_delivery_date,onChange:G=>D("expected_delivery_date",G.target.value),min:new Date().toISOString().split("T")[0],className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0,disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"priority",children:"Priority"}),r.jsx("select",{id:"priority",value:s.priority,onChange:G=>D("priority",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N,children:Y.map(G=>r.jsx("option",{value:G.value,children:G.label},G.value))})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"delivery_address",children:"Delivery Address"}),r.jsx("input",{id:"delivery_address",type:"text",value:s.delivery_address,onChange:G=>D("delivery_address",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Enter delivery address",disabled:N})]})]})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between border-b pb-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Order Items"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add fabric and accessories"})]}),!N&&r.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-md transition hover:bg-blue-700",children:[r.jsx(Br,{className:"h-4 w-4"}),"Add Item"]})]}),r.jsx("div",{className:"space-y-4",children:s.items.map((G,ne)=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-700",children:["Item #",ne+1]}),!N&&s.items.length>1&&r.jsx("button",{type:"button",onClick:()=>M(ne),className:"text-red-600 hover:text-red-800",children:r.jsx(Es,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Type"}),r.jsxs("select",{value:G.type,onChange:ae=>R(ne,"type",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",disabled:N,children:[r.jsx("option",{value:"fabric",children:"Fabric"}),r.jsx("option",{value:"accessories",children:"Accessories"})]})]}),G.type==="fabric"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Fabric Name"}),r.jsx("input",{type:"text",value:G.fabric_name,onChange:ae=>R(ne,"fabric_name",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"Cotton, Polyester, etc.",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Color"}),r.jsx("input",{type:"text",value:G.color,onChange:ae=>R(ne,"color",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"Red, Blue, etc.",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"HSN Code"}),r.jsx("input",{type:"text",value:G.hsn,onChange:ae=>R(ne,"hsn",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"HSN Code",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"GSM"}),r.jsx("input",{type:"text",value:G.gsm,onChange:ae=>R(ne,"gsm",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"180, 200, etc.",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Width"}),r.jsx("input",{type:"text",value:G.width,onChange:ae=>R(ne,"width",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"60 inch",disabled:N})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Item Name"}),r.jsx("input",{type:"text",value:G.item_name,onChange:ae=>R(ne,"item_name",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"Button, Zipper, Thread, etc.",disabled:N})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Description"}),r.jsx("input",{type:"text",value:G.description,onChange:ae=>R(ne,"description",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"Additional details",disabled:N})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"UOM"}),r.jsx("select",{value:G.uom,onChange:ae=>R(ne,"uom",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",disabled:N,children:X.map(ae=>r.jsx("option",{value:ae,children:ae},ae))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Quantity"}),r.jsx("input",{type:"number",value:G.quantity,onChange:ae=>R(ne,"quantity",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"100",min:"0",step:"0.01",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Rate (₹)"}),r.jsx("input",{type:"number",value:G.rate,onChange:ae=>R(ne,"rate",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"50.00",min:"0",step:"0.01",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Total (₹)"}),r.jsx("input",{type:"text",value:G.total.toFixed(2),readOnly:!0,className:"w-full rounded-lg border border-gray-200 bg-gray-100 px-3 py-2 text-sm font-semibold text-gray-700"})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Supplier"}),r.jsx("input",{type:"text",value:G.supplier,readOnly:!0,className:"w-full rounded-lg border border-gray-200 bg-gray-100 px-3 py-2 text-sm text-gray-700",placeholder:"Auto-filled from vendor"})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-xs font-semibold text-gray-600",children:"Remarks"}),r.jsx("input",{type:"text",value:G.remarks,onChange:ae=>R(ne,"remarks",ae.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm",placeholder:"Additional remarks",disabled:N})]})]})]},ne))})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"mb-6 border-b pb-3",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Financial Details"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Payment terms and additional charges"})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"discount_percentage",children:"Discount (%)"}),r.jsx("input",{id:"discount_percentage",type:"number",value:s.discount_percentage,onChange:G=>D("discount_percentage",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"0",min:"0",max:"100",step:"0.01",disabled:N})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"tax_percentage",children:"Tax/GST (%)"}),r.jsxs("select",{id:"tax_percentage",value:s.tax_percentage,onChange:G=>D("tax_percentage",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",disabled:N,children:[r.jsx("option",{value:"0",children:"0%"}),r.jsx("option",{value:"5",children:"5%"}),r.jsx("option",{value:"12",children:"12%"}),r.jsx("option",{value:"18",children:"18%"}),r.jsx("option",{value:"28",children:"28%"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"freight",children:"Freight Charges (₹)"}),r.jsx("input",{id:"freight",type:"number",value:s.freight,onChange:G=>D("freight",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"0.00",min:"0",step:"0.01",disabled:N})]}),r.jsxs("div",{className:"space-y-2 md:col-span-3",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"payment_terms",children:"Payment Terms"}),r.jsx("input",{id:"payment_terms",type:"text",value:s.payment_terms,onChange:G=>D("payment_terms",G.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"e.g., 50% advance, 50% on delivery",disabled:N})]}),r.jsxs("div",{className:"space-y-2 md:col-span-3",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"special_instructions",children:"Special Instructions"}),r.jsx("textarea",{id:"special_instructions",value:s.special_instructions,onChange:G=>D("special_instructions",G.target.value),rows:2,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Any special requirements or instructions",disabled:N})]}),r.jsxs("div",{className:"space-y-2 md:col-span-3",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"terms_conditions",children:"Terms & Conditions"}),r.jsx("textarea",{id:"terms_conditions",value:s.terms_conditions,onChange:G=>D("terms_conditions",G.target.value),rows:2,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Terms and conditions",disabled:N})]}),r.jsxs("div",{className:"space-y-2 md:col-span-3",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",htmlFor:"internal_notes",children:"Internal Notes"}),r.jsx("textarea",{id:"internal_notes",value:s.internal_notes,onChange:G=>D("internal_notes",G.target.value),rows:2,className:"w-full rounded-lg border border-gray-300 px-4 py-2.5 text-sm shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",placeholder:"Internal notes (not visible to vendor)",disabled:N})]})]}),r.jsx("div",{className:"mt-6 border-t pt-6",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[r.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Subtotal"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-gray-900",children:["₹ ",k.subtotal]})]}),r.jsxs("div",{className:"rounded-lg bg-orange-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-orange-600",children:"Discount"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-orange-900",children:["- ₹ ",k.discountAmount]})]}),r.jsxs("div",{className:"rounded-lg bg-purple-50 p-4",children:[r.jsxs("div",{className:"text-xs font-medium text-purple-600",children:["Tax (",s.tax_percentage,"%)"]}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-purple-900",children:["₹ ",k.taxAmount]})]}),r.jsxs("div",{className:"rounded-lg bg-yellow-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-yellow-600",children:"Freight"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-yellow-900",children:["₹ ",k.freightAmount]})]}),r.jsxs("div",{className:"rounded-lg bg-green-50 p-4",children:[r.jsx("div",{className:"text-xs font-medium text-green-600",children:"Grand Total"}),r.jsxs("div",{className:"mt-1 text-xl font-bold text-green-900",children:["₹ ",k.grandTotal]})]})]})})]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"🔹 Actions"}),!N&&r.jsx("div",{className:"mt-2 rounded-lg bg-blue-50 border border-blue-200 px-4 py-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"📋 Automated Workflow:"})," PO will be automatically sent to admin for approval. After approval, it will be sent to vendor automatically."]})})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[!N&&r.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-lg transition hover:from-blue-700 hover:to-indigo-700 hover:shadow-xl transform hover:scale-105 disabled:cursor-not-allowed disabled:opacity-50 disabled:transform-none",children:[r.jsx(Ii,{className:"h-4 w-4"}),p?"Creating PO...":"Create PO & Send for Approval"]}),r.jsxs("button",{type:"button",onClick:I,disabled:!N||(N==null?void 0:N.status)==="sent",className:"inline-flex items-center justify-center gap-2 rounded-lg border border-purple-600 bg-purple-50 px-6 py-3 text-sm font-semibold text-purple-700 shadow-md transition hover:bg-purple-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(_c,{className:"h-4 w-4"}),(N==null?void 0:N.status)==="sent"?"Sent to Vendor":"Send to Vendor"]}),r.jsxs("button",{type:"button",onClick:L,disabled:!N||(N==null?void 0:N.status)==="received",className:"inline-flex items-center justify-center gap-2 rounded-lg border border-green-600 bg-green-50 px-6 py-3 text-sm font-semibold text-green-700 shadow-md transition hover:bg-green-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(Bn,{className:"h-4 w-4"}),(N==null?void 0:N.status)==="received"?"Marked as Received":"Mark as Received"]}),r.jsxs("button",{type:"button",onClick:$,disabled:!N,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-indigo-600 bg-indigo-50 px-6 py-3 text-sm font-semibold text-indigo-700 shadow-md transition hover:bg-indigo-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(Xs,{className:"h-4 w-4"}),"Generate QR Code"]}),r.jsxs("button",{type:"button",onClick:W,disabled:!N,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-gray-600 bg-gray-50 px-6 py-3 text-sm font-semibold text-gray-700 shadow-md transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx(ri,{className:"h-4 w-4"}),"Print PO"]}),r.jsxs("button",{type:"button",onClick:U,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-blue-600 bg-blue-50 px-6 py-3 text-sm font-semibold text-blue-700 shadow-md transition hover:bg-blue-100",children:[r.jsx(Fl,{className:"h-4 w-4"}),"View All Orders"]})]})]})]}),S&&A&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:r.jsxs("div",{className:"relative max-w-md rounded-xl bg-white p-6 shadow-2xl",children:[r.jsx("button",{onClick:()=>C(!1),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:"✕"}),r.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-900",children:"Purchase Order QR Code"}),r.jsx(Mi,{data:A}),r.jsx("p",{className:"mt-4 text-center text-sm text-gray-600",children:"Scan this QR code to view PO details"})]})})]})})},u_e={draft:"bg-gray-100 text-gray-700",approved:"bg-blue-100 text-blue-700",procurement_created:"bg-yellow-100 text-yellow-700",materials_received:"bg-green-100 text-green-700",in_production:"bg-orange-100 text-orange-700",completed:"bg-purple-100 text-purple-700"},h_e=()=>{const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState([]),[i,o]=T.useState(""),[d,h]=T.useState(!0),[u,x]=T.useState(null);T.useEffect(()=>{p()},[]),T.useEffect(()=>{const j=t.filter(S=>{var C,A,E,k,D,R,F;return((C=S.bom_number)==null?void 0:C.toLowerCase().includes(i.toLowerCase()))||((E=(A=S.salesOrder)==null?void 0:A.order_number)==null?void 0:E.toLowerCase().includes(i.toLowerCase()))||((R=(D=(k=S.salesOrder)==null?void 0:k.customer)==null?void 0:D.name)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))||((F=S.status)==null?void 0:F.toLowerCase().includes(i.toLowerCase()))});a(j)},[t,i]);const p=async()=>{try{h(!0);const j=await he.get("/bom");n(j.data.boms||[])}catch(j){console.error("Failed to fetch BOMs:",j)}finally{h(!1)}},b=async j=>{var S,C;try{await he.put(`/bom/${j}/approve`),p(),alert("BOM approved successfully")}catch(A){console.error("Failed to approve BOM:",A),alert(((C=(S=A.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to approve BOM")}},_=j=>{e(`/procurement/purchase-orders/create?bom_id=${j}`)},v=j=>{e(`/procurement/bom/${j}`)},N=j=>r.jsx("span",{className:`px-2 py-1 rounded text-xs ${u_e[j]||"bg-gray-100 text-gray-700"}`,children:j.replace("_"," ")});return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Bill of Materials"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center gap-2",onClick:()=>e("/procurement/bom/generate"),children:[r.jsx(Br,{size:16})," Generate BOM"]}),r.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center gap-2",onClick:()=>e("/procurement/purchase-orders"),children:[r.jsx(Di,{size:16})," Purchase Orders"]})]})]}),r.jsx("div",{className:"bg-white p-4 mb-4 rounded shadow",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search BOMs...",value:i,onChange:j=>o(j.target.value),className:"w-full p-2 border rounded pl-10"}),r.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16})]})}),r.jsx("div",{className:"overflow-x-auto bg-white rounded shadow",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"BOM Number"}),r.jsx("th",{className:"p-3 text-left",children:"Sales Order"}),r.jsx("th",{className:"p-3 text-left",children:"Customer"}),r.jsx("th",{className:"p-3 text-left",children:"Status"}),r.jsx("th",{className:"p-3 text-left",children:"Material Cost"}),r.jsx("th",{className:"p-3 text-left",children:"Created Date"}),r.jsx("th",{className:"p-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:d?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"p-4 text-center",children:"Loading BOMs..."})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"p-4 text-center",children:"No BOMs found"})}):s.map(j=>{var S,C,A,E;return r.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[r.jsx("td",{className:"p-3 font-medium",children:j.bom_number}),r.jsx("td",{className:"p-3",children:(S=j.salesOrder)==null?void 0:S.order_number}),r.jsx("td",{className:"p-3",children:(A=(C=j.salesOrder)==null?void 0:C.customer)==null?void 0:A.name}),r.jsx("td",{className:"p-3",children:N(j.status)}),r.jsxs("td",{className:"p-3",children:["₹",(E=j.total_material_cost)==null?void 0:E.toLocaleString()]}),r.jsx("td",{className:"p-3",children:new Date(j.created_at).toLocaleDateString()}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>v(j.id),className:"text-blue-600 hover:text-blue-800 p-1",title:"View BOM",children:r.jsx(cs,{size:16})}),j.status==="draft"&&r.jsx("button",{onClick:()=>b(j.id),className:"text-green-600 hover:text-green-800 p-1",title:"Approve BOM",children:r.jsx(Ii,{size:16})}),j.status==="approved"&&r.jsx("button",{onClick:()=>_(j.id),className:"text-orange-600 hover:text-orange-800 p-1",title:"Create Purchase Order",children:r.jsx(Di,{size:16})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1",title:"Export BOM",children:r.jsx(ri,{size:16})})]})})]},j.id)})})]})}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(j=>j.status==="draft").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Draft BOMs"})]}),r.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(j=>j.status==="approved").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Approved BOMs"})]}),r.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.filter(j=>j.status==="procurement_created").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"In Procurement"})]}),r.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.filter(j=>j.status==="completed").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})]})]})};function nR({title:e,description:t,columns:n,rows:s,loading:a=!1,emptyMessage:i="No records found.",selectable:o=!1,selectedRowIds:d=[],onToggleRow:h,onToggleAll:u,headerActions:x,toolbar:p,rowActions:b}){const _=Array.isArray(n)?n:[],v=Array.isArray(s)?s:[],N=o&&v.length>0&&d.length===v.length;return r.jsxs("section",{className:"bg-white border border-slate-200 rounded-sm shadow-sm",children:[(e||x)&&r.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between p-5 border-b border-slate-200",children:[r.jsxs("div",{children:[e&&r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e}),t&&r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:t})]}),x&&r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:x})]}),p&&r.jsx("div",{className:"px-5 py-4 border-b border-slate-200 bg-slate-50/70",children:p}),r.jsxs("div",{className:"relative",children:[a&&r.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-white/80",children:r.jsx(vj,{className:"animate-spin text-indigo-500 text-2xl"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-100 text-slate-600 uppercase text-xs font-semibold tracking-wide",children:r.jsxs("tr",{children:[o&&r.jsx("th",{className:"w-12 px-4 py-3 text-left",children:r.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:N,onChange:u})}),_.map(j=>r.jsx("th",{style:j.width?{width:j.width}:void 0,className:bt("px-4 py-3 text-left align-middle",j.headerClassName,{"text-center":j.align==="center","text-right":j.align==="right"}),children:j.label},j.id)),b&&r.jsx("th",{className:"px-4 py-3 text-right w-16",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-slate-200",children:[!a&&v.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:_.length+(o?1:0)+(b?1:0),className:"px-6 py-12 text-center text-slate-500 text-sm",children:i})}),v.map((j,S)=>{const C=j.id??j.key??S,A=o&&d.includes(C);return r.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[o&&r.jsx("td",{className:"px-4 py-3 align-middle",children:r.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:A,onChange:()=>h==null?void 0:h(C)})}),_.map(E=>r.jsx("td",{className:bt("px-4 py-3 align-middle text-sm text-slate-700",E.className,{"text-center":E.align==="center","text-right":E.align==="right"}),children:E.render?E.render(j,S):j[E.id]??"—"},`${C}-${E.id}`)),b&&r.jsx("td",{className:"px-4 py-3 text-right align-middle",children:r.jsx("div",{className:"inline-flex items-center gap-2 text-slate-500",children:b(j)})})]},C)})]})]})})]})]})}const f_e=({open:e,mode:t,initialValues:n,onClose:s,onSubmit:a})=>{const[i,o]=T.useState({name:"",company_name:"",contact_person:"",email:"",phone:"",mobile:"",address:"",city:"",state:"",country:"India",pincode:"",gst_number:"",pan_number:"",vendor_type:"material_supplier",category:"",payment_terms:"",credit_limit:0,credit_days:0,status:"active",rating:""}),[d,h]=T.useState({});T.useEffect(()=>{e&&(o(n&&t!=="create"?{name:n.name||"",company_name:n.company_name||"",contact_person:n.contact_person||"",email:n.email||"",phone:n.phone||"",mobile:n.mobile||"",address:n.address||"",city:n.city||"",state:n.state||"",country:n.country||"India",pincode:n.pincode||"",gst_number:n.gst_number||"",pan_number:n.pan_number||"",vendor_type:n.vendor_type||"material_supplier",category:n.category||"",payment_terms:n.payment_terms||"",credit_limit:n.credit_limit||0,credit_days:n.credit_days||0,status:n.status||"active",rating:n.rating||""}:{name:"",company_name:"",contact_person:"",email:"",phone:"",mobile:"",address:"",city:"",state:"",country:"India",pincode:"",gst_number:"",pan_number:"",vendor_type:"material_supplier",category:"",payment_terms:"",credit_limit:0,credit_days:0,status:"active",rating:""}),h({}))},[e,n,t]);const u=(S,C)=>{o(A=>({...A,[S]:C})),d[S]&&h(A=>({...A,[S]:""}))},x=()=>{var C;const S={};return(C=i.name)!=null&&C.trim()||(S.name="Vendor name is required"),i.vendor_type||(S.vendor_type="Vendor type is required"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(S.email="Invalid email format"),i.gst_number&&i.gst_number.length!==15&&(S.gst_number="GST number must be 15 characters"),i.pan_number&&i.pan_number.length!==10&&(S.pan_number="PAN number must be 10 characters"),h(S),Object.keys(S).length===0},p=async S=>{if(S.preventDefault(),!x())return;const C={...i,credit_limit:parseFloat(i.credit_limit)||0,credit_days:parseInt(i.credit_days)||0,rating:i.rating?parseFloat(i.rating):null};await a(C,s)},b=t==="view",_=[{value:"material_supplier",label:"Material Supplier"},{value:"outsource_partner",label:"Outsource Partner"},{value:"service_provider",label:"Service Provider"},{value:"both",label:"Both"}],v=[{value:"fabric",label:"Fabric"},{value:"accessories",label:"Accessories"},{value:"embroidery",label:"Embroidery"},{value:"printing",label:"Printing"},{value:"stitching",label:"Stitching"},{value:"finishing",label:"Finishing"},{value:"transport",label:"Transport"},{value:"other",label:"Other"}],N=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"blacklisted",label:"Blacklisted"}],j=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal"];return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 overflow-y-auto py-8",children:r.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-lg shadow-xl my-8",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t==="create"?"Add New Vendor":t==="edit"?"Edit Vendor":"Vendor Details"}),(n==null?void 0:n.vendor_code)&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Vendor Code: ",n.vendor_code]})]}),r.jsx("button",{onClick:s,className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:r.jsx(sd,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"px-6 py-4 max-h-[calc(100vh-16rem)] overflow-y-auto",children:r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:i.name,onChange:S=>u("name",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.name?"border-red-500":"border-gray-300"}`,disabled:b,required:!0}),d.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),r.jsx("input",{type:"text",value:i.company_name,onChange:S=>u("company_name",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{value:i.vendor_type,onChange:S=>u("vendor_type",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.vendor_type?"border-red-500":"border-gray-300"}`,disabled:b,required:!0,children:_.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))}),d.vendor_type&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.vendor_type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsxs("select",{value:i.category,onChange:S=>u("category",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[r.jsx("option",{value:"",children:"Select category"}),v.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("select",{value:i.status,onChange:S=>u("status",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:N.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating (0-5)"}),r.jsx("input",{type:"number",value:i.rating,onChange:S=>u("rating",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,min:"0",max:"5",step:"0.1"})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),r.jsx("input",{type:"text",value:i.contact_person,onChange:S=>u("contact_person",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:i.email,onChange:S=>u("email",S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.email?"border-red-500":"border-gray-300"}`,disabled:b}),d.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",value:i.phone,onChange:S=>u("phone",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),r.jsx("input",{type:"tel",value:i.mobile,onChange:S=>u("mobile",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{value:i.address,onChange:S=>u("address",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,rows:"2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",value:i.city,onChange:S=>u("city",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsxs("select",{value:i.state,onChange:S=>u("state",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,children:[r.jsx("option",{value:"",children:"Select state"}),j.map(S=>r.jsx("option",{value:S,children:S},S))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),r.jsx("input",{type:"text",value:i.country,onChange:S=>u("country",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),r.jsx("input",{type:"text",value:i.pincode,onChange:S=>u("pincode",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tax & Financial Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),r.jsx("input",{type:"text",value:i.gst_number,onChange:S=>u("gst_number",S.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.gst_number?"border-red-500":"border-gray-300"}`,disabled:b,maxLength:"15"}),d.gst_number&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.gst_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN Number"}),r.jsx("input",{type:"text",value:i.pan_number,onChange:S=>u("pan_number",S.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${d.pan_number?"border-red-500":"border-gray-300"}`,disabled:b,maxLength:"10"}),d.pan_number&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.pan_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms"}),r.jsx("input",{type:"text",value:i.payment_terms,onChange:S=>u("payment_terms",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,placeholder:"e.g., Net 30, Net 60"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Days"}),r.jsx("input",{type:"number",value:i.credit_days,onChange:S=>u("credit_days",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Credit Limit (₹)"}),r.jsx("input",{type:"number",value:i.credit_limit,onChange:S=>u("credit_limit",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:b,min:"0",step:"0.01"})]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-6 py-4 bg-gray-50",children:[r.jsx("button",{type:"button",onClick:s,className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:b?"Close":"Cancel"}),!b&&r.jsxs("button",{type:"submit",onClick:p,className:"inline-flex items-center gap-2 px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[r.jsx(Ky,{className:"w-4 h-4"}),t==="create"?"Create Vendor":"Update Vendor"]})]})]})}):null},WE={active:"bg-emerald-100 text-emerald-700",inactive:"bg-slate-100 text-slate-600",blacklisted:"bg-rose-100 text-rose-700"},GE={material_supplier:"bg-blue-100 text-blue-700",outsource_partner:"bg-purple-100 text-purple-700",service_provider:"bg-cyan-100 text-cyan-700",both:"bg-indigo-100 text-indigo-700"};function m_e(e){const t=(e||"").toLowerCase();return WE[t]||WE.active}function x_e(e){const t=(e||"").toLowerCase();return GE[t]||GE.material_supplier}const g_=["procurement","vendors"];function p_e(e){return Fy({queryKey:[...g_,e],queryFn:async()=>{const{data:t}=await he.get("/procurement/vendors",{params:e});return(t==null?void 0:t.vendors)||[]}})}function g_e(){const e=$y();return TU({mutationFn:async t=>{await he.delete(`/procurement/vendors/${t}`)},onSuccess:()=>{e.invalidateQueries({queryKey:g_}),ye.success("Vendor deleted successfully")},onError:t=>{var n,s;ye.error(((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to delete vendor")}})}function sR(){const e=$y(),[t,n]=T.useState(""),[s,a]=T.useState(null),[i,o]=T.useState(null),[d,h]=T.useState(!1),[u,x]=T.useState("all"),[p,b]=T.useState("all"),[_,v]=T.useState("all"),[N,j]=T.useState(!1),{data:S=[],isFetching:C}=p_e({search:t}),A=g_e(),E=()=>{a(null),o("create")},k=I=>{a(I),o("view")},D=I=>{a(I),o("edit")},R=I=>{a(I),h(!0)},F=T.useMemo(()=>[{id:"vendor_code",label:"Vendor Code",className:"font-medium text-slate-900"},{id:"name",label:"Vendor Name",render:I=>r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-slate-900",children:I.name}),I.company_name&&r.jsx("span",{className:"text-xs text-slate-500",children:I.company_name})]})},{id:"vendor_type",label:"Type",render:I=>{var L;return r.jsx("span",{className:bt("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium capitalize",x_e(I.vendor_type)),children:((L=I.vendor_type)==null?void 0:L.replace("_"," "))||"N/A"})}},{id:"category",label:"Category",render:I=>r.jsx("span",{className:"capitalize",children:I.category||"—"})},{id:"contact",label:"Contact",render:I=>r.jsxs("div",{className:"flex flex-col",children:[I.contact_person&&r.jsx("span",{className:"text-sm text-slate-900",children:I.contact_person}),I.phone&&r.jsx("span",{className:"text-xs text-slate-500",children:I.phone}),I.email&&r.jsx("span",{className:"text-xs text-blue-600",children:I.email})]})},{id:"location",label:"Location",render:I=>r.jsxs("div",{className:"flex flex-col",children:[I.city&&r.jsx("span",{className:"text-sm",children:I.city}),I.state&&r.jsx("span",{className:"text-xs text-slate-500",children:I.state})]})},{id:"rating",label:"Rating",align:"center",render:I=>I.rating?r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx("span",{className:"text-yellow-500",children:"★"}),r.jsx("span",{className:"font-medium",children:parseFloat(I.rating).toFixed(1)})]}):r.jsx("span",{className:"text-slate-400",children:"—"})},{id:"status",label:"Status",render:I=>r.jsx("span",{className:bt("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium capitalize",m_e(I.status)),children:I.status||"active"})},{id:"actions",label:"Actions",align:"right",render:I=>r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-indigo-600",onClick:()=>k(I),"aria-label":"View details",children:r.jsx(cs,{size:14})}),r.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-slate-500 transition hover:bg-slate-100 hover:text-indigo-600",onClick:()=>D(I),"aria-label":"Edit vendor",children:r.jsx(Aa,{size:14})}),r.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-rose-500 transition hover:bg-rose-50 hover:text-rose-600",onClick:()=>R(I),"aria-label":"Delete vendor",children:r.jsx(Es,{size:14})})]})}],[]),M=T.useMemo(()=>S.filter(I=>!(u!=="all"&&I.status!==u||p!=="all"&&I.vendor_type!==p||_!=="all"&&I.category!==_)),[S,u,p,_]),z=T.useMemo(()=>[...new Set(S.map(L=>L.category).filter(Boolean))].sort(),[S]);return r.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Vendors"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Manage your vendor database and relationships"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>j(!N),className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx(Qy,{className:"h-4 w-4"}),"Filters"]}),r.jsxs("button",{type:"button",onClick:E,className:"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx(Br,{className:"h-4 w-4"}),"Add Vendor"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"rounded-md bg-blue-500 p-3",children:r.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Vendors"}),r.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:S.length})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"rounded-md bg-green-500 p-3",children:r.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active"}),r.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:S.filter(I=>I.status==="active").length})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"rounded-md bg-purple-500 p-3",children:r.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Material Suppliers"}),r.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:S.filter(I=>I.vendor_type==="material_supplier"||I.vendor_type==="both").length})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:r.jsx("div",{className:"p-5",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"rounded-md bg-orange-500 p-3",children:r.jsxs("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:r.jsxs("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Service Providers"}),r.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:S.filter(I=>I.vendor_type==="service_provider"||I.vendor_type==="both").length})]})})]})})})]}),N&&r.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),r.jsxs("select",{value:u,onChange:I=>x(I.target.value),className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"blacklisted",children:"Blacklisted"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Vendor Type"}),r.jsxs("select",{value:p,onChange:I=>b(I.target.value),className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"material_supplier",children:"Material Supplier"}),r.jsx("option",{value:"outsource_partner",children:"Outsource Partner"}),r.jsx("option",{value:"service_provider",children:"Service Provider"}),r.jsx("option",{value:"both",children:"Both"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),r.jsxs("select",{value:_,onChange:I=>v(I.target.value),className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Categories"}),z.map(I=>r.jsx("option",{value:I,className:"capitalize",children:I},I))]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"button",onClick:()=>{x("all"),b("all"),v("all")},className:"w-full rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Clear Filters"})})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:r.jsx(Ps,{className:"h-5 w-5 text-slate-400"})}),r.jsx("input",{type:"text",className:"block w-full rounded-lg border-slate-300 pl-10 focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Search vendors by name, code, or company...",value:t,onChange:I=>n(I.target.value)})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx(nR,{columns:F,rows:M,loading:C,emptyMessage:"No vendors found. Create your first vendor to get started."})}),r.jsx(f_e,{open:!!i,mode:i,initialValues:s,onClose:()=>{o(null),a(null)},onSubmit:async(I,L)=>{var $,W;try{i==="create"?(await he.post("/procurement/vendors",I),ye.success("Vendor created successfully")):i==="edit"&&(await he.put(`/procurement/vendors/${s.id}`,I),ye.success("Vendor updated successfully")),e.invalidateQueries({queryKey:g_}),L()}catch(U){ye.error(((W=($=U.response)==null?void 0:$.data)==null?void 0:W.message)||`Failed to ${i} vendor`)}}}),d&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Vendor"}),r.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:['Are you sure you want to delete vendor "',s==null?void 0:s.name,'"? This action cannot be undone.']}),(s==null?void 0:s.total_orders)>0&&r.jsxs("p",{className:"mt-2 text-sm text-amber-600 font-medium",children:["Note: This vendor has ",s.total_orders," purchase order(s). Deletion may not be allowed."]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 border border-slate-200 rounded shadow-sm hover:bg-slate-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:async()=>{await A.mutateAsync(s.id),h(!1),a(null)},disabled:A.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-rose-600 rounded shadow-sm hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?"Deleting...":"Delete"})]})]})})]})}const aR=()=>{var v;const[e,t]=T.useState([]),[n,s]=T.useState(null),[a,i]=T.useState({received_date:new Date().toISOString().split("T")[0],received_quantity:"",quality_status:"approved",notes:"",items:[]}),[o,d]=T.useState(!0),[h,u]=T.useState(!1);T.useEffect(()=>{x()},[]);const x=async()=>{try{const N=await he.get("/procurement/pos?status=sent&limit=50");t(N.data.purchaseOrders||[])}catch(N){console.error("Error fetching purchase orders:",N),ye.error("Failed to load purchase orders")}finally{d(!1)}},p=N=>{var j;s(N),i({...a,received_quantity:N.total_quantity||"",items:((j=N.items)==null?void 0:j.map(S=>({...S,received_quantity:0,quality_status:"approved"})))||[]})},b=async()=>{if(!n){ye.error("Please select a purchase order");return}if(!a.received_date){ye.error("Please select received date");return}u(!0);try{const N={po_id:n.id,...a,received_quantity:parseFloat(a.received_quantity)||0};await he.post("/procurement/goods-receipt",N),await he.patch(`/procurement/pos/${n.id}/status`,{status:"received"}),ye.success("Goods receipt recorded successfully"),s(null),i({received_date:new Date().toISOString().split("T")[0],received_quantity:"",quality_status:"approved",notes:"",items:[]}),x()}catch(N){console.error("Error recording goods receipt:",N),ye.error("Failed to record goods receipt")}finally{u(!1)}},_=N=>({sent:"bg-blue-100 text-blue-800",partial_received:"bg-yellow-100 text-yellow-800",received:"bg-green-100 text-green-800",completed:"bg-emerald-100 text-emerald-800"})[N]||"bg-gray-100 text-gray-800";return o?r.jsx("div",{className:"flex justify-center items-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Goods Receipt"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Record material receipts from vendors"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(FaClipboardList,{className:"w-5 h-5"}),"Purchase Orders Ready for Receipt"]})}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:e.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(FaClipboardList,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No purchase orders ready for receipt"})]}):r.jsx("div",{className:"space-y-3",children:e.map(N=>{var j,S,C;return r.jsxs("div",{onClick:()=>p(N),className:`p-4 border rounded-lg cursor-pointer transition-colors ${(n==null?void 0:n.id)===N.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:N.po_number}),r.jsx("p",{className:"text-sm text-gray-600",children:(j=N.vendor)==null?void 0:j.name})]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_(N.status)}`,children:(S=N.status)==null?void 0:S.replace("_"," ")})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsxs("p",{children:["Expected: ",new Date(N.expected_delivery_date).toLocaleDateString()]}),r.jsxs("p",{children:["Qty: ",N.total_quantity," | Amount: ₹",(C=N.final_amount)==null?void 0:C.toLocaleString()]})]})]},N.id)})})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(FaTruck,{className:"w-5 h-5"}),"Record Goods Receipt"]})}),r.jsx("div",{className:"p-4",children:n?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"PO Details"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"PO:"})," ",n.po_number]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Vendor:"})," ",(v=n.vendor)==null?void 0:v.name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Expected Qty:"})," ",n.total_quantity]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date *"}),r.jsx("input",{type:"date",value:a.received_date,onChange:N=>i({...a,received_date:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Quantity *"}),r.jsx("input",{type:"number",value:a.received_quantity,onChange:N=>i({...a,received_quantity:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter received quantity",min:"0",step:"0.01",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality Status"}),r.jsxs("select",{value:a.quality_status,onChange:N=>i({...a,quality_status:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"pending_qc",children:"Pending Quality Check"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:a.notes,onChange:N=>i({...a,notes:N.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Additional notes about the receipt..."})]}),r.jsxs("button",{onClick:b,disabled:h,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(FaCheckCircle,{className:"w-4 h-4"}),h?"Recording...":"Record Goods Receipt"]})]})]}):r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(FaTruck,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),r.jsx("p",{className:"text-lg font-medium",children:"Select a Purchase Order"}),r.jsx("p",{className:"text-sm",children:"Choose a purchase order from the list to record goods receipt"})]})})]})]})]})},iR=()=>{var j,S,C;const[e,t]=T.useState([]),[n,s]=T.useState(null),[a,i]=T.useState(null),[o,d]=T.useState(!0),[h,u]=T.useState("last_30_days");T.useEffect(()=>{x()},[]),T.useEffect(()=>{n&&p(n.id)},[n,h]);const x=async()=>{try{const A=await he.get("/procurement/vendors?limit=100");t(A.data.vendors||[])}catch(A){console.error("Error fetching vendors:",A),ye.error("Failed to load vendors")}finally{d(!1)}},p=async A=>{try{const E=await he.get(`/procurement/vendors/${A}/performance?period=${h}`);i(E.data)}catch(E){console.error("Error fetching vendor performance:",E),ye.error("Failed to load vendor performance data")}},b=A=>A>=4.5?"text-green-600":A>=3.5?"text-yellow-600":A>=2.5?"text-orange-600":"text-red-600",_=A=>A>=4.5?"bg-green-100":A>=3.5?"bg-yellow-100":A>=2.5?"bg-orange-100":"bg-red-100",v=A=>A!=null&&A.total_orders?(A.on_time_deliveries/A.total_orders*100).toFixed(1):0,N=A=>A!=null&&A.total_orders?(A.quality_approved/A.total_orders*100).toFixed(1):0;return o?r.jsx("div",{className:"flex justify-center items-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vendor Performance"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and analyze vendor performance metrics"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("select",{value:h,onChange:A=>u(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),r.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),r.jsx("option",{value:"last_90_days",children:"Last 90 Days"}),r.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),r.jsx("option",{value:"last_year",children:"Last Year"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vendors"})}),r.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:r.jsx("div",{className:"space-y-2",children:e.map(A=>r.jsx("div",{onClick:()=>s(A),className:`p-3 border rounded-lg cursor-pointer transition-colors ${(n==null?void 0:n.id)===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:A.name}),r.jsx("p",{className:"text-sm text-gray-600",children:A.vendor_code})]}),A.performance_rating&&r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${_(A.performance_rating)} ${b(A.performance_rating)}`,children:[r.jsx(tg,{className:"w-3 h-3"}),A.performance_rating.toFixed(1)]})]})},A.id))})})]}),r.jsx("div",{className:"lg:col-span-2",children:n&&a?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.name}),r.jsx("p",{className:"text-gray-600",children:n.vendor_code})]}),r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg ${_(a.overall_rating)}`,children:[r.jsx(tg,{className:`w-5 h-5 ${b(a.overall_rating)}`}),r.jsx("span",{className:`text-2xl font-bold ${b(a.overall_rating)}`,children:((j=a.overall_rating)==null?void 0:j.toFixed(1))||"N/A"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Za,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_orders||0})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Cn,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"On-Time Delivery"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[v(a),"%"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(Ut,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Quality Approved"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[N(a),"%"]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Details"})}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Delivery Performance"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"On-time deliveries"}),r.jsx("span",{className:"text-sm font-medium",children:a.on_time_deliveries||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Delayed deliveries"}),r.jsx("span",{className:"text-sm font-medium",children:a.delayed_deliveries||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Average delay (days)"}),r.jsx("span",{className:"text-sm font-medium",children:((S=a.avg_delay_days)==null?void 0:S.toFixed(1))||"N/A"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quality Performance"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Approved items"}),r.jsx("span",{className:"text-sm font-medium",children:a.quality_approved||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Rejected items"}),r.jsx("span",{className:"text-sm font-medium",children:a.quality_rejected||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Pending QC"}),r.jsx("span",{className:"text-sm font-medium",children:a.quality_pending||0})]})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),r.jsx("div",{className:"p-4",children:((C=a.recent_orders)==null?void 0:C.length)>0?r.jsx("div",{className:"space-y-3",children:a.recent_orders.map(A=>{var E,k;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:A.po_number}),r.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(A.po_date).toLocaleDateString()," • ₹",(E=A.final_amount)==null?void 0:E.toLocaleString()]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs rounded-full ${A.status==="completed"?"bg-green-100 text-green-800":A.status==="received"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:(k=A.status)==null?void 0:k.replace("_"," ")}),A.delivery_date&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Expected: ",new Date(A.delivery_date).toLocaleDateString()]})]})]},A.id)})}):r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent orders found"})})]})]}):r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(wj,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Vendor"}),r.jsx("p",{children:"Choose a vendor from the list to view their performance metrics"})]})})})]})]})},y_e=()=>{const e=_t(),[t,n]=T.useState(0),s=[{id:0,label:"Vendor Details",icon:Ka,component:sR},{id:1,label:"Goods Receipt",icon:Ji,component:aR},{id:2,label:"Vendor Performance",icon:tg,component:iR}],a=s[t].component;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[r.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>e("/procurement/dashboard"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Back to Dashboard",children:r.jsx(l7,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Vendor Management"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage vendors, track receipts, and monitor performance"})]})]})})}),r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsx("nav",{className:"flex space-x-8 border-b border-gray-200 -mb-px",children:s.map(i=>{const o=i.icon;return r.jsxs("button",{onClick:()=>n(i.id),className:`
                    group inline-flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors
                    ${t===i.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                  `,children:[r.jsx(o,{className:`w-5 h-5 ${t===i.id?"text-blue-600":"text-gray-400 group-hover:text-gray-500"}`}),i.label]},i.id)})})})]}),r.jsx("div",{className:"transition-all duration-200",children:r.jsx(a,{})})]})},b_e=()=>{const[e,t]=T.useState("thisMonth"),[n,s]=T.useState("summary"),a={totalPurchases:185e4,totalOrders:89,activeVendors:25,avgOrderValue:20787},i=({title:o,value:d,icon:h,color:u="primary"})=>r.jsxs("div",{className:`rounded-lg shadow bg-white p-4 flex items-center justify-between border-t-4 ${u==="success"?"border-green-500":u==="primary"?"border-blue-500":u==="info"?"border-cyan-500":u==="warning"?"border-yellow-500":"border-gray-300"}`,children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:o}),r.jsx("div",{className:"text-2xl font-bold",children:d})]}),r.jsx("div",{className:"text-gray-400",children:h})]});return r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Procurement Reports"}),r.jsx("div",{className:"bg-white rounded shadow p-6 mb-8",children:r.jsxs("form",{className:"flex flex-col md:flex-row md:items-end gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex-1 min-w-[180px]",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:e,onChange:o=>t(o.target.value),children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"thisWeek",children:"This Week"}),r.jsx("option",{value:"thisMonth",children:"This Month"}),r.jsx("option",{value:"lastMonth",children:"Last Month"}),r.jsx("option",{value:"thisQuarter",children:"This Quarter"}),r.jsx("option",{value:"thisYear",children:"This Year"}),r.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r.jsxs("div",{className:"flex-1 min-w-[180px]",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:o=>s(o.target.value),children:[r.jsx("option",{value:"summary",children:"Summary"}),r.jsx("option",{value:"detailed",children:"Detailed"}),r.jsx("option",{value:"vendor",children:"By Vendor"}),r.jsx("option",{value:"category",children:"By Category"}),r.jsx("option",{value:"cost",children:"Cost Analysis"})]})]}),e==="custom"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 min-w-[120px]",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex-1 min-w-[120px]",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"flex-1 min-w-[120px] flex items-end",children:r.jsx("button",{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded shadow transition",children:"Generate Report"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(i,{title:"Total Purchases",value:`₹${a.totalPurchases.toLocaleString()}`,icon:r.jsx(Cu,{className:"w-8 h-8 text-green-500"}),color:"success"}),r.jsx(i,{title:"Purchase Orders",value:a.totalOrders,icon:r.jsx(Za,{className:"w-8 h-8 text-blue-500"}),color:"primary"}),r.jsx(i,{title:"Active Vendors",value:a.activeVendors,icon:r.jsx(Ka,{className:"w-8 h-8 text-cyan-500"}),color:"info"}),r.jsx(i,{title:"Avg Order Value",value:`₹${a.avgOrderValue.toLocaleString()}`,icon:r.jsx(Oo,{className:"w-8 h-8 text-yellow-500"}),color:"warning"})]}),r.jsxs("div",{className:"bg-white rounded shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Procurement Trend Chart"}),r.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 border-2 border-dashed border-gray-300 rounded",children:r.jsx("span",{className:"text-gray-400",children:"Chart will be implemented here"})})]})]})},v_e=()=>{const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState(!0),[i,o]=T.useState(null),[d,h]=T.useState(!1),[u,x]=T.useState({total:0,totalValue:0,urgent:0});T.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const C=await he.get("/procurement/pos",{params:{status:"pending_approval"}}),A=C.data.purchaseOrders||C.data.pos||[];n(A);const E=A.reduce((D,R)=>D+(parseFloat(R.final_amount)||0),0),k=A.filter(D=>D.priority==="high"||D.priority==="urgent").length;x({total:A.length,totalValue:E,urgent:k})}catch(C){console.error("Error fetching pending approvals:",C)}finally{a(!1)}},b=C=>{o(C),h(!0)},_=async C=>{const A=prompt("Enter rejection reason:");if(A)try{await he.patch(`/procurement/pos/${C}`,{status:"rejected",approval_decision_note:A}),alert("Purchase Order rejected successfully"),p()}catch(E){console.error("Error rejecting PO:",E),alert("Failed to reject PO")}},v=C=>{e(`/procurement/purchase-orders/${C}`)},N=C=>{const A={urgent:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"};return A[C]||A.medium},j=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(C||0),S=C=>C?new Date(C).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-";return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pending Approvals"}),r.jsx("p",{className:"text-gray-600",children:"Review and approve purchase orders waiting for authorization"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Orders"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.total})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(kr,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Value"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(u.totalValue)})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Fi,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Urgent Priority"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.urgent})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(Cr,{className:"w-6 h-6 text-red-600"})})]})})]}),t.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ut,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"All Caught Up! 🎉"}),r.jsx("p",{className:"text-gray-600",children:"No purchase orders pending approval at the moment."})]}):r.jsx("div",{className:"space-y-4",children:t.map(C=>{var A,E,k;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:C.po_number||`PO-${C.id}`}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${N(C.priority)}`,children:(C.priority||"medium").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Iq,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:((A=C.vendor)==null?void 0:A.name)||"Unknown Vendor"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(zl,{className:"w-4 h-4"}),r.jsx("span",{className:"truncate",children:((E=C.customer)==null?void 0:E.name)||C.client_name||"N/A"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Oa,{className:"w-4 h-4"}),r.jsxs("span",{children:["Expected: ",S(C.expected_delivery_date)]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Wt,{className:"w-4 h-4"}),r.jsxs("span",{children:[((k=C.items)==null?void 0:k.length)||0," items"]})]})]}),C.project_name&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Project:"})," ",C.project_name]})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(C.final_amount)})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>v(C.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(Kr,{className:"w-4 h-4"}),"View Details"]}),r.jsxs("button",{onClick:()=>b(C),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Approve Order"]}),r.jsxs("button",{onClick:()=>_(C.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(u7,{className:"w-4 h-4"}),"Reject"]})]})]},C.id)})}),d&&i&&r.jsx(j_e,{po:i,onClose:()=>{h(!1),o(null)},onSuccess:()=>{h(!1),o(null),p()}})]})},j_e=({po:e,onClose:t,onSuccess:n})=>{var h,u;_t();const[s,a]=T.useState(""),[i,o]=T.useState(!1),d=async()=>{var x,p;try{o(!0);const b=await he.post(`/procurement/pos/${e.id}/approve`,{notes:s||`Approved via Pending Approvals on ${new Date().toLocaleDateString()}`});alert("✅ Purchase Order approved and automatically sent to vendor! When materials arrive, create a GRN for quality verification."),n()}catch(b){console.error("Error approving PO:",b),alert(`❌ Error: ${((p=(x=b.response)==null?void 0:x.data)==null?void 0:p.message)||"Failed to approve PO"}`)}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-green-50 to-blue-50 px-6 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Approve Purchase Order"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["PO: ",e.po_number||`PO-${e.id}`," • ",(h=e.vendor)==null?void 0:h.name]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Order Items"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 max-h-60 overflow-y-auto",children:(u=e.items)==null?void 0:u.map((x,p)=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 last:border-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.fabric_name||x.item_name||x.description||"Unnamed Item"}),r.jsxs("p",{className:"text-xs text-gray-600",children:[x.color&&`Color: ${x.color} • `,x.gsm&&`GSM: ${x.gsm} • `,"Qty: ",x.quantity," ",x.uom]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["₹",(parseFloat(x.total)||0).toLocaleString("en-IN")]})})]},p))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Notes (Optional)"}),r.jsx("textarea",{value:s,onChange:x=>a(x.target.value),placeholder:"Add any notes about this approval...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-6 border-l-4 border-blue-600",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Tm,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-900",children:[r.jsx("p",{className:"font-semibold mb-2",children:"🔄 Automated Workflow - What happens when you approve:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1.5 text-blue-800",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"✅ Instant:"}),' PO automatically sent to vendor (status: "Sent")']}),r.jsxs("li",{children:[r.jsx("strong",{children:"📦 When materials arrive:"})," Store team creates GRN (Goods Receipt Note)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"🔍 Quality Check:"})," GRN verified for quantity, weight, and quality"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"💾 Final Step:"})," Verified materials added to inventory"]})]}),r.jsxs("p",{className:"mt-3 px-3 py-2 bg-white/70 rounded text-xs text-blue-800 font-medium border border-blue-200",children:["💡 ",r.jsx("strong",{children:"Note:"})," Materials will NOT be added to inventory immediately. They'll be added only after GRN quality verification is complete."]})]})]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:t,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:d,disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Approving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),"Approve Purchase Order"]})})]})]})]})})},w_e=()=>{const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState([]),[i,o]=T.useState(!0),[d,h]=T.useState(""),[u,x]=T.useState("all"),[p,b]=T.useState("all"),[_,v]=T.useState(!1),[N,j]=T.useState(null);T.useEffect(()=>{S()},[]),T.useEffect(()=>{C()},[t,d,u,p]);const S=async()=>{try{o(!0);const M=await he.get("/challans");n(M.data.challans||[])}catch(M){console.error("Failed to fetch challans:",M),ye.error("Failed to load challans")}finally{o(!1)}},C=()=>{let M=[...t];d&&(M=M.filter(z=>{var I,L,$,W;return((I=z.challan_number)==null?void 0:I.toLowerCase().includes(d.toLowerCase()))||((L=z.party_name)==null?void 0:L.toLowerCase().includes(d.toLowerCase()))||(($=z.location_from)==null?void 0:$.toLowerCase().includes(d.toLowerCase()))||((W=z.location_to)==null?void 0:W.toLowerCase().includes(d.toLowerCase()))})),u&&u!=="all"&&(M=M.filter(z=>z.status===u)),p&&p!=="all"&&(M=M.filter(z=>z.type===p)),a(M)},A=async M=>{var z,I;if(window.confirm(`Are you sure you want to delete challan ${M.challan_number}?`))try{await he.delete(`/challans/${M.id}`),ye.success("Challan deleted successfully"),S()}catch(L){ye.error(((I=(z=L.response)==null?void 0:z.data)==null?void 0:I.message)||"Failed to delete challan")}},E=M=>{ye.success(`Printing challan ${M.challan_number}`)},k=M=>{const z={draft:{color:"bg-gray-100 text-gray-700",label:"Draft"},pending:{color:"bg-yellow-100 text-yellow-700",label:"Pending"},approved:{color:"bg-green-100 text-green-700",label:"Approved"},rejected:{color:"bg-red-100 text-red-700",label:"Rejected"},completed:{color:"bg-blue-100 text-blue-700",label:"Completed"},cancelled:{color:"bg-red-100 text-red-700",label:"Cancelled"}},I=z[M]||z.draft;return r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${I.color}`,children:I.label})},D=M=>{const z={inward:{color:"bg-green-50 text-green-600",icon:Nc,label:"Inward"},outward:{color:"bg-blue-50 text-blue-600",icon:up,label:"Outward"},dispatch:{color:"bg-purple-50 text-purple-600",icon:Bn,label:"Dispatch"},receipt:{color:"bg-teal-50 text-teal-600",icon:Nc,label:"Receipt"},internal_transfer:{color:"bg-orange-50 text-orange-600",icon:up,label:"Internal Transfer"},sample_outward:{color:"bg-indigo-50 text-indigo-600",icon:up,label:"Sample Outward"},sample_inward:{color:"bg-cyan-50 text-cyan-600",icon:Nc,label:"Sample Inward"},return:{color:"bg-yellow-50 text-yellow-600",icon:Nc,label:"Return"}},I=z[M]||z.outward,L=I.icon;return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${I.color}`,children:[r.jsx(L,{className:"text-xs"}),I.label]})},R=M=>{const z={sales:"Sales",purchase:"Purchase",production:"Production",outsourcing:"Outsourcing",store_issue:"Store Issue",store_return:"Store Return",sample:"Sample",waste:"Waste",adjustment:"Adjustment"};return r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:z[M]||M})},F=M=>M?new Date(M).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A";return r.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Challan Register"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track all challans"})]}),r.jsxs("button",{onClick:()=>e("/challans/create"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Br,{}),"Create Challan"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Total Challans"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),r.jsx(Pf,{className:"text-3xl text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.filter(M=>M.status==="pending").length})]}),r.jsx(as,{className:"text-3xl text-yellow-600"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Approved"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(M=>M.status==="approved").length})]}),r.jsx(Ii,{className:"text-3xl text-green-600"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(M=>M.status==="completed").length})]}),r.jsx(Bn,{className:"text-3xl text-blue-600"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by challan number, party name, location...",value:d,onChange:M=>h(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{onClick:()=>v(!_),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${_?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Qy,{}),"Filters",r.jsx(Vc,{className:`transition-transform ${_?"rotate-180":""}`})]})]}),_&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:u,onChange:M=>x(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),r.jsxs("select",{value:p,onChange:M=>b(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"inward",children:"Inward"}),r.jsx("option",{value:"outward",children:"Outward"}),r.jsx("option",{value:"dispatch",children:"Dispatch"}),r.jsx("option",{value:"receipt",children:"Receipt"}),r.jsx("option",{value:"internal_transfer",children:"Internal Transfer"}),r.jsx("option",{value:"sample_outward",children:"Sample Outward"}),r.jsx("option",{value:"sample_inward",children:"Sample Inward"}),r.jsx("option",{value:"return",children:"Return"})]})]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Challan Number"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sub Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Party Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From → To"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex justify-center items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading challans..."})]})})}):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-gray-500",children:"No challans found"})}):s.map(M=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-blue-600",children:M.challan_number}),M.order_number&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Order: ",M.order_number]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D(M.type)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R(M.sub_type)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:M.party_name||"N/A"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:M.location_from||"N/A"}),r.jsx("span",{className:"text-gray-400 mx-1",children:"→"}),r.jsx("span",{className:"font-medium",children:M.location_to||"N/A"})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:F(M.challan_date)}),M.expected_date&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Expected: ",F(M.expected_date)]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(M.status)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>e(`/challans/${M.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"View Details",children:r.jsx(cs,{})}),r.jsx("button",{onClick:()=>e(`/challans/edit/${M.id}`),className:"p-2 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Edit",children:r.jsx(Aa,{})}),r.jsx("button",{onClick:()=>E(M),className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-colors",title:"Print",children:r.jsx(Lh,{})}),r.jsx("button",{onClick:()=>A(M),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:r.jsx(Es,{})})]})})]},M.id))})]})})}),r.jsxs("div",{className:"mt-4 text-center text-gray-600 text-sm",children:["Showing ",s.length," of ",t.length," challans"]})]})},N_e=()=>{const e=_t(),[t]=Ly(),n=t.get("order_id"),[s,a]=T.useState(!1),[i,o]=T.useState(null),[d,h]=T.useState({type:"outward",sub_type:"sales",order_id:n||"",order_type:n?"sales_order":"",customer_id:"",partyName:"",partyAddress:"",challanDate:new Date().toISOString().split("T")[0],expected_date:"",location_from:"Warehouse",location_to:"",transport_details:"",notes:""}),[u,x]=T.useState([{id:1,product_id:"",product_type:"",description:"",quantity:0,unit:"pcs",rate:0,remarks:""}]);T.useEffect(()=>{n&&p(n)},[n]);const p=async A=>{try{a(!0);const k=(await he.get(`/sales/orders/${A}`)).data.order;if(o(k),h(D=>{var R,F,M;return{...D,order_id:A,order_type:"sales",customer_id:k.customer_id,partyName:((R=k.customer)==null?void 0:R.name)||"",partyAddress:((F=k.customer)==null?void 0:F.address)||"",location_to:((M=k.customer)==null?void 0:M.address)||"",expected_date:k.delivery_date||"",notes:`Delivery for Sales Order: ${k.order_number}`}}),k.items&&k.items.length>0){const D=k.items.map((R,F)=>({id:F+1,product_id:R.product_id||"",product_type:R.product_type||"",description:R.description||R.product_type||"",quantity:R.quantity||0,unit:R.unit||"pcs",rate:R.rate||0,remarks:R.specifications||""}));x(D)}ye.success("Sales order data loaded successfully")}catch(E){console.error("Failed to fetch sales order:",E),ye.error("Failed to load sales order data")}finally{a(!1)}},b=(A,E)=>{h(k=>({...k,[A]:E}))},_=(A,E,k)=>{const D=[...u];D[A][E]=k,x(D)},v=()=>{x([...u,{id:Date.now(),product_id:"",product_type:"",description:"",quantity:0,unit:"pcs",rate:0,remarks:""}])},N=A=>{u.length>1&&x(u.filter((E,k)=>k!==A))},j=async A=>{var E,k;A.preventDefault();try{a(!0);const D=u.map(M=>({product_id:M.product_id||void 0,product_type:M.product_type,description:M.description,quantity:parseFloat(M.quantity)||0,unit:M.unit,rate:parseFloat(M.rate)||0,remarks:M.remarks})),R={type:d.type,sub_type:d.sub_type,order_id:d.order_id||void 0,order_type:d.order_type||void 0,customer_id:d.customer_id||void 0,items:D,notes:d.notes,expected_date:d.expected_date||void 0,location_from:d.location_from,location_to:d.location_to,transport_details:d.transport_details||void 0,priority:"medium"},F=await he.post("/challans",R);ye.success(`Challan ${F.data.challan.challan_number} created successfully!`),e("/challans/register")}catch(D){console.error("Challan creation error:",D),ye.error(((k=(E=D.response)==null?void 0:E.data)==null?void 0:k.message)||"Failed to create challan")}finally{a(!1)}},S=u.reduce((A,E)=>A+(parseFloat(E.quantity)||0),0),C=u.reduce((A,E)=>A+(parseFloat(E.quantity)||0)*(parseFloat(E.rate)||0),0);return s&&!i?r.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):r.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>e("/challans/register"),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:r.jsx(Fl,{className:"text-xl text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Create Challan"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new delivery challan"})]})]}),i&&r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx(Di,{className:"text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["From SO: ",i.order_number]})]})]}),i&&r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Di,{className:"text-blue-500 mt-0.5 mr-3"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-700",children:["Creating challan for Sales Order ",r.jsx("strong",{children:i.order_number}),i.customer&&` - Customer: ${i.customer.name}`]})})]})}),r.jsxs("form",{onSubmit:j,children:[r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Bl,{className:"text-blue-600"}),"Challan Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Challan Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:d.type,onChange:A=>b("type",A.target.value),disabled:!!n,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100",children:[r.jsx("option",{value:"inward",children:"Inward"}),r.jsx("option",{value:"outward",children:"Outward"}),r.jsx("option",{value:"dispatch",children:"Dispatch"}),r.jsx("option",{value:"receipt",children:"Receipt"}),r.jsx("option",{value:"internal_transfer",children:"Internal Transfer"}),r.jsx("option",{value:"sample_outward",children:"Sample Outward"}),r.jsx("option",{value:"sample_inward",children:"Sample Inward"}),r.jsx("option",{value:"return",children:"Return"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Sub Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:d.sub_type,onChange:A=>b("sub_type",A.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"sales",children:"Sales"}),r.jsx("option",{value:"purchase",children:"Purchase"}),r.jsx("option",{value:"production",children:"Production"}),r.jsx("option",{value:"outsourcing",children:"Outsourcing"}),r.jsx("option",{value:"store_issue",children:"Store Issue"}),r.jsx("option",{value:"store_return",children:"Store Return"}),r.jsx("option",{value:"sample",children:"Sample"}),r.jsx("option",{value:"waste",children:"Waste"}),r.jsx("option",{value:"adjustment",children:"Adjustment"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Party Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.partyName,onChange:A=>b("partyName",A.target.value),required:!0,readOnly:!!i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent read-only:bg-gray-100"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Challan Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:d.challanDate,onChange:A=>b("challanDate",A.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Party Address"}),r.jsx("textarea",{value:d.partyAddress,onChange:A=>b("partyAddress",A.target.value),rows:"2",readOnly:!!i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent read-only:bg-gray-100"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Bn,{className:"text-blue-600"}),"Shipment Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["From Location ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.location_from,onChange:A=>b("location_from",A.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["To Location ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.location_to,onChange:A=>b("location_to",A.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Delivery Date"}),r.jsx("input",{type:"date",value:d.expected_date,onChange:A=>b("expected_date",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Details"}),r.jsx("input",{type:"text",value:d.transport_details,onChange:A=>b("transport_details",A.target.value),placeholder:"e.g., Truck No., Driver Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Bl,{className:"text-blue-600"}),"Items"]}),r.jsxs("button",{type:"button",onClick:v,disabled:!!i,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[r.jsx(Br,{}),"Add Item"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Unit"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rate"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remarks"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((A,E)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"text",value:A.product_type,onChange:k=>_(E,"product_type",k.target.value),placeholder:"Product type",readOnly:!!i,className:"w-32 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm read-only:bg-gray-100"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"text",value:A.description,onChange:k=>_(E,"description",k.target.value),placeholder:"Item description",readOnly:!!i,className:"w-48 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm read-only:bg-gray-100"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"number",value:A.quantity,onChange:k=>_(E,"quantity",k.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("select",{value:A.unit,onChange:k=>_(E,"unit",k.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"pcs",children:"Pcs"}),r.jsx("option",{value:"kg",children:"Kg"}),r.jsx("option",{value:"meter",children:"Meter"}),r.jsx("option",{value:"yard",children:"Yard"}),r.jsx("option",{value:"box",children:"Box"})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"number",step:"0.01",value:A.rate,onChange:k=>_(E,"rate",k.target.value),readOnly:!!i,className:"w-24 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm read-only:bg-gray-100"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["₹",((parseFloat(A.quantity)||0)*(parseFloat(A.rate)||0)).toFixed(2)]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"text",value:A.remarks,onChange:k=>_(E,"remarks",k.target.value),placeholder:"Remarks",className:"w-32 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{type:"button",onClick:()=>N(E),disabled:u.length===1||!!i,className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors disabled:text-gray-400 disabled:cursor-not-allowed",children:r.jsx(Es,{})})})]},A.id))})]})}),r.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end gap-8",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:S})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₹",C.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{value:d.notes,onChange:A=>b("notes",A.target.value),rows:"4",placeholder:"Additional notes or instructions...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>e("/challans/register"),disabled:s,className:"flex items-center gap-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed",children:[r.jsx(s7,{}),"Cancel"]}),r.jsx("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(tf,{}),"Create Challan"]})})]})]})]})},__e=()=>{const[e,t]=T.useState(0),[n,s]=T.useState([]),[a,i]=T.useState(""),[o,d]=T.useState(!0),[h,u]=T.useState(!1),[x,p]=T.useState(!1),[b,_]=T.useState("edit"),[v,N]=T.useState(null);T.useEffect(()=>{j()},[]);const j=async()=>{try{d(!0);const M={},I=((await(await Ml(async()=>{const{default:L}=await Promise.resolve().then(()=>Pl);return{default:L}},void 0)).default.get("/inventory/stock",{params:M})).data.inventory||[]).map(L=>{var $,W,U;return{id:L.id,itemName:(($=L.product)==null?void 0:$.name)||`Inventory Item #${L.id}`,category:((W=L.product)==null?void 0:W.category)||"Uncategorized",currentStock:L.current_stock,minStock:L.minimum_level??L.reorder_level??0,maxStock:L.maximum_level??(L.reorder_level?L.reorder_level*3:100),unit:((U=L.product)==null?void 0:U.unit_of_measurement)||"Units",location:L.location||"Unknown",lastUpdated:L.updated_at}});s(I)}catch(M){console.error("Error fetching stocks:",M)}finally{d(!1)}},S=(M,z,I)=>M<=z?{status:"Low Stock",color:"error"}:M>=I?{status:"Overstock",color:"warning"}:{status:"Normal",color:"success"},C=n.filter(M=>{var z,I,L;return((z=M.itemName)==null?void 0:z.toLowerCase().includes(a.toLowerCase()))||((I=M.category)==null?void 0:I.toLowerCase().includes(a.toLowerCase()))||((L=M.location)==null?void 0:L.toLowerCase().includes(a.toLowerCase()))}),A=n.filter(M=>M.currentStock<=M.minStock),E=n.filter(M=>M.currentStock>=M.maxStock),[k,D]=T.useState({product_id:"",location:"",current_stock:0,unit_cost:0});if(o)return r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("p",{children:"Loading..."})});const R=async M=>{try{await(await Ml(async()=>{const{default:I}=await Promise.resolve().then(()=>Pl);return{default:I}},void 0)).default.post("/inventory/stock",M),u(!1),j()}catch(z){console.error("Create stock failed",z)}},F=async M=>{try{const z=(await Ml(async()=>{const{default:L}=await Promise.resolve().then(()=>Pl);return{default:L}},void 0)).default;let I={...M};if(v&&(b==="add"||b==="remove")){const L=Number(M.current_stock)-Number(v.currentStock),$=b==="add"?Number(v.currentStock)+Math.abs(L||0):Number(v.currentStock)-Math.abs(L||0);I.current_stock=$}await z.put(`/inventory/stock/${v.id}`,I),p(!1),N(null),j()}catch(z){console.error("Adjust stock failed",z)}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Stock Management"}),r.jsxs("button",{className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>u(!0),children:[r.jsx(ln,{size:18}),"Add Stock"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Items"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),r.jsx(Wt,{className:"text-blue-600",size:32})]})}),r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Low Stock Items"}),r.jsx("p",{className:"text-3xl font-bold text-red-600",children:A.length})]}),r.jsx(pn,{className:"text-red-600",size:32})]})}),r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Overstock Items"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:E.length})]}),r.jsx(pn,{className:"text-yellow-600",size:32})]})}),r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Normal Stock"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.length-A.length-E.length})]}),r.jsx(Wt,{className:"text-green-600",size:32})]})})]}),r.jsx("div",{className:"bg-white  shadow border mb-6",children:r.jsxs("div",{className:"flex border-b",children:[r.jsx("button",{className:`px-4 py-3 text-sm font-medium ${e===0?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t(0),children:"All Stock"}),r.jsx("button",{className:`px-4 py-3 text-sm font-medium ${e===1?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t(1),children:"Low Stock"}),r.jsx("button",{className:`px-4 py-3 text-sm font-medium ${e===2?"border-b-2 border-blue-500 text-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>t(2),children:"Overstock"})]})}),r.jsx("div",{className:"bg-white  shadow border mb-6 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search stock items...",value:a,onChange:M=>i(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Stock"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Max Stock"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:C.map(M=>{const z=S(M.currentStock,M.minStock,M.maxStock);return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.itemName}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-500",children:M.category}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.currentStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.minStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.maxStock}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-500",children:M.unit}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs text-gray-500",children:M.location}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z.color==="error"?"bg-red-100 text-red-800":z.color==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:z.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-50 rounded",onClick:()=>{N(M),_("add"),p(!0)},children:r.jsx(ln,{size:16})}),r.jsx("button",{className:"p-1 text-red-600 hover:bg-red-50 rounded",onClick:()=>{N(M),_("remove"),p(!0)},children:r.jsx(wH,{size:16})}),r.jsx("button",{className:"p-1 text-gray-600 hover:bg-gray-50 rounded",onClick:()=>{N(M),_("edit"),p(!0)},children:r.jsx(Bi,{size:16})})]})})]},M.id)})})]})}),h&&r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New Stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product ID"}),r.jsx("input",{type:"text",value:k.product_id,onChange:M=>D({...k,product_id:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",value:k.location,onChange:M=>D({...k,location:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qty"}),r.jsx("input",{type:"number",value:k.current_stock,onChange:M=>D({...k,current_stock:Number(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Cost"}),r.jsx("input",{type:"number",step:"0.01",value:k.unit_cost,onChange:M=>D({...k,unit_cost:Number(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>u(!1),className:"px-4 py-1 text-sm font-medium text-white bg-gray-700 border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-gray-700 hover:text-gray-700 :bg-transparent flex gap-2 items-center",children:"Cancel"}),r.jsx("button",{onClick:()=>R(k),className:"px-4 py-1 text-sm font-medium text-white bg-secondary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",children:"Create"})]})]})}),x&&r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:b==="add"?"Increase Stock":b==="remove"?"Decrease Stock":"Edit Stock"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),r.jsx("input",{type:"number",defaultValue:(v==null?void 0:v.currentStock)??0,onChange:M=>N({...v,currentStock:Number(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reserved Stock"}),r.jsx("input",{type:"number",defaultValue:(v==null?void 0:v.reserved_stock)??0,onChange:M=>N({...v,reserved_stock:Number(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Cost"}),r.jsx("input",{type:"number",step:"0.01",defaultValue:(v==null?void 0:v.unit_cost)??0,onChange:M=>N({...v,unit_cost:Number(M.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx("button",{onClick:()=>{p(!1),N(null)},className:"px-4 py-1 text-sm font-medium text-white bg-gray-700 border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-gray-700 hover:text-gray-700 :bg-transparent flex gap-2 items-center",children:"Cancel"}),r.jsx("button",{onClick:()=>F({current_stock:v==null?void 0:v.currentStock,unit_cost:v==null?void 0:v.unit_cost}),className:"px-4 py-1 text-sm font-medium text-white bg-secondary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",children:"Save"})]})]})})]})},S_e=[{label:"All Alerts",key:"all"},{label:"Out of Stock",key:"out_of_stock"},{label:"Low Stock",key:"low_stock"},{label:"Overstock",key:"overstock"}],C_e={out_of_stock:"⛔",low_stock:"⚠️",overstock:"ℹ️"},QE={out_of_stock:"bg-red-100 text-red-700 border-red-200",low_stock:"bg-yellow-100 text-yellow-700 border-yellow-200",overstock:"bg-blue-100 text-blue-700 border-blue-200",default:"bg-gray-100 text-gray-700 border-gray-200"},YE={critical:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-blue-100 text-blue-700 border-blue-200",default:"bg-gray-100 text-gray-700 border-gray-200"},A_e=[{key:"critical",title:"Critical Alerts",description:"Items that require immediate attention",bgClass:"bg-red-50 border border-red-100",textClass:"text-red-700"},{key:"high",title:"High Priority Alerts",description:"Items that need restocking soon",bgClass:"bg-orange-50 border border-orange-100",textClass:"text-orange-700"},{key:"medium",title:"Medium Priority Alerts",description:"Items with stock level issues",bgClass:"bg-blue-50 border border-blue-100",textClass:"text-blue-700"}],O_e=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),E_e=()=>{const[e,t]=T.useState("all"),[n,s]=T.useState([]),[a,i]=T.useState(!0);T.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const u=(await Ml(async()=>{const{default:N}=await Promise.resolve().then(()=>Pl);return{default:N}},void 0)).default,p=(await u.get("/inventory/alerts/low-stock")).data.lowStockItems||[],_=(await u.get("/inventory/stock")).data.inventory||[],v=[];p.forEach(N=>{var E,k;const j=N.current_stock||0,S=N.reorder_level||N.minimum_level||0;let C="low_stock",A="medium";j===0?(C="out_of_stock",A="critical"):j<=S*.25?A="critical":j<=S*.5&&(A="high"),v.push({id:N.id,itemName:((E=N.product)==null?void 0:E.name)||"Unknown Product",category:((k=N.product)==null?void 0:k.category)||"Unknown",currentStock:j,minStock:S,alertType:C,severity:A,lastUpdated:new Date(N.updated_at).toLocaleDateString(),location:N.location||"Unknown Location"})}),_.forEach(N=>{var C,A;const j=N.current_stock||0,S=N.maximum_level||N.reorder_level*3||0;S>0&&j>=S&&v.push({id:`overstock_${N.id}`,itemName:((C=N.product)==null?void 0:C.name)||"Unknown Product",category:((A=N.product)==null?void 0:A.category)||"Unknown",currentStock:j,minStock:N.reorder_level||N.minimum_level||0,maxStock:S,alertType:"overstock",severity:j>=S*1.5?"high":"medium",lastUpdated:new Date(N.updated_at).toLocaleDateString(),location:N.location||"Unknown Location"})}),s(v)}catch(u){console.error("Error fetching alerts:",u),s([])}finally{i(!1)}},d=()=>e==="all"?n:n.filter(u=>u.alertType===e),h={all:n.length,out_of_stock:n.filter(u=>u.alertType==="out_of_stock").length,low_stock:n.filter(u=>u.alertType==="low_stock").length,overstock:n.filter(u=>u.alertType==="overstock").length,critical:n.filter(u=>u.severity==="critical").length,high:n.filter(u=>u.severity==="high").length,medium:n.filter(u=>u.severity==="medium").length};return a?r.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:r.jsx("p",{className:"text-gray-600",children:"Loading alerts..."})}):r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Stock Alerts"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Monitor inventory levels and take action to avoid shortages."})]}),r.jsxs("button",{type:"button",onClick:o,className:"inline-flex items-center justify-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:border-gray-300 hover:bg-gray-50",children:[r.jsx("span",{className:"mr-2 text-lg","aria-hidden":!0,children:"🔄"}),"Refresh"]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:A_e.map(({key:u,title:x,description:p,bgClass:b,textClass:_})=>h[u]?r.jsxs("div",{className:`rounded-lg p-4 ${b}`,children:[r.jsx("h2",{className:`text-sm font-semibold uppercase ${_}`,children:x}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:p}),r.jsx("p",{className:"mt-4 text-3xl font-bold text-gray-900",children:h[u]})]},u):null)}),r.jsxs("div",{className:"overflow-x-auto rounded-lg border border-gray-200 bg-white",children:[r.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:S_e.map(u=>{const x=e===u.key;return r.jsxs("button",{type:"button",onClick:()=>t(u.key),className:`relative px-4 py-3 text-sm font-medium transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 ${x?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[u.label,r.jsxs("span",{className:"ml-2 text-xs font-semibold text-gray-400",children:["(",h[u.key]||0,")"]})]},u.key)})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Alert"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Item Name"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Category"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Current Stock"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Min/Max Stock"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Location"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Severity"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Last Updated"}),r.jsx("th",{className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:d().map(u=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg","aria-hidden":!0,children:C_e[u.alertType]||"⚠️"}),r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${QE[u.alertType]||QE.default}`,children:O_e(u.alertType)})]})}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:u.itemName}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:u.category}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:r.jsx("span",{className:u.currentStock===0?"font-semibold text-red-600":"text-gray-900",children:u.currentStock})}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[u.minStock,u.maxStock?` / ${u.maxStock}`:""]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:u.location}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold uppercase ${YE[u.severity]||YE.default}`,children:u.severity.toUpperCase()})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:u.lastUpdated}),r.jsx("td",{className:"px-4 py-3 text-sm",children:r.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-blue-100 bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-600 transition hover:border-blue-200 hover:bg-blue-100",children:[r.jsx("span",{className:"mr-2 text-base","aria-hidden":!0,children:"🛒"}),"Create PO"]})})]},u.id))})]})})]}),d().length===0&&r.jsxs("div",{className:"rounded-lg border border-dashed border-gray-300 bg-white p-10 text-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"No alerts found"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"All stock levels are currently within normal ranges."})]})]})},k_e=()=>{const[e,t]=T.useState("thisMonth"),[n,s]=T.useState("summary"),[a,i]=T.useState(!0),[o,d]=T.useState({totalItems:0,totalValue:0,lowStockItems:0,overstockItems:0});T.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const b=(await he.get("/inventory/stats")).data,N=((await he.get("/inventory/stock")).data.inventory||[]).filter(j=>{const S=j.current_stock||0,C=j.maximum_level||j.reorder_level*3||0;return C>0&&S>=C}).length;d({totalItems:b.totalItems||0,totalValue:b.totalValue||0,lowStockItems:b.lowStockItems||0,overstockItems:N})}catch(p){console.error("Error fetching inventory metrics:",p),ye.error("Failed to load inventory metrics")}finally{i(!1)}},u={primary:"text-blue-600",success:"text-green-600",error:"text-red-600",warning:"text-yellow-500"},x=({title:p,value:b,icon:_,color:v="primary"})=>r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:p}),r.jsx("div",{className:"text-2xl font-bold",children:b})]}),r.jsx("div",{className:u[v]+" text-3xl",children:_})]});return a?r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("p",{children:"Loading inventory reports..."})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Inventory Reports"}),r.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Refresh Data"})]}),r.jsx("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Range"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200",value:e,onChange:p=>t(p.target.value),children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"thisWeek",children:"This Week"}),r.jsx("option",{value:"thisMonth",children:"This Month"}),r.jsx("option",{value:"lastMonth",children:"Last Month"}),r.jsx("option",{value:"thisQuarter",children:"This Quarter"}),r.jsx("option",{value:"thisYear",children:"This Year"}),r.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200",value:n,onChange:p=>s(p.target.value),children:[r.jsx("option",{value:"summary",children:"Summary"}),r.jsx("option",{value:"detailed",children:"Detailed"}),r.jsx("option",{value:"category",children:"By Category"}),r.jsx("option",{value:"location",children:"By Location"}),r.jsx("option",{value:"valuation",children:"Stock Valuation"}),r.jsx("option",{value:"movement",children:"Stock Movement"})]})]}),e==="custom"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-blue-200"})]})]}),r.jsx("div",{children:r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Generate Report"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(x,{title:"Total Items",value:o.totalItems.toLocaleString(),icon:r.jsx(aq,{}),color:"primary"}),r.jsx(x,{title:"Total Value",value:`₹${o.totalValue.toLocaleString()}`,icon:r.jsx(Ni,{}),color:"success"}),r.jsx(x,{title:"Low Stock Items",value:o.lowStockItems,icon:r.jsx(Nc,{}),color:"error"}),r.jsx(x,{title:"Overstock Items",value:o.overstockItems,icon:r.jsx(up,{}),color:"warning"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Stock by Category"}),r.jsx("div",{className:"h-72 flex items-center justify-center bg-gray-50 border-2 border-dashed border-gray-300",children:r.jsx("span",{className:"text-gray-500",children:"Pie Chart will be implemented here"})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Stock Movement Trend"}),r.jsx("div",{className:"h-72 flex items-center justify-center bg-gray-50 border-2 border-dashed border-gray-300",children:r.jsx("span",{className:"text-gray-500",children:"Line Chart will be implemented here"})})]})]})]})},T_e=["fabric","thread","button","zipper","elastic","lace","uniform","shirt","trouser","skirt","blazer","tie","belt","shoes","socks","accessories","raw_material","finished_goods"],P_e=["raw_material","semi_finished","finished_goods","accessory"],I_e=["piece","meter","yard","kg","gram","liter","dozen","set"],D_e=["active","inactive","discontinued"];function M_e({open:e,onClose:t,onSubmit:n,initialValues:s}){const[a,i]=T.useState({product_code:"",name:"",description:"",category:"finished_goods",product_type:"finished_goods",unit_of_measurement:"piece",brand:"",color:"",size:"",cost_price:0,selling_price:0,mrp:0,tax_percentage:0,minimum_stock_level:0,maximum_stock_level:0,reorder_level:0,status:"active"}),[o,d]=T.useState(!1);T.useEffect(()=>{e&&i(s?{...s}:{product_code:"",name:"",description:"",category:"finished_goods",product_type:"finished_goods",unit_of_measurement:"piece",brand:"",color:"",size:"",cost_price:0,selling_price:0,mrp:0,tax_percentage:0,minimum_stock_level:0,maximum_stock_level:0,reorder_level:0,status:"active"})},[e,s]);const h=x=>{const{name:p,value:b,type:_}=x.target;i(v=>({...v,[p]:_==="number"?Number(b):b}))},u=async x=>{if(x.preventDefault(),!a.product_code.trim()){alert("Product Code is required");return}if(!a.name.trim()){alert("Product Name is required");return}d(!0);try{await n(a),t()}finally{d(!1)}};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-sm shadow-lg w-full max-w-3xl",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-xl font-semibold",children:s?"Edit Product":"New Product"})}),r.jsxs("form",{onSubmit:u,children:[r.jsxs("div",{className:"px-6 py-4 overflow-y-auto max-h-[70vh]",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"md:col-span-1",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Product Code ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{name:"product_code",value:a.product_code,onChange:h,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{name:"name",value:a.name,onChange:h,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx("textarea",{rows:2,name:"description",value:a.description,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"category",value:a.category,onChange:h,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",children:T_e.map(x=>r.jsx("option",{value:x,children:x},x))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Product Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"product_type",value:a.product_type,onChange:h,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",children:P_e.map(x=>r.jsx("option",{value:x,children:x},x))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Unit ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"unit_of_measurement",value:a.unit_of_measurement,onChange:h,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2",children:I_e.map(x=>r.jsx("option",{value:x,children:x},x))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Brand"}),r.jsx("input",{name:"brand",value:a.brand,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color"}),r.jsx("input",{name:"color",value:a.color,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Size"}),r.jsx("input",{name:"size",value:a.size,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cost Price"}),r.jsx("input",{type:"number",step:"0.01",name:"cost_price",value:a.cost_price,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Selling Price"}),r.jsx("input",{type:"number",step:"0.01",name:"selling_price",value:a.selling_price,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"MRP"}),r.jsx("input",{type:"number",step:"0.01",name:"mrp",value:a.mrp,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tax %"}),r.jsx("input",{type:"number",step:"0.01",name:"tax_percentage",value:a.tax_percentage,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Min Stock"}),r.jsx("input",{type:"number",name:"minimum_stock_level",value:a.minimum_stock_level,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Stock"}),r.jsx("input",{type:"number",name:"maximum_stock_level",value:a.maximum_stock_level,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reorder Level"}),r.jsx("input",{type:"number",name:"reorder_level",value:a.reorder_level,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsx("select",{name:"status",value:a.status,onChange:h,className:"w-full border border-gray-300 rounded px-3 py-2",children:D_e.map(x=>r.jsx("option",{value:x,children:x},x))})]})]}),((s==null?void 0:s.barcode)||a.barcode)&&r.jsxs("div",{className:"mt-6 border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Product Barcode"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(d1,{value:(s==null?void 0:s.barcode)||a.barcode}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Barcode: ",r.jsx("span",{className:"font-mono font-medium",children:(s==null?void 0:s.barcode)||a.barcode})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Scan this barcode to quickly access product information"})]})]})})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-2",children:[r.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300",onClick:t,disabled:o,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:o,children:s?"Save Changes":"Create"})]})]})]})}):null}const R_e={active:"bg-emerald-100 text-emerald-700",inactive:"bg-amber-100 text-amber-700",discontinued:"bg-rose-100 text-rose-700"};function L_e(e){if(!e)return"bg-slate-100 text-slate-600";const t=e.toLowerCase();return R_e[t]||"bg-slate-100 text-slate-600"}function $_e(){const e=Li(),[t,n]=T.useState([]),[s,a]=T.useState(""),[i,o]=T.useState(!1),[d,h]=T.useState(!1),[u,x]=T.useState(null);T.useEffect(()=>{const S=new URLSearchParams(e.search).get("search");S&&a(S)},[e]);const p=T.useCallback(async()=>{var j,S;o(!0);try{const{data:C}=await he.get("/products",{params:{search:s}});n(C.products||[])}catch(C){ye.error(((S=(j=C.response)==null?void 0:j.data)==null?void 0:S.message)||"Failed to load products")}finally{o(!1)}},[s]);T.useEffect(()=>{p()},[p]);const b=T.useMemo(()=>[{id:"product_code",label:"Code",className:"font-semibold text-slate-900"},{id:"name",label:"Product",render:j=>r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium text-slate-900",children:j.name||"—"}),r.jsx("span",{className:"text-xs text-slate-500",children:j.product_type||j.category||"No type specified"})]})},{id:"barcode",label:"Barcode",render:j=>r.jsx("span",{className:"font-mono text-xs text-slate-600",children:j.barcode||"—"})},{id:"category",label:"Category"},{id:"unit_of_measurement",label:"Unit",align:"center"},{id:"status",label:"Status",render:j=>r.jsx("span",{className:bt("inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium capitalize",L_e(j.status)),children:j.status||"unknown"})}],[]),_=async j=>{var S,C;try{await he.post("/products",j),ye.success("Product created"),h(!1),p()}catch(A){ye.error(((C=(S=A.response)==null?void 0:S.data)==null?void 0:C.message)||"Create failed")}},v=async j=>{var S,C;try{await he.put(`/products/${u.id}`,j),ye.success("Product updated"),h(!1),x(null),p()}catch(A){ye.error(((C=(S=A.response)==null?void 0:S.data)==null?void 0:C.message)||"Update failed")}},N=T.useCallback(j=>{j.preventDefault(),p()},[p]);return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx(nR,{title:"Products",description:"Manage catalog items, types, and availability.",columns:b,rows:t,loading:i,emptyMessage:"No products found. Adjust your filters or create a new product.",headerActions:r.jsxs("button",{type:"button",className:"px-4 py-1 text-sm font-medium text-white bg-primary border border-transparent rounded shadow cursor-pointer select-none transition ease-in-out duration-150 hover:border-primary hover:text-primary  hover:bg-transparent flex gap-2 items-center",onClick:()=>{x(null),h(!0)},children:[r.jsx(Br,{size:14}),"New Product"]}),toolbar:r.jsx("form",{onSubmit:N,className:"flex w-full flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:r.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[r.jsx(Ps,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),r.jsx("input",{type:"search",value:s,placeholder:"Search products by name, code, or category",onChange:j=>a(j.target.value),className:"w-full rounded-lg border border-slate-200 bg-white py-2 pl-9 pr-3 text-sm text-slate-700 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),rowActions:j=>r.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-full p-2 text-indigo-600 transition hover:bg-indigo-50 hover:text-indigo-700",onClick:()=>{x(j),h(!0)},children:r.jsx(Aa,{size:14})})}),r.jsx(M_e,{open:d,onClose:()=>{h(!1),x(null)},onSubmit:u?v:_,initialValues:u})]})}const F_e=()=>{const e=Li(),[t,n]=T.useState(!1),[s,a]=T.useState(""),[i,o]=T.useState(""),[d,h]=T.useState(null),[u,x]=T.useState(!1);T.useEffect(()=>{const C=new URLSearchParams(e.search).get("barcode");C&&(o(C),a(C),v(C))},[e]);const p=async S=>{a(S),await v(S)},b=S=>{console.log("Scan error:",S)},_=async()=>{if(!i.trim()){ye.error("Please enter a barcode");return}a(i),await v(i)},v=async S=>{var C;x(!0);try{const A=await he.get(`/products/scan/${S}`);h(A.data.product),ye.success("Product found!")}catch(A){console.error("Barcode lookup error:",A),((C=A.response)==null?void 0:C.status)===404?ye.error("Product not found with this barcode"):ye.error("Failed to lookup product"),h(null)}finally{x(!1)}},N=S=>{switch(S){case"active":return"text-green-600 bg-green-100";case"inactive":return"text-red-600 bg-red-100";case"discontinued":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},j=S=>{switch(S){case"approved":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";case"quarantine":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}};return r.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(Ts,{className:"h-6 w-6 mr-2"}),"Product Barcode Lookup"]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Barcode Manually"}),r.jsx("input",{type:"text",value:i,onChange:S=>o(S.target.value),placeholder:"Enter barcode number...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:S=>S.key==="Enter"&&_()})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:_,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:u?"Searching...":"Lookup"})})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Or Scan Barcode"}),r.jsx(oI,{onScanSuccess:p,onScanError:b,isScanning:t,setIsScanning:n})]})]})]}),s&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Scanned Barcode"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(d1,{value:s})})})]}),d&&r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[r.jsx(Wt,{className:"h-5 w-5 mr-2"}),"Product Information"]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Product Details"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Code:"})," ",d.product_code]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",d.name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Category:"})," ",d.category]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",d.product_type]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Brand:"})," ",d.brand||"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Status:"}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${N(d.status)}`,children:d.status})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Pricing & Stock"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Cost Price:"})," ₹",d.cost_price]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Selling Price:"})," ₹",d.selling_price]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Unit:"})," ",d.unit_of_measurement]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Min Stock:"})," ",d.minimum_stock_level]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Max Stock:"})," ",d.maximum_stock_level]})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inventory Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.inventory_summary.total_stock}),r.jsx("div",{className:"text-sm text-blue-600",children:"Total Stock"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.inventory_summary.total_available}),r.jsx("div",{className:"text-sm text-green-600",children:"Available Stock"})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.inventory_summary.total_reserved}),r.jsx("div",{className:"text-sm text-yellow-600",children:"Reserved Stock"})]})]}),d.inventory_summary.locations.length>0&&r.jsxs("div",{children:[r.jsx("h5",{className:"text-md font-medium text-gray-900 mb-3",children:"Stock by Location"}),r.jsx("div",{className:"space-y-3",children:d.inventory_summary.locations.map((S,C)=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Location:"})," ",S.location]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Stock:"})," ",S.current_stock,S.available_stock!==S.current_stock&&r.jsxs("span",{className:"text-gray-500",children:[" (",S.available_stock," available)"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Quality:"}),r.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${j(S.quality_status)}`,children:S.quality_status})]})]}),S.last_movement&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[r.jsx(Cn,{className:"h-4 w-4 inline mr-1"}),"Last movement: ",new Date(S.last_movement).toLocaleDateString(),S.movement_type&&` (${S.movement_type})`]})]},C))})]})]})]})]}),!d&&s&&!u&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pn,{className:"h-5 w-5 text-yellow-600 mr-2"}),r.jsxs("span",{className:"text-yellow-800",children:["No product found with barcode: ",s]})]})})]})},XE=[{value:"created",label:"Created",color:"bg-gray-100 text-gray-800"},{value:"material_allocated",label:"Material Allocated",color:"bg-blue-100 text-blue-800"},{value:"in_production",label:"In Production",color:"bg-yellow-100 text-yellow-800"},{value:"cutting",label:"Cutting",color:"bg-orange-100 text-orange-800"},{value:"embroidery",label:"Embroidery",color:"bg-purple-100 text-purple-800"},{value:"printing",label:"Printing",color:"bg-pink-100 text-pink-800"},{value:"stitching",label:"Stitching",color:"bg-indigo-100 text-indigo-800"},{value:"finishing",label:"Finishing",color:"bg-cyan-100 text-cyan-800"},{value:"ironing",label:"Ironing",color:"bg-teal-100 text-teal-800"},{value:"quality_check",label:"Quality Check",color:"bg-amber-100 text-amber-800"},{value:"packing",label:"Packing",color:"bg-lime-100 text-lime-800"},{value:"ready_for_dispatch",label:"Ready for Dispatch",color:"bg-emerald-100 text-emerald-800"},{value:"dispatched",label:"Dispatched",color:"bg-green-100 text-green-800"},{value:"in_transit",label:"In Transit",color:"bg-blue-100 text-blue-800"},{value:"delivered",label:"Delivered",color:"bg-green-200 text-green-900"},{value:"returned",label:"Returned",color:"bg-red-100 text-red-800"},{value:"rejected",label:"Rejected",color:"bg-red-200 text-red-900"}],KE=[{value:"active",label:"Active",color:"bg-green-100 text-green-800"},{value:"on_hold",label:"On Hold",color:"bg-yellow-100 text-yellow-800"},{value:"completed",label:"Completed",color:"bg-blue-100 text-blue-800"},{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-800"},{value:"returned",label:"Returned",color:"bg-gray-100 text-gray-800"}];function B_e(){const[e,t]=T.useState(""),[n,s]=T.useState(null),[a,i]=T.useState([]),[o,d]=T.useState(!1),[h,u]=T.useState(!1),[x,p]=T.useState({new_stage:"",new_status:"active",location:"",machine_id:"",quantity_processed:"",quantity_approved:"",quantity_rejected:"",rejection_reasons:"",quality_parameters:"",cost_incurred:"",materials_consumed:"",notes:""}),b=async C=>{var A,E;if(C.trim()){d(!0);try{const k=await he.get(`/product-lifecycle/barcode/${C}`);s(k.data.lifecycle),i(k.data.history),u(!1)}catch(k){ye.error(((E=(A=k.response)==null?void 0:A.data)==null?void 0:E.message)||"Failed to fetch product lifecycle"),s(null),i([])}finally{d(!1)}}},_=C=>{C.preventDefault(),b(e)},v=async C=>{var A,E;if(C.preventDefault(),!x.new_stage){ye.error("Please select a new stage");return}d(!0);try{const k=await he.post(`/product-lifecycle/scan/${e}/transition`,x);ye.success(k.data.message),await b(e),u(!1),p({new_stage:"",new_status:"active",location:"",machine_id:"",quantity_processed:"",quantity_approved:"",quantity_rejected:"",rejection_reasons:"",quality_parameters:"",cost_incurred:"",materials_consumed:"",notes:""})}catch(k){ye.error(((E=(A=k.response)==null?void 0:A.data)==null?void 0:E.message)||"Failed to update stage")}finally{d(!1)}},N=C=>XE.find(A=>A.value===C)||{label:C,color:"bg-gray-100 text-gray-800"},j=C=>KE.find(A=>A.value===C)||{label:C,color:"bg-gray-100 text-gray-800"},S=C=>new Date(C).toLocaleString();return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Product Lifecycle Tracker"}),r.jsxs("form",{onSubmit:_,className:"flex gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scan or Enter Barcode"}),r.jsx("input",{type:"text",value:e,onChange:C=>t(C.target.value),placeholder:"Enter product barcode...",className:"w-full border border-gray-300 rounded px-3 py-2",autoFocus:!0})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"submit",disabled:o||!e.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o?"Searching...":"Track Product"})})]})]}),n&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:n.product.name}),r.jsxs("p",{className:"text-gray-600",children:["Code: ",n.product.product_code]}),r.jsxs("p",{className:"text-gray-600",children:["Category: ",n.product.category]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${N(n.current_stage).color}`,children:N(n.current_stage).label}),r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${j(n.current_status).color}`,children:j(n.current_status).label})]}),r.jsx("button",{onClick:()=>u(!h),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Update Stage"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsx(d1,{value:n.barcode})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Quantity:"})," ",n.quantity]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Location:"})," ",n.location||"Not specified"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total Cost:"})," ₹",n.total_cost]}),n.customer&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",n.customer.name]}),n.estimated_delivery_date&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Est. Delivery:"})," ",S(n.estimated_delivery_date)]}),n.actual_delivery_date&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Delivered:"})," ",S(n.actual_delivery_date)]})]})]}),h&&n&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Update Product Stage"}),r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["New Stage ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:x.new_stage,onChange:C=>p(A=>({...A,new_stage:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2",required:!0,children:[r.jsx("option",{value:"",children:"Select Stage"}),XE.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsx("select",{value:x.new_status,onChange:C=>p(A=>({...A,new_status:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2",children:KE.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),r.jsx("input",{type:"text",value:x.location,onChange:C=>p(A=>({...A,location:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Workshop, Station, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Machine ID"}),r.jsx("input",{type:"text",value:x.machine_id,onChange:C=>p(A=>({...A,machine_id:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Machine or workstation ID"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity Processed"}),r.jsx("input",{type:"number",value:x.quantity_processed,onChange:C=>p(A=>({...A,quantity_processed:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cost Incurred"}),r.jsx("input",{type:"number",step:"0.01",value:x.cost_incurred,onChange:C=>p(A=>({...A,cost_incurred:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"0.00"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),r.jsx("textarea",{rows:3,value:x.notes,onChange:C=>p(A=>({...A,notes:C.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2",placeholder:"Additional notes about this stage transition..."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o?"Updating...":"Update Stage"}),r.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]})]})]}),a.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lifecycle History"}),r.jsx("div",{className:"space-y-4",children:a.map((C,A)=>r.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex gap-2 items-center mb-1",children:[r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${N(C.stage_to).color}`,children:N(C.stage_to).label}),C.stage_from&&r.jsxs("span",{className:"text-xs text-gray-500",children:["from ",N(C.stage_from).label]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:S(C.transition_time)}),C.operator&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Operator: ",C.operator.name]}),C.location&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Location: ",C.location]}),C.notes&&r.jsx("p",{className:"text-sm mt-1",children:C.notes})]}),r.jsxs("div",{className:"text-right text-xs text-gray-500",children:[C.duration_in_previous_stage_hours&&r.jsxs("p",{children:["Duration: ",C.duration_in_previous_stage_hours.toFixed(1),"h"]}),C.cost_incurred>0&&r.jsxs("p",{children:["Cost: ₹",C.cost_incurred]})]})]})},C.id))})]})]})}const P0={created:"bg-gray-100 text-gray-800",material_allocated:"bg-blue-100 text-blue-800",in_production:"bg-yellow-100 text-yellow-800",cutting:"bg-orange-100 text-orange-800",embroidery:"bg-purple-100 text-purple-800",printing:"bg-pink-100 text-pink-800",stitching:"bg-indigo-100 text-indigo-800",finishing:"bg-cyan-100 text-cyan-800",ironing:"bg-teal-100 text-teal-800",quality_check:"bg-amber-100 text-amber-800",packing:"bg-lime-100 text-lime-800",ready_for_dispatch:"bg-emerald-100 text-emerald-800",dispatched:"bg-green-100 text-green-800",in_transit:"bg-blue-100 text-blue-800",delivered:"bg-green-200 text-green-900",returned:"bg-red-100 text-red-800",rejected:"bg-red-200 text-red-900"};function U_e(){const[e,t]=T.useState(null),[n,s]=T.useState(!0),[a,i]=T.useState(null),[o,d]=T.useState([]),[h,u]=T.useState(!1);T.useEffect(()=>{x()},[]);const x=async()=>{try{const v=await he.get("/product-lifecycle/analytics/dashboard");t(v.data)}catch{ye.error("Failed to fetch analytics data")}finally{s(!1)}},p=async v=>{u(!0);try{const N=await he.get(`/product-lifecycle/stage/${v}`);d(N.data.products),i(v)}catch{ye.error("Failed to fetch stage products")}finally{u(!1)}},b=v=>v.replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase()),_=v=>new Date(v).toLocaleString();return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg",children:"Loading analytics..."})}):e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.summary.total_products})]}),r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:"📦"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),r.jsx("p",{className:"text-2xl font-semibold text-green-600",children:e.summary.active_products})]}),r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:"✅"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Products"}),r.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:e.summary.completed_products})]}),r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm",children:"🏁"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Products by Stage"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e.stage_statistics.map(v=>r.jsxs("div",{className:"cursor-pointer hover:shadow-md transition-shadow border rounded-lg p-3",onClick:()=>p(v.current_stage),children:[r.jsx("div",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium mb-2 ${P0[v.current_stage]||"bg-gray-100 text-gray-800"}`,children:b(v.current_stage)}),r.jsx("p",{className:"text-xl font-semibold",children:v.count})]},v.current_stage))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Transitions (Last 24 Hours)"}),e.recent_transitions.length>0?r.jsx("div",{className:"space-y-3",children:e.recent_transitions.map(v=>r.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.lifecycle.product.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.lifecycle.product.product_code,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.stage_from&&r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${P0[v.stage_from]||"bg-gray-100 text-gray-800"}`,children:b(v.stage_from)}),r.jsx("span",{className:"text-xs text-gray-400",children:"→"}),r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${P0[v.stage_to]||"bg-gray-100 text-gray-800"}`,children:b(v.stage_to)})]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-500",children:[r.jsx("p",{children:_(v.transition_time)}),v.operator&&r.jsxs("p",{children:["by ",v.operator.name]})]})]},v.id))}):r.jsx("p",{className:"text-gray-500",children:"No recent transitions"})]}),e.overdue_products.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"Overdue Products"}),r.jsx("div",{className:"space-y-3",children:e.overdue_products.map(v=>r.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:v.product.name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.product.product_code,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${P0[v.current_stage]||"bg-gray-100 text-gray-800"}`,children:b(v.current_stage)}),v.customer&&r.jsxs("span",{className:"text-sm text-gray-500",children:["for ",v.customer.name]})]})]}),r.jsx("div",{className:"text-right text-sm text-red-600",children:r.jsxs("p",{children:["Due: ",_(v.estimated_delivery_date)]})})]},v.id))})]}),a&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:["Products in ",b(a)," Stage"]}),r.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),r.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[60vh]",children:h?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("div",{className:"text-lg",children:"Loading products..."})}):o.length>0?r.jsx("div",{className:"space-y-3",children:o.map(v=>r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:v.product.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",v.product.product_code]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Barcode: ",v.barcode]}),v.customer&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",v.customer.name]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium ${P0[v.current_stage]||"bg-gray-100 text-gray-800"}`,children:b(v.current_stage)}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Updated: ",_(v.updated_at)]})]})]})},v.id))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No products found in this stage"})})]})})]}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-lg text-gray-500",children:"No analytics data available"})})}function z_e(){const[e,t]=T.useState("tracker");return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Lifecycle Management"}),r.jsx("p",{className:"text-gray-600",children:"Track products from creation to delivery using barcode scanning"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{onClick:()=>t("tracker"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="tracker"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Barcode Tracker"}),r.jsx("button",{onClick:()=>t("dashboard"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Analytics Dashboard"})]})}),r.jsxs("div",{children:[e==="tracker"&&r.jsx(B_e,{}),e==="dashboard"&&r.jsx(U_e,{})]})]})}const ZE=()=>{var z,I,L;const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState(!0),[i,o]=T.useState(!1),[d,h]=T.useState(!1),[u,x]=T.useState(null),[p,b]=T.useState(""),[_,v]=T.useState(""),[N,j]=T.useState({page:1,pages:1,total:0,limit:10}),[S,C]=T.useState({purchase_order_id:"",bill_of_materials_id:"",sales_order_id:"",received_date:new Date().toISOString().split("T")[0],supplier_name:"",supplier_invoice_number:"",inward_challan_number:"",items_received:[],total_received_value:0,inspection_notes:"",remarks:"",attachments:[]}),[A,E]=T.useState({verification_status:"verified",verification_notes:""});T.useEffect(()=>{k()},[N.page,_]);const k=async()=>{try{a(!0);const $=new URLSearchParams({page:N.page,limit:N.limit,..._&&{status:_}}),W=await he.get(`/grn?${$}`);n(W.data.grns),j(W.data.pagination)}catch($){console.error("Error fetching GRNs:",$)}finally{a(!1)}},D=async()=>{try{await he.post(`/grn/${u.id}/verify`,{verification_status:A.verification_status,verification_notes:A.verification_notes}),h(!1),x(null),E({verification_status:"verified",verification_notes:""}),k()}catch($){console.error("Error verifying GRN:",$)}},R=async $=>{if(window.confirm("Are you sure you want to add this GRN to inventory? This will create inventory entries."))try{await he.post(`/grn/${$}/add-to-inventory`),k()}catch(W){console.error("Error adding GRN to inventory:",W)}},F=async $=>{if(window.confirm("Are you sure you want to delete this GRN?"))try{await he.delete(`/grn/${$}`),k()}catch(W){console.error("Error deleting GRN:",W)}},M=$=>({draft:"bg-gray-100 text-gray-700",received:"bg-blue-100 text-blue-700",verified:"bg-purple-100 text-purple-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"})[$]||"bg-gray-100 text-gray-700";return r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Goods Receipt Notes"}),r.jsx("p",{className:"text-gray-600",children:"Manage material receipts and inventory updates"})]}),r.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(Br,{})," Create GRN"]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ps,{className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search GRNs...",value:p,onChange:$=>b($.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("select",{value:_,onChange:$=>v($.target.value),className:"border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"received",children:"Received"}),r.jsx("option",{value:"verified",children:"Verified"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:s?r.jsx("div",{className:"p-8 text-center",children:"Loading..."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"GRN #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO #"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Received Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map($=>{var W;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.grn_number}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(W=$.purchaseOrder)==null?void 0:W.po_number}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.supplier_name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date($.received_date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M($.status)}`,children:$.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",$.total_received_value]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>x($),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:r.jsx(cs,{})}),$.status==="draft"&&r.jsx("button",{onClick:()=>e(`/inventory/grn/update/${$.id}`),className:"text-orange-600 hover:text-orange-900",title:"Update Received Quantities",children:r.jsx(Aa,{})}),$.status==="received"&&r.jsx("button",{onClick:()=>{x($),h(!0)},className:"text-purple-600 hover:text-purple-900",title:"Verify",children:r.jsx(Ii,{})}),($.status==="verified"||$.status==="approved")&&r.jsx("button",{onClick:()=>R($.id),className:"text-green-600 hover:text-green-900",title:"Add to Inventory",children:r.jsx(pq,{})}),r.jsx("button",{onClick:()=>F($.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:r.jsx(Es,{})})]})})]},$.id)})})]})}),r.jsxs("div",{className:"px-6 py-4 border-t flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(N.page-1)*N.limit+1," to ",Math.min(N.page*N.limit,N.total)," of ",N.total," results"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>j($=>({...$,page:$.page-1})),disabled:N.page===1,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Previous"}),r.jsxs("span",{className:"px-3 py-1",children:["Page ",N.page," of ",N.pages]}),r.jsx("button",{onClick:()=>j($=>({...$,page:$.page+1})),disabled:N.page===N.pages,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]})]})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Goods Receipt Note"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsx("input",{type:"text",placeholder:"Purchase Order ID",value:S.purchase_order_id,onChange:$=>C(W=>({...W,purchase_order_id:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"text",placeholder:"Bill of Materials ID",value:S.bill_of_materials_id,onChange:$=>C(W=>({...W,bill_of_materials_id:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"text",placeholder:"Sales Order ID",value:S.sales_order_id,onChange:$=>C(W=>({...W,sales_order_id:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"date",value:S.received_date,onChange:$=>C(W=>({...W,received_date:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"text",placeholder:"Supplier Name",value:S.supplier_name,onChange:$=>C(W=>({...W,supplier_name:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"text",placeholder:"Supplier Invoice Number",value:S.supplier_invoice_number,onChange:$=>C(W=>({...W,supplier_invoice_number:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"text",placeholder:"Inward Challan Number",value:S.inward_challan_number,onChange:$=>C(W=>({...W,inward_challan_number:$.target.value})),className:"border rounded px-3 py-2"}),r.jsx("input",{type:"number",placeholder:"Total Received Value",value:S.total_received_value,onChange:$=>C(W=>({...W,total_received_value:parseFloat($.target.value)||0})),className:"border rounded px-3 py-2"})]}),r.jsx("textarea",{placeholder:"Inspection Notes",value:S.inspection_notes,onChange:$=>C(W=>({...W,inspection_notes:$.target.value})),className:"w-full border rounded px-3 py-2 mb-4",rows:"3"}),r.jsx("textarea",{placeholder:"Remarks",value:S.remarks,onChange:$=>C(W=>({...W,remarks:$.target.value})),className:"w-full border rounded px-3 py-2 mb-4",rows:"2"}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{onClick:handleCreateGRN,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create GRN"})]})]})}),d&&u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Verify GRN - ",u.grn_number]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),r.jsxs("select",{value:A.verification_status,onChange:$=>E(W=>({...W,verification_status:$.target.value})),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"verified",children:"Verified"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Verification Notes"}),r.jsx("textarea",{value:A.verification_notes,onChange:$=>E(W=>({...W,verification_notes:$.target.value})),className:"w-full border rounded px-3 py-2",rows:"3"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Submit Verification"})]})]})}),u&&!d&&!i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("h2",{className:"text-xl font-bold mb-4",children:["GRN Details - ",u.grn_number]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"PO Number:"})," ",(z=u.purchaseOrder)==null?void 0:z.po_number]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Supplier:"})," ",u.supplier_name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Received Date:"})," ",new Date(u.received_date).toLocaleDateString()]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${M(u.status)}`,children:u.status})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Total Value:"})," ₹",u.total_received_value]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Created By:"})," ",(I=u.creator)==null?void 0:I.name]})]}),r.jsx("h3",{className:"font-bold mb-2",children:"Items Received"}),r.jsx("div",{className:"border rounded mb-4",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Material"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Ordered Qty"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Received Qty"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Unit"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Quality Status"})]})}),r.jsx("tbody",{children:(L=u.items_received)==null?void 0:L.map(($,W)=>r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-2",children:$.material_name}),r.jsx("td",{className:"px-4 py-2",children:$.ordered_quantity}),r.jsx("td",{className:"px-4 py-2",children:$.received_quantity}),r.jsx("td",{className:"px-4 py-2",children:$.unit}),r.jsx("td",{className:"px-4 py-2",children:$.quality_status})]},W))})]})}),u.inspection_notes&&r.jsxs("div",{className:"mb-4",children:[r.jsx("strong",{children:"Inspection Notes:"}),r.jsx("p",{className:"mt-1 text-gray-600",children:u.inspection_notes})]}),u.remarks&&r.jsxs("div",{className:"mb-4",children:[r.jsx("strong",{children:"Remarks:"}),r.jsx("p",{className:"mt-1 text-gray-600",children:u.remarks})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Close"})})]})})]})})},V_e=()=>{var v,N,j;const e=_t(),[t]=Ly(),n=t.get("po_id"),[s,a]=T.useState(!1),[i,o]=T.useState(null),[d,h]=T.useState({received_date:new Date().toISOString().split("T")[0],inward_challan_number:"",supplier_invoice_number:"",remarks:"",items_received:[]});T.useEffect(()=>{n&&u()},[n]);const u=async()=>{try{a(!0);const C=(await he.get(`/procurement/pos/${n}`)).data;o(C);const A=(C.items||[]).map((E,k)=>({item_index:k,material_name:E.type==="fabric"?E.fabric_name:E.item_name,color:E.color||"",gsm:E.gsm||"",uom:E.uom||"Meters",ordered_qty:parseFloat(E.quantity)||0,invoiced_qty:parseFloat(E.quantity)||0,received_qty:parseFloat(E.quantity)||0,weight:"",remarks:""}));h(E=>({...E,items_received:A}))}catch(S){console.error("Error fetching PO:",S),alert("Failed to fetch Purchase Order details")}finally{a(!1)}},x=(S,C)=>{h(A=>({...A,[S]:C}))},p=(S,C,A)=>{const E=[...d.items_received];E[S][C]=A,h(k=>({...k,items_received:E}))},b=async()=>{var S,C;try{if(!d.items_received.some(D=>parseFloat(D.received_qty)>0)){alert("Please enter received quantities for at least one item");return}a(!0);const A={received_date:d.received_date,inward_challan_number:d.inward_challan_number,supplier_invoice_number:d.supplier_invoice_number,items_received:d.items_received.filter(D=>parseFloat(D.received_qty)>0),remarks:d.remarks},E=await he.post(`/grn/from-po/${n}`,A),k=E.data.has_shortages?`GRN created with ${E.data.shortage_count} shortage(s). Vendor return request auto-generated.`:"GRN created successfully!";alert(k+" Redirecting to verification..."),e(`/inventory/grn/${E.data.grn.id}/verify`)}catch(A){console.error("Error creating GRN:",A),alert(((C=(S=A.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to create GRN")}finally{a(!1)}},_=d.items_received.reduce((S,C)=>{const A=parseFloat(C.ordered_qty),E=parseFloat(C.invoiced_qty),k=parseFloat(C.received_qty);return k<Math.min(A,E)&&S.shortages++,k>Math.max(A,E)&&S.overages++,E!==A&&S.invoiceMismatches++,k===A&&k===E&&S.perfectMatches++,S},{shortages:0,overages:0,invoiceMismatches:0,perfectMatches:0});return n?s&&!i?r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading Purchase Order..."})]})}):r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[r.jsx($h,{className:"w-5 h-5 mr-1"}),"Back"]}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Wt,{className:"w-8 h-8 text-blue-600"}),"Create Goods Receipt Note"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Record materials received from vendor with 3-way matching"})]})})]}),_.shortages>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[r.jsx(pn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-900",children:"Shortage Detected!"}),r.jsxs("p",{className:"text-red-700 text-sm",children:[_.shortages," item(s) have quantity shortages. A vendor return request will be automatically created."]})]})]}),i&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(kr,{className:"w-5 h-5 text-blue-600"}),"Purchase Order Details"]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PO Number"}),r.jsx("p",{className:"text-gray-900 font-semibold",children:i.po_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vendor"}),r.jsx("p",{className:"text-gray-900",children:((v=i.vendor)==null?void 0:v.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PO Date"}),r.jsx("p",{className:"text-gray-900",children:new Date(i.po_date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Customer/Project"}),r.jsx("p",{className:"text-gray-900",children:((N=i.customer)==null?void 0:N.name)||i.project_name||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Items"}),r.jsx("p",{className:"text-gray-900",children:((j=i.items)==null?void 0:j.length)||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PO Amount"}),r.jsxs("p",{className:"text-gray-900 font-semibold",children:["₹",parseFloat(i.final_amount||0).toLocaleString("en-IN")]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Receipt Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Received Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:d.received_date,onChange:S=>x("received_date",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor Challan Number"}),r.jsx("input",{type:"text",value:d.inward_challan_number,onChange:S=>x("inward_challan_number",S.target.value),placeholder:"DC-12345",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Supplier Invoice Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.supplier_invoice_number,onChange:S=>x("supplier_invoice_number",S.target.value),placeholder:"INV-12345",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("input",{type:"text",value:d.remarks,onChange:S=>x("remarks",S.target.value),placeholder:"Optional notes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden mb-6",children:[r.jsxs("div",{className:"px-6 py-4 border-b bg-gray-50",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"3-Way Matching: PO vs Invoice vs Actual Receipt"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Compare ordered, invoiced, and received quantities to detect discrepancies"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"#"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Specs"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"UOM"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase bg-blue-100",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:"Ordered"}),r.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"(PO)"})]})}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase bg-orange-100",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:"Invoiced*"}),r.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"(Invoice)"})]})}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase bg-green-100",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{children:"Received*"}),r.jsx("span",{className:"text-xs text-gray-400 font-normal",children:"(Actual)"})]})}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Weight (kg)"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remarks"}),r.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:d.items_received.map((S,C)=>{const A=parseFloat(S.ordered_qty),E=parseFloat(S.invoiced_qty),k=parseFloat(S.received_qty),D=k<Math.min(A,E),R=k>Math.max(A,E),F=E!==A,M=k===A&&k===E;return r.jsxs("tr",{className:`hover:bg-gray-50 ${D?"bg-red-50":R?"bg-yellow-50":""}`,children:[r.jsx("td",{className:"px-3 py-3 text-sm text-gray-900",children:C+1}),r.jsx("td",{className:"px-3 py-3 text-sm text-gray-900 font-medium",children:S.material_name}),r.jsxs("td",{className:"px-3 py-3 text-sm text-gray-600",children:[S.color&&r.jsx("span",{className:"text-gray-700",children:S.color}),S.gsm&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",S.gsm," GSM)"]})]}),r.jsx("td",{className:"px-3 py-3 text-sm text-gray-600",children:S.uom}),r.jsx("td",{className:"px-3 py-3 text-sm text-gray-900 font-medium bg-blue-50",children:S.ordered_qty}),r.jsx("td",{className:"px-3 py-3",children:r.jsx("input",{type:"number",step:"0.01",value:S.invoiced_qty,onChange:z=>p(C,"invoiced_qty",z.target.value),className:`w-28 border rounded px-2 py-1 text-sm ${F?"border-orange-500 bg-orange-50":"border-gray-300"}`})}),r.jsx("td",{className:"px-3 py-3",children:r.jsx("input",{type:"number",step:"0.01",value:S.received_qty,onChange:z=>p(C,"received_qty",z.target.value),className:`w-28 border rounded px-2 py-1 text-sm ${D?"border-red-500 bg-red-100 font-semibold":R?"border-yellow-500 bg-yellow-100":"border-gray-300"}`})}),r.jsx("td",{className:"px-3 py-3",children:r.jsx("input",{type:"number",step:"0.01",value:S.weight,onChange:z=>p(C,"weight",z.target.value),placeholder:"Optional",className:"w-24 border border-gray-300 rounded px-2 py-1 text-sm"})}),r.jsx("td",{className:"px-3 py-3",children:r.jsx("input",{type:"text",value:S.remarks,onChange:z=>p(C,"remarks",z.target.value),placeholder:"Notes",className:"w-32 border border-gray-300 rounded px-2 py-1 text-sm"})}),r.jsx("td",{className:"px-3 py-3",children:D?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:["⚠️ SHORT: ",(Math.min(A,E)-k).toFixed(2)]}):R?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:["⚠️ OVER: ",(k-Math.max(A,E)).toFixed(2)]}):F?r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:"⚠️ Invoice≠PO"}):M?r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"✓ Perfect Match"}):r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Pending"})})]},C)})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Discrepancy Summary"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("div",{className:"text-sm text-green-600 mb-1",children:"Perfect Matches"}),r.jsx("div",{className:"text-2xl font-bold text-green-700",children:_.perfectMatches})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("div",{className:"text-sm text-red-600 mb-1",children:"Shortages"}),r.jsx("div",{className:"text-2xl font-bold text-red-700",children:_.shortages})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("div",{className:"text-sm text-yellow-600 mb-1",children:"Overages"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:_.overages})]}),r.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[r.jsx("div",{className:"text-sm text-orange-600 mb-1",children:"Invoice Mismatches"}),r.jsx("div",{className:"text-2xl font-bold text-orange-700",children:_.invoiceMismatches})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>e(-1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsxs("button",{onClick:b,disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[r.jsx(Ky,{className:"w-5 h-5"}),s?"Creating GRN...":"Create GRN & Proceed to Verification"]})]})]})}):r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Purchase Order Selected"}),r.jsx("p",{className:"text-yellow-700 mb-4",children:"Please select a purchase order to create GRN."}),r.jsx("button",{onClick:()=>e("/procurement/purchase-orders"),className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:"Go to Purchase Orders"})]})})})},q_e=()=>{var _,v,N;const{id:e}=Ih(),t=_t(),[n,s]=T.useState(!0),[a,i]=T.useState(!1),[o,d]=T.useState(null),[h,u]=T.useState({received_date:"",inward_challan_number:"",supplier_invoice_number:"",items_received:[],remarks:"",attachments:[]});T.useEffect(()=>{x()},[e]);const x=async()=>{try{s(!0);const j=await he.get(`/grn/${e}`);d(j.data),u({received_date:j.data.received_date?new Date(j.data.received_date).toISOString().split("T")[0]:"",inward_challan_number:j.data.inward_challan_number||"",supplier_invoice_number:j.data.supplier_invoice_number||"",items_received:(j.data.items_received||[]).map((S,C)=>({item_index:C,ordered_qty:S.ordered_quantity||0,invoiced_qty:S.invoiced_quantity||S.ordered_quantity||0,received_qty:S.received_quantity||0,weight:S.weight||0,remarks:S.remarks||""})),remarks:j.data.remarks||"",attachments:j.data.attachments||[]})}catch(j){console.error("Error fetching GRN:",j),ye.error("Failed to load GRN data"),t("/inventory/grn")}finally{s(!1)}},p=(j,S,C)=>{const A=[...h.items_received];A[j]={...A[j],[S]:C},u(E=>({...E,items_received:A}))},b=async j=>{var C,A;if(j.preventDefault(),!h.received_date){ye.error("Please enter received date");return}if(!h.items_received.length){ye.error("No items to update");return}if(h.items_received.filter(E=>!E.received_qty||parseFloat(E.received_qty)<=0).length>0){ye.error("All items must have received quantities greater than 0");return}try{i(!0),await he.put(`/grn/${e}/update-received`,h),ye.success("GRN updated successfully! Ready for verification."),t("/inventory/grn")}catch(E){console.error("Error updating GRN:",E),ye.error(((A=(C=E.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to update GRN")}finally{i(!1)}};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between py-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>t("/inventory/grn"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[r.jsx(Fl,{className:"mr-2"}),"Back to GRNs"]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Update GRN: ",o.grn_number]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["PO: ",(_=o.purchaseOrder)==null?void 0:_.po_number," | Vendor: ",(N=(v=o.purchaseOrder)==null?void 0:v.vendor)==null?void 0:N.name]})]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800",children:"Draft - Update Required"})})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("form",{onSubmit:b,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Received Information"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Enter the actual received details"})]}),r.jsx("div",{className:"px-6 py-4 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date *"}),r.jsx("input",{type:"date",value:h.received_date,onChange:j=>u(S=>({...S,received_date:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inward Challan Number"}),r.jsx("input",{type:"text",value:h.inward_challan_number,onChange:j=>u(S=>({...S,inward_challan_number:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter challan number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Invoice Number"}),r.jsx("input",{type:"text",value:h.supplier_invoice_number,onChange:j=>u(S=>({...S,supplier_invoice_number:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter invoice number"})]})]})})]}),r.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Received Items"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update actual received quantities and details"})]}),r.jsx("div",{className:"px-6 py-4",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordered Qty"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoiced Qty"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Received Qty *"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weight (kg)"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.items_received.map((j,S)=>{var C,A;return r.jsxs("tr",{children:[r.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:((C=o.items_received[S])==null?void 0:C.material_name)||`Item ${S+1}`}),r.jsx("div",{className:"text-xs text-gray-500",children:((A=o.items_received[S])==null?void 0:A.color)&&`Color: ${o.items_received[S].color}`})]}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",value:j.ordered_qty,onChange:E=>p(S,"ordered_qty",parseFloat(E.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",readOnly:!0})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",value:j.invoiced_qty,onChange:E=>p(S,"invoiced_qty",parseFloat(E.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",value:j.received_qty,onChange:E=>p(S,"received_qty",parseFloat(E.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",required:!0,min:"0"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"number",step:"0.01",value:j.weight,onChange:E=>p(S,"weight",parseFloat(E.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",min:"0"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("input",{type:"text",value:j.remarks,onChange:E=>p(S,"remarks",E.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"Remarks"})})]},S)})})]})})})]}),r.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Additional Remarks"})}),r.jsx("div",{className:"px-6 py-4",children:r.jsx("textarea",{value:h.remarks,onChange:j=>u(S=>({...S,remarks:j.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional remarks or notes about the received items..."})})]}),r.jsx("div",{className:"bg-white shadow-sm rounded-lg",children:r.jsxs("div",{className:"px-6 py-4 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>t("/inventory/grn"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):r.jsxs("div",{className:"flex items-center",children:[r.jsx(tf,{className:"mr-2"}),"Update GRN & Submit for Verification"]})})]})})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"GRN Not Found"}),r.jsx("p",{className:"text-gray-600",children:"The requested GRN could not be found."})]})})},H_e=()=>{var k,D,R,F,M,z;const{id:e}=Ih(),t=_t(),[n,s]=T.useState(!0),[a,i]=T.useState(!1),[o,d]=T.useState(null),[h,u]=T.useState({verification_status:"verified",verification_notes:"",discrepancy_details:{qty_mismatch:!1,weight_mismatch:!1,quality_issue:!1,details:""}}),[x,p]=T.useState(!1),[b,_]=T.useState({reason:"",notes:""});T.useEffect(()=>{v()},[e]);const v=async()=>{try{s(!0);const I=await he.get(`/grn/${e}`);d(I.data)}catch(I){console.error("Error fetching GRN:",I),alert("Failed to fetch GRN details")}finally{s(!1)}},N=(I,L)=>{u($=>({...$,[I]:L}))},j=(I,L)=>{u($=>({...$,discrepancy_details:{...$.discrepancy_details,[I]:L}})),I!=="details"&&L===!0&&u($=>({...$,verification_status:"discrepancy"}))},S=async I=>{var L,$;try{const W=h.discrepancy_details.qty_mismatch||h.discrepancy_details.weight_mismatch||h.discrepancy_details.quality_issue;if(I==="verified"&&W&&!window.confirm('You have marked discrepancies but choosing "Verified". This will ignore the discrepancies. Continue?'))return;i(!0);const U={verification_status:I,verification_notes:h.verification_notes,discrepancy_details:I==="discrepancy"?h.discrepancy_details:null},Y=await he.post(`/grn/${e}/verify`,U);I==="verified"?(alert("GRN verified successfully! Proceeding to add to inventory..."),t(`/inventory/grn/${e}/add-to-inventory`)):(alert("Discrepancy reported. Awaiting manager approval..."),t("/inventory/grn"))}catch(W){console.error("Error verifying GRN:",W),alert((($=(L=W.response)==null?void 0:L.data)==null?void 0:$.message)||"Failed to verify GRN")}finally{i(!1)}},C=async()=>{var I,L;try{if(!b.reason.trim()){alert("Please provide a reason for vendor revert request");return}i(!0);const $=(o.items_received||[]).filter(U=>Math.min(U.ordered_quantity,U.invoiced_quantity||U.ordered_quantity)-U.received_quantity>0).map(U=>({material_name:U.material_name,color:U.color,ordered_qty:U.ordered_quantity,invoiced_qty:U.invoiced_quantity||U.ordered_quantity,received_qty:U.received_quantity,shortage_qty:Math.min(U.ordered_quantity,U.invoiced_quantity||U.ordered_quantity)-U.received_quantity,notes:U.remarks})),W={reason:b.reason,shortage_items:$,notes:b.notes};await he.post(`/grn/${e}/request-vendor-revert`,W),alert("Vendor revert request sent successfully. Procurement team will contact vendor."),t("/inventory/grn")}catch($){console.error("Error requesting vendor revert:",$),alert(((L=(I=$.response)==null?void 0:I.data)==null?void 0:L.message)||"Failed to request vendor revert")}finally{i(!1),p(!1)}};if(n)return r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading GRN..."})]})});if(!o)return r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"GRN Not Found"}),r.jsx("p",{className:"text-red-700 mb-4",children:"The requested GRN could not be found."}),r.jsx("button",{onClick:()=>t("/inventory/grn"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Go to GRN List"})]})})});const A=(k=o.items_received)==null?void 0:k.some(I=>parseFloat(I.received_quantity)!==parseFloat(I.ordered_quantity)),E=(D=o.items_received)==null?void 0:D.some(I=>Math.min(I.ordered_quantity,I.invoiced_quantity||I.ordered_quantity)-I.received_quantity>0);return r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>t("/inventory/grn"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[r.jsx($h,{className:"w-5 h-5 mr-1"}),"Back to GRN List"]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Wt,{className:"w-8 h-8 text-blue-600"}),"Verify GRN: ",o.grn_number]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Quality check and verification of received materials"})]}),r.jsx("div",{children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${o.verification_status==="pending"?"bg-yellow-100 text-yellow-800":o.verification_status==="verified"?"bg-green-100 text-green-800":o.verification_status==="discrepancy"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:o.verification_status})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"GRN Information"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"GRN Number"}),r.jsx("p",{className:"text-gray-900 font-semibold",children:o.grn_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PO Number"}),r.jsx("p",{className:"text-gray-900",children:((R=o.purchaseOrder)==null?void 0:R.po_number)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vendor"}),r.jsx("p",{className:"text-gray-900",children:o.supplier_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Received Date"}),r.jsx("p",{className:"text-gray-900",children:new Date(o.received_date).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Challan Number"}),r.jsx("p",{className:"text-gray-900",children:o.inward_challan_number||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Invoice Number"}),r.jsx("p",{className:"text-gray-900",children:o.supplier_invoice_number||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),r.jsxs("p",{className:"text-gray-900 font-semibold",children:["₹",parseFloat(o.total_received_value||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Created By"}),r.jsx("p",{className:"text-gray-900",children:((F=o.creator)==null?void 0:F.name)||"N/A"})]})]})]}),A&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{className:"w-5 h-5 text-yellow-600"}),r.jsx("h3",{className:"font-semibold text-yellow-900",children:"Quantity Variance Detected"})]}),r.jsx("p",{className:"text-sm text-yellow-800 mt-2",children:"Some items have received quantities different from ordered quantities. Please verify and mark as discrepancy if needed."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden mb-6",children:[r.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Received Items - Quality Check"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"#"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Color/Specs"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"UOM"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ordered"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Received"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Variance"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Weight"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:(M=o.items_received)==null?void 0:M.map((I,L)=>{const $=parseFloat(I.ordered_quantity)||0,W=parseFloat(I.received_quantity)||0,U=W-$,Y=$>0?(U/$*100).toFixed(1):0,X=U===0;return r.jsxs("tr",{className:X?"":"bg-yellow-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:L+1}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:I.material_name}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[I.color&&r.jsx("span",{className:"text-gray-700",children:I.color}),I.gsm&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",I.gsm," GSM)"]})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:I.uom}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:$}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:W}),r.jsx("td",{className:"px-4 py-3 text-sm",children:X?r.jsx("span",{className:"text-green-600 font-medium",children:"0 (0%)"}):r.jsxs("span",{className:"text-yellow-600 font-medium",children:[U>0?"+":"",U," (",Y,"%)"]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:I.weight?`${I.weight} kg`:"-"}),r.jsx("td",{className:"px-4 py-3",children:X?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[r.jsx(Ut,{className:"w-3 h-3 mr-1"}),"OK"]}):r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[r.jsx(pn,{className:"w-3 h-3 mr-1"}),"Variance"]})})]},L)})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Verification Decision"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Mark any issues found:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:h.discrepancy_details.qty_mismatch,onChange:I=>j("qty_mismatch",I.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Quantity Mismatch"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:h.discrepancy_details.weight_mismatch,onChange:I=>j("weight_mismatch",I.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Weight Mismatch"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:h.discrepancy_details.quality_issue,onChange:I=>j("quality_issue",I.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Quality Issue (Color, GSM, Condition)"})]})]})]}),(h.discrepancy_details.qty_mismatch||h.discrepancy_details.weight_mismatch||h.discrepancy_details.quality_issue)&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discrepancy Details ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:h.discrepancy_details.details,onChange:I=>j("details",I.target.value),rows:"3",placeholder:"Describe the issue in detail...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Notes"}),r.jsx("textarea",{value:h.verification_notes,onChange:I=>N("verification_notes",I.target.value),rows:"3",placeholder:"Additional notes about verification...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-between items-center gap-3",children:[r.jsx("div",{className:"flex gap-3",children:E&&r.jsxs("button",{onClick:()=>p(!0),disabled:a,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2 disabled:opacity-50",children:[r.jsx(pn,{className:"w-4 h-4"}),"Request Vendor Revert (Shortage Detected)"]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>t("/inventory/grn"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:a,children:"Cancel"}),(h.discrepancy_details.qty_mismatch||h.discrepancy_details.weight_mismatch||h.discrepancy_details.quality_issue)&&r.jsx("button",{onClick:()=>S("discrepancy"),disabled:a,className:"px-6 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 flex items-center gap-2 disabled:opacity-50",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(pn,{className:"w-4 h-4"}),"Report Discrepancy"]})}),r.jsx("button",{onClick:()=>S("verified"),disabled:a,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),"Verify & Add to Inventory"]})})]})]}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"🔍 Verification Guidelines"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Verified:"})," All items match expected quality and quantity. Ready to add to inventory."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Discrepancy:"})," Issues found. Will require manager approval before adding to inventory."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Vendor Revert:"})," Shortage detected. Send request to vendor for pending items."]}),r.jsx("li",{children:"Check quantity, weight, color, GSM, packaging condition, and overall quality."}),r.jsx("li",{children:"Red highlighted rows indicate shortage - consider vendor revert request."})]})]}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"px-6 py-4 border-b bg-orange-50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(pn,{className:"w-6 h-6 text-orange-600"}),"Request Vendor Revert for Shortage"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Send request to vendor for pending items that were not delivered"})]}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:"Items with Shortage:"}),r.jsx("div",{className:"space-y-2",children:(z=o.items_received)==null?void 0:z.filter(I=>Math.min(I.ordered_quantity,I.invoiced_quantity||I.ordered_quantity)-I.received_quantity>0).map((I,L)=>{const $=Math.min(I.ordered_quantity,I.invoiced_quantity||I.ordered_quantity)-I.received_quantity;return r.jsxs("div",{className:"flex justify-between items-center text-sm bg-white p-2 rounded",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-900",children:I.material_name}),I.color&&r.jsxs("span",{className:"text-gray-600 ml-2",children:["(",I.color,")"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"text-red-700 font-semibold",children:["Shortage: ",$.toFixed(2)," ",I.uom]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Ordered: ",I.ordered_quantity," | Received: ",I.received_quantity]})]})]},L)})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Revert Request ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:b.reason,onChange:I=>_(L=>({...L,reason:I.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select reason..."}),r.jsx("option",{value:"shortage_in_delivery",children:"Shortage in Delivery"}),r.jsx("option",{value:"partial_delivery",children:"Partial Delivery - Balance Pending"}),r.jsx("option",{value:"items_missing",children:"Items Missing from Package"}),r.jsx("option",{value:"invoice_quantity_mismatch",children:"Invoice vs Physical Quantity Mismatch"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{value:b.notes,onChange:I=>_(L=>({...L,notes:I.target.value})),rows:"3",placeholder:"Provide any additional details about the shortage or expected delivery...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," This will notify the procurement team to contact vendor",r.jsxs("strong",{children:[" ",o.supplier_name]}),' regarding the pending items. The GRN will be marked as "Awaiting Vendor Response" until the issue is resolved.']})})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{p(!1),_({reason:"",notes:""})},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-white",disabled:a,children:"Cancel"}),r.jsx("button",{onClick:C,disabled:a||!b.reason,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center gap-2 disabled:opacity-50",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(pn,{className:"w-4 h-4"}),"Send Revert Request"]})})]})]})})]})})},W_e=()=>{var b,_,v,N;const{id:e}=Ih(),t=_t(),[n,s]=T.useState(!0),[a,i]=T.useState(!1),[o,d]=T.useState(null),[h,u]=T.useState("Main Warehouse");T.useEffect(()=>{x()},[e]);const x=async()=>{try{s(!0);const j=await he.get(`/grn/${e}`);d(j.data)}catch(j){console.error("Error fetching GRN:",j),alert("Failed to fetch GRN details")}finally{s(!1)}},p=async()=>{var j,S;try{if(!h.trim()){alert("Please select a warehouse location");return}if(!window.confirm("Are you sure you want to add these items to inventory? This action cannot be undone."))return;i(!0);const C=await he.post(`/grn/${e}/add-to-inventory`,{location:h});alert(`Success! ${C.data.inventory_items.length} items added to inventory.`),t("/inventory/stock")}catch(C){console.error("Error adding to inventory:",C),alert(((S=(j=C.response)==null?void 0:j.data)==null?void 0:S.message)||"Failed to add items to inventory")}finally{i(!1)}};return n?r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading GRN..."})]})}):o?["verified","approved"].includes(o.verification_status)?o.inventory_added?r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:"Already Added to Inventory"}),r.jsxs("p",{className:"text-green-700 mb-4",children:["This GRN has already been added to inventory on ",new Date(o.inventory_added_date).toLocaleString(),"."]}),r.jsx("button",{onClick:()=>t("/inventory/stock"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"View Inventory"})]})})}):r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>t("/inventory/grn"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[r.jsx($h,{className:"w-5 h-5 mr-1"}),"Back to GRN List"]}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx(Wt,{className:"w-8 h-8 text-green-600"}),"Add GRN to Inventory"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Final step: Add verified materials to inventory system"})]})]}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Ut,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-green-900 mb-1",children:"GRN Verified Successfully!"}),r.jsxs("p",{className:"text-sm text-green-800",children:["All quality checks passed. Ready to add ",((b=o.items_received)==null?void 0:b.length)||0," items to inventory."]}),o.verification_status==="approved"&&o.discrepancy_details&&r.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[r.jsx("strong",{children:"Note:"})," Discrepancies were reported and approved by manager."]})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"GRN Information"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"GRN Number"}),r.jsx("p",{className:"text-gray-900 font-semibold",children:o.grn_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"PO Number"}),r.jsx("p",{className:"text-gray-900",children:((_=o.purchaseOrder)==null?void 0:_.po_number)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vendor"}),r.jsx("p",{className:"text-gray-900",children:o.supplier_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Received Date"}),r.jsx("p",{className:"text-gray-900",children:new Date(o.received_date).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden mb-6",children:[r.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:r.jsx("h2",{className:"text-lg font-semibold",children:"Items to Add to Inventory"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"#"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Color/Specs"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"UOM"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Weight"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Value"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:(v=o.items_received)==null?void 0:v.map((j,S)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:S+1}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:j.material_name}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[j.color&&r.jsx("span",{className:"text-gray-700",children:j.color}),j.gsm&&r.jsxs("span",{className:"text-gray-500 ml-1",children:["(",j.gsm," GSM)"]})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.uom}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:j.received_quantity}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.weight?`${j.weight} kg`:"-"}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:["₹",parseFloat(j.total||0).toLocaleString("en-IN")]})]},S))}),r.jsx("tfoot",{className:"bg-gray-50 border-t",children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:"6",className:"px-4 py-3 text-sm font-semibold text-gray-900 text-right",children:"Total Value:"}),r.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-gray-900",children:["₹",parseFloat(o.total_received_value||0).toLocaleString("en-IN")]})]})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Ul,{className:"w-5 h-5 text-blue-600"}),"Select Warehouse Location"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:h,onChange:j=>u(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Main Warehouse",children:"Main Warehouse"}),r.jsx("option",{value:"Warehouse A",children:"Warehouse A"}),r.jsx("option",{value:"Warehouse B",children:"Warehouse B"}),r.jsx("option",{value:"Factory Store",children:"Factory Store"}),r.jsx("option",{value:"Rack-R1-FAB01",children:"Rack-R1-FAB01"}),r.jsx("option",{value:"Rack-R1-FAB02",children:"Rack-R1-FAB02"}),r.jsx("option",{value:"Rack-R2-ACC01",children:"Rack-R2-ACC01"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("p",{children:"Items will be stored at this location."}),r.jsx("p",{className:"mt-1",children:"Barcodes and QR codes will be auto-generated."})]})})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>t("/inventory/grn"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:a,children:"Cancel"}),r.jsx("button",{onClick:p,disabled:a,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding to Inventory..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),"Add ",((N=o.items_received)==null?void 0:N.length)||0," Items to Inventory"]})})]}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"📦 What Will Happen"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Each item will get a unique barcode (e.g., INV-20250117-00001)"}),r.jsx("li",{children:"QR codes will be generated with full traceability data"}),r.jsx("li",{children:"Inventory stock will be updated automatically"}),r.jsx("li",{children:"Audit trail (Inventory Movement) will be created"}),r.jsx("li",{children:'PO status will be marked as "Completed"'}),r.jsx("li",{children:"Notifications will be sent to relevant departments"})]})]})]})}):r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"GRN Not Ready"}),r.jsxs("p",{className:"text-yellow-700 mb-4",children:["This GRN has not been verified yet. Current status: ",r.jsx("strong",{children:o.verification_status})]}),r.jsx("button",{onClick:()=>t(`/inventory/grn/${e}/verify`),className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:"Go to Verification"})]})})}):r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"GRN Not Found"}),r.jsx("p",{className:"text-red-700",children:"The requested GRN could not be found."})]})})})},G_e=()=>{var z,I,L,$,W,U,Y;const{poId:e}=Ih(),t=_t(),[n,s]=T.useState([]),[a,i]=T.useState(null),[o,d]=T.useState(null),[h,u]=T.useState(!0),[x,p]=T.useState(null),[b,_]=T.useState(!1),[v,N]=T.useState(""),[j,S]=T.useState(""),[C,A]=T.useState(!1),[E,k]=T.useState(null);T.useEffect(()=>{D()},[e]);const D=async()=>{try{u(!0);const X=await he.get(`/inventory/from-po/${e}`);s(X.data.inventory||[]),i(X.data.summary||{}),X.data.inventory.length>0&&d(X.data.inventory[0].purchaseOrder)}catch(X){console.error("Error fetching inventory:",X),ye.error("Failed to load inventory data")}finally{u(!1)}},R=async()=>{var X,V;if(!x||!v){ye.error("Please enter a valid quantity");return}try{await he.post(`/inventory/item/${x.id}/consume`,{quantity:parseFloat(v),notes:j,purchase_order_id:e}),ye.success("Stock consumed successfully"),_(!1),N(""),S(""),p(null),D()}catch(G){ye.error(((V=(X=G.response)==null?void 0:X.data)==null?void 0:V.message)||"Failed to consume stock")}},F=X=>{const V=parseFloat(X.initial_quantity)||0,G=parseFloat(X.consumed_quantity)||0;return V>0?(G/V*100).toFixed(1):0},M=X=>X<30?"bg-green-500":X<70?"bg-yellow-500":"bg-red-500";return h?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"text-lg",children:"Loading inventory data..."})}):r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>t("/procurement/purchase-orders"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[r.jsx(Fl,{})," Back to Purchase Orders"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Purchase Order Inventory Tracking"}),o&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["PO: ",o.po_number," | Vendor: ",(z=o.vendor)==null?void 0:z.name]})]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg",children:[r.jsx(Lh,{})," Print"]})})]}),a&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_items})]}),r.jsx(Bl,{className:"text-3xl text-blue-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Initial Quantity"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(I=a.total_initial_quantity)==null?void 0:I.toFixed(2)})]}),r.jsx(Zp,{className:"text-3xl text-green-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Current Stock"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(L=a.total_current_quantity)==null?void 0:L.toFixed(2)})]}),r.jsx(Ni,{className:"text-3xl text-yellow-500"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-4 border-l-4 border-red-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Consumed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:($=a.total_consumed)==null?void 0:$.toFixed(2)})]}),r.jsx(sv,{className:"text-3xl text-red-500"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b bg-gray-50",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory Items with Barcode Tracking"})}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Barcode"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Location"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Initial Qty"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Consumed"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remaining"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usage %"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(X=>{var G,ne;const V=F(X);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(nq,{className:"text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.barcode}),r.jsx("div",{className:"text-xs text-gray-500",children:X.batch_number})]})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:((G=X.product)==null?void 0:G.name)||"N/A"}),r.jsx("div",{className:"text-xs text-gray-500",children:(ne=X.product)==null?void 0:ne.description})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[r.jsx(Zp,{className:"text-xs"}),X.location]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:parseFloat(X.initial_quantity||0).toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium",children:parseFloat(X.consumed_quantity||0).toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:parseFloat(X.current_stock||0).toFixed(2)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${M(V)}`,style:{width:`${Math.min(V,100)}%`}})}),r.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[V,"%"]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{k(X),A(!0)},className:"text-blue-600 hover:text-blue-800",title:"View QR Code",children:r.jsx(Xs,{})}),r.jsx("button",{onClick:()=>{p(X),_(!0)},className:"text-orange-600 hover:text-orange-800",title:"Consume Stock",disabled:parseFloat(X.current_stock)<=0,children:r.jsx(sv,{})})]})})]},X.id)})})]}),n.length===0&&r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No inventory items found for this purchase order"})]})]}),b&&x&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"px-6 py-4 border-b bg-gradient-to-r from-orange-50 to-red-50",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(sv,{className:"text-orange-600"}),"Consume Stock"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((W=x.product)==null?void 0:W.name)||x.barcode})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Available Stock:"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseFloat(x.current_stock).toFixed(2)," ",(U=x.product)==null?void 0:U.unit_of_measurement]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity to Consume"}),r.jsx("input",{type:"number",value:v,onChange:X=>N(X.target.value),max:x.current_stock,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter quantity"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{value:j,onChange:X=>S(X.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Reason for consumption..."})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:()=>{_(!1),p(null),N(""),S("")},className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-medium",children:"Cancel"}),r.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium",children:"Confirm Consumption"})]})]})]})}),C&&E&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsx("div",{className:"px-6 py-4 border-b",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Item QR Code"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"text-center mb-4",children:r.jsx(Mi,{data:E.qr_code||JSON.stringify({barcode:E.barcode,product:(Y=E.product)==null?void 0:Y.name,location:E.location,batch:E.batch_number}),size:250})}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Barcode:"})," ",E.barcode]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Batch:"})," ",E.batch_number]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Location:"})," ",E.location]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Stock:"})," ",parseFloat(E.current_stock).toFixed(2)]})]}),r.jsx("button",{onClick:()=>A(!1),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Close"})]})]})})]})},Uv=e=>!e||!Array.isArray(e)||e.length!==3?null:e,rl=({required:e,anyOf:t,allOf:n,fallback:s=null,children:a})=>{const{hasPermission:i,hasAnyPermission:o}=$i(),d=Uv(e),h=Array.isArray(n)?n.map(Uv).filter(Boolean):[],u=Array.isArray(t)?t.map(Uv).filter(Boolean):[],x=d?i(...d):!0,p=h.length?h.every(_=>i(..._)):!0,b=u.length?o(u):!0;return x&&p&&b?a:s};rl.propTypes={required:Ct.arrayOf(Ct.string),anyOf:Ct.arrayOf(Ct.arrayOf(Ct.string)),allOf:Ct.arrayOf(Ct.arrayOf(Ct.string)),fallback:Ct.node,children:Ct.node.isRequired};const Q_e=()=>{const e={createOrder:["manufacturing","create","production_order"],updateOrder:["manufacturing","update","production_order"],deleteOrder:["manufacturing","delete","production_order"]},[t,n]=T.useState([]),[s,a]=T.useState(""),[i,o]=T.useState(!0),[d,h]=T.useState(!1),{hasPermission:u}=$i(),[x,p]=T.useState(!1),[b,_]=T.useState(!1),[v,N]=T.useState(null),[j,S]=T.useState({orderNumber:"",productId:"",quantity:"",startDate:"",endDate:"",priority:"medium"}),[C,A]=T.useState({open:!1,severity:"success",message:""}),{data:E=[],isLoading:k}=rR({status:"active",limit:200});T.useEffect(()=>{D()},[]);const D=async()=>{try{o(!0);const G=(await he.get("/manufacturing/orders")).data.productionOrders.map(ne=>({id:ne.id,orderNumber:ne.production_number,productName:ne.product?ne.product.name:"Unknown Product",quantity:ne.quantity,produced:ne.produced_quantity,startDate:ne.planned_start_date,endDate:ne.planned_end_date,status:ne.status,priority:ne.priority,productId:ne.product?ne.product.id:""}));n(G),o(!1)}catch(V){console.error("Error fetching orders:",V),o(!1),n([{id:1,orderNumber:"PO-2024-001",productName:"Cotton T-Shirt - Blue",quantity:500,produced:350,startDate:"2024-01-15",endDate:"2024-02-15",status:"in_progress",priority:"high"},{id:2,orderNumber:"PO-2024-002",productName:"Denim Jeans - Black",quantity:300,produced:0,startDate:"2024-01-20",endDate:"2024-02-20",status:"pending",priority:"medium"}])}},R=V=>{switch(V){case"completed":return"success";case"in_progress":return"info";case"pending":return"warning";case"cancelled":return"error";case"on_hold":return"default";default:return"default"}},F=V=>{switch(V){case"high":return"error";case"medium":return"warning";case"low":return"success";default:return"default"}},M=(V,G)=>V/G*100,z=()=>{if(!u(...e.createOrder)){it.error("You do not have permission to create production orders.");return}S({orderNumber:"",productId:"",quantity:"",startDate:"",endDate:"",priority:"medium"}),h(!0)},I=V=>{var G,ne;N(V),S({orderNumber:V.orderNumber,productId:V.productId||"",quantity:V.quantity,startDate:((G=V.startDate)==null?void 0:G.slice(0,10))||"",endDate:((ne=V.endDate)==null?void 0:ne.slice(0,10))||"",priority:V.priority,specialInstructions:V.special_instructions||"",salesOrderId:V.sales_order_id||""}),p(!0)},L=V=>{N(V),_(!0)},$=async V=>{if(window.confirm("Are you sure you want to delete this order?"))try{await he.delete(`/manufacturing/orders/${V.id}`),D(),A({open:!0,severity:"success",message:"Order deleted successfully"})}catch(G){console.error("Error deleting order:",G),A({open:!0,severity:"error",message:"Failed to delete order"})}},W=async V=>{var G,ne;try{await he.post(`/manufacturing/orders/${V.id}/start`),D(),A({open:!0,severity:"success",message:"Production started successfully"})}catch(ae){console.error("Error starting production:",ae),A({open:!0,severity:"error",message:((ne=(G=ae.response)==null?void 0:G.data)==null?void 0:ne.message)||"Failed to start production"})}},U=async V=>{var G,ne;try{await he.post(`/manufacturing/orders/${V.id}/stop`),D(),A({open:!0,severity:"success",message:"Production stopped successfully"})}catch(ae){console.error("Error stopping production:",ae),A({open:!0,severity:"error",message:((ne=(G=ae.response)==null?void 0:G.data)==null?void 0:ne.message)||"Failed to stop production"})}},Y=async()=>{var ie,fe;const{productId:V,quantity:G,startDate:ne,endDate:ae}=j;if(!V||!G||!ne||!ae){A({open:!0,severity:"error",message:"Product, quantity, start date, and end date are required"});return}const le={product_id:Number(V),quantity:Number(G),planned_start_date:ne,planned_end_date:ae,priority:j.priority,special_instructions:j.specialInstructions||"",sales_order_id:j.salesOrderId?Number(j.salesOrderId):void 0};try{x?(await he.put(`/manufacturing/orders/${v.id}`,le),A({open:!0,severity:"success",message:"Order updated successfully"})):(await he.post("/manufacturing/orders",le),A({open:!0,severity:"success",message:"Order created successfully"})),h(!1),p(!1),S({orderNumber:"",productId:"",quantity:"",startDate:"",endDate:"",priority:"medium",specialInstructions:"",salesOrderId:""}),D()}catch(xe){console.error("Error saving order:",xe),A({open:!0,severity:"error",message:((fe=(ie=xe.response)==null?void 0:ie.data)==null?void 0:fe.message)||"Failed to save order"})}},X=t.filter(V=>V.orderNumber.toLowerCase().includes(s.toLowerCase())||V.productName.toLowerCase().includes(s.toLowerCase()));return i?r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("span",{className:"text-lg text-gray-600",children:"Loading..."})}):r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Production Orders"}),r.jsx(rl,{required:e.createOrder,fallback:r.jsxs("button",{className:"bg-gray-300 text-gray-600 px-4 py-2 rounded flex items-center gap-2 cursor-not-allowed",type:"button",onClick:()=>it.error("You do not have permission to create production orders."),children:[r.jsx(Br,{}),"Create Order"]}),children:r.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 shadow hover:bg-primary-dark",onClick:z,children:[r.jsx(Br,{}),"Create Order"]})})]}),r.jsx("div",{className:"bg-white rounded shadow p-4 mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(Ps,{})}),r.jsx("input",{type:"text",placeholder:"Search production orders...",value:s,onChange:V=>a(V.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"})]})}),r.jsx("div",{className:"overflow-x-auto bg-white rounded shadow",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Order Number"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Product"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Quantity"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Progress"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Start Date"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"End Date"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Priority"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:X.map(V=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"px-4 py-2",children:V.orderNumber}),r.jsx("td",{className:"px-4 py-2",children:V.productName}),r.jsx("td",{className:"px-4 py-2",children:V.quantity}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"w-full mb-1",children:[r.jsx("div",{className:"h-2 rounded bg-gray-200",children:r.jsx("div",{className:`h-2 rounded ${M(V.produced,V.quantity)>80?"bg-green-500":M(V.produced,V.quantity)>50?"bg-yellow-400":"bg-primary"}`,style:{width:`${M(V.produced,V.quantity)}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500 mt-1 block",children:[V.produced,"/",V.quantity," (",Math.round(M(V.produced,V.quantity)),"%)"]})]})}),r.jsx("td",{className:"px-4 py-2",children:V.startDate}),r.jsx("td",{className:"px-4 py-2",children:V.endDate}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${F(V.priority)}-500 text-${F(V.priority)}-500`,children:V.priority})}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${R(V.status)}-500 text-${R(V.status)}-500`,children:V.status.replace("_"," ")})}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>L(V),title:"View",children:r.jsx(cs,{})}),r.jsx(rl,{required:e.updateOrder,fallback:r.jsx("button",{className:"text-yellow-300 cursor-not-allowed",type:"button",title:"Insufficient permission",onClick:()=>it.error("You do not have permission to edit orders."),children:r.jsx(Aa,{})}),children:r.jsx("button",{className:"text-yellow-500 hover:text-yellow-700",onClick:()=>I(V),title:"Edit",children:r.jsx(Aa,{})})}),V.status==="in_progress"?r.jsx(rl,{required:e.updateOrder,fallback:r.jsx("button",{className:"text-yellow-300 cursor-not-allowed",type:"button",title:"Insufficient permission",onClick:()=>it.error("You do not have permission to stop orders."),children:r.jsx(U6,{})}),children:r.jsx("button",{className:"text-yellow-500 hover:text-yellow-700",onClick:()=>U(V),title:"Stop",children:r.jsx(U6,{})})}):r.jsx(rl,{required:e.updateOrder,fallback:r.jsx("button",{className:"text-green-300 cursor-not-allowed",type:"button",title:"Insufficient permission",onClick:()=>it.error("You do not have permission to start orders."),children:r.jsx(Xp,{})}),children:r.jsx("button",{className:"text-green-500 hover:text-green-700",onClick:()=>W(V),title:"Start",children:r.jsx(Xp,{})})}),r.jsx(rl,{required:e.deleteOrder,fallback:r.jsx("button",{className:"text-red-300 cursor-not-allowed",type:"button",title:"Insufficient permission",onClick:()=>it.error("You do not have permission to delete orders."),children:r.jsx(Es,{})}),children:r.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>$(V),title:"Delete",children:r.jsx(Es,{})})})]})})]},V.id))})]})}),r.jsx(rl,{required:e.createOrder,fallback:r.jsx("button",{className:"fixed bottom-6 right-6 bg-gray-300 text-gray-600 rounded-full p-4 shadow-lg flex items-center justify-center cursor-not-allowed",type:"button",title:"Insufficient permission",onClick:()=>it.error("You do not have permission to create production orders."),children:r.jsx(Br,{})}),children:r.jsx("button",{className:"fixed bottom-6 right-6 bg-primary text-white rounded-full p-4 shadow-lg flex items-center justify-center hover:bg-primary-dark",onClick:z,title:"Create Order",children:r.jsx(Br,{})})}),(d||x)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:d?"Create Production Order":"Edit Production Order"}),r.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Order Number"}),r.jsx("input",{type:"text",value:j.orderNumber,onChange:V=>S({...j,orderNumber:V.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Product ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:j.productId,onChange:V=>S({...j,productId:V.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",disabled:k,children:[r.jsx("option",{value:"",children:"Select a product"}),E.map(V=>r.jsx("option",{value:V.id,children:V.name},V.id))]}),k&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading products..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Quantity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",min:"1",value:j.quantity,onChange:V=>S({...j,quantity:V.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),r.jsxs("select",{value:j.priority,onChange:V=>S({...j,priority:V.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:j.startDate,onChange:V=>S({...j,startDate:V.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:j.endDate,onChange:V=>S({...j,endDate:V.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",onClick:()=>{h(!1),p(!1),N(null),S({orderNumber:"",productName:"",quantity:"",startDate:"",endDate:"",priority:"medium"})},children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark",onClick:Y,children:d?"Create":"Update"})]})]})}),b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Production Order Details"}),v&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Order Number:"})," ",v.orderNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Product:"})," ",v.productName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Quantity:"})," ",v.quantity]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Produced:"})," ",v.produced]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Start Date:"})," ",v.startDate]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"End Date:"})," ",v.endDate]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Priority:"})," ",v.priority]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Status:"})," ",v.status]})]}),r.jsx("div",{className:"flex justify-end gap-2 mt-6",children:r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",onClick:()=>{_(!1),N(null)},children:"Close"})})]})}),C.open&&r.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:r.jsx("div",{className:`px-4 py-2 rounded shadow text-white ${C.severity==="success"?"bg-green-500":C.severity==="error"?"bg-red-500":"bg-primary"}`,children:C.message})})]})};var Wm=e=>e.type==="checkbox",kc=e=>e instanceof Date,Kn=e=>e==null;const oR=e=>typeof e=="object";var Xr=e=>!Kn(e)&&!Array.isArray(e)&&oR(e)&&!kc(e),lR=e=>Xr(e)&&e.target?Wm(e.target)?e.target.checked:e.target.value:e,Y_e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cR=(e,t)=>e.has(Y_e(t)),X_e=e=>{const t=e.constructor&&e.constructor.prototype;return Xr(t)&&t.hasOwnProperty("isPrototypeOf")},y_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yr(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(y_&&(e instanceof Blob||s))&&(n||Xr(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!X_e(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=yr(e[a]));else return e;return t}var rb=e=>/^\w*$/.test(e),jr=e=>e===void 0,nb=e=>Array.isArray(e)?e.filter(Boolean):[],b_=e=>nb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ye=(e,t,n)=>{if(!t||!Xr(e))return n;const s=(rb(t)?[t]:b_(t)).reduce((a,i)=>Kn(a)?a:a[i],e);return jr(s)||s===e?jr(e[t])?n:e[t]:s},Vs=e=>typeof e=="boolean",Ht=(e,t,n)=>{let s=-1;const a=rb(t)?[t]:b_(t),i=a.length,o=i-1;for(;++s<i;){const d=a[s];let h=n;if(s!==o){const u=e[d];h=Xr(u)||Array.isArray(u)?u:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=h,e=e[d]}};const cy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},v_=K.createContext(null);v_.displayName="HookFormContext";const Gm=()=>K.useContext(v_),K_e=e=>{const{children:t,...n}=e;return K.createElement(v_.Provider,{value:n},t)};var dR=(e,t,n,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==va.all&&(t._proxyFormState[o]=!s||va.all),n&&(n[o]=!0),e[o]}});return a};const sb=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Z_e(e){const t=Gm(),{control:n=t.control,disabled:s,name:a,exact:i}=e||{},[o,d]=K.useState(n._formState),h=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sb(()=>n._subscribe({name:a,formState:h.current,exact:i,callback:u=>{!s&&d({...n._formState,...u})}}),[a,s,i]),K.useEffect(()=>{h.current.isValid&&n._setValid(!0)},[n]),K.useMemo(()=>dR(o,n,h.current,!1),[o,n])}var Qs=e=>typeof e=="string",uR=(e,t,n,s,a)=>Qs(e)?(s&&t.watch.add(e),Ye(n,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Ye(n,i))):(s&&(t.watchAll=!0),n),oN=e=>Kn(e)||!oR(e);function lo(e,t,n=new WeakSet){if(oN(e)||oN(t))return e===t;if(kc(e)&&kc(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const d=t[i];if(kc(o)&&kc(d)||Xr(o)&&Xr(d)||Array.isArray(o)&&Array.isArray(d)?!lo(o,d,n):o!==d)return!1}}return!0}function J_e(e){const t=Gm(),{control:n=t.control,name:s,defaultValue:a,disabled:i,exact:o,compute:d}=e||{},h=K.useRef(a),u=K.useRef(d),x=K.useRef(void 0);u.current=d;const p=K.useMemo(()=>n._getWatch(s,h.current),[n,s]),[b,_]=K.useState(u.current?u.current(p):p);return sb(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:v=>{if(!i){const N=uR(s,n._names,v.values||n._formValues,!1,h.current);if(u.current){const j=u.current(N);lo(j,x.current)||(_(j),x.current=j)}else _(N)}}}),[n,i,s,o]),K.useEffect(()=>n._removeUnmounted()),b}function eSe(e){const t=Gm(),{name:n,disabled:s,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,d=cR(a._names.array,n),h=K.useMemo(()=>Ye(a._formValues,n,Ye(a._defaultValues,n,o)),[a,n,o]),u=J_e({control:a,name:n,defaultValue:h,exact:!0}),x=Z_e({control:a,name:n,exact:!0}),p=K.useRef(e),b=K.useRef(void 0),_=K.useRef(a.register(n,{...e.rules,value:u,...Vs(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const v=K.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ye(x.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ye(x.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ye(x.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ye(x.validatingFields,n)},error:{enumerable:!0,get:()=>Ye(x.errors,n)}}),[x,n]),N=K.useCallback(A=>_.current.onChange({target:{value:lR(A),name:n},type:cy.CHANGE}),[n]),j=K.useCallback(()=>_.current.onBlur({target:{value:Ye(a._formValues,n),name:n},type:cy.BLUR}),[n,a._formValues]),S=K.useCallback(A=>{const E=Ye(a._fields,n);E&&A&&(E._f.ref={focus:()=>A.focus&&A.focus(),select:()=>A.select&&A.select(),setCustomValidity:k=>A.setCustomValidity(k),reportValidity:()=>A.reportValidity()})},[a._fields,n]),C=K.useMemo(()=>({name:n,value:u,...Vs(s)||x.disabled?{disabled:x.disabled||s}:{},onChange:N,onBlur:j,ref:S}),[n,s,x.disabled,N,j,S,u]);return K.useEffect(()=>{const A=a._options.shouldUnregister||i,E=b.current;E&&E!==n&&!d&&a.unregister(E),a.register(n,{...p.current.rules,...Vs(p.current.disabled)?{disabled:p.current.disabled}:{}});const k=(D,R)=>{const F=Ye(a._fields,D);F&&F._f&&(F._f.mount=R)};if(k(n,!0),A){const D=yr(Ye(a._options.defaultValues,n));Ht(a._defaultValues,n,D),jr(Ye(a._formValues,n))&&Ht(a._formValues,n,D)}return!d&&a.register(n),b.current=n,()=>{(d?A&&!a._state.action:A)?a.unregister(n):k(n,!1)}},[n,a,d,i]),K.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),K.useMemo(()=>({field:C,formState:x,fieldState:v}),[C,x,v])}const ys=e=>e.render(eSe(e));var hR=(e,t,n,s,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:a||!0}}:{},Ns=e=>Array.isArray(e)?e:[e],JE=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function fR(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],i=t[s];if(a&&Xr(a)&&i){const o=fR(a,i);Xr(o)&&(n[s]=o)}else e[s]&&(n[s]=i)}return n}var Qn=e=>Xr(e)&&!Object.keys(e).length,j_=e=>e.type==="file",Ga=e=>typeof e=="function",dy=e=>{if(!y_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},mR=e=>e.type==="select-multiple",w_=e=>e.type==="radio",tSe=e=>w_(e)||Wm(e),zv=e=>dy(e)&&e.isConnected;function rSe(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=jr(e)?s++:e[t[s++]];return e}function nSe(e){for(const t in e)if(e.hasOwnProperty(t)&&!jr(e[t]))return!1;return!0}function zr(e,t){const n=Array.isArray(t)?t:rb(t)?[t]:b_(t),s=n.length===1?e:rSe(e,n),a=n.length-1,i=n[a];return s&&delete s[i],a!==0&&(Xr(s)&&Qn(s)||Array.isArray(s)&&nSe(s))&&zr(e,n.slice(0,-1)),e}var sSe=e=>{for(const t in e)if(Ga(e[t]))return!0;return!1};function xR(e){return Array.isArray(e)||Xr(e)&&!sSe(e)}function lN(e,t={}){for(const n in e)xR(e[n])?(t[n]=Array.isArray(e[n])?[]:{},lN(e[n],t[n])):Kn(e[n])||(t[n]=!0);return t}function Kd(e,t,n){n||(n=lN(t));for(const s in e)xR(e[s])?jr(t)||oN(n[s])?n[s]=lN(e[s],Array.isArray(e[s])?[]:{}):Kd(e[s],Kn(t)?{}:t[s],n[s]):n[s]=!lo(e[s],t[s]);return n}const e8={value:!1,isValid:!1},t8={value:!0,isValid:!0};var pR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!jr(e[0].attributes.value)?jr(e[0].value)||e[0].value===""?t8:{value:e[0].value,isValid:!0}:t8:e8}return e8},gR=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>jr(e)?e:t?e===""?NaN:e&&+e:n&&Qs(e)?new Date(e):s?s(e):e;const r8={isValid:!1,value:null};var yR=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,r8):r8;function n8(e){const t=e.ref;return j_(t)?t.files:w_(t)?yR(e.refs).value:mR(t)?[...t.selectedOptions].map(({value:n})=>n):Wm(t)?pR(e.refs).value:gR(jr(t.value)?e.ref.value:t.value,e)}var aSe=(e,t,n,s)=>{const a={};for(const i of e){const o=Ye(t,i);o&&Ht(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:s}},uy=e=>e instanceof RegExp,I0=e=>jr(e)?e:uy(e)?e.source:Xr(e)?uy(e.value)?e.value.source:e.value:e,pu=e=>({isOnSubmit:!e||e===va.onSubmit,isOnBlur:e===va.onBlur,isOnChange:e===va.onChange,isOnAll:e===va.all,isOnTouch:e===va.onTouched});const s8="AsyncFunction";var iSe=e=>!!e&&!!e.validate&&!!(Ga(e.validate)&&e.validate.constructor.name===s8||Xr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===s8)),oSe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Tu=(e,t,n,s)=>{for(const a of n||Object.keys(e)){const i=Ye(e,a);if(i){const{_f:o,...d}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Tu(d,t))break}else if(Xr(d)&&Tu(d,t))break}}};function a8(e,t,n){const s=Ye(e,n);if(s||rb(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=Ye(t,i),d=Ye(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(d&&d.type)return{name:i,error:d};if(d&&d.root&&d.root.type)return{name:`${i}.root`,error:d.root};a.pop()}return{name:n}}var lSe=(e,t,n,s)=>{n(e);const{name:a,...i}=e;return Qn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||va.all))},cSe=(e,t,n)=>!e||!t||e===t||Ns(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),dSe=(e,t,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?s.isOnBlur:a.isOnBlur)?!e:(n?s.isOnChange:a.isOnChange)?e:!0,uSe=(e,t)=>!nb(Ye(e,t)).length&&zr(e,t),bR=(e,t,n)=>{const s=Ns(Ye(e,n));return Ht(s,"root",t[n]),Ht(e,n,s),e};function i8(e,t,n="validate"){if(Qs(e)||Array.isArray(e)&&e.every(Qs)||Vs(e)&&!e)return{type:n,message:Qs(e)?e:"",ref:t}}var Qd=e=>Xr(e)&&!uy(e)?e:{value:e,message:""},dN=async(e,t,n,s,a,i)=>{const{ref:o,refs:d,required:h,maxLength:u,minLength:x,min:p,max:b,pattern:_,validate:v,name:N,valueAsNumber:j,mount:S}=e._f,C=Ye(n,N);if(!S||t.has(N))return{};const A=d?d[0]:o,E=L=>{a&&A.reportValidity&&(A.setCustomValidity(Vs(L)?"":L||""),A.reportValidity())},k={},D=w_(o),R=Wm(o),F=D||R,M=(j||j_(o))&&jr(o.value)&&jr(C)||dy(o)&&o.value===""||C===""||Array.isArray(C)&&!C.length,z=hR.bind(null,N,s,k),I=(L,$,W,U=Yi.maxLength,Y=Yi.minLength)=>{const X=L?$:W;k[N]={type:L?U:Y,message:X,ref:o,...z(L?U:Y,X)}};if(i?!Array.isArray(C)||!C.length:h&&(!F&&(M||Kn(C))||Vs(C)&&!C||R&&!pR(d).isValid||D&&!yR(d).isValid)){const{value:L,message:$}=Qs(h)?{value:!!h,message:h}:Qd(h);if(L&&(k[N]={type:Yi.required,message:$,ref:A,...z(Yi.required,$)},!s))return E($),k}if(!M&&(!Kn(p)||!Kn(b))){let L,$;const W=Qd(b),U=Qd(p);if(!Kn(C)&&!isNaN(C)){const Y=o.valueAsNumber||C&&+C;Kn(W.value)||(L=Y>W.value),Kn(U.value)||($=Y<U.value)}else{const Y=o.valueAsDate||new Date(C),X=ne=>new Date(new Date().toDateString()+" "+ne),V=o.type=="time",G=o.type=="week";Qs(W.value)&&C&&(L=V?X(C)>X(W.value):G?C>W.value:Y>new Date(W.value)),Qs(U.value)&&C&&($=V?X(C)<X(U.value):G?C<U.value:Y<new Date(U.value))}if((L||$)&&(I(!!L,W.message,U.message,Yi.max,Yi.min),!s))return E(k[N].message),k}if((u||x)&&!M&&(Qs(C)||i&&Array.isArray(C))){const L=Qd(u),$=Qd(x),W=!Kn(L.value)&&C.length>+L.value,U=!Kn($.value)&&C.length<+$.value;if((W||U)&&(I(W,L.message,$.message),!s))return E(k[N].message),k}if(_&&!M&&Qs(C)){const{value:L,message:$}=Qd(_);if(uy(L)&&!C.match(L)&&(k[N]={type:Yi.pattern,message:$,ref:o,...z(Yi.pattern,$)},!s))return E($),k}if(v){if(Ga(v)){const L=await v(C,n),$=i8(L,A);if($&&(k[N]={...$,...z(Yi.validate,$.message)},!s))return E($.message),k}else if(Xr(v)){let L={};for(const $ in v){if(!Qn(L)&&!s)break;const W=i8(await v[$](C,n),A,$);W&&(L={...W,...z($,W.message)},E(W.message),s&&(k[N]=L))}if(!Qn(L)&&(k[N]={ref:A,...L},!s))return k}}return E(!0),k};const hSe={mode:va.onSubmit,reValidateMode:va.onChange,shouldFocusError:!0};function fSe(e={}){let t={...hSe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ga(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Xr(t.defaultValues)||Xr(t.values)?yr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:yr(a),o={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,u=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...x};const b={array:JE(),state:JE()},_=t.criteriaMode===va.all,v=Z=>ee=>{clearTimeout(u),u=setTimeout(Z,ee)},N=async Z=>{if(!t.disabled&&(x.isValid||p.isValid||Z)){const ee=t.resolver?Qn((await R()).errors):await M(s,!0);ee!==n.isValid&&b.state.next({isValid:ee})}},j=(Z,ee)=>{!t.disabled&&(x.isValidating||x.validatingFields||p.isValidating||p.validatingFields)&&((Z||Array.from(d.mount)).forEach(pe=>{pe&&(ee?Ht(n.validatingFields,pe,ee):zr(n.validatingFields,pe))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},S=(Z,ee=[],pe,Le,Ee=!0,$e=!0)=>{if(Le&&pe&&!t.disabled){if(o.action=!0,$e&&Array.isArray(Ye(s,Z))){const Xe=pe(Ye(s,Z),Le.argA,Le.argB);Ee&&Ht(s,Z,Xe)}if($e&&Array.isArray(Ye(n.errors,Z))){const Xe=pe(Ye(n.errors,Z),Le.argA,Le.argB);Ee&&Ht(n.errors,Z,Xe),uSe(n.errors,Z)}if((x.touchedFields||p.touchedFields)&&$e&&Array.isArray(Ye(n.touchedFields,Z))){const Xe=pe(Ye(n.touchedFields,Z),Le.argA,Le.argB);Ee&&Ht(n.touchedFields,Z,Xe)}(x.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Kd(a,i)),b.state.next({name:Z,isDirty:I(Z,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ht(i,Z,ee)},C=(Z,ee)=>{Ht(n.errors,Z,ee),b.state.next({errors:n.errors})},A=Z=>{n.errors=Z,b.state.next({errors:n.errors,isValid:!1})},E=(Z,ee,pe,Le)=>{const Ee=Ye(s,Z);if(Ee){const $e=Ye(i,Z,jr(pe)?Ye(a,Z):pe);jr($e)||Le&&Le.defaultChecked||ee?Ht(i,Z,ee?$e:n8(Ee._f)):W(Z,$e),o.mount&&N()}},k=(Z,ee,pe,Le,Ee)=>{let $e=!1,Xe=!1;const wt={name:Z};if(!t.disabled){if(!pe||Le){(x.isDirty||p.isDirty)&&(Xe=n.isDirty,n.isDirty=wt.isDirty=I(),$e=Xe!==wt.isDirty);const be=lo(Ye(a,Z),ee);Xe=!!Ye(n.dirtyFields,Z),be?zr(n.dirtyFields,Z):Ht(n.dirtyFields,Z,!0),wt.dirtyFields=n.dirtyFields,$e=$e||(x.dirtyFields||p.dirtyFields)&&Xe!==!be}if(pe){const be=Ye(n.touchedFields,Z);be||(Ht(n.touchedFields,Z,pe),wt.touchedFields=n.touchedFields,$e=$e||(x.touchedFields||p.touchedFields)&&be!==pe)}$e&&Ee&&b.state.next(wt)}return $e?wt:{}},D=(Z,ee,pe,Le)=>{const Ee=Ye(n.errors,Z),$e=(x.isValid||p.isValid)&&Vs(ee)&&n.isValid!==ee;if(t.delayError&&pe?(h=v(()=>C(Z,pe)),h(t.delayError)):(clearTimeout(u),h=null,pe?Ht(n.errors,Z,pe):zr(n.errors,Z)),(pe?!lo(Ee,pe):Ee)||!Qn(Le)||$e){const Xe={...Le,...$e&&Vs(ee)?{isValid:ee}:{},errors:n.errors,name:Z};n={...n,...Xe},b.state.next(Xe)}},R=async Z=>{j(Z,!0);const ee=await t.resolver(i,t.context,aSe(Z||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(Z),ee},F=async Z=>{const{errors:ee}=await R(Z);if(Z)for(const pe of Z){const Le=Ye(ee,pe);Le?Ht(n.errors,pe,Le):zr(n.errors,pe)}else n.errors=ee;return ee},M=async(Z,ee,pe={valid:!0})=>{for(const Le in Z){const Ee=Z[Le];if(Ee){const{_f:$e,...Xe}=Ee;if($e){const wt=d.array.has($e.name),be=Ee._f&&iSe(Ee._f);be&&x.validatingFields&&j([$e.name],!0);const Be=await dN(Ee,d.disabled,i,_,t.shouldUseNativeValidation&&!ee,wt);if(be&&x.validatingFields&&j([$e.name]),Be[$e.name]&&(pe.valid=!1,ee))break;!ee&&(Ye(Be,$e.name)?wt?bR(n.errors,Be,$e.name):Ht(n.errors,$e.name,Be[$e.name]):zr(n.errors,$e.name))}!Qn(Xe)&&await M(Xe,ee,pe)}}return pe.valid},z=()=>{for(const Z of d.unMount){const ee=Ye(s,Z);ee&&(ee._f.refs?ee._f.refs.every(pe=>!zv(pe)):!zv(ee._f.ref))&&ke(Z)}d.unMount=new Set},I=(Z,ee)=>!t.disabled&&(Z&&ee&&Ht(i,Z,ee),!lo(ne(),a)),L=(Z,ee,pe)=>uR(Z,d,{...o.mount?i:jr(ee)?a:Qs(Z)?{[Z]:ee}:ee},pe,ee),$=Z=>nb(Ye(o.mount?i:a,Z,t.shouldUnregister?Ye(a,Z,[]):[])),W=(Z,ee,pe={})=>{const Le=Ye(s,Z);let Ee=ee;if(Le){const $e=Le._f;$e&&(!$e.disabled&&Ht(i,Z,gR(ee,$e)),Ee=dy($e.ref)&&Kn(ee)?"":ee,mR($e.ref)?[...$e.ref.options].forEach(Xe=>Xe.selected=Ee.includes(Xe.value)):$e.refs?Wm($e.ref)?$e.refs.forEach(Xe=>{(!Xe.defaultChecked||!Xe.disabled)&&(Array.isArray(Ee)?Xe.checked=!!Ee.find(wt=>wt===Xe.value):Xe.checked=Ee===Xe.value||!!Ee)}):$e.refs.forEach(Xe=>Xe.checked=Xe.value===Ee):j_($e.ref)?$e.ref.value="":($e.ref.value=Ee,$e.ref.type||b.state.next({name:Z,values:yr(i)})))}(pe.shouldDirty||pe.shouldTouch)&&k(Z,Ee,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&G(Z)},U=(Z,ee,pe)=>{for(const Le in ee){if(!ee.hasOwnProperty(Le))return;const Ee=ee[Le],$e=Z+"."+Le,Xe=Ye(s,$e);(d.array.has(Z)||Xr(Ee)||Xe&&!Xe._f)&&!kc(Ee)?U($e,Ee,pe):W($e,Ee,pe)}},Y=(Z,ee,pe={})=>{const Le=Ye(s,Z),Ee=d.array.has(Z),$e=yr(ee);Ht(i,Z,$e),Ee?(b.array.next({name:Z,values:yr(i)}),(x.isDirty||x.dirtyFields||p.isDirty||p.dirtyFields)&&pe.shouldDirty&&b.state.next({name:Z,dirtyFields:Kd(a,i),isDirty:I(Z,$e)})):Le&&!Le._f&&!Kn($e)?U(Z,$e,pe):W(Z,$e,pe),cN(Z,d)&&b.state.next({...n,name:Z}),b.state.next({name:o.mount?Z:void 0,values:yr(i)})},X=async Z=>{o.mount=!0;const ee=Z.target;let pe=ee.name,Le=!0;const Ee=Ye(s,pe),$e=be=>{Le=Number.isNaN(be)||kc(be)&&isNaN(be.getTime())||lo(be,Ye(i,pe,be))},Xe=pu(t.mode),wt=pu(t.reValidateMode);if(Ee){let be,Be;const gt=ee.type?n8(Ee._f):lR(Z),Et=Z.type===cy.BLUR||Z.type===cy.FOCUS_OUT,Or=!oSe(Ee._f)&&!t.resolver&&!Ye(n.errors,pe)&&!Ee._f.deps||dSe(Et,Ye(n.touchedFields,pe),n.isSubmitted,wt,Xe),It=cN(pe,d,Et);Ht(i,pe,gt),Et?(!ee||!ee.readOnly)&&(Ee._f.onBlur&&Ee._f.onBlur(Z),h&&h(0)):Ee._f.onChange&&Ee._f.onChange(Z);const Ie=k(pe,gt,Et),se=!Qn(Ie)||It;if(!Et&&b.state.next({name:pe,type:Z.type,values:yr(i)}),Or)return(x.isValid||p.isValid)&&(t.mode==="onBlur"?Et&&N():Et||N()),se&&b.state.next({name:pe,...It?{}:Ie});if(!Et&&It&&b.state.next({...n}),t.resolver){const{errors:we}=await R([pe]);if($e(gt),Le){const De=a8(n.errors,s,pe),tt=a8(we,s,De.name||pe);be=tt.error,pe=tt.name,Be=Qn(we)}}else j([pe],!0),be=(await dN(Ee,d.disabled,i,_,t.shouldUseNativeValidation))[pe],j([pe]),$e(gt),Le&&(be?Be=!1:(x.isValid||p.isValid)&&(Be=await M(s,!0)));Le&&(Ee._f.deps&&(!Array.isArray(Ee._f.deps)||Ee._f.deps.length>0)&&G(Ee._f.deps),D(pe,Be,be,Ie))}},V=(Z,ee)=>{if(Ye(n.errors,ee)&&Z.focus)return Z.focus(),1},G=async(Z,ee={})=>{let pe,Le;const Ee=Ns(Z);if(t.resolver){const $e=await F(jr(Z)?Z:Ee);pe=Qn($e),Le=Z?!Ee.some(Xe=>Ye($e,Xe)):pe}else Z?(Le=(await Promise.all(Ee.map(async $e=>{const Xe=Ye(s,$e);return await M(Xe&&Xe._f?{[$e]:Xe}:Xe)}))).every(Boolean),!(!Le&&!n.isValid)&&N()):Le=pe=await M(s);return b.state.next({...!Qs(Z)||(x.isValid||p.isValid)&&pe!==n.isValid?{}:{name:Z},...t.resolver||!Z?{isValid:pe}:{},errors:n.errors}),ee.shouldFocus&&!Le&&Tu(s,V,Z?Ee:d.mount),Le},ne=(Z,ee)=>{let pe={...o.mount?i:a};return ee&&(pe=fR(ee.dirtyFields?n.dirtyFields:n.touchedFields,pe)),jr(Z)?pe:Qs(Z)?Ye(pe,Z):Z.map(Le=>Ye(pe,Le))},ae=(Z,ee)=>({invalid:!!Ye((ee||n).errors,Z),isDirty:!!Ye((ee||n).dirtyFields,Z),error:Ye((ee||n).errors,Z),isValidating:!!Ye(n.validatingFields,Z),isTouched:!!Ye((ee||n).touchedFields,Z)}),le=Z=>{Z&&Ns(Z).forEach(ee=>zr(n.errors,ee)),b.state.next({errors:Z?n.errors:{}})},ie=(Z,ee,pe)=>{const Le=(Ye(s,Z,{_f:{}})._f||{}).ref,Ee=Ye(n.errors,Z)||{},{ref:$e,message:Xe,type:wt,...be}=Ee;Ht(n.errors,Z,{...be,...ee,ref:Le}),b.state.next({name:Z,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&Le&&Le.focus&&Le.focus()},fe=(Z,ee)=>Ga(Z)?b.state.subscribe({next:pe=>"values"in pe&&Z(L(void 0,ee),pe)}):L(Z,ee,!0),xe=Z=>b.state.subscribe({next:ee=>{cSe(Z.name,ee.name,Z.exact)&&lSe(ee,Z.formState||x,ft,Z.reRenderRoot)&&Z.callback({values:{...i},...n,...ee,defaultValues:a})}}).unsubscribe,ge=Z=>(o.mount=!0,p={...p,...Z.formState},xe({...Z,formState:p})),ke=(Z,ee={})=>{for(const pe of Z?Ns(Z):d.mount)d.mount.delete(pe),d.array.delete(pe),ee.keepValue||(zr(s,pe),zr(i,pe)),!ee.keepError&&zr(n.errors,pe),!ee.keepDirty&&zr(n.dirtyFields,pe),!ee.keepTouched&&zr(n.touchedFields,pe),!ee.keepIsValidating&&zr(n.validatingFields,pe),!t.shouldUnregister&&!ee.keepDefaultValue&&zr(a,pe);b.state.next({values:yr(i)}),b.state.next({...n,...ee.keepDirty?{isDirty:I()}:{}}),!ee.keepIsValid&&N()},Ae=({disabled:Z,name:ee})=>{(Vs(Z)&&o.mount||Z||d.disabled.has(ee))&&(Z?d.disabled.add(ee):d.disabled.delete(ee))},Ne=(Z,ee={})=>{let pe=Ye(s,Z);const Le=Vs(ee.disabled)||Vs(t.disabled);return Ht(s,Z,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:Z}},name:Z,mount:!0,...ee}}),d.mount.add(Z),pe?Ae({disabled:Vs(ee.disabled)?ee.disabled:t.disabled,name:Z}):E(Z,!0,ee.value),{...Le?{disabled:ee.disabled||t.disabled}:{},...t.progressive?{required:!!ee.required,min:I0(ee.min),max:I0(ee.max),minLength:I0(ee.minLength),maxLength:I0(ee.maxLength),pattern:I0(ee.pattern)}:{},name:Z,onChange:X,onBlur:X,ref:Ee=>{if(Ee){Ne(Z,ee),pe=Ye(s,Z);const $e=jr(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,Xe=tSe($e),wt=pe._f.refs||[];if(Xe?wt.find(be=>be===$e):$e===pe._f.ref)return;Ht(s,Z,{_f:{...pe._f,...Xe?{refs:[...wt.filter(zv),$e,...Array.isArray(Ye(a,Z))?[{}]:[]],ref:{type:$e.type,name:Z}}:{ref:$e}}}),E(Z,!1,void 0,$e)}else pe=Ye(s,Z,{}),pe._f&&(pe._f.mount=!1),(t.shouldUnregister||ee.shouldUnregister)&&!(cR(d.array,Z)&&o.action)&&d.unMount.add(Z)}}},Me=()=>t.shouldFocusError&&Tu(s,V,d.mount),Re=Z=>{Vs(Z)&&(b.state.next({disabled:Z}),Tu(s,(ee,pe)=>{const Le=Ye(s,pe);Le&&(ee.disabled=Le._f.disabled||Z,Array.isArray(Le._f.refs)&&Le._f.refs.forEach(Ee=>{Ee.disabled=Le._f.disabled||Z}))},0,!1))},Pe=(Z,ee)=>async pe=>{let Le;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let Ee=yr(i);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:$e,values:Xe}=await R();n.errors=$e,Ee=yr(Xe)}else await M(s);if(d.disabled.size)for(const $e of d.disabled)zr(Ee,$e);if(zr(n.errors,"root"),Qn(n.errors)){b.state.next({errors:{}});try{await Z(Ee,pe)}catch($e){Le=$e}}else ee&&await ee({...n.errors},pe),Me(),setTimeout(Me);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!Le,submitCount:n.submitCount+1,errors:n.errors}),Le)throw Le},Ke=(Z,ee={})=>{Ye(s,Z)&&(jr(ee.defaultValue)?Y(Z,yr(Ye(a,Z))):(Y(Z,ee.defaultValue),Ht(a,Z,yr(ee.defaultValue))),ee.keepTouched||zr(n.touchedFields,Z),ee.keepDirty||(zr(n.dirtyFields,Z),n.isDirty=ee.defaultValue?I(Z,yr(Ye(a,Z))):I()),ee.keepError||(zr(n.errors,Z),x.isValid&&N()),b.state.next({...n}))},lt=(Z,ee={})=>{const pe=Z?yr(Z):a,Le=yr(pe),Ee=Qn(Z),$e=Ee?a:Le;if(ee.keepDefaultValues||(a=pe),!ee.keepValues){if(ee.keepDirtyValues){const Xe=new Set([...d.mount,...Object.keys(Kd(a,i))]);for(const wt of Array.from(Xe))Ye(n.dirtyFields,wt)?Ht($e,wt,Ye(i,wt)):Y(wt,Ye($e,wt))}else{if(y_&&jr(Z))for(const Xe of d.mount){const wt=Ye(s,Xe);if(wt&&wt._f){const be=Array.isArray(wt._f.refs)?wt._f.refs[0]:wt._f.ref;if(dy(be)){const Be=be.closest("form");if(Be){Be.reset();break}}}}if(ee.keepFieldsRef)for(const Xe of d.mount)Y(Xe,Ye($e,Xe));else s={}}i=t.shouldUnregister?ee.keepDefaultValues?yr(a):{}:yr($e),b.array.next({values:{...$e}}),b.state.next({values:{...$e}})}d={mount:ee.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!x.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,b.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:Ee?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!lo(Z,a)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ee?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?Kd(a,i):n.dirtyFields:ee.keepDefaultValues&&Z?Kd(a,Z):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},vt=(Z,ee)=>lt(Ga(Z)?Z(i):Z,ee),Ot=(Z,ee={})=>{const pe=Ye(s,Z),Le=pe&&pe._f;if(Le){const Ee=Le.refs?Le.refs[0]:Le.ref;Ee.focus&&(Ee.focus(),ee.shouldSelect&&Ga(Ee.select)&&Ee.select())}},ft=Z=>{n={...n,...Z}},oe={control:{register:Ne,unregister:ke,getFieldState:ae,handleSubmit:Pe,setError:ie,_subscribe:xe,_runSchema:R,_focusError:Me,_getWatch:L,_getDirty:I,_setValid:N,_setFieldArray:S,_setDisabledField:Ae,_setErrors:A,_getFieldArray:$,_reset:lt,_resetDefaultValues:()=>Ga(t.defaultValues)&&t.defaultValues().then(Z=>{vt(Z,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Re,_subjects:b,_proxyFormState:x,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(Z){o=Z},get _defaultValues(){return a},get _names(){return d},set _names(Z){d=Z},get _formState(){return n},get _options(){return t},set _options(Z){t={...t,...Z}}},subscribe:ge,trigger:G,register:Ne,handleSubmit:Pe,watch:fe,setValue:Y,getValues:ne,reset:vt,resetField:Ke,clearErrors:le,unregister:ke,setError:ie,setFocus:Ot,getFieldState:ae};return{...oe,formControl:oe}}var Qo=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Vv=(e,t,n={})=>n.shouldFocus||jr(n.shouldFocus)?n.focusName||`${e}.${jr(n.focusIndex)?t:n.focusIndex}.`:"",qv=(e,t)=>[...e,...Ns(t)],Hv=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Wv(e,t,n){return[...e.slice(0,t),...Ns(n),...e.slice(t)]}var Gv=(e,t,n)=>Array.isArray(e)?(jr(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Qv=(e,t)=>[...Ns(t),...Ns(e)];function mSe(e,t){let n=0;const s=[...e];for(const a of t)s.splice(a-n,1),n++;return nb(s).length?s:[]}var Yv=(e,t)=>jr(t)?[]:mSe(e,Ns(t).sort((n,s)=>n-s)),Xv=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},o8=(e,t,n)=>(e[t]=n,e);function ab(e){const t=Gm(),{control:n=t.control,name:s,keyName:a="id",shouldUnregister:i,rules:o}=e,[d,h]=K.useState(n._getFieldArray(s)),u=K.useRef(n._getFieldArray(s).map(Qo)),x=K.useRef(d),p=K.useRef(!1);x.current=d,n._names.array.add(s),K.useMemo(()=>o&&n.register(s,o),[n,o,s]),sb(()=>n._subjects.array.subscribe({next:({values:k,name:D})=>{if(D===s||!D){const R=Ye(k,s);Array.isArray(R)&&(h(R),u.current=R.map(Qo))}}}).unsubscribe,[n,s]);const b=K.useCallback(k=>{p.current=!0,n._setFieldArray(s,k)},[n,s]),_=(k,D)=>{const R=Ns(yr(k)),F=qv(n._getFieldArray(s),R);n._names.focus=Vv(s,F.length-1,D),u.current=qv(u.current,R.map(Qo)),b(F),h(F),n._setFieldArray(s,F,qv,{argA:Hv(k)})},v=(k,D)=>{const R=Ns(yr(k)),F=Qv(n._getFieldArray(s),R);n._names.focus=Vv(s,0,D),u.current=Qv(u.current,R.map(Qo)),b(F),h(F),n._setFieldArray(s,F,Qv,{argA:Hv(k)})},N=k=>{const D=Yv(n._getFieldArray(s),k);u.current=Yv(u.current,k),b(D),h(D),!Array.isArray(Ye(n._fields,s))&&Ht(n._fields,s,void 0),n._setFieldArray(s,D,Yv,{argA:k})},j=(k,D,R)=>{const F=Ns(yr(D)),M=Wv(n._getFieldArray(s),k,F);n._names.focus=Vv(s,k,R),u.current=Wv(u.current,k,F.map(Qo)),b(M),h(M),n._setFieldArray(s,M,Wv,{argA:k,argB:Hv(D)})},S=(k,D)=>{const R=n._getFieldArray(s);Xv(R,k,D),Xv(u.current,k,D),b(R),h(R),n._setFieldArray(s,R,Xv,{argA:k,argB:D},!1)},C=(k,D)=>{const R=n._getFieldArray(s);Gv(R,k,D),Gv(u.current,k,D),b(R),h(R),n._setFieldArray(s,R,Gv,{argA:k,argB:D},!1)},A=(k,D)=>{const R=yr(D),F=o8(n._getFieldArray(s),k,R);u.current=[...F].map((M,z)=>!M||z===k?Qo():u.current[z]),b(F),h([...F]),n._setFieldArray(s,F,o8,{argA:k,argB:R},!0,!1)},E=k=>{const D=Ns(yr(k));u.current=D.map(Qo),b([...D]),h([...D]),n._setFieldArray(s,[...D],R=>R,{},!0,!1)};return K.useEffect(()=>{if(n._state.action=!1,cN(s,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!pu(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!pu(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([s]).then(k=>{const D=Ye(k.errors,s),R=Ye(n._formState.errors,s);(R?!D&&R.type||D&&(R.type!==D.type||R.message!==D.message):D&&D.type)&&(D?Ht(n._formState.errors,s,D):zr(n._formState.errors,s),n._subjects.state.next({errors:n._formState.errors}))});else{const k=Ye(n._fields,s);k&&k._f&&!(pu(n._options.reValidateMode).isOnSubmit&&pu(n._options.mode).isOnSubmit)&&dN(k,n._names.disabled,n._formValues,n._options.criteriaMode===va.all,n._options.shouldUseNativeValidation,!0).then(D=>!Qn(D)&&n._subjects.state.next({errors:bR(n._formState.errors,D,s)}))}n._subjects.state.next({name:s,values:yr(n._formValues)}),n._names.focus&&Tu(n._fields,(k,D)=>{if(n._names.focus&&D.startsWith(n._names.focus)&&k.focus)return k.focus(),1}),n._names.focus="",n._setValid(),p.current=!1},[d,s,n]),K.useEffect(()=>(!Ye(n._formValues,s)&&n._setFieldArray(s),()=>{const k=(D,R)=>{const F=Ye(n._fields,D);F&&F._f&&(F._f.mount=R)};n._options.shouldUnregister||i?n.unregister(s):k(s,!1)}),[s,n,a,i]),{swap:K.useCallback(S,[b,s,n]),move:K.useCallback(C,[b,s,n]),prepend:K.useCallback(v,[b,s,n]),append:K.useCallback(_,[b,s,n]),remove:K.useCallback(N,[b,s,n]),insert:K.useCallback(j,[b,s,n]),update:K.useCallback(A,[b,s,n]),replace:K.useCallback(E,[b,s,n]),fields:K.useMemo(()=>d.map((k,D)=>({...k,[a]:u.current[D]||Qo()})),[d,a])}}function hy(e={}){const t=K.useRef(void 0),n=K.useRef(void 0),[s,a]=K.useState({isDirty:!1,isValidating:!1,isLoading:Ga(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ga(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ga(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...d}=fSe(e);t.current={...d,formState:s}}const i=t.current.control;return i._options=e,sb(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),i._formState.isReady=!0,o},[i]),K.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),K.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),K.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),K.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),K.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),K.useEffect(()=>{e.values&&!lo(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),K.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=dR(s,i),t.current}const l8=(e,t,n)=>{if(e&&"reportValidity"in e){const s=Ye(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},vR=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?l8(s.ref,n,e):s&&s.refs&&s.refs.forEach(a=>l8(a,n,e))}},xSe=(e,t)=>{t.shouldUseNativeValidation&&vR(e,t);const n={};for(const s in e){const a=Ye(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(pSe(t.names||Object.keys(e),s)){const o=Object.assign({},Ye(n,s));Ht(o,"root",i),Ht(n,s,o)}else Ht(n,s,i)}return n},pSe=(e,t)=>{const n=c8(t);return e.some(s=>c8(s).match(`^${n}\\.\\d+`))};function c8(e){return e.replace(/\]|\[/g,"")}function fy(e,t,n){return n===void 0&&(n={}),function(s,a,i){try{return Promise.resolve(function(o,d){try{var h=(t!=null&&t.context,Promise.resolve(e[n.mode==="sync"?"validateSync":"validate"](s,Object.assign({abortEarly:!1},t,{context:a}))).then(function(u){return i.shouldUseNativeValidation&&vR({},i),{values:n.raw?Object.assign({},s):u,errors:{}}}))}catch(u){return d(u)}return h&&h.then?h.then(void 0,d):h}(0,function(o){if(!o.inner)throw o;return{values:{},errors:xSe((d=o,h=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(d.inner||[]).reduce(function(u,x){if(u[x.path]||(u[x.path]={message:x.message,type:x.type}),h){var p=u[x.path].types,b=p&&p[x.type];u[x.path]=hR(x.path,h,u,x.type,b?[].concat(b,x.message):x.message)}return u},{})),i)};var d,h}))}catch(o){return Promise.reject(o)}}}function Nd(e){this._maxSize=e,this.clear()}Nd.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Nd.prototype.get=function(e){return this._values[e]};Nd.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var gSe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,jR=/^\d+$/,ySe=/^\d/,bSe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,vSe=/^\s*(['"]?)(.*?)(\1)\s*$/,N_=512,d8=new Nd(N_),u8=new Nd(N_),h8=new Nd(N_),Qc={Cache:Nd,split:uN,normalizePath:Kv,setter:function(e){var t=Kv(e);return u8.get(e)||u8.set(e,function(s,a){for(var i=0,o=t.length,d=s;i<o-1;){var h=t[i];if(h==="__proto__"||h==="constructor"||h==="prototype")return s;d=d[t[i++]]}d[t[i]]=a})},getter:function(e,t){var n=Kv(e);return h8.get(e)||h8.set(e,function(a){for(var i=0,o=n.length;i<o;)if(a!=null||!t)a=a[n[i++]];else return;return a})},join:function(e){return e.reduce(function(t,n){return t+(__(n)||jR.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){jSe(Array.isArray(e)?e:uN(e),t,n)}};function Kv(e){return d8.get(e)||d8.set(e,uN(e).map(function(t){return t.replace(vSe,"$2")}))}function uN(e){return e.match(gSe)||[""]}function jSe(e,t,n){var s=e.length,a,i,o,d;for(i=0;i<s;i++)a=e[i],a&&(_Se(a)&&(a='"'+a+'"'),d=__(a),o=!d&&/^\d+$/.test(a),t.call(n,a,d,o,i,e))}function __(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function wSe(e){return e.match(ySe)&&!e.match(jR)}function NSe(e){return bSe.test(e)}function _Se(e){return!__(e)&&(wSe(e)||NSe(e))}const SSe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ib=e=>e.match(SSe)||[],ob=e=>e[0].toUpperCase()+e.slice(1),S_=(e,t)=>ib(e).join(t).toLowerCase(),wR=e=>ib(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),CSe=e=>ob(wR(e)),ASe=e=>S_(e,"_"),OSe=e=>S_(e,"-"),ESe=e=>ob(S_(e," ")),kSe=e=>ib(e).map(ob).join(" ");var Zv={words:ib,upperFirst:ob,camelCase:wR,pascalCase:CSe,snakeCase:ASe,kebabCase:OSe,sentenceCase:ESe,titleCase:kSe},C_={exports:{}};C_.exports=function(e){return NR(TSe(e),e)};C_.exports.array=NR;function NR(e,t){var n=e.length,s=new Array(n),a={},i=n,o=PSe(t),d=ISe(e);for(t.forEach(function(u){if(!d.has(u[0])||!d.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)a[i]||h(e[i],i,new Set);return s;function h(u,x,p){if(p.has(u)){var b;try{b=", node was:"+JSON.stringify(u)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!d.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[x]){a[x]=!0;var _=o.get(u)||new Set;if(_=Array.from(_),x=_.length){p.add(u);do{var v=_[--x];h(v,d.get(v),p)}while(x);p.delete(u)}s[--n]=u}}}function TSe(e){for(var t=new Set,n=0,s=e.length;n<s;n++){var a=e[n];t.add(a[0]),t.add(a[1])}return Array.from(t)}function PSe(e){for(var t=new Map,n=0,s=e.length;n<s;n++){var a=e[n];t.has(a[0])||t.set(a[0],new Set),t.has(a[1])||t.set(a[1],new Set),t.get(a[0]).add(a[1])}return t}function ISe(e){for(var t=new Map,n=0,s=e.length;n<s;n++)t.set(e[n],n);return t}var DSe=C_.exports;const MSe=Vt(DSe),RSe=Object.prototype.toString,LSe=Error.prototype.toString,$Se=RegExp.prototype.toString,FSe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",BSe=/^Symbol\((.*)\)(.*)$/;function USe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function f8(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return USe(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return FSe.call(e).replace(BSe,"Symbol($1)");const s=RSe.call(e).slice(8,-1);return s==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):s==="Error"||e instanceof Error?"["+LSe.call(e)+"]":s==="RegExp"?$Se.call(e):null}function jo(e,t){let n=f8(e,t);return n!==null?n:JSON.stringify(e,function(s,a){let i=f8(this[s],t);return i!==null?i:a},2)}function _R(e){return e==null?[]:[].concat(e)}let SR,CR,AR,zSe=/\$\{\s*(\w+)\s*\}/g;SR=Symbol.toStringTag;class m8{constructor(t,n,s,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[SR]="Error",this.name="ValidationError",this.value=n,this.path=s,this.type=a,this.errors=[],this.inner=[],_R(t).forEach(i=>{if(Zn.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}CR=Symbol.hasInstance;AR=Symbol.toStringTag;class Zn extends Error{static formatError(t,n){const s=n.label||n.path||"this";return n=Object.assign({},n,{path:s,originalPath:n.path}),typeof t=="string"?t.replace(zSe,(a,i)=>jo(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,s,a,i){const o=new m8(t,n,s,a);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[AR]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Zn)}static[CR](t){return m8[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let gi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:s})=>{const a=s!=null&&s!==n?` (cast from the value \`${jo(s,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${jo(n,!0)}\``+a:`${e} must match the configured type. The validated value was: \`${jo(n,!0)}\``+a}},xs={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Zo={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hN={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},fN={isValue:"${path} field must be ${value}"},xp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},pp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},VSe={notType:e=>{const{path:t,value:n,spec:s}=e,a=s.types.length;if(Array.isArray(n)){if(n.length<a)return`${t} tuple value has too few items, expected a length of ${a} but got ${n.length} for value: \`${jo(n,!0)}\``;if(n.length>a)return`${t} tuple value has too many items, expected a length of ${a} but got ${n.length} for value: \`${jo(n,!0)}\``}return Zn.formatError(gi.notType,e)}};Object.assign(Object.create(null),{mixed:gi,string:xs,number:Zo,date:hN,object:xp,array:pp,boolean:fN,tuple:VSe});const lb=e=>e&&e.__isYupSchema__;class my{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:a,otherwise:i}=n,o=typeof s=="function"?s:(...d)=>d.every(h=>h===s);return new my(t,(d,h)=>{var u;let x=o(...d)?a:i;return(u=x==null?void 0:x(h))!=null?u:h})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let s=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),a=this.fn(s,t,n);if(a===void 0||a===t)return t;if(!lb(a))throw new TypeError("conditions must return a schema object");return a.resolve(n)}}const Wx={context:"$",value:"."};class _d{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Wx.context,this.isValue=this.key[0]===Wx.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?Wx.context:this.isValue?Wx.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&Qc.getter(this.path,!0),this.map=n.map}getValue(t,n,s){let a=this.isContext?s:this.isValue?t:n;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}_d.prototype.__isYupRef=!0;const Qa=e=>e==null;function Yd(e){function t({value:n,path:s="",options:a,originalValue:i,schema:o},d,h){const{name:u,test:x,params:p,message:b,skipAbsent:_}=e;let{parent:v,context:N,abortEarly:j=o.spec.abortEarly,disableStackTrace:S=o.spec.disableStackTrace}=a;const C={value:n,parent:v,context:N};function A(I={}){const L=OR(Object.assign({value:n,originalValue:i,label:o.spec.label,path:I.path||s,spec:o.spec,disableStackTrace:I.disableStackTrace||S},p,I.params),C),$=new Zn(Zn.formatError(I.message||b,L),n,L.path,I.type||u,L.disableStackTrace);return $.params=L,$}const E=j?d:h;let k={path:s,parent:v,type:u,from:a.from,createError:A,resolve(I){return ER(I,C)},options:a,originalValue:i,schema:o};const D=I=>{Zn.isError(I)?E(I):I?h(null):E(A())},R=I=>{Zn.isError(I)?E(I):d(I)};if(_&&Qa(n))return D(!0);let M;try{var z;if(M=x.call(k,n,k),typeof((z=M)==null?void 0:z.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(M).then(D,R)}}catch(I){R(I);return}D(M)}return t.OPTIONS=e,t}function OR(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=ER(e[n],t);return e}function ER(e,t){return _d.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function qSe(e,t,n,s=n){let a,i,o;return t?(Qc.forEach(t,(d,h,u)=>{let x=h?d.slice(1,d.length-1):d;e=e.resolve({context:s,parent:a,value:n});let p=e.type==="tuple",b=u?parseInt(x,10):0;if(e.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&b>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${t}. because there is no value at that index. `);a=n,n=n&&n[b],e=p?e.spec.types[b]:e.innerType}if(!u){if(!e.fields||!e.fields[x])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);a=n,n=n&&n[x],e=e.fields[x]}i=x,o=h?"["+d+"]":"."+d}),{schema:e,parent:a,parentPath:i}):{parent:a,parentPath:t,schema:e}}class xy extends Set{describe(){const t=[];for(const n of this.values())t.push(_d.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const s of this.values())n.push(t(s));return n}clone(){return new xy(this.values())}merge(t,n){const s=this.clone();return t.forEach(a=>s.add(a)),n.forEach(a=>s.delete(a)),s}}function gu(e,t=new Map){if(lb(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let s=0;s<e.length;s++)n[s]=gu(e[s],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[s,a]of e.entries())n.set(s,gu(a,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const s of e)n.add(gu(s,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[s,a]of Object.entries(e))n[s]=gu(a,t)}else throw Error(`Unable to clone ${e}`);return n}function HSe(e){if(!(e!=null&&e.length))return;const t=[];let n="",s=!1,a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(o==="["&&!a){n&&(t.push(...n.split(".").filter(Boolean)),n=""),s=!0;continue}if(o==="]"&&!a){n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),s=!1;continue}if(o==='"'){a=!a;continue}if(o==="."&&!s&&!a){n&&(t.push(n),n="");continue}n+=o}return n&&t.push(...n.split(".").filter(Boolean)),t}function WSe(e,t){const n=t?`${t}.${e.path}`:e.path;return e.errors.map(s=>({message:s,path:HSe(n)}))}function kR(e,t){var n;if(!((n=e.inner)!=null&&n.length)&&e.errors.length)return WSe(e,t);const s=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(a=>kR(a,s))}class ra{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new xy,this._blacklist=new xy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(gi.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=gu(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let s=t(this);return this._mutate=n,s}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,s=t.clone();const a=Object.assign({},n.spec,s.spec);return s.spec=a,s.internalTests=Object.assign({},n.internalTests,s.internalTests),s._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),s._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),s.tests=n.tests,s.exclusiveTests=n.exclusiveTests,s.withMutation(i=>{t.tests.forEach(o=>{i.test(o.OPTIONS)})}),s.transforms=[...n.transforms,...s.transforms],s}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let s=n.conditions;n=n.clone(),n.conditions=[],n=s.reduce((a,i)=>i.resolve(a,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,s,a,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(s=t.abortEarly)!=null?s:this.spec.abortEarly,recursive:(a=t.recursive)!=null?a:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,n={}){let s=this.resolve(Object.assign({},n,{value:t})),a=n.assert==="ignore-optionality",i=s._cast(t,n);if(n.assert!==!1&&!s.isType(i)){if(a&&Qa(i))return i;let o=jo(t),d=jo(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${o} 
`+(d!==o?`result of cast: ${d}`:""))}return i}_cast(t,n){let s=t===void 0?t:this.transforms.reduce((a,i)=>i.call(this,a,t,this,n),t);return s===void 0&&(s=this.getDefault(n)),s}_validate(t,n={},s,a){let{path:i,originalValue:o=t,strict:d=this.spec.strict}=n,h=t;d||(h=this._cast(h,Object.assign({assert:!1},n)));let u=[];for(let x of Object.values(this.internalTests))x&&u.push(x);this.runTests({path:i,value:h,originalValue:o,options:n,tests:u},s,x=>{if(x.length)return a(x,h);this.runTests({path:i,value:h,originalValue:o,options:n,tests:this.tests},s,a)})}runTests(t,n,s){let a=!1,{tests:i,value:o,originalValue:d,path:h,options:u}=t,x=N=>{a||(a=!0,n(N,o))},p=N=>{a||(a=!0,s(N,o))},b=i.length,_=[];if(!b)return p([]);let v={value:o,originalValue:d,path:h,options:u,schema:this};for(let N=0;N<i.length;N++){const j=i[N];j(v,x,function(C){C&&(Array.isArray(C)?_.push(...C):_.push(C)),--b<=0&&p(_)})}}asNestedTest({key:t,index:n,parent:s,parentPath:a,originalParent:i,options:o}){const d=t??n;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const h=typeof d=="number";let u=s[d];const x=Object.assign({},o,{strict:!0,parent:s,value:u,originalValue:i[d],key:void 0,[h?"index":"key"]:d,path:h||d.includes(".")?`${a||""}[${h?d:`"${d}"`}]`:(a?`${a}.`:"")+t});return(p,b,_)=>this.resolve(x)._validate(u,x,b,_)}validate(t,n){var s;let a=this.resolve(Object.assign({},n,{value:t})),i=(s=n==null?void 0:n.disableStackTrace)!=null?s:a.spec.disableStackTrace;return new Promise((o,d)=>a._validate(t,n,(h,u)=>{Zn.isError(h)&&(h.value=u),d(h)},(h,u)=>{h.length?d(new Zn(h,u,void 0,void 0,i)):o(u)}))}validateSync(t,n){var s;let a=this.resolve(Object.assign({},n,{value:t})),i,o=(s=n==null?void 0:n.disableStackTrace)!=null?s:a.spec.disableStackTrace;return a._validate(t,Object.assign({},n,{sync:!0}),(d,h)=>{throw Zn.isError(d)&&(d.value=h),d},(d,h)=>{if(d.length)throw new Zn(d,t,void 0,void 0,o);i=h}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,s=>{if(Zn.isError(s))return!1;throw s})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(s){if(Zn.isError(s))return!1;throw s}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):gu(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const s=this.clone({nullable:t});return s.internalTests.nullable=Yd({message:n,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),s}optionality(t,n){const s=this.clone({optional:t});return s.internalTests.optionality=Yd({message:n,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(t=gi.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=gi.notNull){return this.nullability(!1,t)}required(t=gi.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=gi.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),a=Yd(n),i=n.exclusive||n.name&&s.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(s.exclusiveTests[n.name]=!!n.exclusive),s.tests=s.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===a.OPTIONS.test))),s.tests.push(a),s}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let s=this.clone(),a=_R(t).map(i=>new _d(i));return a.forEach(i=>{i.isSibling&&s.deps.push(i.key)}),s.conditions.push(typeof n=="function"?new my(a,n):my.fromOptions(a,n)),s}typeError(t){let n=this.clone();return n.internalTests.typeError=Yd({message:t,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=gi.oneOf){let s=this.clone();return t.forEach(a=>{s._whitelist.add(a),s._blacklist.delete(a)}),s.internalTests.whiteList=Yd({message:n,name:"oneOf",skipAbsent:!0,test(a){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(a)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),s}notOneOf(t,n=gi.notOneOf){let s=this.clone();return t.forEach(a=>{s._blacklist.add(a),s._whitelist.delete(a)}),s.internalTests.blacklist=Yd({message:n,name:"notOneOf",test(a){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(a)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),s}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:s,meta:a,optional:i,nullable:o}=n.spec;return{meta:a,label:s,optional:i,nullable:o,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((h,u,x)=>x.findIndex(p=>p.OPTIONS.name===h.OPTIONS.name)===u).map(h=>{const u=h.OPTIONS.params&&t?OR(Object.assign({},h.OPTIONS.params),t):h.OPTIONS.params;return{name:h.OPTIONS.name,params:u}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(s){try{return{value:await t.validate(s,{abortEarly:!1})}}catch(a){if(a instanceof Zn)return{issues:kR(a)};throw a}}}}}ra.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])ra.prototype[`${e}At`]=function(t,n,s={}){const{parent:a,parentPath:i,schema:o}=qSe(this,t,n,s.context);return o[e](a&&a[i],Object.assign({},s,{parent:a,path:t}))};for(const e of["equals","is"])ra.prototype[e]=ra.prototype.oneOf;for(const e of["not","nope"])ra.prototype[e]=ra.prototype.notOneOf;function A_(){return new TR}class TR extends ra{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,n)=>{if(this.spec.coerce&&!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=fN.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Qa(n)||n===!0}})}isFalse(t=fN.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Qa(n)||n===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}A_.prototype=TR.prototype;const GSe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function QSe(e){const t=mN(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function mN(e){var t,n;const s=GSe.exec(e);return s?{year:Xi(s[1]),month:Xi(s[2],1)-1,day:Xi(s[3],1),hour:Xi(s[4]),minute:Xi(s[5]),second:Xi(s[6]),millisecond:s[7]?Xi(s[7].substring(0,3)):0,precision:(t=(n=s[7])==null?void 0:n.length)!=null?t:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:Xi(s[10]),minuteOffset:Xi(s[11])}:null}function Xi(e,t=0){return Number(e)||t}let YSe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,XSe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,KSe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ZSe="^\\d{4}-\\d{2}-\\d{2}",JSe="\\d{2}:\\d{2}:\\d{2}",e6e="(([+-]\\d{2}(:?\\d{2})?)|Z)",t6e=new RegExp(`${ZSe}T${JSe}(\\.\\d+)?${e6e}$`),r6e=e=>Qa(e)||e===e.trim(),n6e={}.toString();function nr(){return new PR}class PR extends ra{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const s=t!=null&&t.toString?t.toString():t;return s===n6e?t:s})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||gi.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=xs.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(s){return s.length===this.resolve(t)}})}min(t,n=xs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s.length>=this.resolve(t)}})}max(t,n=xs.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(s){return s.length<=this.resolve(t)}})}matches(t,n){let s=!1,a,i;return n&&(typeof n=="object"?{excludeEmptyString:s=!1,message:a,name:i}=n:a=n),this.test({name:i||"matches",message:a||xs.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&s||o.search(t)!==-1})}email(t=xs.email){return this.matches(YSe,{name:"email",message:t,excludeEmptyString:!0})}url(t=xs.url){return this.matches(XSe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=xs.uuid){return this.matches(KSe,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",s,a;return t&&(typeof t=="object"?{message:n="",allowOffset:s=!1,precision:a=void 0}=t:n=t),this.matches(t6e,{name:"datetime",message:n||xs.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||xs.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:i=>{if(!i||s)return!0;const o=mN(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||xs.datetime_precision,params:{precision:a},skipAbsent:!0,test:i=>{if(!i||a==null)return!0;const o=mN(i);return o?o.precision===a:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=xs.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:r6e})}lowercase(t=xs.lowercase){return this.transform(n=>Qa(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Qa(n)||n===n.toLowerCase()})}uppercase(t=xs.uppercase){return this.transform(n=>Qa(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Qa(n)||n===n.toUpperCase()})}}nr.prototype=PR.prototype;let s6e=e=>e!=+e;function Ks(){return new IR}class IR extends ra{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!s6e(t)}}),this.withMutation(()=>{this.transform((t,n)=>{if(!this.spec.coerce)return t;let s=t;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return this.isType(s)||s===null?s:parseFloat(s)})})}min(t,n=Zo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s>=this.resolve(t)}})}max(t,n=Zo.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(s){return s<=this.resolve(t)}})}lessThan(t,n=Zo.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(s){return s<this.resolve(t)}})}moreThan(t,n=Zo.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(s){return s>this.resolve(t)}})}positive(t=Zo.positive){return this.moreThan(0,t)}negative(t=Zo.negative){return this.lessThan(0,t)}integer(t=Zo.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Qa(t)?t:t|0)}round(t){var n;let s=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(s.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+s.join(", "));return this.transform(a=>Qa(a)?a:Math[t](a))}}Ks.prototype=IR.prototype;let a6e=new Date(""),i6e=e=>Object.prototype.toString.call(e)==="[object Date]";class O_ extends ra{constructor(){super({type:"date",check(t){return i6e(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=QSe(t),isNaN(t)?O_.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let s;if(_d.isRef(t))s=t;else{let a=this.cast(t);if(!this._typeCheck(a))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);s=a}return s}min(t,n=hN.min){let s=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(a){return a>=this.resolve(s)}})}max(t,n=hN.max){let s=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(a){return a<=this.resolve(s)}})}}O_.INVALID_DATE=a6e;function o6e(e,t=[]){let n=[],s=new Set,a=new Set(t.map(([o,d])=>`${o}-${d}`));function i(o,d){let h=Qc.split(o)[0];s.add(h),a.has(`${d}-${h}`)||n.push([d,h])}for(const o of Object.keys(e)){let d=e[o];s.add(o),_d.isRef(d)&&d.isSibling?i(d.path,o):lb(d)&&"deps"in d&&d.deps.forEach(h=>i(h,o))}return MSe.array(Array.from(s),n).reverse()}function x8(e,t){let n=1/0;return e.some((s,a)=>{var i;if((i=t.path)!=null&&i.includes(s))return n=a,!0}),n}function DR(e){return(t,n)=>x8(e,t)-x8(e,n)}const MR=(e,t,n)=>{if(typeof e!="string")return e;let s=e;try{s=JSON.parse(e)}catch{}return n.isType(s)?s:e};function gp(e){if("fields"in e){const t={};for(const[n,s]of Object.entries(e.fields))t[n]=gp(s);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=gp(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(gp)}):"optional"in e?e.optional():e}const l6e=(e,t)=>{const n=[...Qc.normalizePath(t)];if(n.length===1)return n[0]in e;let s=n.pop(),a=Qc.getter(Qc.join(n),!0)(e);return!!(a&&s in a)};let p8=e=>Object.prototype.toString.call(e)==="[object Object]";function g8(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(s=>n.indexOf(s)===-1)}const c6e=DR([]);function Un(e){return new RR(e)}class RR extends ra{constructor(t){super({type:"object",check(n){return p8(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=c6e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var s;let a=super._cast(t,n);if(a===void 0)return this.getDefault(n);if(!this._typeCheck(a))return a;let i=this.fields,o=(s=n.stripUnknown)!=null?s:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(a).filter(p=>!this._nodes.includes(p))),h={},u=Object.assign({},n,{parent:h,__validating:n.__validating||!1}),x=!1;for(const p of d){let b=i[p],_=p in a,v=a[p];if(b){let N;u.path=(n.path?`${n.path}.`:"")+p,b=b.resolve({value:v,context:n.context,parent:h});let j=b instanceof ra?b.spec:void 0,S=j==null?void 0:j.strict;if(j!=null&&j.strip){x=x||p in a;continue}N=!n.__validating||!S?b.cast(v,u):v,N!==void 0&&(h[p]=N)}else _&&!o&&(h[p]=v);(_!==p in h||h[p]!==v)&&(x=!0)}return x?h:a}_validate(t,n={},s,a){let{from:i=[],originalValue:o=t,recursive:d=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(t,n,s,(h,u)=>{if(!d||!p8(u)){a(h,u);return}o=o||u;let x=[];for(let p of this._nodes){let b=this.fields[p];!b||_d.isRef(b)||x.push(b.asNestedTest({options:n,key:p,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:x,value:u,originalValue:o,options:n},s,p=>{a(p.sort(this._sortErrors).concat(h),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),s=n.fields;for(let[a,i]of Object.entries(this.fields)){const o=s[a];s[a]=o===void 0?i:o}return n.withMutation(a=>a.setFields(s,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(s=>{var a;const i=this.fields[s];let o=t;(a=o)!=null&&a.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),n[s]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(t,n){let s=this.clone();return s.fields=t,s._nodes=o6e(t,n),s._sortErrors=DR(Object.keys(t)),n&&(s._excludedEdges=n),s}shape(t,n=[]){return this.clone().withMutation(s=>{let a=s._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),a=[...s._excludedEdges,...n]),s.setFields(Object.assign(s.fields,t),a)})}partial(){const t={};for(const[n,s]of Object.entries(this.fields))t[n]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(t)}deepPartial(){return gp(this)}pick(t){const n={};for(const s of t)this.fields[s]&&(n[s]=this.fields[s]);return this.setFields(n,this._excludedEdges.filter(([s,a])=>t.includes(s)&&t.includes(a)))}omit(t){const n=[];for(const s of Object.keys(this.fields))t.includes(s)||n.push(s);return this.pick(n)}from(t,n,s){let a=Qc.getter(t,!0);return this.transform(i=>{if(!i)return i;let o=i;return l6e(i,t)&&(o=Object.assign({},i),s||delete o[t],o[n]=a(i)),o})}json(){return this.transform(MR)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||xp.exact,test(n){if(n==null)return!0;const s=g8(this.schema,n);return s.length===0||this.createError({params:{properties:s.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=xp.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:n,test(a){if(a==null)return!0;const i=g8(this.schema,a);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return s.spec.noUnknown=t,s}unknown(t=!0,n=xp.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const s={};for(const a of Object.keys(n))s[t(a)]=n[a];return s})}camelCase(){return this.transformKeys(Zv.camelCase)}snakeCase(){return this.transformKeys(Zv.snakeCase)}constantCase(){return this.transformKeys(t=>Zv.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),s=super.describe(t);s.fields={};for(const[i,o]of Object.entries(n.fields)){var a;let d=t;(a=d)!=null&&a.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[i]})),s.fields[i]=o.describe(d)}return s}}Un.prototype=RR.prototype;function Qm(e){return new LR(e)}class LR extends ra{constructor(t){super({type:"array",spec:{types:t},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=t}_cast(t,n){const s=super._cast(t,n);if(!this._typeCheck(s)||!this.innerType)return s;let a=!1;const i=s.map((o,d)=>{const h=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${d}]`,parent:s,originalValue:o,value:o,index:d}));return h!==o&&(a=!0),h});return a?i:s}_validate(t,n={},s,a){var i;let o=this.innerType,d=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(t,n,s,(h,u)=>{var x;if(!d||!o||!this._typeCheck(u)){a(h,u);return}let p=new Array(u.length);for(let _=0;_<u.length;_++){var b;p[_]=o.asNestedTest({options:n,index:_,parent:u,parentPath:n.path,originalParent:(b=n.originalValue)!=null?b:t})}this.runTests({value:u,tests:p,originalValue:(x=n.originalValue)!=null?x:t,options:n},s,_=>a(_.concat(h),u))})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}json(){return this.transform(MR)}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!lb(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+jo(t));return n.innerType=t,n.spec=Object.assign({},n.spec,{types:t}),n}length(t,n=pp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(s){return s.length===this.resolve(t)}})}min(t,n){return n=n||pp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s.length>=this.resolve(t)}})}max(t,n){return n=n||pp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(s){return s.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(s,a,i)=>!t(s,a,i):s=>!!s;return this.transform(s=>s!=null?s.filter(n):s)}describe(t){const n=(t?this.resolve(t):this).clone(),s=super.describe(t);if(n.innerType){var a;let i=t;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),s.innerType=n.innerType.describe(i)}return s}}Qm.prototype=LR.prototype;const d6e=Un({status:nr().oneOf(["pending","in_progress","completed","on_hold","skipped"]).required(),startDate:nr().nullable(),endDate:nr().nullable(),notes:nr().nullable(),quantity_processed:Ks().nullable().transform(e=>Number.isNaN(e)?null:e).min(0),quantity_approved:Ks().nullable().transform(e=>Number.isNaN(e)?null:e).min(0),quantity_rejected:Ks().nullable().transform(e=>Number.isNaN(e)?null:e).min(0),material_used:Ks().nullable().transform(e=>Number.isNaN(e)?null:e).min(0)}).test("completion-validation","Please provide completion details",function(e){return e.status==="completed"?e.quantity_processed!==null&&e.quantity_processed>=0:!0}),u6e=({orderId:e,onClose:t,onUpdate:n})=>{var X;const[s,a]=T.useState(0),[i,o]=T.useState(null),[d,h]=T.useState(!0),[u,x]=T.useState(!1),[p,b]=T.useState(!1),{control:_,handleSubmit:v,reset:N,watch:j,setValue:S,formState:{errors:C,isDirty:A}}=hy({resolver:fy(d6e),defaultValues:{status:"pending",startDate:"",endDate:"",notes:"",quantity_processed:0,quantity_approved:0,quantity_rejected:0,material_used:0}});j("status"),T.useEffect(()=>{k()},[e]),T.useEffect(()=>{var V;if((V=i==null?void 0:i.stages)!=null&&V[s]){const G=i.stages[s];N({status:G.status,startDate:G.actual_start_time?new Date(G.actual_start_time).toISOString().slice(0,16):"",endDate:G.actual_end_time?new Date(G.actual_end_time).toISOString().slice(0,16):"",notes:G.notes||"",quantity_processed:G.quantity_processed||0,quantity_approved:G.quantity_approved||0,quantity_rejected:G.quantity_rejected||0,material_used:G.material_used||0})}},[s,i,N]);const E={id:1,production_number:"PO-2024-001",product:{id:1,name:"Cotton T-Shirt"},quantity:100,stages:[{id:1,stage_name:"calculate_material_review",status:"completed",actual_start_time:"2024-01-15T08:00:00Z",actual_end_time:"2024-01-15T08:30:00Z",notes:"Material review completed, all materials verified",quantity_processed:100,quantity_approved:100,quantity_rejected:0,material_used:10},{id:2,stage_name:"cutting",status:"completed",actual_start_time:"2024-01-15T09:00:00Z",actual_end_time:"2024-01-15T10:30:00Z",notes:"Cutting completed successfully with minimal waste",quantity_processed:100,quantity_approved:95,quantity_rejected:5,material_used:20},{id:3,stage_name:"embroidery_or_printing",status:"in_progress",actual_start_time:"2024-01-15T11:00:00Z",actual_end_time:null,notes:"Embroidery in progress",quantity_processed:50,quantity_approved:0,quantity_rejected:0,material_used:5},{id:4,stage_name:"stitching",status:"pending",actual_start_time:null,actual_end_time:null,notes:null,quantity_processed:0,quantity_approved:0,quantity_rejected:0,material_used:0},{id:5,stage_name:"finishing",status:"pending",actual_start_time:null,actual_end_time:null,notes:null,quantity_processed:0,quantity_approved:0,quantity_rejected:0,material_used:0},{id:6,stage_name:"quality_check",status:"pending",actual_start_time:null,actual_end_time:null,notes:null,quantity_processed:0,quantity_approved:0,quantity_rejected:0,material_used:0}]},k=async()=>{try{h(!0),o(E)}catch(V){console.error("Error fetching order data:",V),ye.error("Failed to load order data")}finally{h(!1)}},D=V=>{switch(V){case"completed":return r.jsx(Ut,{className:"w-5 h-5 text-green-500"});case"in_progress":return r.jsx(Cn,{className:"w-5 h-5 text-blue-500"});case"on_hold":return r.jsx(hp,{className:"w-5 h-5 text-yellow-500"});case"skipped":return r.jsx(eg,{className:"w-5 h-5 text-gray-500"});default:return r.jsx(Tm,{className:"w-5 h-5 text-gray-400"})}},R=V=>{switch(V){case"completed":return"bg-green-100 border-green-300 text-green-700";case"in_progress":return"bg-blue-100 border-blue-300 text-blue-700";case"on_hold":return"bg-yellow-100 border-yellow-300 text-yellow-700";case"skipped":return"bg-gray-100 border-gray-300 text-gray-700";default:return"bg-gray-50 border-gray-200 text-gray-600"}},F=V=>V.replace("_"," ").replace(/\b\w/g,G=>G.toUpperCase()),M=async V=>{var G;if((G=i==null?void 0:i.stages)!=null&&G[s])try{x(!0);const ne=i.stages[s],ae={status:V.status,actual_start_time:V.startDate||null,actual_end_time:V.endDate||null,notes:V.notes,quantity_processed:V.quantity_processed,quantity_approved:V.quantity_approved,quantity_rejected:V.quantity_rejected,material_used:V.material_used};await new Promise(le=>setTimeout(le,1e3)),o(le=>({...le,stages:le.stages.map(ie=>ie.id===ne.id?{...ie,status:V.status,actual_start_time:V.startDate||ie.actual_start_time,actual_end_time:V.endDate||ie.actual_end_time,notes:V.notes,quantity_processed:V.quantity_processed,quantity_approved:V.quantity_approved,quantity_rejected:V.quantity_rejected,material_used:V.material_used}:ie)})),ye.success("Stage updated successfully"),b(!1),n&&n()}catch(ne){console.error("Error updating stage:",ne),ye.error("Failed to update stage")}finally{x(!1)}},z=async V=>{var G;if((G=i==null?void 0:i.stages)!=null&&G[s])try{const ne=i.stages[s];await new Promise(ae=>setTimeout(ae,800)),o(ae=>({...ae,stages:ae.stages.map(le=>le.id===ne.id?{...le,status:V==="start"?"in_progress":V==="pause"?"on_hold":V==="resume"?"in_progress":V==="complete"?"completed":V==="hold"?"on_hold":V==="skip"?"skipped":le.status,actual_start_time:V==="start"&&!le.actual_start_time?new Date().toISOString():le.actual_start_time,actual_end_time:V==="complete"?new Date().toISOString():le.actual_end_time}:le)})),V==="start"&&!j("startDate")&&S("startDate",new Date().toISOString().slice(0,16)),V==="complete"&&!j("endDate")&&S("endDate",new Date().toISOString().slice(0,16)),ye.success(`Stage ${V} successfully`),n&&n()}catch(ne){console.error(`Error ${V} stage:`,ne),ye.error(`Failed to ${V} stage`)}},I=()=>{if(!(i!=null&&i.stages))return!1;const V=i.stages[s];return(V==null?void 0:V.status)==="completed"||(V==null?void 0:V.status)==="skipped"},L=()=>s>0,$=()=>{var V;I()&&s<(((V=i==null?void 0:i.stages)==null?void 0:V.length)||0)-1&&(a(s+1),b(!1))},W=()=>{L()&&(a(s-1),b(!1))};if(d)return r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!i)return r.jsx("div",{className:"p-6 text-center text-gray-500",children:"Failed to load order data"});const U=i.stages[s],Y=Math.round(i.stages.filter(V=>V.status==="completed").length/i.stages.length*100);return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:V=>V.stopPropagation(),children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Production Tracking Wizard"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Order: ",i.production_number," - ",(X=i.product)==null?void 0:X.name]})]}),r.jsx("button",{type:"button",onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(sd,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Overall Progress"}),r.jsxs("span",{children:[Y,"% Complete"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Y}%`}})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row",children:[r.jsxs("div",{className:"md:w-80 border-r border-gray-200 p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Production Stages"}),r.jsx("div",{className:"space-y-2 max-h-[calc(90vh-250px)] overflow-y-auto",children:i.stages.map((V,G)=>r.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${G===s?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{a(G),b(!1)},children:r.jsxs("div",{className:"flex items-center gap-2",children:[D(V.status),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-sm",children:["Step ",G+1,": ",V.stage_name.replace(/_/g," ").replace(/\b\w/g,ne=>ne.toUpperCase())]}),r.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full inline-block mt-1 ${R(V.status)}`,children:F(V.status)})]})]})},V.id))})]}),r.jsx("div",{className:"flex-1 p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:U&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U.stage_name.replace(/_/g," ").replace(/\b\w/g,V=>V.toUpperCase())}),r.jsxs("div",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm ${R(U.status)}`,children:[D(U.status),F(U.status)]})]}),r.jsx("div",{className:"flex gap-2",children:p?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",disabled:u,children:"Cancel"}),r.jsxs("button",{onClick:v(M),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",disabled:u,children:[u?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(Ky,{className:"w-4 h-4"}),"Save Changes"]})]}):r.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[r.jsx(kH,{className:"w-4 h-4"}),"Edit Details"]})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[U.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>z("start"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(nf,{className:"w-4 h-4"}),"Start Stage"]}),r.jsxs("button",{onClick:()=>z("hold"),className:"flex items-center gap-2 px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[r.jsx(hp,{className:"w-4 h-4"}),"Hold"]})]}),U.status==="in_progress"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>z("pause"),className:"flex items-center gap-2 px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[r.jsx(hp,{className:"w-4 h-4"}),"Pause"]}),r.jsxs("button",{onClick:()=>z("complete"),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Complete"]})]}),U.status==="on_hold"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>z("resume"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(nf,{className:"w-4 h-4"}),"Resume"]}),r.jsxs("button",{onClick:()=>z("skip"),className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[r.jsx(eg,{className:"w-4 h-4"}),"Skip"]})]})]})]}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),p?r.jsx(ys,{name:"status",control:_,render:({field:V})=>r.jsxs("select",{...V,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"on_hold",children:"On Hold"}),r.jsx("option",{value:"skipped",children:"Skipped"})]})}):r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg ${R(U.status)}`,children:[D(U.status),F(U.status)]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date & Time"}),p?r.jsx(ys,{name:"startDate",control:_,render:({field:V})=>r.jsx("input",{...V,type:"datetime-local",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})}):r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Oa,{className:"w-4 h-4"}),U.actual_start_time?new Date(U.actual_start_time).toLocaleString():"Not started"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date & Time"}),p?r.jsx(ys,{name:"endDate",control:_,render:({field:V})=>r.jsx("input",{...V,type:"datetime-local",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})}):r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Oa,{className:"w-4 h-4"}),U.actual_end_time?new Date(U.actual_end_time).toLocaleString():"Not completed"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(mW,{className:"w-4 h-4"}),U.actual_start_time&&U.actual_end_time?`${Math.round((new Date(U.actual_end_time)-new Date(U.actual_start_time))/(1e3*60*60))} hours`:"Not calculated"]})]})]}),U.status==="completed"&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quantity Tracking"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processed"}),p?r.jsx(ys,{name:"quantity_processed",control:_,render:({field:V})=>r.jsx("input",{...V,type:"number",min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})}):r.jsx("div",{className:"text-gray-600",children:U.quantity_processed||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved"}),p?r.jsx(ys,{name:"quantity_approved",control:_,render:({field:V})=>r.jsx("input",{...V,type:"number",min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})}):r.jsx("div",{className:"text-gray-600",children:U.quantity_approved||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejected"}),p?r.jsx(ys,{name:"quantity_rejected",control:_,render:({field:V})=>r.jsx("input",{...V,type:"number",min:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})}):r.jsx("div",{className:"text-gray-600",children:U.quantity_rejected||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material Used"}),p?r.jsx(ys,{name:"material_used",control:_,render:({field:V})=>r.jsx("input",{...V,type:"number",min:"0",step:"0.01",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})}):r.jsx("div",{className:"text-gray-600",children:U.material_used||0})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),p?r.jsx(ys,{name:"notes",control:_,render:({field:V})=>r.jsx("textarea",{...V,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Add notes about this stage..."})}):r.jsx("div",{className:"text-gray-600 bg-gray-50 rounded-lg p-3 min-h-[60px]",children:U.notes||"No notes added"})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[r.jsxs("button",{onClick:W,disabled:!L(),className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx($h,{className:"w-4 h-4"}),"Previous Stage"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Stage ",s+1," of ",i.stages.length]}),r.jsxs("button",{onClick:$,disabled:!I(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next Stage",r.jsx(Xy,{className:"w-4 h-4"})]})]})]})})]})]})},h6e=[{id:1,orderNumber:"PO-001",productName:"Cotton T-Shirt",stages:[{id:1,name:"Cutting",rawName:"cutting",status:"completed",progress:100,startTime:"2024-01-15 09:00",endTime:"2024-01-15 10:30"},{id:2,name:"Stitching",rawName:"stitching",status:"in_progress",progress:50,startTime:"2024-01-15 11:00",endTime:null},{id:3,name:"Quality Check",rawName:"quality_check",status:"pending",progress:0,startTime:null,endTime:null}],currentStage:"Stitching",overallProgress:33},{id:2,orderNumber:"PO-002",productName:"Denim Jacket",stages:[{id:4,name:"Cutting",rawName:"cutting",status:"completed",progress:100,startTime:"2024-01-14 08:30",endTime:"2024-01-14 09:45"},{id:5,name:"Stitching",rawName:"stitching",status:"pending",progress:0,startTime:null,endTime:null}],currentStage:"Not Started",overallProgress:50}],f6e=e=>{switch(e){case"completed":return 100;case"in_progress":return 50;default:return 0}},m6e=()=>{var ut;const[e,t]=T.useState("all"),[n,s]=T.useState([]),[a,i]=T.useState(!0),[o,d]=T.useState(!1),[h,u]=T.useState(null),[x,p]=T.useState(!1),[b,_]=T.useState(null),[v,N]=T.useState(0),[j,S]=T.useState({open:!1,severity:"success",message:""}),[C,A]=T.useState(!1),[E,k]=T.useState(null),D=Un({quantity_processed:Ks().typeError("Enter a number").integer("Must be an integer").min(0,"Must be >= 0").required("Required"),quantity_approved:Ks().typeError("Enter a number").integer("Must be an integer").min(0,"Must be >= 0").required("Required"),quantity_rejected:Ks().typeError("Enter a number").integer("Must be an integer").min(0,"Must be >= 0").required("Required")}).test("sum-lte-processed","Approved + Rejected must be <= Processed",oe=>{const{quantity_processed:Z=0,quantity_approved:ee=0,quantity_rejected:pe=0}=oe||{};return ee+pe<=Z}),{control:R,handleSubmit:F,reset:M,formState:{errors:z,isSubmitting:I}}=hy({resolver:fy(D),defaultValues:{quantity_processed:0,quantity_approved:0,quantity_rejected:0}}),L=Un({items:Qm().of(Un({reason:nr().required("Reason is required"),quantity:Ks().typeError("Enter a number").integer("Must be an integer").min(1,"Must be >= 1").required("Required"),notes:nr().nullable()})).min(1,"Add at least one item").test("sum-lte","Total quantity exceeds rejected amount",(oe,Z)=>(oe||[]).reduce((pe,Le)=>pe+Number(Le.quantity||0),0)<=v)}),$=hy({resolver:fy(L),defaultValues:{items:[{reason:"",quantity:1,notes:""}]}}),{control:W,handleSubmit:U,reset:Y,formState:{errors:X,isSubmitting:V}}=$,{fields:G,append:ne,remove:ae}=ab({name:"items",control:W}),le=oe=>{u(oe),M({quantity_processed:0,quantity_approved:0,quantity_rejected:0}),d(!0)},ie=()=>{d(!1),u(null)},fe=async oe=>{h&&(await Me(h,"complete",oe),ie(),oe.quantity_rejected>0&&(_(h),N(oe.quantity_rejected),Y({items:[{reason:"",quantity:oe.quantity_rejected,notes:""}]}),p(!0)))},xe=()=>{p(!1),_(null),N(0)},ge=async({items:oe})=>{var Z,ee;if(b)try{await he.post(`/manufacturing/stages/${b}/rejections`,{items:oe}),xe(),await ke()}catch(pe){S({open:!0,severity:"error",message:((ee=(Z=pe==null?void 0:pe.response)==null?void 0:Z.data)==null?void 0:ee.message)||pe.message})}};T.useEffect(()=>{ke()},[]);const ke=async()=>{try{i(!0);const{data:oe}=await he.get("/manufacturing/orders?limit=50"),Z=((oe==null?void 0:oe.productionOrders)||[]).map(ee=>{var pe,Le;return{id:ee.id,orderNumber:ee.production_number,productName:((pe=ee.product)==null?void 0:pe.name)||"—",stages:(ee.stages||[]).map(Ee=>({id:Ee.id,name:Ee.stage_name.replace(/_/g," ").replace(/\b\w/g,$e=>$e.toUpperCase()),rawName:Ee.stage_name,status:Ee.status,progress:f6e(Ee.status),startTime:Ee.actual_start_time?new Date(Ee.actual_start_time).toLocaleString():null,endTime:Ee.actual_end_time?new Date(Ee.actual_end_time).toLocaleString():null})),currentStage:((Le=(ee.stages||[]).find(Ee=>Ee.status==="in_progress"))==null?void 0:Le.stage_name)||"Not Started",overallProgress:Math.round((ee.stages||[]).filter(Ee=>Ee.status==="completed").length/Math.max(1,(ee.stages||[]).length)*100)}});s(Z)}catch(oe){console.error("Error fetching tracking data:",oe),S({open:!0,severity:"warning",message:"Failed to load tracking data. Using demo data."}),s(h6e)}finally{i(!1)}},Ae=oe=>{switch(oe){case"completed":return"success";case"in_progress":return"info";case"pending":return"default";case"on_hold":return"warning";default:return"default"}},Ne=oe=>{switch(oe){case"completed":return r.jsx(or,{});case"in_progress":return r.jsx(as,{});case"on_hold":return r.jsx(wa,{});default:return r.jsx(as,{})}},Me=async(oe,Z,ee={})=>{var pe,Le;try{await he.post(`/manufacturing/stages/${oe}/${Z}`,ee),await ke()}catch(Ee){console.error(`Failed to ${Z} stage`,Ee),S({open:!0,severity:"error",message:`Failed to ${Z} stage: ${((Le=(pe=Ee==null?void 0:Ee.response)==null?void 0:pe.data)==null?void 0:Le.message)||Ee.message}`})}},Re=e==="all"?n:n.filter(oe=>oe.orderNumber===e),Pe=oe=>{k(oe),A(!0)},Ke=()=>{A(!1),k(null),ke()},lt=n.length,vt=n.filter(oe=>oe.overallProgress>0&&oe.overallProgress<100).length,Ot=n.filter(oe=>oe.overallProgress===100).length,ft=n.filter(oe=>oe.overallProgress===0).length;return a?r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("span",{className:"text-lg text-gray-600",children:"Loading..."})}):r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Production Tracking"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Total Orders"}),r.jsx("div",{className:"text-2xl font-bold",children:lt})]}),r.jsx(Yy,{className:"text-primary text-3xl"})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"In Progress"}),r.jsx("div",{className:"text-2xl font-bold text-primary",children:vt})]}),r.jsx(as,{className:"text-primary text-3xl"})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Completed"}),r.jsx("div",{className:"text-2xl font-bold text-green-500",children:Ot})]}),r.jsx(or,{className:"text-green-500 text-3xl"})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Pending"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:ft})]}),r.jsx(wa,{className:"text-yellow-500 text-3xl"})]})]}),r.jsxs("div",{className:"bg-white rounded shadow p-4 mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Order"}),r.jsxs("select",{value:e,onChange:oe=>t(oe.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Orders"}),n.map(oe=>r.jsxs("option",{value:oe.orderNumber,children:[oe.orderNumber," - ",oe.productName]},oe.id))]})]}),Re.map(oe=>r.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold",children:[oe.orderNumber," - ",oe.productName]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:["Current Stage: ",oe.currentStage]}),r.jsxs("span",{children:["Overall Progress: ",oe.overallProgress,"%"]})]}),r.jsxs("button",{onClick:()=>Pe(oe.id),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[r.jsx(dq,{className:"w-4 h-4"}),"Track Progress"]})]})]}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"h-3 rounded bg-gray-200",children:r.jsx("div",{className:"h-3 rounded bg-primary",style:{width:`${oe.overallProgress}%`}})})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Stage"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Progress"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Start Time"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"End Time"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:oe.stages.map((Z,ee)=>r.jsxs("tr",{className:"border-b",children:[r.jsxs("td",{className:"px-4 py-2 flex items-center gap-2",children:[Ne(Z.status),Z.name]}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${Ae(Z.status)}-500 text-${Ae(Z.status)}-500`,children:Z.status.replace("_"," ")})}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-24 rounded bg-gray-200",children:r.jsx("div",{className:"h-2 rounded bg-primary",style:{width:`${Z.progress}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Z.progress,"%"]})]})}),r.jsx("td",{className:"px-4 py-2",children:Z.startTime||"-"}),r.jsx("td",{className:"px-4 py-2",children:Z.endTime||"-"}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex gap-2",children:[Z.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"px-2 py-1 rounded bg-primary text-white text-xs",onClick:()=>Me(Z.id,"start"),children:"Start"}),r.jsx("button",{className:"px-2 py-1 rounded bg-white0 text-white text-xs",onClick:()=>Me(Z.id,"hold"),children:"Hold"}),r.jsx("button",{className:"px-2 py-1 rounded bg-gray-400 text-white text-xs",onClick:()=>Me(Z.id,"skip"),children:"Skip"})]}),Z.status==="in_progress"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"px-2 py-1 rounded bg-white0 text-white text-xs",onClick:()=>Me(Z.id,"pause"),children:"Pause"}),r.jsx("button",{className:"px-2 py-1 rounded bg-green-500 text-white text-xs",onClick:()=>le(Z.id),children:"Complete"})]}),Z.status==="on_hold"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"px-2 py-1 rounded bg-primary text-white text-xs",onClick:()=>Me(Z.id,"resume"),children:"Resume"}),r.jsx("button",{className:"px-2 py-1 rounded bg-gray-400 text-white text-xs",onClick:()=>Me(Z.id,"skip"),children:"Skip"})]})]})})]},ee))})]})})]},oe.id)),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Complete Stage"}),r.jsxs("form",{className:"space-y-4",onSubmit:F(fe),children:[r.jsx(ys,{name:"quantity_processed",control:R,render:({field:oe})=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity processed"}),r.jsx("input",{...oe,type:"number",min:0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"}),z.quantity_processed&&r.jsx("span",{className:"text-xs text-red-500",children:z.quantity_processed.message})]})}),r.jsx(ys,{name:"quantity_approved",control:R,render:({field:oe})=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity approved"}),r.jsx("input",{...oe,type:"number",min:0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"}),z.quantity_approved&&r.jsx("span",{className:"text-xs text-red-500",children:z.quantity_approved.message})]})}),r.jsx(ys,{name:"quantity_rejected",control:R,render:({field:oe})=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity rejected"}),r.jsx("input",{...oe,type:"number",min:0,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"}),z.quantity_rejected&&r.jsx("span",{className:"text-xs text-red-500",children:z.quantity_rejected.message})]})}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",onClick:ie,disabled:I,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark",disabled:I,children:"Submit"})]})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Log Rejections"}),r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Remaining to allocate: max ",v]}),G.map((oe,Z)=>r.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[r.jsx(ys,{name:`items.${Z}.reason`,control:W,render:({field:ee})=>r.jsx("input",{...ee,type:"text",placeholder:"Reason (e.g., stitching_defect)",className:"w-32 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary"})}),r.jsx(ys,{name:`items.${Z}.quantity`,control:W,render:({field:ee})=>r.jsx("input",{...ee,type:"number",min:1,className:"w-20 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary"})}),r.jsx(ys,{name:`items.${Z}.notes`,control:W,render:({field:ee})=>r.jsx("input",{...ee,type:"text",placeholder:"Notes",className:"w-32 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary"})}),r.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-red-500 text-white text-xs",onClick:()=>ae(Z),children:"Remove"})]},oe.id)),typeof((ut=X.items)==null?void 0:ut.message)=="string"&&r.jsx("div",{className:"text-xs text-red-500 mb-2",children:X.items.message}),r.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark mb-4",onClick:()=>ne({reason:"",quantity:1,notes:""}),children:"Add Item"}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",onClick:xe,disabled:V,children:"Cancel"}),r.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark",onClick:U(ge),disabled:V,children:"Save"})]})]})}),j.open&&r.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:r.jsx("div",{className:`px-4 py-2 rounded shadow text-white ${j.severity==="success"?"bg-green-500":j.severity==="error"?"bg-red-500":"bg-primary"}`,children:j.message})}),C&&E&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Ke,children:r.jsx(u6e,{orderId:E,onClose:Ke,onUpdate:()=>ke()})})]})},x6e=()=>{const[e,t]=T.useState([]),[n,s]=T.useState(""),[a,i]=T.useState(!0),[o,d]=T.useState(!1),[h,u]=T.useState(!1),[x,p]=T.useState(!1),[b,_]=T.useState(null),[v,N]=T.useState({inspectionNumber:"",orderId:"",batchNumber:"",inspectionDate:"",inspector:"",quantityInspected:"",quantityPassed:"",quantityFailed:"",status:"pending",result:"pending"});T.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const $=await he.get("/manufacturing/quality-inspections");t($.data),i(!1)}catch($){console.error("Error fetching inspections:",$),i(!1),t([{id:1,inspectionNumber:"QC-2024-001",orderNumber:"PO-2024-001",productName:"Cotton T-Shirt - Blue",batchNumber:"B001",inspectionDate:"2024-01-15",inspector:"John Doe",quantityInspected:100,quantityPassed:95,quantityFailed:5,status:"completed",result:"passed"},{id:2,inspectionNumber:"QC-2024-002",orderNumber:"PO-2024-002",productName:"Denim Jeans - Black",batchNumber:"B002",inspectionDate:"2024-01-16",inspector:"Jane Smith",quantityInspected:50,quantityPassed:45,quantityFailed:5,status:"in_progress",result:"pending"}])}},S=$=>{switch($){case"completed":return"success";case"in_progress":return"info";case"pending":return"warning";case"failed":return"error";default:return"default"}},C=$=>{switch($){case"passed":return"success";case"failed":return"error";case"pending":return"warning";default:return"default"}},A=e.filter($=>$.inspectionNumber.toLowerCase().includes(n.toLowerCase())||$.productName.toLowerCase().includes(n.toLowerCase())),E=$=>{_($),d(!0)},k=()=>{N({inspectionNumber:"",orderId:"",batchNumber:"",inspectionDate:"",inspector:"",quantityInspected:"",quantityPassed:"",quantityFailed:"",status:"pending",result:"pending"}),u(!0)},D=$=>{_($),N({inspectionNumber:$.inspectionNumber,orderId:$.orderId||"",batchNumber:$.batchNumber,inspectionDate:$.inspectionDate,inspector:$.inspector,quantityInspected:$.quantityInspected,quantityPassed:$.quantityPassed,quantityFailed:$.quantityFailed,status:$.status,result:$.result}),p(!0)},R=async()=>{try{x?(await he.put(`/manufacturing/quality-inspections/${b.id}`,v),alert("Inspection updated successfully")):(await he.post("/manufacturing/quality-inspections",v),alert("Inspection created successfully")),u(!1),p(!1),j()}catch($){console.error("Error saving inspection:",$),alert("Failed to save inspection")}},F=async $=>{if(window.confirm("Are you sure you want to delete this inspection?"))try{await he.delete(`/manufacturing/quality-inspections/${$.id}`),j(),alert("Inspection deleted successfully")}catch(W){console.error("Error deleting inspection:",W),alert("Failed to delete inspection")}},M=e.length,z=e.filter($=>$.result==="passed").length,I=e.filter($=>$.result==="failed").length,L=e.filter($=>$.result==="pending").length;return a?r.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:r.jsx("span",{className:"text-lg text-gray-600",children:"Loading..."})}):r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Quality Control"}),r.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 shadow hover:bg-primary-dark",onClick:k,children:[r.jsx(Br,{}),"New Inspection"]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Total Inspections"}),r.jsx("div",{className:"text-2xl font-bold",children:M})]}),r.jsx(or,{className:"text-primary text-3xl"})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Passed"}),r.jsx("div",{className:"text-2xl font-bold text-green-500",children:z})]}),r.jsx(or,{className:"text-green-500 text-3xl"})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Failed"}),r.jsx("div",{className:"text-2xl font-bold text-red-500",children:I})]}),r.jsx(xq,{className:"text-red-500 text-3xl"})]}),r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:"Pending"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:L})]}),r.jsx(wa,{className:"text-yellow-500 text-3xl"})]})]}),r.jsx("div",{className:"bg-white rounded shadow p-4 mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(Ps,{})}),r.jsx("input",{type:"text",placeholder:"Search inspections...",value:n,onChange:$=>s($.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary"})]})}),r.jsx("div",{className:"overflow-x-auto bg-white rounded shadow",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-100",children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Inspection #"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Order #"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Product"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Batch"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Inspector"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Date"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Inspected"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Pass Rate"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Result"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:A.map($=>r.jsxs("tr",{className:"border-b",children:[r.jsx("td",{className:"px-4 py-2",children:$.inspectionNumber}),r.jsx("td",{className:"px-4 py-2",children:$.orderNumber}),r.jsx("td",{className:"px-4 py-2",children:$.productName}),r.jsx("td",{className:"px-4 py-2",children:$.batchNumber}),r.jsx("td",{className:"px-4 py-2",children:$.inspector}),r.jsx("td",{className:"px-4 py-2",children:$.inspectionDate}),r.jsx("td",{className:"px-4 py-2",children:$.quantityInspected}),r.jsx("td",{className:"px-4 py-2",children:$.quantityInspected>0?`${Math.round($.quantityPassed/$.quantityInspected*100)}%`:"0%"}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${S($.status)}-500 text-${S($.status)}-500`,children:$.status.replace("_"," ")})}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs border border-${C($.result)}-500 text-${C($.result)}-500`,children:$.result})}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>E($),title:"View",children:r.jsx(cs,{})}),r.jsx("button",{className:"text-yellow-500 hover:text-yellow-700",onClick:()=>D($),title:"Edit",children:r.jsx(Aa,{})}),r.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>F($),title:"Delete",children:r.jsx(Es,{})})]})})]},$.id))})]})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Inspection Details"}),b&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Inspection Number:"})," ",b.inspectionNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Order Number:"})," ",b.orderNumber]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("span",{className:"font-semibold",children:"Product Name:"})," ",b.productName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Batch Number:"})," ",b.batchNumber]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Inspector:"})," ",b.inspector]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Quantity Inspected:"})," ",b.quantityInspected]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Quantity Passed:"})," ",r.jsx("span",{className:"text-green-500",children:b.quantityPassed})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Quantity Failed:"})," ",r.jsx("span",{className:"text-red-500",children:b.quantityFailed})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",onClick:()=>d(!1),children:"Close"}),r.jsx("button",{className:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark",onClick:()=>D(b),children:"Edit Inspection"})]})]})}),(h||x)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:h?"Create Inspection":"Edit Inspection"}),r.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inspection Number"}),r.jsx("input",{type:"text",value:v.inspectionNumber,onChange:$=>N({...v,inspectionNumber:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Order ID"}),r.jsx("input",{type:"text",value:v.orderId,onChange:$=>N({...v,orderId:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Batch Number"}),r.jsx("input",{type:"text",value:v.batchNumber,onChange:$=>N({...v,batchNumber:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inspection Date"}),r.jsx("input",{type:"date",value:v.inspectionDate,onChange:$=>N({...v,inspectionDate:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inspector"}),r.jsx("input",{type:"text",value:v.inspector,onChange:$=>N({...v,inspector:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity Inspected"}),r.jsx("input",{type:"number",value:v.quantityInspected,onChange:$=>N({...v,quantityInspected:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity Passed"}),r.jsx("input",{type:"number",value:v.quantityPassed,onChange:$=>N({...v,quantityPassed:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity Failed"}),r.jsx("input",{type:"number",value:v.quantityFailed,onChange:$=>N({...v,quantityFailed:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsxs("select",{value:v.status,onChange:$=>N({...v,status:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Result"}),r.jsxs("select",{value:v.result,onChange:$=>N({...v,result:$.target.value}),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"passed",children:"Passed"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[r.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300",onClick:()=>{u(!1),p(!1),_(null),N({inspectionNumber:"",orderId:"",batchNumber:"",inspectionDate:"",inspector:"",quantityInspected:"",quantityPassed:"",quantityFailed:"",status:"pending",result:"pending"})},children:"Cancel"}),r.jsx("button",{className:"px-4 py-2 rounded bg-primary text-white hover:bg-primary-dark",onClick:R,children:h?"Create":"Update"})]})]})})]})},p6e=()=>{const[e,t]=T.useState("thisMonth"),[n,s]=T.useState("summary"),[a,i]=T.useState({totalProduction:2850,productionEfficiency:87,qualityRate:94,onTimeDelivery:91}),[o,d]=T.useState({productionTrend:[{date:"2024-01-01",production:200},{date:"2024-01-02",production:250},{date:"2024-01-03",production:300},{date:"2024-01-04",production:280},{date:"2024-01-05",production:320}],qualityAnalysis:[{name:"Passed",value:94,color:"#4caf50"},{name:"Failed",value:6,color:"#f44336"}],efficiencyVsTarget:[{month:"Jan",efficiency:85,target:90},{month:"Feb",efficiency:87,target:90},{month:"Mar",efficiency:89,target:90}]}),[h,u]=T.useState(!1),x=async()=>{u(!0);try{const b=await he.get(`/manufacturing/reports?type=${n}&dateRange=${e}`);i(b.data.metrics),d(b.data.charts)}catch(b){console.error("Error generating report:",b),i({totalProduction:2850,productionEfficiency:87,qualityRate:94,onTimeDelivery:91}),d({productionTrend:[{date:"2024-01-01",production:200},{date:"2024-01-02",production:250},{date:"2024-01-03",production:300},{date:"2024-01-04",production:280},{date:"2024-01-05",production:320}],qualityAnalysis:[{name:"Passed",value:94,color:"#4caf50"},{name:"Failed",value:6,color:"#f44336"}],efficiencyVsTarget:[{month:"Jan",efficiency:85,target:90},{month:"Feb",efficiency:87,target:90},{month:"Mar",efficiency:89,target:90}]})}finally{u(!1)}},p=({title:b,value:_,icon:v,color:N="primary",suffix:j=""})=>r.jsxs("div",{className:"p-6 bg-white text-gray-800 rounded shadow-[0_0.75rem_6rem_rgba(56,65,74,0.03)] border-0 focus:outline-none focus:ring-2 focus:ring-indigo-500/25 flex justify-between items-center ",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-sm mb-1",children:b}),r.jsxs("div",{className:`text-2xl font-bold ${N==="success"?"text-green-500":N==="info"?"text-blue-500":N==="warning"?"text-yellow-500":"text-primary"}`,children:[_,j]})]}),r.jsx("div",{className:`text-3xl ${N==="success"?"text-green-500":N==="info"?"text-blue-500":N==="warning"?"text-yellow-500":"text-primary"}`,children:v})]});return r.jsxs("div",{className:"p-4 md:p-8",children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6",children:"Manufacturing Reports"}),r.jsx("div",{className:"bg-white rounded shadow p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date Range"}),r.jsxs("select",{value:e,onChange:b=>t(b.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"thisWeek",children:"This Week"}),r.jsx("option",{value:"thisMonth",children:"This Month"}),r.jsx("option",{value:"lastMonth",children:"Last Month"}),r.jsx("option",{value:"thisQuarter",children:"This Quarter"}),r.jsx("option",{value:"thisYear",children:"This Year"}),r.jsx("option",{value:"custom",children:"Custom Range"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Report Type"}),r.jsxs("select",{value:n,onChange:b=>s(b.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"summary",children:"Summary"}),r.jsx("option",{value:"production",children:"Production Analysis"}),r.jsx("option",{value:"efficiency",children:"Efficiency Report"}),r.jsx("option",{value:"quality",children:"Quality Report"}),r.jsx("option",{value:"capacity",children:"Capacity Utilization"}),r.jsx("option",{value:"downtime",children:"Downtime Analysis"})]})]}),e==="custom"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"To Date"}),r.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsx("div",{children:r.jsx("button",{className:"w-full py-2 rounded bg-primary text-white font-semibold hover:bg-primary-dark disabled:opacity-50",onClick:x,disabled:h,children:h?"Generating...":"Generate Report"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(p,{title:"Total Production",value:a.totalProduction.toLocaleString(),icon:r.jsx(Yy,{}),color:"primary",suffix:" units"}),r.jsx(p,{title:"Production Efficiency",value:a.productionEfficiency,icon:r.jsx(fq,{}),color:"info",suffix:"%"}),r.jsx(p,{title:"Quality Rate",value:a.qualityRate,icon:r.jsx(or,{}),color:"success",suffix:"%"}),r.jsx(p,{title:"On-Time Delivery",value:a.onTimeDelivery,icon:r.jsx(Ni,{}),color:"warning",suffix:"%"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Production Trend"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(eR,{data:o.productionTrend,children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{dataKey:"date"}),r.jsx(ba,{}),r.jsx(xn,{}),r.jsx(ei,{}),r.jsx(hd,{type:"monotone",dataKey:"production",stroke:"#8884d8"})]})})]}),r.jsxs("div",{className:"bg-white rounded shadow p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quality Analysis"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(tR,{children:[r.jsx(Vi,{data:o.qualityAnalysis,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,percent:_})=>`${b} ${(_*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.qualityAnalysis.map((b,_)=>r.jsx(Fm,{fill:b.color},`cell-${_}`))}),r.jsx(xn,{})]})})]})]}),r.jsxs("div",{className:"bg-white rounded shadow p-6 mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Efficiency vs Target"}),r.jsx(ro,{width:"100%",height:300,children:r.jsxs(mp,{data:o.efficiencyVsTarget,children:[r.jsx(ol,{strokeDasharray:"3 3"}),r.jsx(ya,{dataKey:"month"}),r.jsx(ba,{}),r.jsx(xn,{}),r.jsx(ei,{}),r.jsx(Gs,{dataKey:"efficiency",fill:"#8884d8"}),r.jsx(Gs,{dataKey:"target",fill:"#82ca9d"})]})})]})]})};function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function ql(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Vn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function qi(e){Vn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||py(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function g6e(e,t){Vn(2,arguments);var n=qi(e).getTime(),s=ql(t);return new Date(n+s)}var y6e={};function cb(){return y6e}function b6e(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var $R=6e4,FR=36e5;function v6e(e){return Vn(1,arguments),e instanceof Date||py(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xN(e){if(Vn(1,arguments),!v6e(e)&&typeof e!="number")return!1;var t=qi(e);return!isNaN(Number(t))}function j6e(e,t){Vn(2,arguments);var n=ql(t);return g6e(e,-n)}var w6e=864e5;function N6e(e){Vn(1,arguments);var t=qi(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),a=n-s;return Math.floor(a/w6e)+1}function gy(e){Vn(1,arguments);var t=1,n=qi(e),s=n.getUTCDay(),a=(s<t?7:0)+s-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function BR(e){Vn(1,arguments);var t=qi(e),n=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var a=gy(s),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=gy(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _6e(e){Vn(1,arguments);var t=BR(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var s=gy(n);return s}var S6e=6048e5;function C6e(e){Vn(1,arguments);var t=qi(e),n=gy(t).getTime()-_6e(t).getTime();return Math.round(n/S6e)+1}function yy(e,t){var n,s,a,i,o,d,h,u;Vn(1,arguments);var x=cb(),p=ql((n=(s=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&a!==void 0?a:x.weekStartsOn)!==null&&s!==void 0?s:(h=x.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=qi(e),_=b.getUTCDay(),v=(_<p?7:0)+_-p;return b.setUTCDate(b.getUTCDate()-v),b.setUTCHours(0,0,0,0),b}function UR(e,t){var n,s,a,i,o,d,h,u;Vn(1,arguments);var x=qi(e),p=x.getUTCFullYear(),b=cb(),_=ql((n=(s=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&s!==void 0?s:(h=b.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(p+1,0,_),v.setUTCHours(0,0,0,0);var N=yy(v,t),j=new Date(0);j.setUTCFullYear(p,0,_),j.setUTCHours(0,0,0,0);var S=yy(j,t);return x.getTime()>=N.getTime()?p+1:x.getTime()>=S.getTime()?p:p-1}function A6e(e,t){var n,s,a,i,o,d,h,u;Vn(1,arguments);var x=cb(),p=ql((n=(s=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&s!==void 0?s:(h=x.locale)===null||h===void 0||(u=h.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),b=UR(e,t),_=new Date(0);_.setUTCFullYear(b,0,p),_.setUTCHours(0,0,0,0);var v=yy(_,t);return v}var O6e=6048e5;function E6e(e,t){Vn(1,arguments);var n=qi(e),s=yy(n,t).getTime()-A6e(n,t).getTime();return Math.round(s/O6e)+1}function Xt(e,t){for(var n=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return n+s}var Yo={y:function(t,n){var s=t.getUTCFullYear(),a=s>0?s:1-s;return Xt(n==="yy"?a%100:a,n.length)},M:function(t,n){var s=t.getUTCMonth();return n==="M"?String(s+1):Xt(s+1,2)},d:function(t,n){return Xt(t.getUTCDate(),n.length)},a:function(t,n){var s=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,n){return Xt(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Xt(t.getUTCHours(),n.length)},m:function(t,n){return Xt(t.getUTCMinutes(),n.length)},s:function(t,n){return Xt(t.getUTCSeconds(),n.length)},S:function(t,n){var s=n.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,s-3));return Xt(i,n.length)}},Xd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k6e={G:function(t,n,s){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,n,s){if(n==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return s.ordinalNumber(i,{unit:"year"})}return Yo.y(t,n)},Y:function(t,n,s,a){var i=UR(t,a),o=i>0?i:1-i;if(n==="YY"){var d=o%100;return Xt(d,2)}return n==="Yo"?s.ordinalNumber(o,{unit:"year"}):Xt(o,n.length)},R:function(t,n){var s=BR(t);return Xt(s,n.length)},u:function(t,n){var s=t.getUTCFullYear();return Xt(s,n.length)},Q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return Xt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,s){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return Xt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,s){var a=t.getUTCMonth();switch(n){case"M":case"MM":return Yo.M(t,n);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,s){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return Xt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,s,a){var i=E6e(t,a);return n==="wo"?s.ordinalNumber(i,{unit:"week"}):Xt(i,n.length)},I:function(t,n,s){var a=C6e(t);return n==="Io"?s.ordinalNumber(a,{unit:"week"}):Xt(a,n.length)},d:function(t,n,s){return n==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):Yo.d(t,n)},D:function(t,n,s){var a=N6e(t);return n==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Xt(a,n.length)},E:function(t,n,s){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,s,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Xt(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,s,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Xt(o,n.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,s){var a=t.getUTCDay(),i=a===0?7:a;switch(n){case"i":return String(i);case"ii":return Xt(i,n.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,s){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,s){var a=t.getUTCHours(),i;switch(a===12?i=Xd.noon:a===0?i=Xd.midnight:i=a/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,s){var a=t.getUTCHours(),i;switch(a>=17?i=Xd.evening:a>=12?i=Xd.afternoon:a>=4?i=Xd.morning:i=Xd.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,s){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Yo.h(t,n)},H:function(t,n,s){return n==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Yo.H(t,n)},K:function(t,n,s){var a=t.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Xt(a,n.length)},k:function(t,n,s){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?s.ordinalNumber(a,{unit:"hour"}):Xt(a,n.length)},m:function(t,n,s){return n==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Yo.m(t,n)},s:function(t,n,s){return n==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Yo.s(t,n)},S:function(t,n){return Yo.S(t,n)},X:function(t,n,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return b8(o);case"XXXX":case"XX":return pc(o);case"XXXXX":case"XXX":default:return pc(o,":")}},x:function(t,n,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return b8(o);case"xxxx":case"xx":return pc(o);case"xxxxx":case"xxx":default:return pc(o,":")}},O:function(t,n,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+y8(o,":");case"OOOO":default:return"GMT"+pc(o,":")}},z:function(t,n,s,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+y8(o,":");case"zzzz":default:return"GMT"+pc(o,":")}},t:function(t,n,s,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Xt(o,n.length)},T:function(t,n,s,a){var i=a._originalDate||t,o=i.getTime();return Xt(o,n.length)}};function y8(e,t){var n=e>0?"-":"+",s=Math.abs(e),a=Math.floor(s/60),i=s%60;if(i===0)return n+String(a);var o=t;return n+String(a)+o+Xt(i,2)}function b8(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Xt(Math.abs(e)/60,2)}return pc(e,t)}function pc(e,t){var n=t||"",s=e>0?"-":"+",a=Math.abs(e),i=Xt(Math.floor(a/60),2),o=Xt(a%60,2);return s+i+n+o}var v8=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},zR=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},T6e=function(t,n){var s=t.match(/(P+)(p+)?/)||[],a=s[1],i=s[2];if(!i)return v8(t,n);var o;switch(a){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",v8(a,n)).replace("{{time}}",zR(i,n))},P6e={p:zR,P:T6e},I6e=["D","DD"],D6e=["YY","YYYY"];function M6e(e){return I6e.indexOf(e)!==-1}function R6e(e){return D6e.indexOf(e)!==-1}function j8(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var L6e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$6e=function(t,n,s){var a,i=L6e[t];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Jv(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,s=e.formats[n]||e.formats[e.defaultWidth];return s}}var F6e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B6e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U6e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},z6e={date:Jv({formats:F6e,defaultWidth:"full"}),time:Jv({formats:B6e,defaultWidth:"full"}),dateTime:Jv({formats:U6e,defaultWidth:"full"})},V6e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q6e=function(t,n,s,a){return V6e[t]};function D0(e){return function(t,n){var s=n!=null&&n.context?String(n.context):"standalone",a;if(s==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var d=e.defaultWidth,h=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[h]||e.values[d]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var H6e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W6e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G6e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q6e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y6e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X6e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},K6e=function(t,n){var s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Z6e={ordinalNumber:K6e,era:D0({values:H6e,defaultWidth:"wide"}),quarter:D0({values:W6e,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:D0({values:G6e,defaultWidth:"wide"}),day:D0({values:Q6e,defaultWidth:"wide"}),dayPeriod:D0({values:Y6e,defaultWidth:"wide",formattingValues:X6e,defaultFormattingWidth:"wide"})};function M0(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(d)?eCe(d,function(p){return p.test(o)}):J6e(d,function(p){return p.test(o)}),u;u=e.valueCallback?e.valueCallback(h):h,u=n.valueCallback?n.valueCallback(u):u;var x=t.slice(o.length);return{value:u,rest:x}}}function J6e(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function eCe(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function tCe(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var a=s[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var d=t.slice(a.length);return{value:o,rest:d}}}var rCe=/^(\d+)(th|st|nd|rd)?/i,nCe=/\d+/i,sCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aCe={any:[/^b/i,/^(a|c)/i]},iCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oCe={any:[/1/i,/2/i,/3/i,/4/i]},lCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mCe={ordinalNumber:tCe({matchPattern:rCe,parsePattern:nCe,valueCallback:function(t){return parseInt(t,10)}}),era:M0({matchPatterns:sCe,defaultMatchWidth:"wide",parsePatterns:aCe,defaultParseWidth:"any"}),quarter:M0({matchPatterns:iCe,defaultMatchWidth:"wide",parsePatterns:oCe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:M0({matchPatterns:lCe,defaultMatchWidth:"wide",parsePatterns:cCe,defaultParseWidth:"any"}),day:M0({matchPatterns:dCe,defaultMatchWidth:"wide",parsePatterns:uCe,defaultParseWidth:"any"}),dayPeriod:M0({matchPatterns:hCe,defaultMatchWidth:"any",parsePatterns:fCe,defaultParseWidth:"any"})},xCe={code:"en-US",formatDistance:$6e,formatLong:z6e,formatRelative:q6e,localize:Z6e,match:mCe,options:{weekStartsOn:0,firstWeekContainsDate:1}},pCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yCe=/^'([^]*?)'?$/,bCe=/''/g,vCe=/[a-zA-Z]/;function w8(e,t,n){var s,a,i,o,d,h,u,x,p,b,_,v,N,j;Vn(2,arguments);var S=String(t),C=cb(),A=(s=(a=void 0)!==null&&a!==void 0?a:C.locale)!==null&&s!==void 0?s:xCe,E=ql((i=(o=(d=(h=void 0)!==null&&h!==void 0?h:void 0)!==null&&d!==void 0?d:C.firstWeekContainsDate)!==null&&o!==void 0?o:(u=C.locale)===null||u===void 0||(x=u.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=ql((p=(b=(_=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&_!==void 0?_:C.weekStartsOn)!==null&&b!==void 0?b:(N=C.locale)===null||N===void 0||(j=N.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&p!==void 0?p:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var D=qi(e);if(!xN(D))throw new RangeError("Invalid time value");var R=b6e(D),F=j6e(D,R),M={firstWeekContainsDate:E,weekStartsOn:k,locale:A,_originalDate:D},z=S.match(gCe).map(function(I){var L=I[0];if(L==="p"||L==="P"){var $=P6e[L];return $(I,A.formatLong)}return I}).join("").match(pCe).map(function(I){if(I==="''")return"'";var L=I[0];if(L==="'")return jCe(I);var $=k6e[L];if($)return R6e(I)&&j8(I,t,String(e)),M6e(I)&&j8(I,t,String(e)),$(F,I,A.localize,M);if(L.match(vCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return I}).join("");return z}function jCe(e){var t=e.match(yCe);return t?t[1].replace(bCe,"'"):e}function N8(e,t){var n;Vn(1,arguments);var s=ql((n=void 0)!==null&&n!==void 0?n:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=SCe(e),i;if(a.date){var o=CCe(a.date,s);i=ACe(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var d=i.getTime(),h=0,u;if(a.time&&(h=OCe(a.time),isNaN(h)))return new Date(NaN);if(a.timezone){if(u=ECe(a.timezone),isNaN(u))return new Date(NaN)}else{var x=new Date(d+h),p=new Date(0);return p.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),p.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),p}return new Date(d+h+u)}var Gx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,NCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_Ce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SCe(e){var t={},n=e.split(Gx.dateTimeDelimiter),s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],Gx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Gx.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var a=Gx.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function CCe(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};var a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function ACe(e,t){if(t===null)return new Date(NaN);var n=e.match(wCe);if(!n)return new Date(NaN);var s=!!n[4],a=R0(n[1]),i=R0(n[2])-1,o=R0(n[3]),d=R0(n[4]),h=R0(n[5])-1;if(s)return DCe(t,d,h)?kCe(t,d,h):new Date(NaN);var u=new Date(0);return!PCe(t,i,o)||!ICe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}function R0(e){return e?parseInt(e):1}function OCe(e){var t=e.match(NCe);if(!t)return NaN;var n=e2(t[1]),s=e2(t[2]),a=e2(t[3]);return MCe(n,s,a)?n*FR+s*$R+a*1e3:NaN}function e2(e){return e&&parseFloat(e.replace(",","."))||0}function ECe(e){if(e==="Z")return 0;var t=e.match(_Ce);if(!t)return 0;var n=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return RCe(s,a)?n*(s*FR+a*$R):NaN}function kCe(e,t,n){var s=new Date(0);s.setUTCFullYear(e,0,4);var a=s.getUTCDay()||7,i=(t-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+i),s}var TCe=[31,null,31,30,31,30,31,31,30,31,30,31];function VR(e){return e%400===0||e%4===0&&e%100!==0}function PCe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(TCe[t]||(VR(e)?29:28))}function ICe(e,t){return t>=1&&t<=(VR(e)?366:365)}function DCe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function MCe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function RCe(e,t){return t>=0&&t<=59}const LCe=()=>r.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-gray-500",children:[r.jsx(m7,{className:"h-8 w-8 animate-spin text-primary","aria-hidden":"true"}),r.jsx("p",{className:"text-sm font-medium",children:"Checking permissions…"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Please hold on while we verify your access to the production wizard."})]}),$Ce=Un({name:nr().required("Checkpoint name is required"),frequency:nr().required("Frequency is required"),acceptanceCriteria:nr().required("Acceptance criteria is required")}),FCe=Un({items:Qm().of(Un({materialId:nr().required("Material is required"),description:nr().required("Description is required"),requiredQuantity:Ks().typeError("Quantity must be a number").positive("Quantity must be greater than zero").required("Quantity is required"),unit:nr().required("Unit is required"),status:nr().oneOf(["available","shortage","ordered"]).required("Status is required")})).min(1,"At least one material is required")}),BCe=Un({checkpoints:Qm().of($Ce).min(1,"Add at least one checkpoint"),notes:nr().nullable()}),UCe=Un({plannedStartDate:nr().required("Planned start date is required"),plannedEndDate:nr().required("Planned end date is required").test("is-after","End date must be on or after start date",function(t){const{plannedStartDate:n}=this.parent;return!t||!n?!0:new Date(t)>=new Date(n)}),shift:nr().required("Shift is required"),expectedHours:Ks().nullable().transform(e=>Number.isNaN(e)?null:e).min(0,"Hours cannot be negative")}),zCe=Un({productId:nr().required("Product is required"),productionType:nr().oneOf(["in_house","outsourced","mixed"]).required("Production type is required"),quantity:Ks().typeError("Quantity must be a number").positive("Quantity must be greater than zero").required("Quantity is required"),priority:nr().oneOf(["low","medium","high","urgent"]).required("Priority is required"),salesOrderId:nr().nullable(),specialInstructions:nr().nullable()}),VCe=Un({supervisorId:nr().nullable(),assignedToId:nr().nullable(),qaLeadId:nr().nullable(),notes:nr().nullable()}),qCe=Un({stageName:nr().required("Stage name is required"),plannedDurationHours:Ks().nullable().transform(e=>Number.isNaN(e)?null:e).min(0,"Duration cannot be negative")}),HCe=Un({useCustomStages:A_().required(),stages:Qm().of(qCe).when("useCustomStages",{is:!0,then:e=>e.min(1,"Add at least one custom stage when enabled"),otherwise:e=>e.default([])})}),WCe=Un({acknowledge:A_().oneOf([!0],"Please confirm the order details before submission")}),GCe=Un({orderDetails:zCe,scheduling:UCe,materials:FCe,quality:BCe,team:VCe,customization:HCe,review:WCe}),qR=[{stageName:"Calculate Material Review",plannedDurationHours:null},{stageName:"Cutting",plannedDurationHours:null},{stageName:"Embroidery or Printing",plannedDurationHours:null},{stageName:"Stitching",plannedDurationHours:null},{stageName:"Finishing",plannedDurationHours:null},{stageName:"Quality Check",plannedDurationHours:null}],_8={productSearch:"",salesOrderSearch:""},QCe={orderDetails:{productId:"",productionType:"in_house",quantity:"",priority:"medium",salesOrderId:"",specialInstructions:""},scheduling:{plannedStartDate:"",plannedEndDate:"",shift:"",expectedHours:""},materials:{items:[{materialId:"",description:"",requiredQuantity:"",unit:"",status:"available"}]},quality:{checkpoints:[{name:"",frequency:"per_batch",acceptanceCriteria:""}],notes:""},team:{supervisorId:"",assignedToId:"",qaLeadId:"",notes:""},customization:{useCustomStages:!1,stages:[]},review:{acknowledge:!1}};function pN(e){return e&&typeof e=="object"?Object.values(e).reduce((t,n)=>n?n!=null&&n.message?t+1:t+pN(n):t,0):0}const ua=[{title:"Order Details",description:"Capture the essential order metadata.",icon:Su,key:"orderDetails"},{title:"Scheduling",description:"Plan the production timeline and shifts.",icon:c7,key:"scheduling"},{title:"Materials",description:"Verify material sufficiency to avoid interruptions.",icon:g7,key:"materials"},{title:"Quality",description:"Define inspection gates and acceptance standards.",icon:j7,key:"quality"},{title:"Team",description:"Assign accountability for execution and oversight.",icon:$n,key:"team"},{title:"Customization",description:"Review default stages and enable custom workflow.",icon:v7,key:"customization"},{title:"Review & Submit",description:"Verify details and launch the production order.",icon:S4,key:"review"}],Sd=({icon:e,title:t,description:n,children:s})=>r.jsxs("section",{className:"bg-white shadow rounded-lg border border-gray-200 p-6",children:[r.jsxs("header",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:r.jsx(e,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t}),r.jsx("p",{className:"text-xs text-gray-500",children:n})]})]}),r.jsx("div",{className:"space-y-4",children:s})]}),YCe=({currentStep:e,completedSteps:t,invalidSteps:n,onStepSelect:s})=>r.jsx("nav",{className:"grid md:grid-cols-7 gap-3 mb-6",children:ua.map((a,i)=>{const o=a.icon,d=e===i,h=t.has(i),u=n.has(i),x=i<=e+1||h||u,p=d?"border-primary bg-primary/5 text-primary":u?"border-red-300 bg-red-50 text-red-600":h?"border-green-200 bg-green-50 text-green-600":"border-gray-200 bg-white text-gray-700",b=d?"border-primary bg-primary text-white":u?"border-red-400 bg-red-500 text-white":h?"border-green-400 bg-green-500 text-white":"border-gray-300 bg-white text-gray-700";return r.jsxs("button",{type:"button",onClick:()=>x&&s(i),className:`flex flex-col items-start gap-2 rounded-lg border p-4 transition focus:outline-none focus:ring-2 focus:ring-primary ${p} ${x?"":"cursor-not-allowed opacity-60"}`,disabled:!x,"data-invalid":u||void 0,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`flex h-9 w-9 items-center justify-center rounded-full border ${b}`,children:r.jsx(o,{className:"w-5 h-5"})}),r.jsxs("div",{className:"text-left",children:[r.jsxs("p",{className:"text-sm font-semibold",children:["Step ",i+1]}),r.jsx("p",{className:"text-xs text-gray-500",children:a.title})]})]}),u&&r.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Validation required"})]},a.title)})}),XCe=({hasError:e,title:t,description:n})=>{const s=e?Tm:f7,a=e?"bg-red-50 border-red-200 text-red-700":"bg-blue-50 border-blue-200 text-blue-700",i=e?"Resolve the highlighted fields below to continue.":"All checks passed for this step. You can proceed once everything looks good.";return r.jsxs("div",{className:`flex items-start gap-3 rounded-lg border px-4 py-3 text-sm ${a}`,role:"status","aria-live":"polite","data-has-error":e||void 0,children:[r.jsx(s,{className:"w-5 h-5 mt-0.5","aria-hidden":"true"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-semibold",children:t}),r.jsx("p",{className:"text-xs md:text-sm",children:n}),r.jsx("p",{className:"text-xs opacity-90",children:i})]})]})},KCe=()=>{const[e,t]=T.useState(0),[n,s]=T.useState(new Set),[a,i]=T.useState(new Set),[o,d]=T.useState(!1),[h,u]=T.useState(!1),[x,p]=T.useState(!1),[b,_]=T.useState([]),[v,N]=T.useState([]),[j,S]=T.useState(_8),[C,A]=T.useState(_8);T.useRef(null),T.useRef(null);const E=hy({mode:"onBlur",defaultValues:QCe,resolver:fy(GCe)}),k=_t(),{hasPermission:D}=$i(),R=D("manufacturing","update","production_stage"),F=T.useCallback(async(le="")=>{var ie;u(!0);try{const xe=(((ie=(await he.get("/products",{params:{limit:50,...le?{search:le}:{}}})).data)==null?void 0:ie.products)||[]).map(ge=>({value:String(ge.id),label:ge.name}));_(xe)}catch(fe){console.error("fetch products error",fe),it.error("Unable to load products. Please try again.")}finally{u(!1)}},[]),M=T.useCallback(async({search:le="",productId:ie})=>{var fe;p(!0);try{const ge=(((fe=(await he.get("/sales/orders/summary",{params:{limit:100,status:"confirmed",...ie?{product_id:ie}:{},...le?{search:le}:{}}})).data)==null?void 0:fe.orders)||[]).map(ke=>({value:String(ke.id),label:`${ke.order_number}${ke.customer_name?` • ${ke.customer_name}`:""}`}));N(ge)}catch(xe){console.error("fetch sales orders summary error",xe),it.error("Unable to load sales orders. Please try again.")}finally{p(!1)}},[]);T.useEffect(()=>{F()},[F]),T.useEffect(()=>{M({productId:E.getValues("orderDetails.productId")})},[M,E]),T.useEffect(()=>{const le=E.watch((ie,{name:fe,type:xe})=>{var ke;if(!fe)return;if(fe==="customization.useCustomStages"&&xe==="change"&&(ie.customization.useCustomStages&&ie.customization.stages.length===0&&E.setValue("customization.stages",qR.map(Ae=>({...Ae})),{shouldDirty:!0,shouldTouch:!1}),ie.customization.useCustomStages||E.setValue("customization.stages",[],{shouldDirty:!0,shouldTouch:!1})),fe==="orderDetails.productId"&&xe==="change"){const Ae=((ke=ie.orderDetails)==null?void 0:ke.productId)||void 0;M({productId:Ae,search:j.salesOrderSearch})}const ge=ua.findIndex(Ae=>fe.startsWith(Ae.key));ge>=0&&E.trigger(ua[ge].key).then(Ae=>{i(Ne=>{const Me=new Set(Ne);return Ae?Me.delete(ge):Me.add(ge),Me}),s(Ne=>{const Me=new Set(Ne);return Ae?Me.add(ge):Me.delete(ge),Me})})});return()=>le.unsubscribe()},[F,E]);const z=["manufacturing","create","production_order"],I=E.formState.errors,L=ua[e].key,$=T.useMemo(()=>Ah(I,L),[I,L]),W=T.useMemo(()=>pN($),[$]),U=a.has(e),Y=U&&W>0?`${ua[e].description} • ${W} field${W===1?"":"s"} need attention.`:ua[e].description,X=le=>{le!==e&&(i(ie=>{const fe=new Set(ie),xe=ua[le].key,ge=Ah(I,xe);return pN(ge)>0?fe.add(le):fe.delete(le),fe}),t(le))},V=()=>{e<ua.length-1&&t(le=>le+1)},G=()=>{e>0&&t(le=>le-1)},ne=async le=>{var fe,xe;d(!0);const ie=a5e(le);try{await he.post("/manufacturing/orders",ie),it.success("Production order created successfully"),k("/manufacturing/orders")}catch(ge){console.error("create production order error",ge),it.error(((xe=(fe=ge.response)==null?void 0:fe.data)==null?void 0:xe.message)||"Failed to create production order")}finally{d(!1)}},ae=T.useMemo(()=>{switch(e){case 0:return r.jsx(ZCe,{});case 1:return r.jsx(JCe,{});case 2:return r.jsx(e5e,{});case 3:return r.jsx(t5e,{});case 4:return r.jsx(r5e,{});case 5:return r.jsx(n5e,{canCustomize:R});case 6:{const le=E.getValues();return r.jsx(s5e,{values:le})}default:return null}},[R,e,E]);return r.jsx(rl,{required:z,fallback:r.jsx(LCe,{}),children:r.jsxs("div",{className:"p-4 md:p-8 space-y-6",children:[r.jsxs("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"New Production Order"}),r.jsx("p",{className:"text-gray-600",children:"Complete each step to initiate a manufacturing order."})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx("span",{children:"Need help?"}),r.jsx("a",{href:"mailto:support@pashion-erp.com",className:"text-primary font-semibold",children:"Contact Ops Support"})]})]}),r.jsx(YCe,{currentStep:e,completedSteps:n,invalidSteps:a,onStepSelect:X}),r.jsx(K_e,{...E,children:r.jsxs("form",{onSubmit:E.handleSubmit(ne),className:"space-y-6",children:[r.jsx(XCe,{hasError:U,title:ua[e].title,description:Y}),ae,r.jsxs("footer",{className:"flex flex-col sm:flex-row justify-between gap-3 pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex gap-2 sm:order-last",children:[e>0&&r.jsxs("button",{type:"button",onClick:G,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:[r.jsx(l7,{className:"w-4 h-4"}),"Back"]}),e<ua.length-1&&r.jsxs("button",{type:"button",onClick:V,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-primary text-white hover:bg-primary-dark disabled:opacity-60",disabled:U,children:["Next",r.jsx(Aq,{className:"w-4 h-4"})]}),e===ua.length-1&&r.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-primary text-white hover:bg-primary-dark disabled:opacity-60",disabled:o||U,children:[o&&r.jsx(m7,{className:"w-4 h-4 animate-spin"}),o?"Submitting...":"Submit Order"]})]}),r.jsxs("div",{className:"text-xs text-gray-400",children:["Step ",e+1," of ",ua.length]})]})]})})]})})},E_=({label:e,required:t})=>r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,t&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Cd=({error:e,id:t})=>e?r.jsx("p",{id:t,className:"text-sm text-red-500 mt-1",role:"alert",children:e.message}):null,xm=e=>`${e.replace(/\./g,"-")}-error`,Hl=({children:e,columns:t=2})=>{const n={1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4"}[t]||"md:grid-cols-2";return r.jsx("div",{className:`grid grid-cols-1 gap-4 ${n}`,children:e})},ns=({name:e,label:t,type:n="text",required:s,placeholder:a})=>{const{register:i,formState:{errors:o}}=Ad(),d=Ah(o,e),h=d?xm(e):void 0;return r.jsxs("div",{children:[r.jsx(E_,{label:t,required:s}),r.jsx("input",{...i(e,n==="number"?{valueAsNumber:!0}:{}),type:n,placeholder:a,className:`w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary ${d?"border-red-400 focus:ring-red-400":"border-gray-300"}`,"aria-invalid":d?"true":void 0,"aria-describedby":h}),r.jsx(Cd,{error:d,id:h})]})},by=({name:e,label:t,rows:n=3,required:s,placeholder:a})=>{const{register:i,formState:{errors:o}}=Ad(),d=Ah(o,e),h=d?xm(e):void 0;return r.jsxs("div",{children:[r.jsx(E_,{label:t,required:s}),r.jsx("textarea",{...i(e),rows:n,placeholder:a,className:`w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary ${d?"border-red-400 focus:ring-red-400":"border-gray-300"}`,"aria-invalid":d?"true":void 0,"aria-describedby":h}),r.jsx(Cd,{error:d,id:h})]})},Pu=({name:e,label:t,options:n,required:s})=>{const{register:a,formState:{errors:i}}=Ad(),o=Ah(i,e),d=o?xm(e):void 0;return r.jsxs("div",{children:[r.jsx(E_,{label:t,required:s}),r.jsxs("select",{...a(e),className:`w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary ${o?"border-red-400 focus:ring-red-400":"border-gray-300"}`,"aria-invalid":o?"true":void 0,"aria-describedby":d,children:[r.jsx("option",{value:"",children:"Select..."}),n.map(h=>r.jsx("option",{value:h.value,children:h.label},h.value))]}),r.jsx(Cd,{error:o,id:d})]})},HR=({name:e,label:t,hint:n,disabled:s})=>{const{register:a,watch:i,setValue:o,formState:{errors:d}}=Ad(),h=i(e),u=Ah(d,e),x=u?xm(e):void 0,p=n?`${xm(e)}-hint`:void 0,b=[p,x].filter(Boolean).join(" ")||void 0;return K.useEffect(()=>{s&&o(e,!1,{shouldDirty:!0,shouldTouch:!0})},[s,e,o]),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"pt-1",children:r.jsx("input",{type:"checkbox",...a(e),disabled:s,className:"h-5 w-5 rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-60","aria-invalid":u?"true":void 0,"aria-describedby":b})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:t}),n&&r.jsx("p",{id:p,className:"text-xs text-gray-500",children:n}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h?"Enabled":"Disabled"}),s&&r.jsx("p",{className:"text-xs text-red-400 mt-1",children:"You do not have permission to customize stages."}),r.jsx(Cd,{error:u,id:x})]})]})},ZCe=()=>r.jsxs(Sd,{icon:Su,title:"Production order basics",description:"Capture the essential order metadata.",children:[r.jsxs(Hl,{children:[r.jsx(Pu,{name:"orderDetails.productId",label:"Product",required:!0,options:[]}),r.jsx(Pu,{name:"orderDetails.productionType",label:"Production Type",required:!0,options:[{value:"in_house",label:"In-House"},{value:"outsourced",label:"Outsourced"},{value:"mixed",label:"Mixed"}]}),r.jsx(ns,{name:"orderDetails.quantity",label:"Quantity",type:"number",required:!0}),r.jsx(Pu,{name:"orderDetails.priority",label:"Priority",required:!0,options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}]})]}),r.jsxs(Hl,{children:[r.jsx(ns,{name:"orderDetails.salesOrderId",label:"Linked Sales Order"}),r.jsx(by,{name:"orderDetails.specialInstructions",label:"Special Instructions",rows:3,placeholder:"Note any production nuances, trims, or handling notes"})]})]}),JCe=()=>r.jsx(Sd,{icon:c7,title:"Plan the production timeline",description:"Ensure scheduling aligns with capacity and promises.",children:r.jsxs(Hl,{children:[r.jsx(ns,{name:"scheduling.plannedStartDate",label:"Planned Start Date",type:"date",required:!0}),r.jsx(ns,{name:"scheduling.plannedEndDate",label:"Planned End Date",type:"date",required:!0}),r.jsx(Pu,{name:"scheduling.shift",label:"Shift",required:!0,options:[{value:"general",label:"General Shift"},{value:"morning",label:"Morning Shift"},{value:"evening",label:"Evening Shift"},{value:"night",label:"Night Shift"}]}),r.jsx(ns,{name:"scheduling.expectedHours",label:"Expected Hours",type:"number"})]})}),e5e=()=>{var i;const{control:e,formState:{errors:t}}=Ad(),{fields:n,append:s,remove:a}=ab({control:e,name:"materials.items"});return r.jsx(Sd,{icon:g7,title:"Verify materials",description:"Ensure material sufficiency to avoid interruptions.",children:r.jsxs("div",{className:"space-y-6",children:[n.map((o,d)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Material #",d+1]}),n.length>1&&r.jsx("button",{type:"button",onClick:()=>a(d),className:"text-sm text-red-500 hover:text-red-600",children:"Remove"})]}),r.jsxs(Hl,{columns:3,children:[r.jsx(ns,{name:`materials.items.${d}.materialId`,label:"Material",required:!0}),r.jsx(ns,{name:`materials.items.${d}.description`,label:"Description",required:!0}),r.jsx(ns,{name:`materials.items.${d}.requiredQuantity`,label:"Required Quantity",type:"number",required:!0})]}),r.jsxs(Hl,{children:[r.jsx(ns,{name:`materials.items.${d}.unit`,label:"Unit",required:!0}),r.jsx(Pu,{name:`materials.items.${d}.status`,label:"Status",required:!0,options:[{value:"available",label:"Available"},{value:"shortage",label:"Shortage"},{value:"ordered",label:"Ordered"}]})]})]},o.id)),r.jsx(Cd,{error:(i=t.materials)==null?void 0:i.items}),r.jsx("button",{type:"button",onClick:()=>s({materialId:"",description:"",requiredQuantity:"",unit:"",status:"available"}),className:"px-4 py-2 rounded-md border border-dashed border-primary text-primary hover:bg-primary/5",children:"Add Material"})]})})},t5e=()=>{var i;const{control:e,formState:{errors:t}}=Ad(),{fields:n,append:s,remove:a}=ab({control:e,name:"quality.checkpoints"});return r.jsx(Sd,{icon:j7,title:"Quality parameters",description:"Define inspection gates and acceptance standards.",children:r.jsxs("div",{className:"space-y-6",children:[n.map((o,d)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Checkpoint #",d+1]}),n.length>1&&r.jsx("button",{type:"button",onClick:()=>a(d),className:"text-sm text-red-500 hover:text-red-600",children:"Remove"})]}),r.jsxs(Hl,{children:[r.jsx(ns,{name:`quality.checkpoints.${d}.name`,label:"Checkpoint",required:!0}),r.jsx(Pu,{name:`quality.checkpoints.${d}.frequency`,label:"Frequency",required:!0,options:[{value:"per_batch",label:"Per Batch"},{value:"per_unit",label:"Per Unit"},{value:"per_shift",label:"Per Shift"}]}),r.jsx(by,{name:`quality.checkpoints.${d}.acceptanceCriteria`,label:"Acceptance Criteria",rows:2,required:!0})]})]},o.id)),r.jsx(Cd,{error:(i=t.quality)==null?void 0:i.checkpoints}),r.jsx(by,{name:"quality.notes",label:"Quality Notes",placeholder:"Record quality alerts or heightened inspection guidance"}),r.jsx("button",{type:"button",onClick:()=>s({name:"",frequency:"per_batch",acceptanceCriteria:""}),className:"px-4 py-2 rounded-md border border-dashed border-primary text-primary hover:bg-primary/5",children:"Add Checkpoint"})]})})},r5e=()=>r.jsxs(Sd,{icon:$n,title:"Assign your team",description:"Allocate accountability for execution and oversight.",children:[r.jsxs(Hl,{children:[r.jsx(ns,{name:"team.supervisorId",label:"Production Supervisor"}),r.jsx(ns,{name:"team.assignedToId",label:"Primary Operator"}),r.jsx(ns,{name:"team.qaLeadId",label:"QA Lead"})]}),r.jsx(by,{name:"team.notes",label:"Team Notes",placeholder:"Any additional alignment notes or shift specifics"})]}),n5e=({canCustomize:e})=>{var b;const{control:t,watch:n,formState:{errors:s}}=Ad(),a=n("customization.useCustomStages"),{fields:i,append:o,remove:d,move:h}=ab({control:t,name:"customization.stages"}),u=(b=s.customization)==null?void 0:b.stages,x=()=>{o({stageName:"",plannedDurationHours:""})},p=(_,v)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-4 bg-white",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Stage #",v+1]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>h(v,v-1),disabled:v===0,className:`px-3 py-1 text-xs rounded border ${v===0?"border-gray-200 text-gray-300 cursor-not-allowed":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Move Up"}),r.jsx("button",{type:"button",onClick:()=>h(v,v+1),disabled:v===i.length-1,className:`px-3 py-1 text-xs rounded border ${v===i.length-1?"border-gray-200 text-gray-300 cursor-not-allowed":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Move Down"}),r.jsx("button",{type:"button",onClick:()=>d(v),className:"px-3 py-1 text-xs rounded border border-red-200 text-red-600 hover:bg-red-50",children:"Remove"})]})]}),r.jsxs(Hl,{children:[r.jsx(ns,{name:`customization.stages.${v}.stageName`,label:"Stage Name",required:!0,placeholder:"e.g. Heat Treatment"}),r.jsx(ns,{name:`customization.stages.${v}.plannedDurationHours`,label:"Planned Duration (hours)",type:"number",placeholder:"Optional"})]})]},_.id);return r.jsxs(Sd,{icon:v7,title:"Customize stages",description:"Toggle to build a bespoke production sequence.",children:[r.jsx(HR,{name:"customization.useCustomStages",label:"Enable stage customization",hint:"Use only when the default stages need adjustment.",disabled:!e}),a?r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Adjust the production stages to match unique workflows. Reorder, rename, or extend the sequence as required."}),r.jsx("div",{className:"space-y-4",children:i.length===0?r.jsx("div",{className:"border border-dashed border-primary/40 rounded-md p-4 text-sm text-primary",children:"Stages will appear here once you add them. Use the button below to begin."}):i.map((_,v)=>p(_,v))}),r.jsxs("div",{children:[r.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 rounded-md border border-dashed border-primary text-primary hover:bg-primary/5",children:"Add Stage"}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Keep stages concise and outcome-oriented. Duration is optional but helps capacity planning."})]}),(u==null?void 0:u.message)&&r.jsx(Cd,{error:u})]}):r.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Default stages"}),r.jsx("ul",{className:"mt-3 space-y-2 text-sm text-gray-600",children:qR.map((_,v)=>r.jsxs("li",{children:[v+1,". ",_.stageName]},_.stageName))}),r.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"These stages will populate automatically unless customization is enabled."})]})]})},s5e=({values:e})=>{const t=e.scheduling.plannedStartDate?N8(e.scheduling.plannedStartDate):null,n=e.scheduling.plannedEndDate?N8(e.scheduling.plannedEndDate):null,s=t&&n&&xN(t)&&xN(n)?`${w8(t,"MMM d, yyyy")} → ${w8(n,"MMM d, yyyy")}`:"Not specified",a=[{label:"Product",value:e.orderDetails.productId||"Not specified"},{label:"Quantity",value:e.orderDetails.quantity||"Not specified"},{label:"Priority",value:e.orderDetails.priority||"Not specified"},{label:"Planned Schedule",value:s},{label:"Materials",value:`${e.materials.items.length} item(s)`},{label:"Quality Checkpoints",value:`${e.quality.checkpoints.length} checkpoint(s)`}];return r.jsxs(Sd,{icon:S4,title:"Review order",description:"Confirm accuracy before submission.",children:[r.jsx("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(i=>r.jsxs("div",{className:"border border-gray-200 rounded-md p-4 bg-gray-50",children:[r.jsx("dt",{className:"text-xs uppercase tracking-wider text-gray-500",children:i.label}),r.jsx("dd",{className:"mt-1 text-sm font-medium text-gray-900",children:i.value})]},i.label))}),r.jsx("div",{className:"mt-6",children:r.jsx(HR,{name:"review.acknowledge",label:"I confirm that the order details are accurate",hint:"Once submitted, the production number will be generated and shared with the team."})})]})};function a5e(e){const{orderDetails:t,scheduling:n,materials:s,quality:a,team:i,customization:o}=e,d={product_id:t.productId,production_type:t.productionType,quantity:Number(t.quantity),priority:t.priority,sales_order_id:t.salesOrderId||null,special_instructions:t.specialInstructions||null,planned_start_date:n.plannedStartDate,planned_end_date:n.plannedEndDate,estimated_hours:n.expectedHours?Number(n.expectedHours):null,shift:n.shift,materials_required:s.items.map(h=>({material_id:h.materialId,description:h.description,required_quantity:Number(h.requiredQuantity),unit:h.unit,status:h.status})),quality_parameters:{checkpoints:a.checkpoints.map(h=>({name:h.name,frequency:h.frequency,acceptance_criteria:h.acceptanceCriteria})),notes:a.notes||null},supervisor_id:i.supervisorId||null,assigned_user_id:i.assignedToId||null,qa_lead_id:i.qaLeadId||null,team_notes:i.notes||null};return o.useCustomStages&&(d.stages=o.stages.map((h,u)=>({stage_name:h.stageName,stage_order:u+1,planned_duration_hours:h.plannedDurationHours===""||h.plannedDurationHours===null?null:Number(h.plannedDurationHours)}))),d}function Ad(){const e=Gm();if(!e)throw new Error("Form components must be used within FormProvider");return e}function Ah(e,t){const n=t.split(".");let s=e;for(const a of n){if(!s)break;s=s[a]}return s}const i5e=()=>{var C,A;const[e,t]=T.useState([]),[n,s]=T.useState([]),[a,i]=T.useState(!0),[o,d]=T.useState(null),[h,u]=T.useState(!1),[x,p]=T.useState(!1);T.useEffect(()=>{b()},[]);const b=async()=>{try{i(!0);const E=await he.get("/manufacturing/orders?page=1&limit=20");t(E.data.productionOrders);const k=await he.get("/sales?page=1&limit=50&status=materials_received");s(k.data.salesOrders)}catch(E){console.error("Error fetching data:",E)}finally{i(!1)}},_=async E=>{p(!0);try{await he.post(`/manufacturing/start-production/${E}`),b(),u(!1)}catch(k){console.error("Error starting production:",k),alert("Failed to start production")}finally{p(!1)}},v=E=>({pending:"bg-gray-100 text-gray-700",material_allocated:"bg-blue-100 text-blue-700",cutting:"bg-yellow-100 text-yellow-700",printing:"bg-purple-100 text-purple-700",stitching:"bg-indigo-100 text-indigo-700",finishing:"bg-pink-100 text-pink-700",quality_check:"bg-orange-100 text-orange-700",completed:"bg-green-100 text-green-700",on_hold:"bg-red-100 text-red-700",cancelled:"bg-gray-100 text-gray-700"})[E]||"bg-gray-100 text-gray-700",N=E=>({low:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-orange-100 text-orange-700",urgent:"bg-red-100 text-red-700"})[E]||"bg-gray-100 text-gray-700",j=({order:E})=>{var k;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.production_number}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Sales Order: ",(k=E.salesOrder)==null?void 0:k.order_number]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v(E.status)}`,children:E.status.replace("_"," ")}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N(E.priority)}`,children:E.priority})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Quantity"}),r.jsx("p",{className:"font-semibold",children:E.quantity})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Produced"}),r.jsx("p",{className:"font-semibold text-green-600",children:E.produced_quantity})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),r.jsx("p",{className:"font-semibold text-blue-600",children:E.approved_quantity})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),r.jsx("p",{className:"font-semibold text-red-600",children:E.rejected_quantity})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Due: ",new Date(E.planned_end_date).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>d(E),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:[r.jsx(cs,{className:"inline mr-1"})," View"]}),E.status!=="completed"&&r.jsxs("button",{onClick:()=>{},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:[r.jsx(go,{className:"inline mr-1"})," Update"]})]})]})]})},S=({order:E})=>{var k;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.order_number}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",(k=E.customer)==null?void 0:k.name]})]}),r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Ready for Production"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Quantity"}),r.jsx("p",{className:"font-semibold",children:E.total_quantity})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Date"}),r.jsx("p",{className:"font-semibold",children:new Date(E.delivery_date).toLocaleDateString()})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:()=>_(E.id),disabled:x,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[r.jsx(Xp,{})," ",x?"Starting...":"Start Production"]})})]})};return r.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Production Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Manage production orders and start new production runs"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Production"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(E=>E.status!=="completed").length})]}),r.jsx(go,{className:"text-blue-600 text-2xl"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ready for Production"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),r.jsx(or,{className:"text-green-600 text-2xl"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Today"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(E=>E.status==="completed"&&new Date(E.actual_end_date).toDateString()===new Date().toDateString()).length})]}),r.jsx(Ni,{className:"text-purple-600 text-2xl"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Efficiency"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"92%"})]}),r.jsx(a7,{className:"text-orange-600 text-2xl"})]})})]}),n.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Xp,{className:"text-green-600"}),"Ready for Production"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(E=>r.jsx(S,{order:E},E.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(go,{className:"text-blue-600"}),"Active Production Orders"]}),a?r.jsx("div",{className:"text-center py-8",children:"Loading..."}):e.filter(E=>E.status!=="completed").length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(E=>E.status!=="completed").map(E=>r.jsx(j,{order:E},E.id))}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No active production orders"})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(or,{className:"text-green-600"}),"Recently Completed"]}),e.filter(E=>E.status==="completed").length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(E=>E.status==="completed").slice(0,6).map(E=>r.jsx(j,{order:E},E.id))}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No completed orders yet"})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Production Order Details"}),r.jsx("p",{className:"text-gray-600",children:o.production_number})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Order Information"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Sales Order:"})," ",(C=o.salesOrder)==null?void 0:C.order_number]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," ",r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v(o.status)}`,children:o.status})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Priority:"})," ",r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N(o.priority)}`,children:o.priority})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Quantity:"})," ",o.quantity]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Progress"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Produced:"})," ",o.produced_quantity]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Approved:"})," ",o.approved_quantity]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Rejected:"})," ",o.rejected_quantity]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Planned End:"})," ",new Date(o.planned_end_date).toLocaleDateString()]})]})]}),r.jsx("h3",{className:"font-semibold mb-4",children:"Production Stages"}),r.jsx("div",{className:"space-y-4",children:(A=o.stages)==null?void 0:A.map((E,k)=>r.jsxs("div",{className:"border rounded p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h4",{className:"font-medium capitalize",children:E.stage_name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v(E.status)}`,children:E.status})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Processed"}),r.jsx("p",{className:"font-semibold",children:E.quantity_processed||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Approved"}),r.jsx("p",{className:"font-semibold text-green-600",children:E.quantity_approved||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Rejected"}),r.jsx("p",{className:"font-semibold text-red-600",children:E.quantity_rejected||0})]})]}),E.notes&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[r.jsx("strong",{children:"Notes:"})," ",E.notes]})]},E.id))})]}),r.jsx("div",{className:"p-6 border-t flex justify-end",children:r.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"})})]})})]})})},o5e=()=>{const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState([]),[i,o]=T.useState(""),[d,h]=T.useState(!0),[u,x]=T.useState(1),[p]=T.useState(20),[b,_]=T.useState(0),[v,N]=T.useState(""),[j,S]=T.useState("");T.useEffect(()=>{C(),A()},[u,v,j]);const C=async()=>{var L;try{h(!0);const $=new URLSearchParams({page:u.toString(),limit:p.toString(),...v&&{department:v},...j&&{status:j},...i&&{search:i}}),W=await he.get(`/users?${$}`);n(W.data.users||[]),_(((L=W.data.pagination)==null?void 0:L.total)||0)}catch($){console.error("Error fetching users:",$),n([]),_(0)}finally{h(!1)}},A=async()=>{try{const L=await he.get("/admin/roles");a(L.data.roles||[])}catch(L){console.error("Error fetching roles:",L)}},E=L=>{L.preventDefault(),x(1),C()},k=L=>{e(`/admin/users/${L}`)},D=L=>{e(`/admin/users/edit/${L}`)},R=async(L,$)=>{if(window.confirm(`Are you sure you want to deactivate ${$}?`))try{await he.delete(`/users/${L}`),alert("User deactivated successfully"),C()}catch{alert("Failed to deactivate user")}},F=L=>{x(L)},M=L=>({active:"bg-green-100 text-green-700",inactive:"bg-red-100 text-red-700",pending:"bg-yellow-100 text-yellow-700"})[L]||"bg-gray-100 text-gray-700",z=L=>({sales:"bg-blue-600",inventory:"bg-green-600",manufacturing:"bg-orange-600",procurement:"bg-purple-600",outsourcing:"bg-pink-600",shipment:"bg-indigo-600",store:"bg-teal-600",finance:"bg-red-600",admin:"bg-gray-600",samples:"bg-yellow-600"})[L]||"bg-gray-600",I=Math.ceil(b/p);return d&&t.length===0?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("div",{className:"mt-4 text-gray-600",children:"Loading users..."})]})})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"User Management"}),r.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Manage system users, roles, and permissions"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"flex gap-3",children:r.jsx("button",{onClick:()=>e("/admin"),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",children:"← Back to Admin Dashboard"})}),r.jsxs("button",{onClick:()=>e("/admin/users/create"),className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(Br,{className:"text-sm"})," Add New User"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("form",{onSubmit:E,className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ps,{className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search users by name, email, or employee ID...",value:i,onChange:L=>o(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("select",{value:v,onChange:L=>{N(L.target.value),x(1)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"sales",children:"Sales"}),r.jsx("option",{value:"procurement",children:"Procurement"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"inventory",children:"Inventory"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"store",children:"Store"}),r.jsx("option",{value:"shipment",children:"Shipment"}),r.jsx("option",{value:"outsourcing",children:"Outsourcing"}),r.jsx("option",{value:"samples",children:"Samples"})]}),r.jsxs("select",{value:j,onChange:L=>{S(L.target.value),x(1)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Users (",b,")"]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",u," of ",I||1]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:d?"Loading users...":"No users found"})}):t.map(L=>{var $,W;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:r.jsx(If,{className:"text-gray-600"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",L.employee_id||L.id]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Gy,{className:"text-gray-400"}),L.email]})}),L.phone&&r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(_4,{className:"text-gray-400"}),L.phone]})})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white ${z(L.department)}`,children:L.department})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:(($=L.role)==null?void 0:$.display_name)||"No Role"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Level ",((W=L.role)==null?void 0:W.level)||"N/A"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M(L.status)}`,children:L.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>k(L.id),className:"text-blue-600 hover:text-blue-900 p-1",title:"View User",children:r.jsx(cs,{})}),r.jsx("button",{onClick:()=>D(L.id),className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Edit User",children:r.jsx(Aa,{})}),L.status==="active"&&r.jsx("button",{onClick:()=>R(L.id,L.name),className:"text-red-600 hover:text-red-900 p-1",title:"Deactivate User",children:r.jsx(rq,{})})]})})]},L.id)})})]})}),I>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(u-1)*p+1," to ",Math.min(u*p,b)," of ",b," users"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>F(u-1),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,I)},(L,$)=>{const W=$+1;return r.jsx("button",{onClick:()=>F(W),className:`px-3 py-1 border rounded text-sm ${u===W?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:W},W)}),r.jsx("button",{onClick:()=>F(u+1),disabled:u===I,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},l5e=()=>{const e=_t(),[t,n]=T.useState([]),[s,a]=T.useState(""),[i,o]=T.useState(!0),[d,h]=T.useState("");T.useEffect(()=>{u()},[d]);const u=async()=>{try{o(!0);const j=await he.get("/admin/roles");n(j.data.roles||[])}catch(j){console.error("Error fetching roles:",j),n([])}finally{o(!1)}},x=j=>{j.preventDefault()},p=j=>{e(`/admin/roles/${j}`)},b=j=>{e(`/admin/roles/edit/${j}`)},_=async(j,S)=>{if(window.confirm(`Are you sure you want to delete the role "${S}"? This action cannot be undone.`))try{await he.delete(`/admin/roles/${j}`),alert("Role deleted successfully"),u()}catch{alert("Failed to delete role")}},v=j=>({sales:"bg-blue-600",inventory:"bg-green-600",manufacturing:"bg-orange-600",procurement:"bg-purple-600",outsourcing:"bg-pink-600",shipment:"bg-indigo-600",store:"bg-teal-600",finance:"bg-red-600",admin:"bg-gray-600",samples:"bg-yellow-600"})[j]||"bg-gray-600",N=t.filter(j=>{var A,E;const S=j.name.toLowerCase().includes(s.toLowerCase())||((A=j.display_name)==null?void 0:A.toLowerCase().includes(s.toLowerCase()))||((E=j.description)==null?void 0:E.toLowerCase().includes(s.toLowerCase())),C=!d||j.department===d;return S&&C});return i&&t.length===0?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("div",{className:"mt-4 text-gray-600",children:"Loading roles..."})]})})}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Role Management"}),r.jsx("div",{className:"text-sm text-gray-500 mb-4",children:"Manage system roles and permissions"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"flex gap-3",children:r.jsx("button",{onClick:()=>e("/admin"),className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:border-blue-600 hover:bg-gray-100",children:"← Back to Admin Dashboard"})}),r.jsxs("button",{onClick:()=>e("/admin/roles/create"),className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(Br,{className:"text-sm"})," Create New Role"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-4 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("form",{onSubmit:x,className:"md:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ps,{className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search roles by name or description...",value:s,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsxs("select",{value:d,onChange:j=>h(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"sales",children:"Sales"}),r.jsx("option",{value:"procurement",children:"Procurement"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"inventory",children:"Inventory"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"store",children:"Store"}),r.jsx("option",{value:"shipment",children:"Shipment"}),r.jsx("option",{value:"outsourcing",children:"Outsourcing"}),r.jsx("option",{value:"samples",children:"Samples"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.length===0?r.jsxs("div",{className:"col-span-full bg-white rounded-lg shadow border border-gray-200 p-12 text-center",children:[r.jsx(Kp,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No roles found"}),r.jsx("p",{className:"text-gray-500",children:i?"Loading roles...":"Try adjusting your search criteria."})]}):N.map(j=>r.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(Kp,{className:"w-5 h-5 text-blue-600"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.display_name||j.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Level ",j.level]})]})]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full text-white ${v(j.department)}`,children:j.department})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:j.description||"No description available"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(a7,{className:"mr-1"}),r.jsxs("span",{children:["Users: ",j.userCount||0]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(j.id),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:r.jsx(cs,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>b(j.id),className:"p-2 text-yellow-600 hover:text-yellow-900 hover:bg-yellow-50 rounded-lg transition-colors",title:"Edit Role",children:r.jsx(Aa,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>_(j.id,j.display_name||j.name),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Role",children:r.jsx(Es,{className:"w-4 h-4"})})]})]})]})},j.id))}),r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Role Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Roles"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(j=>j.level<=2).length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Basic Roles"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.filter(j=>j.level>=3&&j.level<=4).length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Manager Roles"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.filter(j=>j.level>=5).length}),r.jsx("div",{className:"text-sm text-gray-500",children:"Admin Roles"})]})]})]})]})},c5e=()=>{const[e,t]=T.useState(0),[n,s]=T.useState(!1),[a,i]=T.useState(null),[o,d]=T.useState({name:"Pashion Clothing Factory",address:"Mumbai, Maharashtra, India",phone:"+91-9876543210",email:"info@pashion.com",website:"www.pashion.com",gstNumber:"27ABCDE1234F1Z5",panNumber:"ABCDE1234F",logo:null}),[h,u]=T.useState({timezone:"Asia/Kolkata",dateFormat:"DD/MM/YYYY",currency:"INR",language:"en",sessionTimeout:30,autoBackup:!0,backupFrequency:"daily",maintenanceMode:!1}),[x,p]=T.useState({passwordMinLength:8,passwordRequireSpecialChar:!0,passwordRequireNumbers:!0,passwordRequireUppercase:!0,maxLoginAttempts:5,lockoutDuration:15,twoFactorAuth:!1,sessionSecurity:!0,ipWhitelist:[]}),[b,_]=T.useState({smtpHost:"smtp.gmail.com",smtpPort:587,smtpUser:"your_email@gmail.com",smtpPassword:"",smtpSecure:!0,fromName:"Pashion ERP System",fromEmail:"noreply@pashion.com"}),[v,N]=T.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,lowStockAlerts:!0,orderStatusUpdates:!0,systemAlerts:!0,reportSchedule:"weekly"}),[j,S]=T.useState({maxFileSize:10,allowedFileTypes:["pdf","doc","docx","xls","xlsx","jpg","png"],storageLocation:"local",cloudProvider:"aws",retentionPeriod:365,autoCleanup:!0}),C=(z,I)=>{d(L=>({...L,[z]:I}))},A=(z,I)=>{u(L=>({...L,[z]:I}))},E=(z,I)=>{p(L=>({...L,[z]:I}))},k=async z=>{s(!0);try{console.log(`Saving ${z} settings`),it.success(`${z} settings saved successfully!`)}catch{it.error(`Error saving ${z} settings`)}finally{s(!1)}},D=()=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(e7,{className:"w-6 h-6 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Company Information"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure your company details"})]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.name,onChange:z=>C("name",z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.email,onChange:z=>C("email",z.target.value)})]}),r.jsxs("div",{className:"col-span-1 md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.address,onChange:z=>C("address",z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.phone,onChange:z=>C("phone",z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.website,onChange:z=>C("website",z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.gstNumber,onChange:z=>C("gstNumber",z.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN Number"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:o.panNumber,onChange:z=>C("panNumber",z.target.value)})]}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",onClick:()=>k("Company"),disabled:n,children:[r.jsx(tf,{}),"Save Company Settings"]})})]})})]}),R=()=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(go,{className:"w-6 h-6 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"System Configuration"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure system-wide settings"})]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:h.timezone,onChange:z=>A("timezone",z.target.value),children:[r.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata"}),r.jsx("option",{value:"UTC",children:"UTC"}),r.jsx("option",{value:"America/New_York",children:"America/New_York"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Format"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:h.dateFormat,onChange:z=>A("dateFormat",z.target.value),children:[r.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),r.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),r.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:h.currency,onChange:z=>A("currency",z.target.value),children:[r.jsx("option",{value:"INR",children:"INR (₹)"}),r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"EUR",children:"EUR (€)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:h.sessionTimeout,onChange:z=>A("sessionTimeout",parseInt(z.target.value))})]}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h.autoBackup,onChange:z=>A("autoBackup",z.target.checked)}),"Enable Auto Backup"]})}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h.maintenanceMode,onChange:z=>A("maintenanceMode",z.target.checked)}),"Maintenance Mode"]})}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",onClick:()=>k("System"),disabled:n,children:[r.jsx(tf,{}),"Save System Settings"]})})]})})]}),F=()=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Kp,{className:"w-6 h-6 mr-3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Security Configuration"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Configure security and authentication settings"})]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Password Length"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:x.passwordMinLength,onChange:z=>E("passwordMinLength",parseInt(z.target.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Login Attempts"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",value:x.maxLoginAttempts,onChange:z=>E("maxLoginAttempts",parseInt(z.target.value))})]}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:x.passwordRequireSpecialChar,onChange:z=>E("passwordRequireSpecialChar",z.target.checked)}),"Require Special Characters in Password"]})}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:x.twoFactorAuth,onChange:z=>E("twoFactorAuth",z.target.checked)}),"Enable Two-Factor Authentication"]})}),r.jsx("div",{className:"col-span-1 md:col-span-2",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",onClick:()=>k("Security"),disabled:n,children:[r.jsx(tf,{}),"Save Security Settings"]})})]})})]}),M=[{label:"Company",component:r.jsx(D,{})},{label:"System",component:r.jsx(R,{})},{label:"Security",component:r.jsx(F,{})}];return r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"System Configuration"}),r.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[r.jsx("div",{className:"flex border-b",children:M.map((z,I)=>r.jsx("button",{className:`px-6 py-3 text-sm font-semibold focus:outline-none transition border-b-2 ${e===I?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-blue-600"}`,onClick:()=>t(I),children:z.label},I))}),r.jsx("div",{className:"p-6",children:M[e].component})]})]})},d5e=()=>{const e=_t(),[t,n]=T.useState(""),s=()=>{const d=a.map(b=>[b.returnId,b.storeName,b.customerName,b.product,b.quantity,b.reason,b.returnValue,b.date,b.status].join(",")).join(`
`),h=`Return ID,Store Name,Customer Name,Product,Quantity,Reason,Return Value,Date,Status
`,u=new Blob([h+d],{type:"text/csv"}),x=window.URL.createObjectURL(u),p=document.createElement("a");p.href=x,p.download="store-returns-report.csv",p.click(),window.URL.revokeObjectURL(x)},a=[{id:1,returnId:"RTN-20241201-0001",storeName:"ABC School Store",customerName:"Rahul Sharma",product:"School Uniform Set",quantity:2,reason:"Size mismatch",returnValue:1800,date:"2024-12-01",status:"processed"},{id:2,returnId:"RTN-20241130-0002",storeName:"XYZ College Store",customerName:"Priya Patel",product:"Sports Jersey",quantity:1,reason:"Defective item",returnValue:950,date:"2024-11-30",status:"pending"},{id:3,returnId:"RTN-20241129-0003",storeName:"PQR Academy Store",customerName:"Amit Kumar",product:"Winter Jacket",quantity:1,reason:"Changed mind",returnValue:2200,date:"2024-11-29",status:"approved"}],i=d=>({pending:"bg-amber-100 text-amber-700",approved:"bg-blue-100 text-blue-700",processed:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-700"})[d]||"bg-gray-100 text-gray-700",o=a.filter(d=>d.returnId.toLowerCase().includes(t.toLowerCase())||d.storeName.toLowerCase().includes(t.toLowerCase())||d.customerName.toLowerCase().includes(t.toLowerCase())||d.product.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Store Returns Management"}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:s,children:[r.jsx(On,{size:18}),"Export Report"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Total Returns"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"247"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This month"})]}),r.jsx("div",{className:"rounded-full p-3 bg-blue-100 text-blue-600",children:r.jsx(b7,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Return Value"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"₹45.2K"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This month"})]}),r.jsx("div",{className:"rounded-full p-3 bg-emerald-100 text-emerald-600",children:r.jsx(Fi,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Pending Returns"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"23"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Awaiting approval"})]}),r.jsx("div",{className:"rounded-full p-3 bg-amber-100 text-amber-600",children:r.jsx(Wt,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Return Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"3.2%"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Of total sales"})]}),r.jsx("div",{className:"rounded-full p-3 bg-rose-100 text-rose-600",children:r.jsx(zl,{className:"w-6 h-6"})})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsx("div",{className:"flex-1 max-w-md",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search returns by ID, store, customer, product...",value:t,onChange:d=>n(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"processed",children:"Processed"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Stores"}),r.jsx("option",{value:"ABC School Store",children:"ABC School Store"}),r.jsx("option",{value:"XYZ College Store",children:"XYZ College Store"}),r.jsx("option",{value:"PQR Academy Store",children:"PQR Academy Store"})]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Return ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(d=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.returnId}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d.storeName}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d.customerName}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d.product}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d.quantity}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d.reason}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",d.returnValue]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d.date}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i(d.status)}`,children:d.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center text-sm font-medium",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",onClick:()=>e(`/store/returns/${d.id}`),children:r.jsx(Kr,{size:16})})})]},d.id))})]})})})]})},u5e=()=>{const e=_t(),[t,n]=T.useState(""),[s,a]=T.useState(""),[i,o]=T.useState(0),d=[{id:1,name:"School Uniform Set",category:"Uniforms",totalQuantity:1500,availableQuantity:1200,allocatedQuantity:300,department:"store",unitPrice:450,lastUpdated:"2024-12-01",status:"in_stock"},{id:2,name:"Sports T-Shirt",category:"Sports Wear",totalQuantity:800,availableQuantity:650,allocatedQuantity:150,department:"store",unitPrice:280,lastUpdated:"2024-11-30",status:"in_stock"},{id:3,name:"Winter Jacket",category:"Outerwear",totalQuantity:200,availableQuantity:80,allocatedQuantity:120,department:"store",unitPrice:1200,lastUpdated:"2024-11-29",status:"low_stock"},{id:4,name:"School Bag",category:"Accessories",totalQuantity:600,availableQuantity:450,allocatedQuantity:150,department:"store",unitPrice:350,lastUpdated:"2024-12-01",status:"in_stock"}],h=d.filter(v=>{const N=v.name.toLowerCase().includes(t.toLowerCase())||v.category.toLowerCase().includes(t.toLowerCase()),j=!s||v.department===s;return N&&j}),u=()=>{e("/store/stock/add")},x=()=>{const v=d.map(A=>[A.id,A.name,A.category,A.totalQuantity,A.availableQuantity,A.allocatedQuantity,A.department,A.unitPrice,A.status,A.lastUpdated].join(",")).join(`
`),N=`ID,Name,Category,Total Qty,Available Qty,Allocated Qty,Department,Unit Price,Status,Last Updated
`,j=new Blob([N+v],{type:"text/csv"}),S=window.URL.createObjectURL(j),C=document.createElement("a");C.href=S,C.download="store-stock.csv",C.click(),window.URL.revokeObjectURL(S)},p=v=>{e(`/store/stock/edit/${v.id}`)},b=v=>{e(`/store/stock/allocate/${v.id}`)},_=v=>{e(`/store/stock/${v.id}`)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Store Stock Management"}),r.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>e("/store"),children:"Back to Dashboard"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wt,{className:"text-blue-600",size:20}),r.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Total Items"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:d.length})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cr,{className:"text-green-600",size:20}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:"In Stock"})]}),r.jsx("p",{className:"text-2xl font-bold text-green-900 mt-2",children:d.filter(v=>v.status==="in_stock").length})]}),r.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oo,{className:"text-amber-600",size:20}),r.jsx("span",{className:"text-sm font-medium text-amber-600",children:"Low Stock"})]}),r.jsx("p",{className:"text-2xl font-bold text-amber-900 mt-2",children:d.filter(v=>v.status==="low_stock").length})]}),r.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fi,{className:"text-indigo-600",size:20}),r.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"Total Value"})]}),r.jsxs("p",{className:"text-2xl font-bold text-indigo-900 mt-2",children:["₹",d.reduce((v,N)=>v+N.availableQuantity*N.unitPrice,0).toLocaleString()]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Ts,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search by item name or category...",value:t,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),r.jsx("div",{className:"w-full md:w-48",children:r.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Departments"}),d3e.map(v=>r.jsx("option",{value:v,children:LE[v]||v},v))]})}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:u,children:[r.jsx(ln,{size:18}),"Add Item"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:x,children:[r.jsx(On,{size:18}),"Export"]})]}),r.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Qty"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Available"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allocated"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(v=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:v.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",v.id]})]})}),r.jsx("td",{className:"px-4 py-3 text-gray-900",children:v.category}),r.jsx("td",{className:"px-4 py-3 text-gray-900",children:v.totalQuantity}),r.jsx("td",{className:"px-4 py-3 text-gray-900",children:v.availableQuantity}),r.jsx("td",{className:"px-4 py-3 text-gray-900",children:v.allocatedQuantity}),r.jsx("td",{className:"px-4 py-3 text-gray-900 capitalize",children:LE[v.department]||v.department}),r.jsxs("td",{className:"px-4 py-3 text-gray-900",children:["₹",v.unitPrice]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.status==="in_stock"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:v.status==="in_stock"?"In Stock":"Low Stock"})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-800",title:"Edit",onClick:()=>p(v),children:r.jsx(Bi,{size:16})}),r.jsx("button",{className:"text-green-600 hover:text-green-800",title:"Allocate",onClick:()=>b(v),children:r.jsx(Wt,{size:16})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800",title:"View Details",onClick:()=>_(v),children:r.jsx(Kr,{size:16})})]})})]},v.id))})]})}),h.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stock items found matching your criteria."})]})};function h5e(){const{user:e,loading:t,canAccessDepartment:n}=$i();if(t)return r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."});if(!e)return r.jsxs(a6,{children:[r.jsx(Ge,{path:"/",element:r.jsx(z6,{})}),r.jsx(Ge,{path:"/register",element:r.jsx(z6,{})}),r.jsx(Ge,{path:"/login",element:r.jsx(gq,{})}),r.jsx(Ge,{path:"*",element:r.jsx(jx,{to:"/",replace:!0})})]});const s=({department:a,children:i})=>n(a)?i:r.jsx(jx,{to:`/${e.department}/dashboard`,replace:!0});return r.jsx(PW,{children:r.jsxs(a6,{children:[r.jsx(Ge,{path:"/",element:r.jsx(jx,{to:`/${e.department}/dashboard`,replace:!0})}),r.jsx(Ge,{path:"/sales",element:r.jsx(s,{department:"sales",children:r.jsx(Y6,{})})}),r.jsx(Ge,{path:"/procurement",element:r.jsx(s,{department:"procurement",children:r.jsx(uC,{})})}),r.jsx(Ge,{path:"/challans",element:r.jsx(s,{department:"challans",children:r.jsx(hC,{})})}),r.jsx(Ge,{path:"/inventory",element:r.jsx(s,{department:"inventory",children:r.jsx(fC,{})})}),r.jsx(Ge,{path:"/manufacturing",element:r.jsx(s,{department:"manufacturing",children:r.jsx(EC,{})})}),r.jsx(Ge,{path:"/outsourcing",element:r.jsx(s,{department:"outsourcing",children:r.jsx(TC,{})})}),r.jsx(Ge,{path:"/samples",element:r.jsx(s,{department:"samples",children:r.jsx(IC,{})})}),r.jsx(Ge,{path:"/shipment",element:r.jsx(s,{department:"shipment",children:r.jsx(DC,{})})}),r.jsx(Ge,{path:"/store",element:r.jsx(s,{department:"store",children:r.jsx($E,{})})}),r.jsx(Ge,{path:"/finance",element:r.jsx(s,{department:"finance",children:r.jsx(VE,{})})}),r.jsx(Ge,{path:"/admin",element:r.jsx(s,{department:"admin",children:r.jsx(qE,{})})}),r.jsx(Ge,{path:"/sales/dashboard",element:r.jsx(s,{department:"sales",children:r.jsx(Y6,{})})}),r.jsx(Ge,{path:"/procurement/dashboard",element:r.jsx(s,{department:"procurement",children:r.jsx(uC,{})})}),r.jsx(Ge,{path:"/challans/dashboard",element:r.jsx(s,{department:"challans",children:r.jsx(hC,{})})}),r.jsx(Ge,{path:"/inventory/dashboard",element:r.jsx(s,{department:"inventory",children:r.jsx(fC,{})})}),r.jsx(Ge,{path:"/manufacturing/dashboard",element:r.jsx(s,{department:"manufacturing",children:r.jsx(EC,{})})}),r.jsx(Ge,{path:"/outsourcing/dashboard",element:r.jsx(s,{department:"outsourcing",children:r.jsx(TC,{})})}),r.jsx(Ge,{path:"/samples/dashboard",element:r.jsx(s,{department:"samples",children:r.jsx(IC,{})})}),r.jsx(Ge,{path:"/shipment/dashboard",element:r.jsx(s,{department:"shipment",children:r.jsx(DC,{})})}),r.jsx(Ge,{path:"/store/dashboard",element:r.jsx(s,{department:"store",children:r.jsx($E,{})})}),r.jsx(Ge,{path:"/finance/dashboard",element:r.jsx(s,{department:"finance",children:r.jsx(VE,{})})}),r.jsx(Ge,{path:"/admin/dashboard",element:r.jsx(s,{department:"admin",children:r.jsx(qE,{})})}),r.jsx(Ge,{path:"/sales/orders",element:r.jsx(J3e,{})}),r.jsx(Ge,{path:"/sales/orders/create",element:r.jsx(t_e,{})}),r.jsx(Ge,{path:"/sales/orders/:id",element:r.jsx(e_e,{})}),r.jsx(Ge,{path:"/sales/reports",element:r.jsx(r_e,{})}),r.jsx(Ge,{path:"/procurement/pending-approvals",element:r.jsx(v_e,{})}),r.jsx(Ge,{path:"/procurement/purchase-orders",element:r.jsx(l_e,{})}),r.jsx(Ge,{path:"/procurement/purchase-orders/create",element:r.jsx(d_e,{})}),r.jsx(Ge,{path:"/procurement/purchase-orders/:id",element:r.jsx(c_e,{})}),r.jsx(Ge,{path:"/procurement/vendors",element:r.jsx(sR,{})}),r.jsx(Ge,{path:"/procurement/vendor-management",element:r.jsx(y_e,{})}),r.jsx(Ge,{path:"/procurement/bill-of-materials",element:r.jsx(h_e,{})}),r.jsx(Ge,{path:"/procurement/goods-receipt",element:r.jsx(aR,{})}),r.jsx(Ge,{path:"/procurement/vendor-performance",element:r.jsx(iR,{})}),r.jsx(Ge,{path:"/procurement/reports",element:r.jsx(b_e,{})}),r.jsx(Ge,{path:"/challans/register",element:r.jsx(w_e,{})}),r.jsx(Ge,{path:"/challans/create",element:r.jsx(N_e,{})}),r.jsx(Ge,{path:"/inventory/products",element:r.jsx($_e,{})}),r.jsx(Ge,{path:"/inventory/barcode-lookup",element:r.jsx(F_e,{})}),r.jsx(Ge,{path:"/inventory/lifecycle",element:r.jsx(z_e,{})}),r.jsx(Ge,{path:"/inventory/stock",element:r.jsx(__e,{})}),r.jsx(Ge,{path:"/inventory/alerts",element:r.jsx(E_e,{})}),r.jsx(Ge,{path:"/inventory/grn",element:r.jsx(ZE,{})}),r.jsx(Ge,{path:"/inventory/grn/create",element:r.jsx(V_e,{})}),r.jsx(Ge,{path:"/inventory/grn/update/:id",element:r.jsx(q_e,{})}),r.jsx(Ge,{path:"/inventory/grn/:id/verify",element:r.jsx(H_e,{})}),r.jsx(Ge,{path:"/inventory/grn/:id/add-to-inventory",element:r.jsx(W_e,{})}),r.jsx(Ge,{path:"/inventory/goods-receipt",element:r.jsx(ZE,{})}),r.jsx(Ge,{path:"/inventory/from-po/:poId",element:r.jsx(G_e,{})}),r.jsx(Ge,{path:"/inventory/reports",element:r.jsx(k_e,{})}),r.jsx(Ge,{path:"/manufacturing/orders",element:r.jsx(Q_e,{})}),r.jsx(Ge,{path:"/manufacturing/tracking",element:r.jsx(m6e,{})}),r.jsx(Ge,{path:"/manufacturing/quality",element:r.jsx(x6e,{})}),r.jsx(Ge,{path:"/manufacturing/wizard",element:r.jsx(KCe,{})}),r.jsx(Ge,{path:"/manufacturing/dashboard",element:r.jsx(i5e,{})}),r.jsx(Ge,{path:"/manufacturing/reports",element:r.jsx(p6e,{})}),r.jsx(Ge,{path:"/outsourcing/outward",element:r.jsx("div",{children:"Outward Challans Page"})}),r.jsx(Ge,{path:"/outsourcing/inward",element:r.jsx("div",{children:"Inward Challans Page"})}),r.jsx(Ge,{path:"/outsourcing/tracking",element:r.jsx("div",{children:"Vendor Tracking Page"})}),r.jsx(Ge,{path:"/samples/orders",element:r.jsx(B3e,{})}),r.jsx(Ge,{path:"/samples/tracking",element:r.jsx(U3e,{})}),r.jsx(Ge,{path:"/samples/reports",element:r.jsx(V3e,{})}),r.jsx(Ge,{path:"/samples/conversion",element:r.jsx(H3e,{})}),r.jsx(Ge,{path:"/samples/create",element:r.jsx(Q3e,{})}),r.jsx(Ge,{path:"/shipment/dispatch",element:r.jsx(SJ,{})}),r.jsx(Ge,{path:"/shipment/tracking",element:r.jsx(CJ,{})}),r.jsx(Ge,{path:"/shipment/reports",element:r.jsx(c3e,{})}),r.jsx(Ge,{path:"/store/stock",element:r.jsx(u5e,{})}),r.jsx(Ge,{path:"/store/sales",element:r.jsx("div",{children:"Store Sales Page"})}),r.jsx(Ge,{path:"/store/returns",element:r.jsx(d5e,{})}),r.jsx(Ge,{path:"/store/reports",element:r.jsx("div",{children:"Store Reports Page"})}),r.jsx(Ge,{path:"/finance/invoices",element:r.jsx(k3e,{})}),r.jsx(Ge,{path:"/finance/payments",element:r.jsx(R3e,{})}),r.jsx(Ge,{path:"/finance/reports",element:r.jsx($3e,{})}),r.jsx(Ge,{path:"/admin/users",element:r.jsx(o5e,{})}),r.jsx(Ge,{path:"/admin/roles",element:r.jsx(l5e,{})}),r.jsx(Ge,{path:"/admin/config",element:r.jsx(c5e,{})}),r.jsx(Ge,{path:"/profile",element:r.jsx(Y3e,{})}),r.jsx(Ge,{path:"/attendance",element:r.jsx(X3e,{})}),r.jsx(Ge,{path:"/notifications",element:r.jsx(K3e,{})}),r.jsx(Ge,{path:"/devtools",element:r.jsx(Z3e,{})}),r.jsx(Ge,{path:"*",element:r.jsx(jx,{to:"/",replace:!0})})]})})}const f5e=new yU({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),m5e=t2.createRoot(document.getElementById("root"));m5e.render(r.jsx(K.StrictMode,{children:r.jsx(bU,{client:f5e,children:r.jsx(HB,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:r.jsxs(QV,{children:[r.jsx(h5e,{}),r.jsx(bz,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#212529",color:"#fff",borderRadius:"8px",fontSize:"14px",fontWeight:"500"},success:{duration:3e3,iconTheme:{primary:"#4caf50",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#f44336",secondary:"#fff"}}}})]})})})}));
