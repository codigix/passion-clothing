â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    âš ï¸  COMPLETE DATABASE RESET                             â•‘
â•‘                       START HERE - READ FIRST!                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WHAT IS THIS?
=============
A system to PERMANENTLY DELETE ALL DATA from your AWS database and start fresh.

âš ï¸  WARNING: THIS IS DESTRUCTIVE
================================
This will DELETE:
  âœ— ALL USERS (login credentials are gone)
  âœ— ALL SALES ORDERS
  âœ— ALL PURCHASE ORDERS
  âœ— ALL PRODUCTION DATA
  âœ— ALL SHIPMENTS
  âœ— ALL INVENTORY
  âœ— ALL FINANCIAL DATA
  âœ— ALL MASTER DATA (customers, vendors, products)
  âœ— EVERYTHING ELSE (~10,000+ records)

Nothing is preserved. Everything is gone.

WHEN TO USE THIS?
=================
âœ“ You want a completely fresh database for testing
âœ“ You have accumulated junk/demo data
âœ“ You want to restart from scratch
âœ“ You have a good backup and want to wipe everything

DO NOT USE IF:
==============
âœ— This is production with real customer data
âœ— You don't have a recent backup
âœ— You're not sure what you're doing
âœ— You just need to clear some test data (use truncate-db instead)

THREE WAYS TO RESET
===================

OPTION A: Interactive Node.js (â­ RECOMMENDED)
--------------------------------------------
Safest method - requires explicit confirmation

Step 1: Make sure you have backup
  mysqldump -h passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com \
            -u admin -pC0digix$309 passion_erp > backup.sql

Step 2: Run reset
  node reset-entire-database.js

Step 3: Answer prompts
  â†’ Type: DELETE ALL DATA
  â†’ Type: YES I AM SURE

Step 4: Verify success
  node verify-all-tables-empty.js

Step 5: Recreate admin user
  npm run seed


OPTION B: npm Script (SIMPLE)
---------------------------
Quick method using npm convenience scripts

Step 1: Backup first!
  mysqldump -h passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com \
            -u admin -pC0digix$309 passion_erp > backup.sql

Step 2: Run reset
  npm run reset-entire-db

Step 3: Answer prompts (same as Option A)

Step 4: Verify
  npm run reset-verify

Step 5: Create users
  npm run seed


OPTION C: Direct SQL (FASTEST)
----------------------------
For MySQL Workbench or automated CI/CD

MySQL Workbench:
  1. Open reset-entire-database.sql
  2. Review the warnings at the top
  3. Make a backup first
  4. Click Execute (lightning bolt)
  5. All tables truncated

Command Line:
  mysql -h passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com \
        -u admin -pC0digix$309 passion_erp < reset-entire-database.sql

Then verify:
  node verify-all-tables-empty.js


RECOMMENDED WORKFLOW
====================

1. ğŸ“‹ Create Backup (10 seconds)
   mysqldump -h passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com \
             -u admin -pC0digix$309 passion_erp > backup-$(date +%Y%m%d-%H%M%S).sql

2. ğŸ—‘ï¸  Execute Reset (1-2 minutes)
   npm run reset-entire-db

3. âœ… Verify Clean Database (30 seconds)
   npm run reset-verify
   â†“ Should show: "All tables are empty!"

4. ğŸ‘¤ Create Admin User (10 seconds)
   npm run seed
   â†“ Creates default admin account

5. ğŸš€ Start Server (5 seconds)
   npm start
   â†“ Server runs on http://localhost:5000

6. ğŸ” Login to System
   Browser: http://localhost:3000
   Username: admin
   Password: password

TOTAL TIME: ~3 minutes

WHAT GETS DELETED - 63 TABLES
=============================

System Tables (6):
  âœ— users - ALL accounts deleted
  âœ— roles - Role definitions deleted
  âœ— permissions - Permission definitions deleted
  âœ— user_roles - User-role mappings deleted
  âœ— role_permissions - Role-permission mappings deleted
  âœ— user_permissions - User-permission mappings deleted

Sales Department (5):
  âœ— sales_order - All sales orders deleted
  âœ— sales_order_history - All history deleted
  âœ— customer - All customer records deleted
  âœ— product - All products deleted
  âœ— sample - All samples deleted

Procurement Department (4):
  âœ— purchase_order - All POs deleted
  âœ— vendor - All vendors deleted
  âœ— goods_receipt_note - All GRNs deleted
  âœ— bill_of_materials - All BOMs deleted

Manufacturing Department (10):
  âœ— production_order - All production orders deleted
  âœ— production_request - All requests deleted
  âœ— production_approval - All approvals deleted
  âœ— production_stage - All stages deleted
  âœ— production_completion - All completions deleted
  âœ— stage_operations - All operations deleted
  âœ— quality_checkpoint - All QC records deleted
  âœ— rejection - All rejections deleted
  âœ— material_consumption - All consumption data deleted
  âœ— material_requirement - All requirements deleted

Inventory & Store (8):
  âœ— inventory - All stock records deleted
  âœ— store_stock - All store inventory deleted
  âœ— inventory_movement - All movements deleted
  âœ— material_allocation - All allocations deleted
  âœ— material_dispatch - All dispatches deleted
  âœ— material_receipt - All receipts deleted
  âœ— material_verification - All verifications deleted
  âœ— vendor_return - All returns deleted

Shipment Department (3):
  âœ— shipment - All shipments deleted
  âœ— shipment_tracking - All tracking records deleted
  âœ— courier_agent - All courier agents deleted

Finance Department (3):
  âœ— invoice - All invoices deleted
  âœ— payment - All payments deleted
  âœ— notification - All notifications deleted

Other (7):
  âœ— challan - All challans deleted
  âœ— attendance - All attendance deleted
  âœ— product_lifecycle - All PLCs deleted
  âœ— product_lifecycle_history - All PLC history deleted
  âœ— project_material_request - All PMRs deleted
  âœ— course_partner - All partners deleted
  âœ— approval - All approvals deleted

... and more

AFTER RESET - WHAT'S NEXT?
==========================

After all data is deleted, you need to recreate the admin user to login:

Option 1: Create admin only
  npm run seed
  â†“ Creates one admin account

Option 2: Load full demo data
  npm run seed-sample
  â†“ Creates admin + sample data for all departments

Default Admin Account:
  Username: admin
  Password: password

RECOVERY - IF YOU MADE A MISTAKE
=================================

If you accidentally reset when you didn't want to:

Restore from Backup:
  mysql -h passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com \
        -u admin -pC0digix$309 passion_erp < backup-YYYYMMDD-HHMMSS.sql

Everything will be restored to the backup point.

FILES INCLUDED
==============

Scripts:
  1. reset-entire-database.js ............ Interactive Node.js script
  2. verify-all-tables-empty.js ......... Verification script
  3. reset-entire-database.sql .......... Raw SQL for MySQL Workbench

Documentation:
  1. START_HERE_COMPLETE_RESET.txt ...... This file
  2. COMPLETE_RESET_QUICK_START.md ..... Quick reference
  3. COMPLETE_RESET_DETAILED_GUIDE.md .. Detailed documentation
  4. COMPLETE_RESET_RECOVERY_GUIDE.md .. Recovery procedures

Updated:
  5. server/package.json ............... New npm scripts added

npm COMMANDS AVAILABLE
======================

npm run reset-entire-db    = Run complete database reset
npm run reset-verify       = Verify all tables are empty
npm run seed               = Create admin user only
npm run seed-sample        = Create admin + demo data
npm run start              = Start the server

TROUBLESHOOTING
===============

Connection Failed?
  Check .env file:
    DB_HOST=passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com
    DB_USER=admin
    DB_PASSWORD=C0digix$309
    DB_NAME=passion_erp

Reset Didn't Work?
  1. Check console output for errors
  2. Try verify script: npm run reset-verify
  3. Check database directly in AWS console
  4. Restore from backup if needed

Still Have Data?
  Tables might be locked. Try:
    - Restart database connection
    - Kill other connections to database
    - Try reset again

FOR MORE DETAILS
================
Read: COMPLETE_RESET_DETAILED_GUIDE.md for comprehensive documentation

QUICK START COMMANDS
====================

# Backup
mysqldump -h passion-erp.cxqc440y2mz9.eu-north-1.rds.amazonaws.com \
          -u admin -pC0digix$309 passion_erp > backup.sql

# Reset
npm run reset-entire-db

# Verify
npm run reset-verify

# Create Users
npm run seed

# Start
npm start

Ready? Start with Option A or B above! ğŸš€